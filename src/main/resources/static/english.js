!(function(){var i6=Object.defineProperty,o6=Object.defineProperties;var a6=Object.getOwnPropertyDescriptors;var mR=Object.getOwnPropertySymbols;var s6=Object.prototype.hasOwnProperty,c6=Object.prototype.propertyIsEnumerable;var oS=(_o,Xn,Dt)=>Xn in _o?i6(_o,Xn,{enumerable:!0,configurable:!0,writable:!0,value:Dt}):_o[Xn]=Dt,Co=(_o,Xn)=>{for(var Dt in Xn||(Xn={}))s6.call(Xn,Dt)&&oS(_o,Dt,Xn[Dt]);if(mR)for(var Dt of mR(Xn))c6.call(Xn,Dt)&&oS(_o,Dt,Xn[Dt]);return _o},af=(_o,Xn)=>o6(_o,a6(Xn));var pn=(_o,Xn,Dt)=>oS(_o,typeof Xn!="symbol"?Xn+"":Xn,Dt);(function(){var _o={7544:function(S,Me,xe){var rt=xe(4155);(function(st,ke){if(1)S.exports=ke();else var Ve,_e})(self,()=>(()=>{var st={2505:(_e,W,V)=>{_e.exports=V(8015)},5592:(_e,W,V)=>{"use strict";var N=V(9516),U=V(7522),B=V(3948),Y=V(9106),G=V(9615),k=V(2012),M=V(4202),j=V(7763);_e.exports=function(p){return new Promise(function(v,P){var O=p.data,E=p.headers,w=p.responseType;N.isFormData(O)&&delete E["Content-Type"];var F=new XMLHttpRequest;if(p.auth){var q=p.auth.username||"",ce=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";E.Authorization="Basic "+btoa(q+":"+ce)}var re=G(p.baseURL,p.url);function K(){if(F){var L="getAllResponseHeaders"in F?k(F.getAllResponseHeaders()):null,x={data:w&&w!=="text"&&w!=="json"?F.response:F.responseText,status:F.status,statusText:F.statusText,headers:L,config:p,request:F};U(v,P,x),F=null}}if(F.open(p.method.toUpperCase(),Y(re,p.params,p.paramsSerializer),!0),F.timeout=p.timeout,"onloadend"in F?F.onloadend=K:F.onreadystatechange=function(){F&&F.readyState===4&&(F.status!==0||F.responseURL&&F.responseURL.indexOf("file:")===0)&&setTimeout(K)},F.onabort=function(){F&&(P(j("Request aborted",p,"ECONNABORTED",F)),F=null)},F.onerror=function(){P(j("Network Error",p,null,F)),F=null},F.ontimeout=function(){var L="timeout of "+p.timeout+"ms exceeded";p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),P(j(L,p,p.transitional&&p.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",F)),F=null},N.isStandardBrowserEnv()){var T=(p.withCredentials||M(re))&&p.xsrfCookieName?B.read(p.xsrfCookieName):void 0;T&&(E[p.xsrfHeaderName]=T)}"setRequestHeader"in F&&N.forEach(E,function(L,x){O===void 0&&x.toLowerCase()==="content-type"?delete E[x]:F.setRequestHeader(x,L)}),N.isUndefined(p.withCredentials)||(F.withCredentials=!!p.withCredentials),w&&w!=="json"&&(F.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&F.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&F.upload&&F.upload.addEventListener("progress",p.onUploadProgress),p.cancelToken&&p.cancelToken.promise.then(function(L){F&&(F.abort(),P(L),F=null)}),O||(O=null),F.send(O)})}},8015:(_e,W,V)=>{"use strict";var N=V(9516),U=V(9012),B=V(5155),Y=V(5343);function G(M){var j=new B(M),p=U(B.prototype.request,j);return N.extend(p,B.prototype,j),N.extend(p,j),p}var k=G(V(6987));k.Axios=B,k.create=function(M){return G(Y(k.defaults,M))},k.Cancel=V(1928),k.CancelToken=V(3191),k.isCancel=V(3864),k.all=function(M){return Promise.all(M)},k.spread=V(7980),k.isAxiosError=V(5019),_e.exports=k,_e.exports.default=k},1928:_e=>{"use strict";function W(V){this.message=V}W.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},W.prototype.__CANCEL__=!0,_e.exports=W},3191:(_e,W,V)=>{"use strict";var N=V(1928);function U(B){if(typeof B!="function")throw new TypeError("executor must be a function.");var Y;this.promise=new Promise(function(k){Y=k});var G=this;B(function(k){G.reason||(G.reason=new N(k),Y(G.reason))})}U.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},U.source=function(){var B;return{token:new U(function(Y){B=Y}),cancel:B}},_e.exports=U},3864:_e=>{"use strict";_e.exports=function(W){return!(!W||!W.__CANCEL__)}},5155:(_e,W,V)=>{"use strict";var N=V(9516),U=V(9106),B=V(3471),Y=V(4490),G=V(5343),k=V(4841),M=k.validators;function j(p){this.defaults=p,this.interceptors={request:new B,response:new B}}j.prototype.request=function(p){typeof p=="string"?(p=arguments[1]||{}).url=arguments[0]:p=p||{},(p=G(this.defaults,p)).method?p.method=p.method.toLowerCase():this.defaults.method?p.method=this.defaults.method.toLowerCase():p.method="get";var v=p.transitional;v!==void 0&&k.assertOptions(v,{silentJSONParsing:M.transitional(M.boolean,"1.0.0"),forcedJSONParsing:M.transitional(M.boolean,"1.0.0"),clarifyTimeoutError:M.transitional(M.boolean,"1.0.0")},!1);var P=[],O=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(p)===!1||(O=O&&K.synchronous,P.unshift(K.fulfilled,K.rejected))});var E,w=[];if(this.interceptors.response.forEach(function(K){w.push(K.fulfilled,K.rejected)}),!O){var F=[Y,void 0];for(Array.prototype.unshift.apply(F,P),F=F.concat(w),E=Promise.resolve(p);F.length;)E=E.then(F.shift(),F.shift());return E}for(var q=p;P.length;){var ce=P.shift(),re=P.shift();try{q=ce(q)}catch(K){re(K);break}}try{E=Y(q)}catch(K){return Promise.reject(K)}for(;w.length;)E=E.then(w.shift(),w.shift());return E},j.prototype.getUri=function(p){return p=G(this.defaults,p),U(p.url,p.params,p.paramsSerializer).replace(/^\?/,"")},N.forEach(["delete","get","head","options"],function(p){j.prototype[p]=function(v,P){return this.request(G(P||{},{method:p,url:v,data:(P||{}).data}))}}),N.forEach(["post","put","patch"],function(p){j.prototype[p]=function(v,P,O){return this.request(G(O||{},{method:p,url:v,data:P}))}}),_e.exports=j},3471:(_e,W,V)=>{"use strict";var N=V(9516);function U(){this.handlers=[]}U.prototype.use=function(B,Y,G){return this.handlers.push({fulfilled:B,rejected:Y,synchronous:!!G&&G.synchronous,runWhen:G?G.runWhen:null}),this.handlers.length-1},U.prototype.eject=function(B){this.handlers[B]&&(this.handlers[B]=null)},U.prototype.forEach=function(B){N.forEach(this.handlers,function(Y){Y!==null&&B(Y)})},_e.exports=U},9615:(_e,W,V)=>{"use strict";var N=V(9137),U=V(4680);_e.exports=function(B,Y){return B&&!N(Y)?U(B,Y):Y}},7763:(_e,W,V)=>{"use strict";var N=V(5449);_e.exports=function(U,B,Y,G,k){var M=new Error(U);return N(M,B,Y,G,k)}},4490:(_e,W,V)=>{"use strict";var N=V(9516),U=V(2881),B=V(3864),Y=V(6987);function G(k){k.cancelToken&&k.cancelToken.throwIfRequested()}_e.exports=function(k){return G(k),k.headers=k.headers||{},k.data=U.call(k,k.data,k.headers,k.transformRequest),k.headers=N.merge(k.headers.common||{},k.headers[k.method]||{},k.headers),N.forEach(["delete","get","head","post","put","patch","common"],function(M){delete k.headers[M]}),(k.adapter||Y.adapter)(k).then(function(M){return G(k),M.data=U.call(k,M.data,M.headers,k.transformResponse),M},function(M){return B(M)||(G(k),M&&M.response&&(M.response.data=U.call(k,M.response.data,M.response.headers,k.transformResponse))),Promise.reject(M)})}},5449:_e=>{"use strict";_e.exports=function(W,V,N,U,B){return W.config=V,N&&(W.code=N),W.request=U,W.response=B,W.isAxiosError=!0,W.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},W}},5343:(_e,W,V)=>{"use strict";var N=V(9516);_e.exports=function(U,B){B=B||{};var Y={},G=["url","method","data"],k=["headers","auth","proxy","params"],M=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],j=["validateStatus"];function p(E,w){return N.isPlainObject(E)&&N.isPlainObject(w)?N.merge(E,w):N.isPlainObject(w)?N.merge({},w):N.isArray(w)?w.slice():w}function v(E){N.isUndefined(B[E])?N.isUndefined(U[E])||(Y[E]=p(void 0,U[E])):Y[E]=p(U[E],B[E])}N.forEach(G,function(E){N.isUndefined(B[E])||(Y[E]=p(void 0,B[E]))}),N.forEach(k,v),N.forEach(M,function(E){N.isUndefined(B[E])?N.isUndefined(U[E])||(Y[E]=p(void 0,U[E])):Y[E]=p(void 0,B[E])}),N.forEach(j,function(E){E in B?Y[E]=p(U[E],B[E]):E in U&&(Y[E]=p(void 0,U[E]))});var P=G.concat(k).concat(M).concat(j),O=Object.keys(U).concat(Object.keys(B)).filter(function(E){return P.indexOf(E)===-1});return N.forEach(O,v),Y}},7522:(_e,W,V)=>{"use strict";var N=V(7763);_e.exports=function(U,B,Y){var G=Y.config.validateStatus;Y.status&&G&&!G(Y.status)?B(N("Request failed with status code "+Y.status,Y.config,null,Y.request,Y)):U(Y)}},2881:(_e,W,V)=>{"use strict";var N=V(9516),U=V(6987);_e.exports=function(B,Y,G){var k=this||U;return N.forEach(G,function(M){B=M.call(k,B,Y)}),B}},6987:(_e,W,V)=>{"use strict";var N=V(9516),U=V(7018),B=V(5449),Y={"Content-Type":"application/x-www-form-urlencoded"};function G(j,p){!N.isUndefined(j)&&N.isUndefined(j["Content-Type"])&&(j["Content-Type"]=p)}var k,M={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:((typeof XMLHttpRequest!="undefined"||typeof rt!="undefined"&&Object.prototype.toString.call(rt)==="[object process]")&&(k=V(5592)),k),transformRequest:[function(j,p){return U(p,"Accept"),U(p,"Content-Type"),N.isFormData(j)||N.isArrayBuffer(j)||N.isBuffer(j)||N.isStream(j)||N.isFile(j)||N.isBlob(j)?j:N.isArrayBufferView(j)?j.buffer:N.isURLSearchParams(j)?(G(p,"application/x-www-form-urlencoded;charset=utf-8"),j.toString()):N.isObject(j)||p&&p["Content-Type"]==="application/json"?(G(p,"application/json"),function(v,P,O){if(N.isString(v))try{return(P||JSON.parse)(v),N.trim(v)}catch(E){if(E.name!=="SyntaxError")throw E}return(O||JSON.stringify)(v)}(j)):j}],transformResponse:[function(j){var p=this.transitional,v=p&&p.silentJSONParsing,P=p&&p.forcedJSONParsing,O=!v&&this.responseType==="json";if(O||P&&N.isString(j)&&j.length)try{return JSON.parse(j)}catch(E){if(O)throw E.name==="SyntaxError"?B(E,this,"E_JSON_PARSE"):E}return j}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(j){return j>=200&&j<300}};M.headers={common:{Accept:"application/json, text/plain, */*"}},N.forEach(["delete","get","head"],function(j){M.headers[j]={}}),N.forEach(["post","put","patch"],function(j){M.headers[j]=N.merge(Y)}),_e.exports=M},9012:_e=>{"use strict";_e.exports=function(W,V){return function(){for(var N=new Array(arguments.length),U=0;U<N.length;U++)N[U]=arguments[U];return W.apply(V,N)}}},9106:(_e,W,V)=>{"use strict";var N=V(9516);function U(B){return encodeURIComponent(B).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}_e.exports=function(B,Y,G){if(!Y)return B;var k;if(G)k=G(Y);else if(N.isURLSearchParams(Y))k=Y.toString();else{var M=[];N.forEach(Y,function(p,v){p!=null&&(N.isArray(p)?v+="[]":p=[p],N.forEach(p,function(P){N.isDate(P)?P=P.toISOString():N.isObject(P)&&(P=JSON.stringify(P)),M.push(U(v)+"="+U(P))}))}),k=M.join("&")}if(k){var j=B.indexOf("#");j!==-1&&(B=B.slice(0,j)),B+=(B.indexOf("?")===-1?"?":"&")+k}return B}},4680:_e=>{"use strict";_e.exports=function(W,V){return V?W.replace(/\/+$/,"")+"/"+V.replace(/^\/+/,""):W}},3948:(_e,W,V)=>{"use strict";var N=V(9516);_e.exports=N.isStandardBrowserEnv()?{write:function(U,B,Y,G,k,M){var j=[];j.push(U+"="+encodeURIComponent(B)),N.isNumber(Y)&&j.push("expires="+new Date(Y).toGMTString()),N.isString(G)&&j.push("path="+G),N.isString(k)&&j.push("domain="+k),M===!0&&j.push("secure"),document.cookie=j.join("; ")},read:function(U){var B=document.cookie.match(new RegExp("(^|;\\s*)("+U+")=([^;]*)"));return B?decodeURIComponent(B[3]):null},remove:function(U){this.write(U,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:_e=>{"use strict";_e.exports=function(W){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(W)}},5019:_e=>{"use strict";_e.exports=function(W){return typeof W=="object"&&W.isAxiosError===!0}},4202:(_e,W,V)=>{"use strict";var N=V(9516);_e.exports=N.isStandardBrowserEnv()?function(){var U,B=/(msie|trident)/i.test(navigator.userAgent),Y=document.createElement("a");function G(k){var M=k;return B&&(Y.setAttribute("href",M),M=Y.href),Y.setAttribute("href",M),{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:Y.pathname.charAt(0)==="/"?Y.pathname:"/"+Y.pathname}}return U=G(window.location.href),function(k){var M=N.isString(k)?G(k):k;return M.protocol===U.protocol&&M.host===U.host}}():function(){return!0}},7018:(_e,W,V)=>{"use strict";var N=V(9516);_e.exports=function(U,B){N.forEach(U,function(Y,G){G!==B&&G.toUpperCase()===B.toUpperCase()&&(U[B]=Y,delete U[G])})}},2012:(_e,W,V)=>{"use strict";var N=V(9516),U=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];_e.exports=function(B){var Y,G,k,M={};return B&&N.forEach(B.split(`
`),function(j){if(k=j.indexOf(":"),Y=N.trim(j.substr(0,k)).toLowerCase(),G=N.trim(j.substr(k+1)),Y){if(M[Y]&&U.indexOf(Y)>=0)return;M[Y]=Y==="set-cookie"?(M[Y]?M[Y]:[]).concat([G]):M[Y]?M[Y]+", "+G:G}}),M}},7980:_e=>{"use strict";_e.exports=function(W){return function(V){return W.apply(null,V)}}},4841:(_e,W,V)=>{"use strict";var N=V(4198),U={};["object","boolean","number","function","string","symbol"].forEach(function(k,M){U[k]=function(j){return typeof j===k||"a"+(M<1?"n ":" ")+k}});var B={},Y=N.version.split(".");function G(k,M){for(var j=M?M.split("."):Y,p=k.split("."),v=0;v<3;v++){if(j[v]>p[v])return!0;if(j[v]<p[v])return!1}return!1}U.transitional=function(k,M,j){var p=M&&G(M);function v(P,O){return"[Axios v"+N.version+"] Transitional option '"+P+"'"+O+(j?". "+j:"")}return function(P,O,E){if(k===!1)throw new Error(v(O," has been removed in "+M));return p&&!B[O]&&(B[O]=!0,console.warn(v(O," has been deprecated since v"+M+" and will be removed in the near future"))),!k||k(P,O,E)}},_e.exports={isOlderVersion:G,assertOptions:function(k,M,j){if(typeof k!="object")throw new TypeError("options must be an object");for(var p=Object.keys(k),v=p.length;v-- >0;){var P=p[v],O=M[P];if(O){var E=k[P],w=E===void 0||O(E,P,k);if(w!==!0)throw new TypeError("option "+P+" must be "+w)}else if(j!==!0)throw Error("Unknown option "+P)}},validators:U}},9516:(_e,W,V)=>{"use strict";var N=V(9012),U=Object.prototype.toString;function B(p){return U.call(p)==="[object Array]"}function Y(p){return p===void 0}function G(p){return p!==null&&typeof p=="object"}function k(p){if(U.call(p)!=="[object Object]")return!1;var v=Object.getPrototypeOf(p);return v===null||v===Object.prototype}function M(p){return U.call(p)==="[object Function]"}function j(p,v){if(p!=null)if(typeof p!="object"&&(p=[p]),B(p))for(var P=0,O=p.length;P<O;P++)v.call(null,p[P],P,p);else for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&v.call(null,p[E],E,p)}_e.exports={isArray:B,isArrayBuffer:function(p){return U.call(p)==="[object ArrayBuffer]"},isBuffer:function(p){return p!==null&&!Y(p)&&p.constructor!==null&&!Y(p.constructor)&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)},isFormData:function(p){return typeof FormData!="undefined"&&p instanceof FormData},isArrayBufferView:function(p){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(p):p&&p.buffer&&p.buffer instanceof ArrayBuffer},isString:function(p){return typeof p=="string"},isNumber:function(p){return typeof p=="number"},isObject:G,isPlainObject:k,isUndefined:Y,isDate:function(p){return U.call(p)==="[object Date]"},isFile:function(p){return U.call(p)==="[object File]"},isBlob:function(p){return U.call(p)==="[object Blob]"},isFunction:M,isStream:function(p){return G(p)&&M(p.pipe)},isURLSearchParams:function(p){return typeof URLSearchParams!="undefined"&&p instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:j,merge:function p(){var v={};function P(w,F){k(v[F])&&k(w)?v[F]=p(v[F],w):k(w)?v[F]=p({},w):B(w)?v[F]=w.slice():v[F]=w}for(var O=0,E=arguments.length;O<E;O++)j(arguments[O],P);return v},extend:function(p,v,P){return j(v,function(O,E){p[E]=P&&typeof O=="function"?N(O,P):O}),p},trim:function(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")},stripBOM:function(p){return p.charCodeAt(0)===65279&&(p=p.slice(1)),p}}},3412:_e=>{_e.exports=(()=>{"use strict";var W={304:(N,U,B)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.BrowserDeviceManager=void 0;var Y=B(101),G=B(853),k=B(62),M=B(913),j=B(331),p=B(1),v=B(935),P=B(603),O=function(){function E(){this.systemUtil=new Y.SystemUtil,this.deviceManager=this.createDeviceManager()}return E.prototype.getCameraList=function(){return this.deviceManager.getCameraList()},E.prototype.getMicList=function(){return this.deviceManager.getMicList()},E.prototype.getSpeakerList=function(){return this.deviceManager.getSpeakerList()},E.prototype.getAudioTrack=function(w){return this.deviceManager.getAudioTrack(w)},E.prototype.getVideoTrack=function(w){return this.deviceManager.getVideoTrack(w)},E.prototype.getScreenTrack=function(w){return this.deviceManager.getScreenTrack(w)},E.prototype.getAudioStream=function(w){return this.deviceManager.getAudioStream(w)},E.prototype.getVideoStream=function(w){return this.deviceManager.getVideoStream(w)},E.prototype.getScreenStream=function(w){return this.deviceManager.getScreenStream(w)},E.prototype.checkSupportScreenShare=function(){return this.deviceManager.checkSupportScreenShare()},E.prototype.createDeviceManager=function(){return this.systemUtil.isWindows?new v.WindowsDeviceManager:this.systemUtil.isAndroid?new G.AndroidDeviceManager:this.systemUtil.isIos?new M.IosDeviceManager:this.systemUtil.isMacOS?new p.MacDeviceManager:this.systemUtil.isLinux?new j.LinuxDeviceManager:new k.BaseDeviceManager},E.isDeviceManagerError=P.DeviceError.isDeviceManagerError,E}();U.BrowserDeviceManager=O},603:(N,U,B)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.DeviceError=U.DeviceErrorDescription=U.DeviceErrorCode=void 0;var Y=B(610);(function(k){k[k.ERROR_DEVICE_UNKNOWNERROR=1e4]="ERROR_DEVICE_UNKNOWNERROR",k[k.ERROR_DEVICE_AUDIODEVICE_NOTFOUND=10001]="ERROR_DEVICE_AUDIODEVICE_NOTFOUND",k[k.ERROR_DEVICE_VIDEODEVICE_NOTFOUND=10002]="ERROR_DEVICE_VIDEODEVICE_NOTFOUND",k[k.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED=10003]="ERROR_DEVICE_AUDIODEVICE_NOTALLOWED",k[k.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED=10004]="ERROR_DEVICE_VIDEODEVICE_NOTALLOWED",k[k.ERROR_DEVICE_AUDIODEVICE_NOTREADABLE=10005]="ERROR_DEVICE_AUDIODEVICE_NOTREADABLE",k[k.ERROR_DEVICE_VIDEODEVICE_NOTREADABLE=10006]="ERROR_DEVICE_VIDEODEVICE_NOTREADABLE",k[k.ERROR_DEIVCE_CONSTRAINEDERROR=10007]="ERROR_DEIVCE_CONSTRAINEDERROR",k[k.ERROR_SCREENSHARE_UNKNOWNERRO=10010]="ERROR_SCREENSHARE_UNKNOWNERRO",k[k.ERROR_SCREENSHARE_NOTALLOWED=10011]="ERROR_SCREENSHARE_NOTALLOWED",k[k.ERROR_SCREENSHARE_ENDED=10012]="ERROR_SCREENSHARE_ENDED",k[k.ERROR_SCREENSHARE_NOPERMISSION=10013]="ERROR_SCREENSHARE_NOPERMISSION",k[k.ERROR_SCREENSHARE_INVALIDACCESS=10014]="ERROR_SCREENSHARE_INVALIDACCESS",k[k.ERROR_SCREENSHARE_NOTSUPPORT=10018]="ERROR_SCREENSHARE_NOTSUPPORT",k[k.ERROR_DEVICE_NOTSUPPORT=10019]="ERROR_DEVICE_NOTSUPPORT"})(U.DeviceErrorCode||(U.DeviceErrorCode={})),function(k){k.ERRORMESSAGE_DEVICENOTFOUND="Requested device not found",k.ERRORMESSAGE_DEVICENOTALLOWED="Permission denied",k.ERRORMESSAGE_MACCHROME_DEVICENOTREADABLE="Permission denied by system",k.ERRORMESSAGE_MACSAFARI_DEVICENOTALLOWED="The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.",k.ERRORMESSAGE_MOBILEDEVICE_NOTALLOWED="video device not allowed",k.ERRORMESSAGE_AUDIODEVICENOTREADABLE="Could not start audio source",k.ERRORMESSAGE_VIDEODEVICENOTREADABLE="Could not start video source",k.ERRORNAME_DEVICENOTFOUND="NotFoundError",k.ERRORNAME_DEVICENOTALLOWED="NotAllowedError",k.ERRORNAME_DEVICENOTREADABLE="NotReadableError",k.ERRORNAME_DEVICEOVERCONSTRAINED="OverconstrainedError",k.ERRORNAME_INVALID_ACCESS="InvalidAccessError"}(U.DeviceErrorDescription||(U.DeviceErrorDescription={}));var G=function(){function k(M,j){this.linkUtil=new Y.LinkUtil,this.code=M,this.reason=j,this.relatedLink=this.linkUtil.getRelatedLink(M)}return k.isDeviceManagerError=function(M){return!!(M&&typeof M=="object"&&"code"in M&&"reason"in M)},k}();U.DeviceError=G},873:(N,U)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.FacingMode=U.DeviceType=U.MobileCameraType=void 0,function(B){B[B.USER=0]="USER",B[B.ENV=1]="ENV"}(U.MobileCameraType||(U.MobileCameraType={})),function(B){B.Camera="videoinput",B.Mic="audioinput",B.Screen="screen",B.Speaker="audiooutput"}(U.DeviceType||(U.DeviceType={})),function(B){B.USER="user",B.ENVIRONMENT="environment"}(U.FacingMode||(U.FacingMode={}))},853:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(M,j){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P])})(M,j)},function(M,j){function p(){this.constructor=M}Y(M,j),M.prototype=j===null?Object.create(j):(p.prototype=j.prototype,new p)});Object.defineProperty(U,"__esModule",{value:!0}),U.AndroidDeviceManager=void 0;var k=function(M){function j(){return M.call(this)||this}return G(j,M),j}(B(583).MobileDeviceManager);U.AndroidDeviceManager=k},62:function(N,U,B){var Y=this&&this.__assign||function(){return(Y=Object.assign||function(j){for(var p,v=1,P=arguments.length;v<P;v++)for(var O in p=arguments[v])Object.prototype.hasOwnProperty.call(p,O)&&(j[O]=p[O]);return j}).apply(this,arguments)};Object.defineProperty(U,"__esModule",{value:!0}),U.BaseDeviceManager=void 0;var G=B(603),k=B(873),M=function(){function j(){}return j.prototype.checkSupportScreenShare=function(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&navigator.mediaDevices.getDisplayMedia)},j.prototype.getCameraList=function(){var p=this;return new Promise(function(v,P){p.checkSupport()?p.getDeviceRight(k.DeviceType.Camera).then(function(){p.getDeviceList(k.DeviceType.Camera).then(function(O){v(O)}).catch(function(O){P(p.parseError(k.DeviceType.Camera,O))})}).catch(function(O){P(p.parseError(k.DeviceType.Camera,O))}):P(new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_NOTSUPPORT,"not support navigator.mediaDevices"))})},j.prototype.getMicList=function(){var p=this;return new Promise(function(v,P){p.checkSupport()?p.getDeviceRight(k.DeviceType.Mic).then(function(){p.getDeviceList(k.DeviceType.Mic).then(function(O){v(O)}).catch(function(O){P(p.parseError(k.DeviceType.Mic,O))})}).catch(function(O){P(p.parseError(k.DeviceType.Mic,O))}):P(new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_NOTSUPPORT,"not support navigator.mediaDevices"))})},j.prototype.getSpeakerList=function(){var p=this;return new Promise(function(v,P){p.checkSupport()?p.getDeviceRight(k.DeviceType.Speaker).then(function(){p.getDeviceList(k.DeviceType.Speaker).then(function(O){v(O)}).catch(function(O){P(p.parseError(k.DeviceType.Speaker,O))})}).catch(function(O){P(p.parseError(k.DeviceType.Speaker,O))}):P(new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_NOTSUPPORT,"not support navigator.mediaDevices"))})},j.prototype.getAudioTrack=function(p){return this.getAudioStream(p).then(function(v){return v.getAudioTracks()[0]})},j.prototype.getAudioStream=function(p){var v=this;return new Promise(function(P,O){if(v.checkSupport()){var E=v.createAudioConstraints(p);navigator.mediaDevices.getUserMedia(E).then(function(w){P(w)}).catch(function(w){O(v.parseError(k.DeviceType.Mic,w))})}else O(new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_NOTSUPPORT,"not support navigator.mediaDevices"))})},j.prototype.getVideoTrack=function(p){return this.getVideoStream(p).then(function(v){return v.getVideoTracks()[0]})},j.prototype.getVideoStream=function(p){var v=this;return new Promise(function(P,O){if(v.checkSupport()){var E=v.createVideoConstraints(p);navigator.mediaDevices.getUserMedia(E).then(function(w){P(w)}).catch(function(w){O(v.parseError(k.DeviceType.Camera,w))})}else O(new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_NOTSUPPORT,"not support navigator.mediaDevices"))})},j.prototype.getScreenTrack=function(p){return this.getScreenStream(p).then(function(v){return v.getTracks()})},j.prototype.getScreenStream=function(p){var v=this;return new Promise(function(P,O){v.checkSupportScreenShare()?navigator.mediaDevices.getDisplayMedia(p).then(function(E){P(E)}).catch(function(E){O(v.parseError(k.DeviceType.Screen,E))}):O(new G.DeviceError(G.DeviceErrorCode.ERROR_SCREENSHARE_NOTSUPPORT,"browser not support screenshare"))})},j.prototype.checkSupport=function(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia)},j.prototype.getDeviceList=function(p){return new Promise(function(v,P){navigator.mediaDevices.enumerateDevices().then(function(O){var E=[];O.forEach(function(w){w.kind===p&&E.push(w)}),v(E)}).catch(function(O){P(O)})})},j.prototype.getDeviceRight=function(p){return new Promise(function(v,P){var O;k.DeviceType.Camera===p?O={video:!0}:k.DeviceType.Mic!==p&&k.DeviceType.Speaker!==p||(O={audio:!0}),navigator.mediaDevices.getUserMedia(O).then(function(E){E.getTracks().forEach(function(w){w.stop()}),v(void 0)}).catch(function(E){v(void 0)})})},j.prototype.parseError=function(p,v){var P=null;return k.DeviceType.Mic===p?P=this.parseAudioError(v):k.DeviceType.Camera===p?P=this.parseVideoError(v):k.DeviceType.Screen===p&&(P=this.parseScreenError(v)),P===null?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_UNKNOWNERROR,""):P},j.prototype.parseAudioError=function(p){return p.message===G.DeviceErrorDescription.ERRORMESSAGE_DEVICENOTFOUND||p.name===G.DeviceErrorDescription.ERRORNAME_DEVICENOTFOUND?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTFOUND,"audio device not found"):p.message===G.DeviceErrorDescription.ERRORMESSAGE_DEVICENOTALLOWED||p.message===G.DeviceErrorDescription.ERRORMESSAGE_MACSAFARI_DEVICENOTALLOWED?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED,"audio device not allowed"):p.message===G.DeviceErrorDescription.ERRORMESSAGE_MACCHROME_DEVICENOTREADABLE||p.message===G.DeviceErrorDescription.ERRORMESSAGE_AUDIODEVICENOTREADABLE||p.message===G.DeviceErrorDescription.ERRORNAME_DEVICENOTREADABLE?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTREADABLE,"audio device not readable"):null},j.prototype.parseVideoError=function(p){return p.message===G.DeviceErrorDescription.ERRORMESSAGE_DEVICENOTFOUND||p.name===G.DeviceErrorDescription.ERRORNAME_DEVICENOTFOUND?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTFOUND,"video device not found"):p.message===G.DeviceErrorDescription.ERRORMESSAGE_DEVICENOTALLOWED||p.message===G.DeviceErrorDescription.ERRORMESSAGE_MOBILEDEVICE_NOTALLOWED||p.message===G.DeviceErrorDescription.ERRORMESSAGE_MACSAFARI_DEVICENOTALLOWED?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED,"video device not allowed"):p.message===G.DeviceErrorDescription.ERRORMESSAGE_MACCHROME_DEVICENOTREADABLE||p.message===G.DeviceErrorDescription.ERRORMESSAGE_VIDEODEVICENOTREADABLE||p.name===G.DeviceErrorDescription.ERRORNAME_DEVICENOTREADABLE?new G.DeviceError(G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTREADABLE,"video device not readable"):null},j.prototype.parseScreenError=function(p){return p.name===G.DeviceErrorDescription.ERRORNAME_DEVICENOTALLOWED?p.message===G.DeviceErrorDescription.ERRORMESSAGE_DEVICENOTALLOWED?new G.DeviceError(G.DeviceErrorCode.ERROR_SCREENSHARE_NOTALLOWED,p.message):new G.DeviceError(G.DeviceErrorCode.ERROR_SCREENSHARE_NOPERMISSION,p.message):p.name===G.DeviceErrorDescription.ERRORNAME_INVALID_ACCESS?new G.DeviceError(G.DeviceErrorCode.ERROR_SCREENSHARE_INVALIDACCESS,p.message):null},j.prototype.createVideoConstraints=function(p){return p.deviceId||p.width||p.height||p.frameRate?{video:{deviceId:{exact:p.deviceId},width:p.width,height:p.height,frameRate:p.frameRate}}:{video:!0}},j.prototype.createAudioConstraints=function(p){var v={audio:p},P=Y({},p);return P.deviceId||delete P.deviceId,Object.keys(P).length===0&&(v={audio:!0}),v},j}();U.BaseDeviceManager=M},913:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(M,j){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P])})(M,j)},function(M,j){function p(){this.constructor=M}Y(M,j),M.prototype=j===null?Object.create(j):(p.prototype=j.prototype,new p)});Object.defineProperty(U,"__esModule",{value:!0}),U.IosDeviceManager=void 0;var k=function(M){function j(){return M.call(this)||this}return G(j,M),j}(B(583).MobileDeviceManager);U.IosDeviceManager=k},331:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(M,j){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P])})(M,j)},function(M,j){function p(){this.constructor=M}Y(M,j),M.prototype=j===null?Object.create(j):(p.prototype=j.prototype,new p)});Object.defineProperty(U,"__esModule",{value:!0}),U.LinuxDeviceManager=void 0;var k=function(M){function j(){return M.call(this)||this}return G(j,M),j}(B(62).BaseDeviceManager);U.LinuxDeviceManager=k},1:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(M,j){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P])})(M,j)},function(M,j){function p(){this.constructor=M}Y(M,j),M.prototype=j===null?Object.create(j):(p.prototype=j.prototype,new p)});Object.defineProperty(U,"__esModule",{value:!0}),U.MacDeviceManager=void 0;var k=function(M){function j(){return M.call(this)||this}return G(j,M),j}(B(62).BaseDeviceManager);U.MacDeviceManager=k},583:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(j,p){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,P){v.__proto__=P}||function(v,P){for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(v[O]=P[O])})(j,p)},function(j,p){function v(){this.constructor=j}Y(j,p),j.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(U,"__esModule",{value:!0}),U.MobileDeviceManager=void 0;var k=B(603),M=function(j){function p(){return j.call(this)||this}return G(p,j),p.prototype.checkSupportScreenShare=function(){return!1},p.prototype.getScreenTrack=function(v){return new Promise(function(P,O){O(new k.DeviceError(k.DeviceErrorCode.ERROR_SCREENSHARE_NOTSUPPORT,"mobile not support screenshare"))})},p.prototype.getScreenStream=function(v){return new Promise(function(P,O){O(new k.DeviceError(k.DeviceErrorCode.ERROR_SCREENSHARE_NOTSUPPORT,"mobile not support screenshare"))})},p.prototype.createVideoConstraints=function(v){return v.deviceId||v.facingMode||v.width||v.height||v.aspectRatio?{video:{deviceId:v.deviceId,facingMode:v.facingMode,width:v.width,height:v.height,aspectRatio:v.aspectRatio}}:{video:!0}},p}(B(62).BaseDeviceManager);U.MobileDeviceManager=M},935:function(N,U,B){var Y,G=this&&this.__extends||(Y=function(M,j){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P])})(M,j)},function(M,j){function p(){this.constructor=M}Y(M,j),M.prototype=j===null?Object.create(j):(p.prototype=j.prototype,new p)});Object.defineProperty(U,"__esModule",{value:!0}),U.WindowsDeviceManager=void 0;var k=function(M){function j(){return M.call(this)||this}return G(j,M),j}(B(62).BaseDeviceManager);U.WindowsDeviceManager=k},607:function(N,U,B){var Y=this&&this.__createBinding||(Object.create?function(M,j,p,v){v===void 0&&(v=p),Object.defineProperty(M,v,{enumerable:!0,get:function(){return j[p]}})}:function(M,j,p,v){v===void 0&&(v=p),M[v]=j[p]}),G=this&&this.__exportStar||function(M,j){for(var p in M)p==="default"||Object.prototype.hasOwnProperty.call(j,p)||Y(j,M,p)};Object.defineProperty(U,"__esModule",{value:!0}),U.BrowserDeviceManager=void 0;var k=B(304);Object.defineProperty(U,"BrowserDeviceManager",{enumerable:!0,get:function(){return k.BrowserDeviceManager}}),G(B(873),U),window&&(window.BrowserDeviceManager=k.BrowserDeviceManager)},610:(N,U,B)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.LinkUtil=void 0;var Y,G=B(603),k=B(261),M=B(54);(function(O){O[O.Windows=0]="Windows",O[O.MacOS=1]="MacOS",O[O.Other=2]="Other"})(Y||(Y={}));var j="ms-settings:",p="x-apple.systempreferences:com.apple.preference.security?",v={SYS_MIC:[j+"privacy-microphone",p+"Privacy_Microphone"],SYS_CAMERA:[j+"privacy-webcam",p+"Privacy_Camera"],SYS_SCREENSHARE:["",p+"Privacy_ScreenCapture"]},P=function(){function O(){k||console.error("SystemUtil is not found"),this.systemType=this.getSystemType()}return O.prototype.getRelatedLink=function(E){var w="",F=this.systemType;switch(E){case G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTFOUND:case G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTREADABLE:w=v.SYS_MIC[F];break;case G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTFOUND:case G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTREADABLE:w=v.SYS_CAMERA[F];break;case G.DeviceErrorCode.ERROR_SCREENSHARE_UNKNOWNERRO:case G.DeviceErrorCode.ERROR_SCREENSHARE_NOPERMISSION:w=v.SYS_SCREENSHARE[F];break;case G.DeviceErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED:case G.DeviceErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED:M.isChrome?w=this.getChromeResetLink():M.isEdge&&(w=this.getEdgeResetLink());break;default:w=""}return w},O.prototype.getSystemType=function(){return k.isWindows?Y.Windows:k.isMacOS?Y.MacOS:Y.Other},O.prototype.getChromeResetLink=function(){return"chrome://settings/content/siteDetails?site="+encodeURIComponent(window.location.origin)},O.prototype.getEdgeResetLink=function(){return"edge://settings/content/siteDetails?site="+encodeURIComponent(window.location.origin)},O}();U.LinkUtil=P},101:(N,U)=>{var B;Object.defineProperty(U,"__esModule",{value:!0}),U.SystemUtil=void 0,function(G){G[G.Unknown=0]="Unknown",G[G.MacOS=1]="MacOS",G[G.Windows=2]="Windows",G[G.Android=3]="Android",G[G.Iphone=4]="Iphone",G[G.Ipad=5]="Ipad",G[G.Linux=6]="Linux"}(B||(B={}));var Y=function(){function G(){this.systemType=B.Unknown,this.getSystemInfo()}return Object.defineProperty(G.prototype,"isIos",{get:function(){return this.systemType===B.Ipad||this.systemType===B.Iphone},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isAndroid",{get:function(){return this.systemType===B.Android},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isMacOS",{get:function(){return this.systemType===B.MacOS},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isWindows",{get:function(){return this.systemType===B.Windows},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"isLinux",{get:function(){return this.systemType===B.Linux},enumerable:!1,configurable:!0}),G.prototype.getSystemInfo=function(){if(navigator&&navigator.userAgent){var k=navigator.userAgent.toLocaleLowerCase();k.indexOf("ipad")>-1?this.systemType=B.Ipad:k.indexOf("iphone")>-1?this.systemType=B.Iphone:k.indexOf("android")>-1?this.systemType=B.Android:k.indexOf("win")>-1?this.systemType=B.Windows:k.indexOf("mac")>-1?this.systemType=B.MacOS:k.indexOf("linux")>-1?this.systemType=B.Linux:k.indexOf("")>-1&&(this.systemType=B.Unknown)}},G}();U.SystemUtil=Y},54:N=>{N.exports=window.BrowserUtil},261:N=>{N.exports=window.SystemUtil}},V={};return function N(U){if(V[U])return V[U].exports;var B=V[U]={exports:{}};return W[U].call(B.exports,B,B.exports,N),B.exports}(607)})()},6677:(_e,W,V)=>{"use strict";var N=V(7963);function U(M,j,p,v,P){var O=N.writeRtpDescription(M.kind,j);if(O+=N.writeIceParameters(M.iceGatherer.getLocalParameters()),O+=N.writeDtlsParameters(M.dtlsTransport.getLocalParameters(),p==="offer"?"actpass":P||"active"),O+="a=mid:"+M.mid+`\r
`,M.rtpSender&&M.rtpReceiver?O+=`a=sendrecv\r
`:M.rtpSender?O+=`a=sendonly\r
`:M.rtpReceiver?O+=`a=recvonly\r
`:O+=`a=inactive\r
`,M.rtpSender){var E=M.rtpSender._initialTrackId||M.rtpSender.track.id;M.rtpSender._initialTrackId=E;var w="msid:"+(v?v.id:"-")+" "+E+`\r
`;O+="a="+w,O+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" "+w,M.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" "+w,O+="a=ssrc-group:FID "+M.sendEncodingParameters[0].ssrc+" "+M.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return O+="a=ssrc:"+M.sendEncodingParameters[0].ssrc+" cname:"+N.localCName+`\r
`,M.rtpSender&&M.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+M.sendEncodingParameters[0].rtx.ssrc+" cname:"+N.localCName+`\r
`),O}function B(M,j){var p={codecs:[],headerExtensions:[],fecMechanisms:[]},v=function(O,E){O=parseInt(O,10);for(var w=0;w<E.length;w++)if(E[w].payloadType===O||E[w].preferredPayloadType===O)return E[w]},P=function(O,E,w,F){var q=v(O.parameters.apt,w),ce=v(E.parameters.apt,F);return q&&ce&&q.name.toLowerCase()===ce.name.toLowerCase()};return M.codecs.forEach(function(O){for(var E=0;E<j.codecs.length;E++){var w=j.codecs[E];if(O.name.toLowerCase()===w.name.toLowerCase()&&O.clockRate===w.clockRate){if(O.name.toLowerCase()==="rtx"&&O.parameters&&w.parameters.apt&&!P(O,w,M.codecs,j.codecs))continue;(w=JSON.parse(JSON.stringify(w))).numChannels=Math.min(O.numChannels,w.numChannels),p.codecs.push(w),w.rtcpFeedback=w.rtcpFeedback.filter(function(F){for(var q=0;q<O.rtcpFeedback.length;q++)if(O.rtcpFeedback[q].type===F.type&&O.rtcpFeedback[q].parameter===F.parameter)return!0;return!1});break}}}),M.headerExtensions.forEach(function(O){for(var E=0;E<j.headerExtensions.length;E++){var w=j.headerExtensions[E];if(O.uri===w.uri){p.headerExtensions.push(w);break}}}),p}function Y(M,j,p){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[j][M].indexOf(p)!==-1}function G(M,j){var p=M.getRemoteCandidates().find(function(v){return j.foundation===v.foundation&&j.ip===v.ip&&j.port===v.port&&j.priority===v.priority&&j.protocol===v.protocol&&j.type===v.type});return p||M.addRemoteCandidate(j),!p}function k(M,j){var p=new Error(j);return p.name=M,p.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[M],p}_e.exports=function(M,j){function p(E,w){w.addTrack(E),w.dispatchEvent(new M.MediaStreamTrackEvent("addtrack",{track:E}))}function v(E,w,F,q){var ce=new Event("track");ce.track=w,ce.receiver=F,ce.transceiver={receiver:F},ce.streams=q,M.setTimeout(function(){E._dispatchEvent("track",ce)})}var P=function(E){var w=this,F=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(ce){w[ce]=F[ce].bind(F)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",E=JSON.parse(JSON.stringify(E||{})),this.usingBundle=E.bundlePolicy==="max-bundle",E.rtcpMuxPolicy==="negotiate")throw k("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(E.rtcpMuxPolicy||(E.rtcpMuxPolicy="require"),E.iceTransportPolicy){case"all":case"relay":break;default:E.iceTransportPolicy="all"}switch(E.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:E.bundlePolicy="balanced"}if(E.iceServers=function(ce,re){var K=!1;return(ce=JSON.parse(JSON.stringify(ce))).filter(function(T){if(T&&(T.urls||T.url)){var L=T.urls||T.url;T.url&&!T.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var x=typeof L=="string";return x&&(L=[L]),L=L.filter(function(se){return se.indexOf("turn:")!==0||se.indexOf("transport=udp")===-1||se.indexOf("turn:[")!==-1||K?se.indexOf("stun:")===0&&re>=14393&&se.indexOf("?transport=udp")===-1:(K=!0,!0)}),delete T.url,T.urls=x?L[0]:L,!!L.length}})}(E.iceServers||[],j),this._iceGatherers=[],E.iceCandidatePoolSize)for(var q=E.iceCandidatePoolSize;q>0;q--)this._iceGatherers.push(new M.RTCIceGatherer({iceServers:E.iceServers,gatherPolicy:E.iceTransportPolicy}));else E.iceCandidatePoolSize=0;this._config=E,this.transceivers=[],this._sdpSessionId=N.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(P.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(P.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),P.prototype.onicecandidate=null,P.prototype.onaddstream=null,P.prototype.ontrack=null,P.prototype.onremovestream=null,P.prototype.onsignalingstatechange=null,P.prototype.oniceconnectionstatechange=null,P.prototype.onconnectionstatechange=null,P.prototype.onicegatheringstatechange=null,P.prototype.onnegotiationneeded=null,P.prototype.ondatachannel=null,P.prototype._dispatchEvent=function(E,w){this._isClosed||(this.dispatchEvent(w),typeof this["on"+E]=="function"&&this["on"+E](w))},P.prototype._emitGatheringStateChange=function(){var E=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",E)},P.prototype.getConfiguration=function(){return this._config},P.prototype.getLocalStreams=function(){return this.localStreams},P.prototype.getRemoteStreams=function(){return this.remoteStreams},P.prototype._createTransceiver=function(E,w){var F=this.transceivers.length>0,q={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:E,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&F)q.iceTransport=this.transceivers[0].iceTransport,q.dtlsTransport=this.transceivers[0].dtlsTransport;else{var ce=this._createIceAndDtlsTransports();q.iceTransport=ce.iceTransport,q.dtlsTransport=ce.dtlsTransport}return w||this.transceivers.push(q),q},P.prototype.addTrack=function(E,w){if(this._isClosed)throw k("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var F;if(this.transceivers.find(function(ce){return ce.track===E}))throw k("InvalidAccessError","Track already exists.");for(var q=0;q<this.transceivers.length;q++)this.transceivers[q].track||this.transceivers[q].kind!==E.kind||(F=this.transceivers[q]);return F||(F=this._createTransceiver(E.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(w)===-1&&this.localStreams.push(w),F.track=E,F.stream=w,F.rtpSender=new M.RTCRtpSender(E,F.dtlsTransport),F.rtpSender},P.prototype.addStream=function(E){var w=this;if(j>=15025)E.getTracks().forEach(function(q){w.addTrack(q,E)});else{var F=E.clone();E.getTracks().forEach(function(q,ce){var re=F.getTracks()[ce];q.addEventListener("enabled",function(K){re.enabled=K.enabled})}),F.getTracks().forEach(function(q){w.addTrack(q,F)})}},P.prototype.removeTrack=function(E){if(this._isClosed)throw k("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(E instanceof M.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var w=this.transceivers.find(function(q){return q.rtpSender===E});if(!w)throw k("InvalidAccessError","Sender was not created by this connection.");var F=w.stream;w.rtpSender.stop(),w.rtpSender=null,w.track=null,w.stream=null,this.transceivers.map(function(q){return q.stream}).indexOf(F)===-1&&this.localStreams.indexOf(F)>-1&&this.localStreams.splice(this.localStreams.indexOf(F),1),this._maybeFireNegotiationNeeded()},P.prototype.removeStream=function(E){var w=this;E.getTracks().forEach(function(F){var q=w.getSenders().find(function(ce){return ce.track===F});q&&w.removeTrack(q)})},P.prototype.getSenders=function(){return this.transceivers.filter(function(E){return!!E.rtpSender}).map(function(E){return E.rtpSender})},P.prototype.getReceivers=function(){return this.transceivers.filter(function(E){return!!E.rtpReceiver}).map(function(E){return E.rtpReceiver})},P.prototype._createIceGatherer=function(E,w){var F=this;if(w&&E>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var q=new M.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(q,"state",{value:"new",writable:!0}),this.transceivers[E].bufferedCandidateEvents=[],this.transceivers[E].bufferCandidates=function(ce){var re=!ce.candidate||Object.keys(ce.candidate).length===0;q.state=re?"completed":"gathering",F.transceivers[E].bufferedCandidateEvents!==null&&F.transceivers[E].bufferedCandidateEvents.push(ce)},q.addEventListener("localcandidate",this.transceivers[E].bufferCandidates),q},P.prototype._gather=function(E,w){var F=this,q=this.transceivers[w].iceGatherer;if(!q.onlocalcandidate){var ce=this.transceivers[w].bufferedCandidateEvents;this.transceivers[w].bufferedCandidateEvents=null,q.removeEventListener("localcandidate",this.transceivers[w].bufferCandidates),q.onlocalcandidate=function(re){if(!(F.usingBundle&&w>0)){var K=new Event("icecandidate");K.candidate={sdpMid:E,sdpMLineIndex:w};var T=re.candidate,L=!T||Object.keys(T).length===0;if(L)q.state!=="new"&&q.state!=="gathering"||(q.state="completed");else{q.state==="new"&&(q.state="gathering"),T.component=1,T.ufrag=q.getLocalParameters().usernameFragment;var x=N.writeCandidate(T);K.candidate=Object.assign(K.candidate,N.parseCandidate(x)),K.candidate.candidate=x,K.candidate.toJSON=function(){return{candidate:K.candidate.candidate,sdpMid:K.candidate.sdpMid,sdpMLineIndex:K.candidate.sdpMLineIndex,usernameFragment:K.candidate.usernameFragment}}}var se=N.getMediaSections(F._localDescription.sdp);se[K.candidate.sdpMLineIndex]+=L?`a=end-of-candidates\r
`:"a="+K.candidate.candidate+`\r
`,F._localDescription.sdp=N.getDescription(F._localDescription.sdp)+se.join("");var ne=F.transceivers.every(function(de){return de.iceGatherer&&de.iceGatherer.state==="completed"});F.iceGatheringState!=="gathering"&&(F.iceGatheringState="gathering",F._emitGatheringStateChange()),L||F._dispatchEvent("icecandidate",K),ne&&(F._dispatchEvent("icecandidate",new Event("icecandidate")),F.iceGatheringState="complete",F._emitGatheringStateChange())}},M.setTimeout(function(){ce.forEach(function(re){q.onlocalcandidate(re)})},0)}},P.prototype._createIceAndDtlsTransports=function(){var E=this,w=new M.RTCIceTransport(null);w.onicestatechange=function(){E._updateIceConnectionState(),E._updateConnectionState()};var F=new M.RTCDtlsTransport(w);return F.ondtlsstatechange=function(){E._updateConnectionState()},F.onerror=function(){Object.defineProperty(F,"state",{value:"failed",writable:!0}),E._updateConnectionState()},{iceTransport:w,dtlsTransport:F}},P.prototype._disposeIceAndDtlsTransports=function(E){var w=this.transceivers[E].iceGatherer;w&&(delete w.onlocalcandidate,delete this.transceivers[E].iceGatherer);var F=this.transceivers[E].iceTransport;F&&(delete F.onicestatechange,delete this.transceivers[E].iceTransport);var q=this.transceivers[E].dtlsTransport;q&&(delete q.ondtlsstatechange,delete q.onerror,delete this.transceivers[E].dtlsTransport)},P.prototype._transceive=function(E,w,F){var q=B(E.localCapabilities,E.remoteCapabilities);w&&E.rtpSender&&(q.encodings=E.sendEncodingParameters,q.rtcp={cname:N.localCName,compound:E.rtcpParameters.compound},E.recvEncodingParameters.length&&(q.rtcp.ssrc=E.recvEncodingParameters[0].ssrc),E.rtpSender.send(q)),F&&E.rtpReceiver&&q.codecs.length>0&&(E.kind==="video"&&E.recvEncodingParameters&&j<15019&&E.recvEncodingParameters.forEach(function(ce){delete ce.rtx}),E.recvEncodingParameters.length?q.encodings=E.recvEncodingParameters:q.encodings=[{}],q.rtcp={compound:E.rtcpParameters.compound},E.rtcpParameters.cname&&(q.rtcp.cname=E.rtcpParameters.cname),E.sendEncodingParameters.length&&(q.rtcp.ssrc=E.sendEncodingParameters[0].ssrc),E.rtpReceiver.receive(q))},P.prototype.setLocalDescription=function(E){var w,F,q=this;if(["offer","answer"].indexOf(E.type)===-1)return Promise.reject(k("TypeError",'Unsupported type "'+E.type+'"'));if(!Y("setLocalDescription",E.type,q.signalingState)||q._isClosed)return Promise.reject(k("InvalidStateError","Can not set local "+E.type+" in state "+q.signalingState));if(E.type==="offer")w=N.splitSections(E.sdp),F=w.shift(),w.forEach(function(re,K){var T=N.parseRtpParameters(re);q.transceivers[K].localCapabilities=T}),q.transceivers.forEach(function(re,K){q._gather(re.mid,K)});else if(E.type==="answer"){w=N.splitSections(q._remoteDescription.sdp),F=w.shift();var ce=N.matchPrefix(F,"a=ice-lite").length>0;w.forEach(function(re,K){var T=q.transceivers[K],L=T.iceGatherer,x=T.iceTransport,se=T.dtlsTransport,ne=T.localCapabilities,de=T.remoteCapabilities;if(!(N.isRejected(re)&&N.matchPrefix(re,"a=bundle-only").length===0)&&!T.rejected){var $=N.getIceParameters(re,F),te=N.getDtlsParameters(re,F);ce&&(te.role="server"),q.usingBundle&&K!==0||(q._gather(T.mid,K),x.state==="new"&&x.start(L,$,ce?"controlling":"controlled"),se.state==="new"&&se.start(te));var X=B(ne,de);q._transceive(T,X.codecs.length>0,!1)}})}return q._localDescription={type:E.type,sdp:E.sdp},E.type==="offer"?q._updateSignalingState("have-local-offer"):q._updateSignalingState("stable"),Promise.resolve()},P.prototype.setRemoteDescription=function(E){var w=this;if(["offer","answer"].indexOf(E.type)===-1)return Promise.reject(k("TypeError",'Unsupported type "'+E.type+'"'));if(!Y("setRemoteDescription",E.type,w.signalingState)||w._isClosed)return Promise.reject(k("InvalidStateError","Can not set remote "+E.type+" in state "+w.signalingState));var F={};w.remoteStreams.forEach(function(x){F[x.id]=x});var q=[],ce=N.splitSections(E.sdp),re=ce.shift(),K=N.matchPrefix(re,"a=ice-lite").length>0,T=N.matchPrefix(re,"a=group:BUNDLE ").length>0;w.usingBundle=T;var L=N.matchPrefix(re,"a=ice-options:")[0];return w.canTrickleIceCandidates=!!L&&L.substr(14).split(" ").indexOf("trickle")>=0,ce.forEach(function(x,se){var ne=N.splitLines(x),de=N.getKind(x),$=N.isRejected(x)&&N.matchPrefix(x,"a=bundle-only").length===0,te=ne[0].substr(2).split(" ")[2],X=N.getDirection(x,re),ye=N.parseMsid(x),Q=N.getMid(x)||N.generateIdentifier();if($||de==="application"&&(te==="DTLS/SCTP"||te==="UDP/DTLS/SCTP"))w.transceivers[se]={mid:Q,kind:de,protocol:te,rejected:!0};else{var z,le,ee,ve,Ee,Re,be,We,tt;!$&&w.transceivers[se]&&w.transceivers[se].rejected&&(w.transceivers[se]=w._createTransceiver(de,!0));var Xe,dt,vt=N.parseRtpParameters(x);$||(Xe=N.getIceParameters(x,re),(dt=N.getDtlsParameters(x,re)).role="client"),be=N.parseRtpEncodingParameters(x);var _t=N.parseRtcpParameters(x),At=N.matchPrefix(x,"a=end-of-candidates",re).length>0,Pt=N.matchPrefix(x,"a=candidate:").map(function(Nt){return N.parseCandidate(Nt)}).filter(function(Nt){return Nt.component===1});if((E.type==="offer"||E.type==="answer")&&!$&&T&&se>0&&w.transceivers[se]&&(w._disposeIceAndDtlsTransports(se),w.transceivers[se].iceGatherer=w.transceivers[0].iceGatherer,w.transceivers[se].iceTransport=w.transceivers[0].iceTransport,w.transceivers[se].dtlsTransport=w.transceivers[0].dtlsTransport,w.transceivers[se].rtpSender&&w.transceivers[se].rtpSender.setTransport(w.transceivers[0].dtlsTransport),w.transceivers[se].rtpReceiver&&w.transceivers[se].rtpReceiver.setTransport(w.transceivers[0].dtlsTransport)),E.type!=="offer"||$)E.type==="answer"&&!$&&(le=(z=w.transceivers[se]).iceGatherer,ee=z.iceTransport,ve=z.dtlsTransport,Ee=z.rtpReceiver,Re=z.sendEncodingParameters,We=z.localCapabilities,w.transceivers[se].recvEncodingParameters=be,w.transceivers[se].remoteCapabilities=vt,w.transceivers[se].rtcpParameters=_t,Pt.length&&ee.state==="new"&&(!K&&!At||T&&se!==0?Pt.forEach(function(Nt){G(z.iceTransport,Nt)}):ee.setRemoteCandidates(Pt)),T&&se!==0||(ee.state==="new"&&ee.start(le,Xe,"controlling"),ve.state==="new"&&ve.start(dt)),!B(z.localCapabilities,z.remoteCapabilities).codecs.filter(function(Nt){return Nt.name.toLowerCase()==="rtx"}).length&&z.sendEncodingParameters[0].rtx&&delete z.sendEncodingParameters[0].rtx,w._transceive(z,X==="sendrecv"||X==="recvonly",X==="sendrecv"||X==="sendonly"),!Ee||X!=="sendrecv"&&X!=="sendonly"?delete z.rtpReceiver:(tt=Ee.track,ye?(F[ye.stream]||(F[ye.stream]=new M.MediaStream),p(tt,F[ye.stream]),q.push([tt,Ee,F[ye.stream]])):(F.default||(F.default=new M.MediaStream),p(tt,F.default),q.push([tt,Ee,F.default]))));else{(z=w.transceivers[se]||w._createTransceiver(de)).mid=Q,z.iceGatherer||(z.iceGatherer=w._createIceGatherer(se,T)),Pt.length&&z.iceTransport.state==="new"&&(!At||T&&se!==0?Pt.forEach(function(Nt){G(z.iceTransport,Nt)}):z.iceTransport.setRemoteCandidates(Pt)),We=M.RTCRtpReceiver.getCapabilities(de),j<15019&&(We.codecs=We.codecs.filter(function(Nt){return Nt.name!=="rtx"})),Re=z.sendEncodingParameters||[{ssrc:1001*(2*se+2)}];var Vt,cr=!1;X==="sendrecv"||X==="sendonly"?(cr=!z.rtpReceiver,Ee=z.rtpReceiver||new M.RTCRtpReceiver(z.dtlsTransport,de),cr&&(tt=Ee.track,ye&&ye.stream==="-"||(ye?(F[ye.stream]||(F[ye.stream]=new M.MediaStream,Object.defineProperty(F[ye.stream],"id",{get:function(){return ye.stream}})),Object.defineProperty(tt,"id",{get:function(){return ye.track}}),Vt=F[ye.stream]):(F.default||(F.default=new M.MediaStream),Vt=F.default)),Vt&&(p(tt,Vt),z.associatedRemoteMediaStreams.push(Vt)),q.push([tt,Ee,Vt]))):z.rtpReceiver&&z.rtpReceiver.track&&(z.associatedRemoteMediaStreams.forEach(function(Nt){var Gt=Nt.getTracks().find(function(Qt){return Qt.id===z.rtpReceiver.track.id});Gt&&function(Qt,vr){vr.removeTrack(Qt),vr.dispatchEvent(new M.MediaStreamTrackEvent("removetrack",{track:Qt}))}(Gt,Nt)}),z.associatedRemoteMediaStreams=[]),z.localCapabilities=We,z.remoteCapabilities=vt,z.rtpReceiver=Ee,z.rtcpParameters=_t,z.sendEncodingParameters=Re,z.recvEncodingParameters=be,w._transceive(w.transceivers[se],!1,cr)}}}),w._dtlsRole===void 0&&(w._dtlsRole=E.type==="offer"?"active":"passive"),w._remoteDescription={type:E.type,sdp:E.sdp},E.type==="offer"?w._updateSignalingState("have-remote-offer"):w._updateSignalingState("stable"),Object.keys(F).forEach(function(x){var se=F[x];if(se.getTracks().length){if(w.remoteStreams.indexOf(se)===-1){w.remoteStreams.push(se);var ne=new Event("addstream");ne.stream=se,M.setTimeout(function(){w._dispatchEvent("addstream",ne)})}q.forEach(function(de){var $=de[0],te=de[1];se.id===de[2].id&&v(w,$,te,[se])})}}),q.forEach(function(x){x[2]||v(w,x[0],x[1],[])}),M.setTimeout(function(){w&&w.transceivers&&w.transceivers.forEach(function(x){x.iceTransport&&x.iceTransport.state==="new"&&x.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),x.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},P.prototype.close=function(){this.transceivers.forEach(function(E){E.iceTransport&&E.iceTransport.stop(),E.dtlsTransport&&E.dtlsTransport.stop(),E.rtpSender&&E.rtpSender.stop(),E.rtpReceiver&&E.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},P.prototype._updateSignalingState=function(E){this.signalingState=E;var w=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",w)},P.prototype._maybeFireNegotiationNeeded=function(){var E=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,M.setTimeout(function(){if(E.needNegotiation){E.needNegotiation=!1;var w=new Event("negotiationneeded");E._dispatchEvent("negotiationneeded",w)}},0))},P.prototype._updateIceConnectionState=function(){var E,w={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(q){q.iceTransport&&!q.rejected&&w[q.iceTransport.state]++}),E="new",w.failed>0?E="failed":w.checking>0?E="checking":w.disconnected>0?E="disconnected":w.new>0?E="new":w.connected>0?E="connected":w.completed>0&&(E="completed"),E!==this.iceConnectionState){this.iceConnectionState=E;var F=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",F)}},P.prototype._updateConnectionState=function(){var E,w={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(q){q.iceTransport&&q.dtlsTransport&&!q.rejected&&(w[q.iceTransport.state]++,w[q.dtlsTransport.state]++)}),w.connected+=w.completed,E="new",w.failed>0?E="failed":w.connecting>0?E="connecting":w.disconnected>0?E="disconnected":w.new>0?E="new":w.connected>0&&(E="connected"),E!==this.connectionState){this.connectionState=E;var F=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",F)}},P.prototype.createOffer=function(){var E=this;if(E._isClosed)return Promise.reject(k("InvalidStateError","Can not call createOffer after close"));var w=E.transceivers.filter(function(K){return K.kind==="audio"}).length,F=E.transceivers.filter(function(K){return K.kind==="video"}).length,q=arguments[0];if(q){if(q.mandatory||q.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");q.offerToReceiveAudio!==void 0&&(w=q.offerToReceiveAudio===!0?1:q.offerToReceiveAudio===!1?0:q.offerToReceiveAudio),q.offerToReceiveVideo!==void 0&&(F=q.offerToReceiveVideo===!0?1:q.offerToReceiveVideo===!1?0:q.offerToReceiveVideo)}for(E.transceivers.forEach(function(K){K.kind==="audio"?--w<0&&(K.wantReceive=!1):K.kind==="video"&&--F<0&&(K.wantReceive=!1)});w>0||F>0;)w>0&&(E._createTransceiver("audio"),w--),F>0&&(E._createTransceiver("video"),F--);var ce=N.writeSessionBoilerplate(E._sdpSessionId,E._sdpSessionVersion++);E.transceivers.forEach(function(K,T){var L=K.track,x=K.kind,se=K.mid||N.generateIdentifier();K.mid=se,K.iceGatherer||(K.iceGatherer=E._createIceGatherer(T,E.usingBundle));var ne=M.RTCRtpSender.getCapabilities(x);j<15019&&(ne.codecs=ne.codecs.filter(function($){return $.name!=="rtx"})),ne.codecs.forEach(function($){$.name==="H264"&&$.parameters["level-asymmetry-allowed"]===void 0&&($.parameters["level-asymmetry-allowed"]="1"),K.remoteCapabilities&&K.remoteCapabilities.codecs&&K.remoteCapabilities.codecs.forEach(function(te){$.name.toLowerCase()===te.name.toLowerCase()&&$.clockRate===te.clockRate&&($.preferredPayloadType=te.payloadType)})}),ne.headerExtensions.forEach(function($){(K.remoteCapabilities&&K.remoteCapabilities.headerExtensions||[]).forEach(function(te){$.uri===te.uri&&($.id=te.id)})});var de=K.sendEncodingParameters||[{ssrc:1001*(2*T+1)}];L&&j>=15019&&x==="video"&&!de[0].rtx&&(de[0].rtx={ssrc:de[0].ssrc+1}),K.wantReceive&&(K.rtpReceiver=new M.RTCRtpReceiver(K.dtlsTransport,x)),K.localCapabilities=ne,K.sendEncodingParameters=de}),E._config.bundlePolicy!=="max-compat"&&(ce+="a=group:BUNDLE "+E.transceivers.map(function(K){return K.mid}).join(" ")+`\r
`),ce+=`a=ice-options:trickle\r
`,E.transceivers.forEach(function(K,T){ce+=U(K,K.localCapabilities,"offer",K.stream,E._dtlsRole),ce+=`a=rtcp-rsize\r
`,!K.iceGatherer||E.iceGatheringState==="new"||T!==0&&E.usingBundle||(K.iceGatherer.getLocalCandidates().forEach(function(L){L.component=1,ce+="a="+N.writeCandidate(L)+`\r
`}),K.iceGatherer.state==="completed"&&(ce+=`a=end-of-candidates\r
`))});var re=new M.RTCSessionDescription({type:"offer",sdp:ce});return Promise.resolve(re)},P.prototype.createAnswer=function(){var E=this;if(E._isClosed)return Promise.reject(k("InvalidStateError","Can not call createAnswer after close"));if(E.signalingState!=="have-remote-offer"&&E.signalingState!=="have-local-pranswer")return Promise.reject(k("InvalidStateError","Can not call createAnswer in signalingState "+E.signalingState));var w=N.writeSessionBoilerplate(E._sdpSessionId,E._sdpSessionVersion++);E.usingBundle&&(w+="a=group:BUNDLE "+E.transceivers.map(function(ce){return ce.mid}).join(" ")+`\r
`),w+=`a=ice-options:trickle\r
`;var F=N.getMediaSections(E._remoteDescription.sdp).length;E.transceivers.forEach(function(ce,re){if(!(re+1>F)){if(ce.rejected)return ce.kind==="application"?ce.protocol==="DTLS/SCTP"?w+=`m=application 0 DTLS/SCTP 5000\r
`:w+="m=application 0 "+ce.protocol+` webrtc-datachannel\r
`:ce.kind==="audio"?w+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:ce.kind==="video"&&(w+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(w+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+ce.mid+`\r
`);var K;ce.stream&&(ce.kind==="audio"?K=ce.stream.getAudioTracks()[0]:ce.kind==="video"&&(K=ce.stream.getVideoTracks()[0]),K&&j>=15019&&ce.kind==="video"&&!ce.sendEncodingParameters[0].rtx&&(ce.sendEncodingParameters[0].rtx={ssrc:ce.sendEncodingParameters[0].ssrc+1}));var T=B(ce.localCapabilities,ce.remoteCapabilities);!T.codecs.filter(function(L){return L.name.toLowerCase()==="rtx"}).length&&ce.sendEncodingParameters[0].rtx&&delete ce.sendEncodingParameters[0].rtx,w+=U(ce,T,"answer",ce.stream,E._dtlsRole),ce.rtcpParameters&&ce.rtcpParameters.reducedSize&&(w+=`a=rtcp-rsize\r
`)}});var q=new M.RTCSessionDescription({type:"answer",sdp:w});return Promise.resolve(q)},P.prototype.addIceCandidate=function(E){var w,F=this;return E&&E.sdpMLineIndex===void 0&&!E.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(q,ce){if(!F._remoteDescription)return ce(k("InvalidStateError","Can not add ICE candidate without a remote description"));if(E&&E.candidate!==""){var re=E.sdpMLineIndex;if(E.sdpMid){for(var K=0;K<F.transceivers.length;K++)if(F.transceivers[K].mid===E.sdpMid){re=K;break}}var T=F.transceivers[re];if(!T)return ce(k("OperationError","Can not add ICE candidate"));if(T.rejected)return q();var L=Object.keys(E.candidate).length>0?N.parseCandidate(E.candidate):{};if(L.protocol==="tcp"&&(L.port===0||L.port===9)||L.component&&L.component!==1)return q();if((re===0||re>0&&T.iceTransport!==F.transceivers[0].iceTransport)&&!G(T.iceTransport,L))return ce(k("OperationError","Can not add ICE candidate"));var x=E.candidate.trim();x.indexOf("a=")===0&&(x=x.substr(2)),(w=N.getMediaSections(F._remoteDescription.sdp))[re]+="a="+(L.type?x:"end-of-candidates")+`\r
`,F._remoteDescription.sdp=N.getDescription(F._remoteDescription.sdp)+w.join("")}else for(var se=0;se<F.transceivers.length&&(F.transceivers[se].rejected||(F.transceivers[se].iceTransport.addRemoteCandidate({}),(w=N.getMediaSections(F._remoteDescription.sdp))[se]+=`a=end-of-candidates\r
`,F._remoteDescription.sdp=N.getDescription(F._remoteDescription.sdp)+w.join(""),!F.usingBundle));se++);q()})},P.prototype.getStats=function(E){if(E&&E instanceof M.MediaStreamTrack){var w=null;if(this.transceivers.forEach(function(q){q.rtpSender&&q.rtpSender.track===E?w=q.rtpSender:q.rtpReceiver&&q.rtpReceiver.track===E&&(w=q.rtpReceiver)}),!w)throw k("InvalidAccessError","Invalid selector.");return w.getStats()}var F=[];return this.transceivers.forEach(function(q){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(ce){q[ce]&&F.push(q[ce].getStats())})}),Promise.all(F).then(function(q){var ce=new Map;return q.forEach(function(re){re.forEach(function(K){ce.set(K.id,K)})}),ce})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(E){var w=M[E];if(w&&w.prototype&&w.prototype.getStats){var F=w.prototype.getStats;w.prototype.getStats=function(){return F.apply(this).then(function(q){var ce=new Map;return Object.keys(q).forEach(function(re){var K;q[re].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(K=q[re]).type]||K.type,ce.set(re,q[re])}),ce})}}});var O=["createOffer","createAnswer"];return O.forEach(function(E){var w=P.prototype[E];P.prototype[E]=function(){var F=arguments;return typeof F[0]=="function"||typeof F[1]=="function"?w.apply(this,[arguments[2]]).then(function(q){typeof F[0]=="function"&&F[0].apply(null,[q])},function(q){typeof F[1]=="function"&&F[1].apply(null,[q])}):w.apply(this,arguments)}}),(O=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(E){var w=P.prototype[E];P.prototype[E]=function(){var F=arguments;return typeof F[1]=="function"||typeof F[2]=="function"?w.apply(this,arguments).then(function(){typeof F[1]=="function"&&F[1].apply(null)},function(q){typeof F[2]=="function"&&F[2].apply(null,[q])}):w.apply(this,arguments)}}),["getStats"].forEach(function(E){var w=P.prototype[E];P.prototype[E]=function(){var F=arguments;return typeof F[1]=="function"?w.apply(this,arguments).then(function(){typeof F[1]=="function"&&F[1].apply(null)}):w.apply(this,arguments)}}),P}},7963:_e=>{"use strict";var W={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};W.localCName=W.generateIdentifier(),W.splitLines=function(V){return V.trim().split(`
`).map(function(N){return N.trim()})},W.splitSections=function(V){return V.split(`
m=`).map(function(N,U){return(U>0?"m="+N:N).trim()+`\r
`})},W.getDescription=function(V){var N=W.splitSections(V);return N&&N[0]},W.getMediaSections=function(V){var N=W.splitSections(V);return N.shift(),N},W.matchPrefix=function(V,N){return W.splitLines(V).filter(function(U){return U.indexOf(N)===0})},W.parseCandidate=function(V){for(var N,U={foundation:(N=V.indexOf("a=candidate:")===0?V.substring(12).split(" "):V.substring(10).split(" "))[0],component:parseInt(N[1],10),protocol:N[2].toLowerCase(),priority:parseInt(N[3],10),ip:N[4],address:N[4],port:parseInt(N[5],10),type:N[7]},B=8;B<N.length;B+=2)switch(N[B]){case"raddr":U.relatedAddress=N[B+1];break;case"rport":U.relatedPort=parseInt(N[B+1],10);break;case"tcptype":U.tcpType=N[B+1];break;case"ufrag":U.ufrag=N[B+1],U.usernameFragment=N[B+1];break;default:U[N[B]]=N[B+1]}return U},W.writeCandidate=function(V){var N=[];N.push(V.foundation),N.push(V.component),N.push(V.protocol.toUpperCase()),N.push(V.priority),N.push(V.address||V.ip),N.push(V.port);var U=V.type;return N.push("typ"),N.push(U),U!=="host"&&V.relatedAddress&&V.relatedPort&&(N.push("raddr"),N.push(V.relatedAddress),N.push("rport"),N.push(V.relatedPort)),V.tcpType&&V.protocol.toLowerCase()==="tcp"&&(N.push("tcptype"),N.push(V.tcpType)),(V.usernameFragment||V.ufrag)&&(N.push("ufrag"),N.push(V.usernameFragment||V.ufrag)),"candidate:"+N.join(" ")},W.parseIceOptions=function(V){return V.substr(14).split(" ")},W.parseRtpMap=function(V){var N=V.substr(9).split(" "),U={payloadType:parseInt(N.shift(),10)};return N=N[0].split("/"),U.name=N[0],U.clockRate=parseInt(N[1],10),U.channels=N.length===3?parseInt(N[2],10):1,U.numChannels=U.channels,U},W.writeRtpMap=function(V){var N=V.payloadType;V.preferredPayloadType!==void 0&&(N=V.preferredPayloadType);var U=V.channels||V.numChannels||1;return"a=rtpmap:"+N+" "+V.name+"/"+V.clockRate+(U!==1?"/"+U:"")+`\r
`},W.parseExtmap=function(V){var N=V.substr(9).split(" ");return{id:parseInt(N[0],10),direction:N[0].indexOf("/")>0?N[0].split("/")[1]:"sendrecv",uri:N[1]}},W.writeExtmap=function(V){return"a=extmap:"+(V.id||V.preferredId)+(V.direction&&V.direction!=="sendrecv"?"/"+V.direction:"")+" "+V.uri+`\r
`},W.parseFmtp=function(V){for(var N,U={},B=V.substr(V.indexOf(" ")+1).split(";"),Y=0;Y<B.length;Y++)U[(N=B[Y].trim().split("="))[0].trim()]=N[1];return U},W.writeFmtp=function(V){var N="",U=V.payloadType;if(V.preferredPayloadType!==void 0&&(U=V.preferredPayloadType),V.parameters&&Object.keys(V.parameters).length){var B=[];Object.keys(V.parameters).forEach(function(Y){V.parameters[Y]?B.push(Y+"="+V.parameters[Y]):B.push(Y)}),N+="a=fmtp:"+U+" "+B.join(";")+`\r
`}return N},W.parseRtcpFb=function(V){var N=V.substr(V.indexOf(" ")+1).split(" ");return{type:N.shift(),parameter:N.join(" ")}},W.writeRtcpFb=function(V){var N="",U=V.payloadType;return V.preferredPayloadType!==void 0&&(U=V.preferredPayloadType),V.rtcpFeedback&&V.rtcpFeedback.length&&V.rtcpFeedback.forEach(function(B){N+="a=rtcp-fb:"+U+" "+B.type+(B.parameter&&B.parameter.length?" "+B.parameter:"")+`\r
`}),N},W.parseSsrcMedia=function(V){var N=V.indexOf(" "),U={ssrc:parseInt(V.substr(7,N-7),10)},B=V.indexOf(":",N);return B>-1?(U.attribute=V.substr(N+1,B-N-1),U.value=V.substr(B+1)):U.attribute=V.substr(N+1),U},W.parseSsrcGroup=function(V){var N=V.substr(13).split(" ");return{semantics:N.shift(),ssrcs:N.map(function(U){return parseInt(U,10)})}},W.getMid=function(V){var N=W.matchPrefix(V,"a=mid:")[0];if(N)return N.substr(6)},W.parseFingerprint=function(V){var N=V.substr(14).split(" ");return{algorithm:N[0].toLowerCase(),value:N[1]}},W.getDtlsParameters=function(V,N){return{role:"auto",fingerprints:W.matchPrefix(V+N,"a=fingerprint:").map(W.parseFingerprint)}},W.writeDtlsParameters=function(V,N){var U="a=setup:"+N+`\r
`;return V.fingerprints.forEach(function(B){U+="a=fingerprint:"+B.algorithm+" "+B.value+`\r
`}),U},W.parseCryptoLine=function(V){var N=V.substr(9).split(" ");return{tag:parseInt(N[0],10),cryptoSuite:N[1],keyParams:N[2],sessionParams:N.slice(3)}},W.writeCryptoLine=function(V){return"a=crypto:"+V.tag+" "+V.cryptoSuite+" "+(typeof V.keyParams=="object"?W.writeCryptoKeyParams(V.keyParams):V.keyParams)+(V.sessionParams?" "+V.sessionParams.join(" "):"")+`\r
`},W.parseCryptoKeyParams=function(V){if(V.indexOf("inline:")!==0)return null;var N=V.substr(7).split("|");return{keyMethod:"inline",keySalt:N[0],lifeTime:N[1],mkiValue:N[2]?N[2].split(":")[0]:void 0,mkiLength:N[2]?N[2].split(":")[1]:void 0}},W.writeCryptoKeyParams=function(V){return V.keyMethod+":"+V.keySalt+(V.lifeTime?"|"+V.lifeTime:"")+(V.mkiValue&&V.mkiLength?"|"+V.mkiValue+":"+V.mkiLength:"")},W.getCryptoParameters=function(V,N){return W.matchPrefix(V+N,"a=crypto:").map(W.parseCryptoLine)},W.getIceParameters=function(V,N){var U=W.matchPrefix(V+N,"a=ice-ufrag:")[0],B=W.matchPrefix(V+N,"a=ice-pwd:")[0];return U&&B?{usernameFragment:U.substr(12),password:B.substr(10)}:null},W.writeIceParameters=function(V){return"a=ice-ufrag:"+V.usernameFragment+`\r
a=ice-pwd:`+V.password+`\r
`},W.parseRtpParameters=function(V){for(var N={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},U=W.splitLines(V)[0].split(" "),B=3;B<U.length;B++){var Y=U[B],G=W.matchPrefix(V,"a=rtpmap:"+Y+" ")[0];if(G){var k=W.parseRtpMap(G),M=W.matchPrefix(V,"a=fmtp:"+Y+" ");switch(k.parameters=M.length?W.parseFmtp(M[0]):{},k.rtcpFeedback=W.matchPrefix(V,"a=rtcp-fb:"+Y+" ").map(W.parseRtcpFb),N.codecs.push(k),k.name.toUpperCase()){case"RED":case"ULPFEC":N.fecMechanisms.push(k.name.toUpperCase())}}}return W.matchPrefix(V,"a=extmap:").forEach(function(j){N.headerExtensions.push(W.parseExtmap(j))}),N},W.writeRtpDescription=function(V,N){var U="";U+="m="+V+" ",U+=N.codecs.length>0?"9":"0",U+=" UDP/TLS/RTP/SAVPF ",U+=N.codecs.map(function(Y){return Y.preferredPayloadType!==void 0?Y.preferredPayloadType:Y.payloadType}).join(" ")+`\r
`,U+=`c=IN IP4 0.0.0.0\r
`,U+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,N.codecs.forEach(function(Y){U+=W.writeRtpMap(Y),U+=W.writeFmtp(Y),U+=W.writeRtcpFb(Y)});var B=0;return N.codecs.forEach(function(Y){Y.maxptime>B&&(B=Y.maxptime)}),B>0&&(U+="a=maxptime:"+B+`\r
`),U+=`a=rtcp-mux\r
`,N.headerExtensions&&N.headerExtensions.forEach(function(Y){U+=W.writeExtmap(Y)}),U},W.parseRtpEncodingParameters=function(V){var N,U=[],B=W.parseRtpParameters(V),Y=B.fecMechanisms.indexOf("RED")!==-1,G=B.fecMechanisms.indexOf("ULPFEC")!==-1,k=W.matchPrefix(V,"a=ssrc:").map(function(v){return W.parseSsrcMedia(v)}).filter(function(v){return v.attribute==="cname"}),M=k.length>0&&k[0].ssrc,j=W.matchPrefix(V,"a=ssrc-group:FID").map(function(v){return v.substr(17).split(" ").map(function(P){return parseInt(P,10)})});j.length>0&&j[0].length>1&&j[0][0]===M&&(N=j[0][1]),B.codecs.forEach(function(v){if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){var P={ssrc:M,codecPayloadType:parseInt(v.parameters.apt,10)};M&&N&&(P.rtx={ssrc:N}),U.push(P),Y&&((P=JSON.parse(JSON.stringify(P))).fec={ssrc:M,mechanism:G?"red+ulpfec":"red"},U.push(P))}}),U.length===0&&M&&U.push({ssrc:M});var p=W.matchPrefix(V,"b=");return p.length&&(p=p[0].indexOf("b=TIAS:")===0?parseInt(p[0].substr(7),10):p[0].indexOf("b=AS:")===0?1e3*parseInt(p[0].substr(5),10)*.95-16e3:void 0,U.forEach(function(v){v.maxBitrate=p})),U},W.parseRtcpParameters=function(V){var N={},U=W.matchPrefix(V,"a=ssrc:").map(function(G){return W.parseSsrcMedia(G)}).filter(function(G){return G.attribute==="cname"})[0];U&&(N.cname=U.value,N.ssrc=U.ssrc);var B=W.matchPrefix(V,"a=rtcp-rsize");N.reducedSize=B.length>0,N.compound=B.length===0;var Y=W.matchPrefix(V,"a=rtcp-mux");return N.mux=Y.length>0,N},W.parseMsid=function(V){var N,U=W.matchPrefix(V,"a=msid:");if(U.length===1)return{stream:(N=U[0].substr(7).split(" "))[0],track:N[1]};var B=W.matchPrefix(V,"a=ssrc:").map(function(Y){return W.parseSsrcMedia(Y)}).filter(function(Y){return Y.attribute==="msid"});return B.length>0?{stream:(N=B[0].value.split(" "))[0],track:N[1]}:void 0},W.parseSctpDescription=function(V){var N,U=W.parseMLine(V),B=W.matchPrefix(V,"a=max-message-size:");B.length>0&&(N=parseInt(B[0].substr(19),10)),isNaN(N)&&(N=65536);var Y=W.matchPrefix(V,"a=sctp-port:");if(Y.length>0)return{port:parseInt(Y[0].substr(12),10),protocol:U.fmt,maxMessageSize:N};if(W.matchPrefix(V,"a=sctpmap:").length>0){var G=W.matchPrefix(V,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(G[0],10),protocol:G[1],maxMessageSize:N}}},W.writeSctpDescription=function(V,N){var U=[];return U=V.protocol!=="DTLS/SCTP"?["m="+V.kind+" 9 "+V.protocol+" "+N.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+N.port+`\r
`]:["m="+V.kind+" 9 "+V.protocol+" "+N.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+N.port+" "+N.protocol+` 65535\r
`],N.maxMessageSize!==void 0&&U.push("a=max-message-size:"+N.maxMessageSize+`\r
`),U.join("")},W.generateSessionId=function(){return Math.random().toString().substr(2,21)},W.writeSessionBoilerplate=function(V,N,U){var B=N!==void 0?N:2;return`v=0\r
o=`+(U||"thisisadapterortc")+" "+(V||W.generateSessionId())+" "+B+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},W.writeMediaSection=function(V,N,U,B){var Y=W.writeRtpDescription(V.kind,N);if(Y+=W.writeIceParameters(V.iceGatherer.getLocalParameters()),Y+=W.writeDtlsParameters(V.dtlsTransport.getLocalParameters(),U==="offer"?"actpass":"active"),Y+="a=mid:"+V.mid+`\r
`,V.direction?Y+="a="+V.direction+`\r
`:V.rtpSender&&V.rtpReceiver?Y+=`a=sendrecv\r
`:V.rtpSender?Y+=`a=sendonly\r
`:V.rtpReceiver?Y+=`a=recvonly\r
`:Y+=`a=inactive\r
`,V.rtpSender){var G="msid:"+B.id+" "+V.rtpSender.track.id+`\r
`;Y+="a="+G,Y+="a=ssrc:"+V.sendEncodingParameters[0].ssrc+" "+G,V.sendEncodingParameters[0].rtx&&(Y+="a=ssrc:"+V.sendEncodingParameters[0].rtx.ssrc+" "+G,Y+="a=ssrc-group:FID "+V.sendEncodingParameters[0].ssrc+" "+V.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return Y+="a=ssrc:"+V.sendEncodingParameters[0].ssrc+" cname:"+W.localCName+`\r
`,V.rtpSender&&V.sendEncodingParameters[0].rtx&&(Y+="a=ssrc:"+V.sendEncodingParameters[0].rtx.ssrc+" cname:"+W.localCName+`\r
`),Y},W.getDirection=function(V,N){for(var U=W.splitLines(V),B=0;B<U.length;B++)switch(U[B]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return U[B].substr(2)}return N?W.getDirection(N):"sendrecv"},W.getKind=function(V){return W.splitLines(V)[0].split(" ")[0].substr(2)},W.isRejected=function(V){return V.split(" ",2)[1]==="0"},W.parseMLine=function(V){var N=W.splitLines(V)[0].substr(2).split(" ");return{kind:N[0],port:parseInt(N[1],10),protocol:N[2],fmt:N.slice(3).join(" ")}},W.parseOLine=function(V){var N=W.matchPrefix(V,"o=")[0].substr(2).split(" ");return{username:N[0],sessionId:N[1],sessionVersion:parseInt(N[2],10),netType:N[3],addressType:N[4],address:N[5]}},W.isValidSDP=function(V){if(typeof V!="string"||V.length===0)return!1;for(var N=W.splitLines(V),U=0;U<N.length;U++)if(N[U].length<2||N[U].charAt(1)!=="=")return!1;return!0},_e.exports=W},4845:function(_e,W,V){"use strict";var N=this&&this.__assign||function(){return N=Object.assign||function(O){for(var E,w=1,F=arguments.length;w<F;w++)for(var q in E=arguments[w])Object.prototype.hasOwnProperty.call(E,q)&&(O[q]=E[q]);return O},N.apply(this,arguments)},U=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(W,"__esModule",{value:!0}),W.AliRTS=void 0;var B=V(2550),Y=V(9428),G=V(3412),k=V(7668),M=V(233),j=U(V(2818)),p=V(5259),v=V(7989),P=function(){function O(){}return O.createClient=function(E){var w=E||{};return w.customReporter||(w.customReporter=O.customReporter),w.trackLog===void 0&&(w.trackLog=O.trackLog),new k.RtsClient(w)},O.getMicList=function(){var E=this;return new Promise(function(w,F){E.deviceManager.getMicList().then(function(q){w(q)}).catch(function(q){F(q)})})},O.getCameraList=function(){var E=this;return new Promise(function(w,F){E.deviceManager.getCameraList().then(function(q){w(q)}).catch(function(q){F(q)})})},O.getSpeakerList=function(){var E=this;return new Promise(function(w,F){E.deviceManager.getSpeakerList().then(function(q){w(q)}).catch(function(q){F(q)})})},O.createStream=function(E){return new Promise(function(w,F){var q=new B.LocalStream,ce=new j.default({customReporter:O.customReporter,trackLog:O.trackLog});q.init(E).then(function(){w(q),ce.reportStreamCreated(E,{videoTrack:!!q.videoTrack,audioTrack:!!q.audioTrack,screenAudio:!!q.screenAudioTrack,surface:q.screenSurfaceType})}).catch(function(re){var K=N(N({},re),{relatedLink:re.extraInfo});delete K.extraInfo,F(K),ce.reportErrorInfo(Y.ErrorCode.ERROR_INIT_LOCAL_FAIL,re.message,re.traceId,{config:E,originErr:re})})})},O.deviceManager=new G.BrowserDeviceManager,O.BrowserUtil=M.BrowserUtil,O.SystenUtil=M.SystemUtil,O.SupportUtil=v.SupportUtil,O.VideoProfileMap=p.VideoProfileMap,O.ScreenProfileMap=p.ScreenProfileMap,O.AudioProfileMap=p.AudioProfileMap,O.ErrorCode=Y.ErrorCode,O.customReporter=function(){},O.trackLog=!0,O}();W.AliRTS=P},7028:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default={version:"2.9.3-beta.0",protocol_version:2,sdk_version:"0.0.1"}},9428:(_e,W)=>{"use strict";var V,N;Object.defineProperty(W,"__esModule",{value:!0}),W.PUB_RECONNECT_ERROR_LIST=W.RECONNECT_ERROR_EXCLUDE_LIST=W.SUB_RECONNECT_ERROR_LIST=W.DeviceErrorCode=W.ErrorCode=void 0,function(U){U[U.ERROR_DEVICE_UNKNOWNERROR=1e4]="ERROR_DEVICE_UNKNOWNERROR",U[U.ERROR_DEVICE_AUDIODEVICE_NOTFOUND=10001]="ERROR_DEVICE_AUDIODEVICE_NOTFOUND",U[U.ERROR_DEVICE_VIDEODEVICE_NOTFOUND=10002]="ERROR_DEVICE_VIDEODEVICE_NOTFOUND",U[U.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED=10003]="ERROR_DEVICE_AUDIODEVICE_NOTALLOWED",U[U.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED=10004]="ERROR_DEVICE_VIDEODEVICE_NOTALLOWED",U[U.ERROR_DEVICE_AUDIODEVICE_NOTREADABLE=10005]="ERROR_DEVICE_AUDIODEVICE_NOTREADABLE",U[U.ERROR_DEVICE_VIDEODEVICE_NOTREADABLE=10006]="ERROR_DEVICE_VIDEODEVICE_NOTREADABLE",U[U.ERROR_DEIVCE_CONSTRAINEDERROR=10007]="ERROR_DEIVCE_CONSTRAINEDERROR",U[U.ERROR_SCREENSHARE_UNKNOWNERRO=10010]="ERROR_SCREENSHARE_UNKNOWNERRO",U[U.ERROR_SCREENSHARE_NOTALLOWED=10011]="ERROR_SCREENSHARE_NOTALLOWED",U[U.ERROR_SCREENSHARE_ENDED=10012]="ERROR_SCREENSHARE_ENDED",U[U.ERROR_SCREENSHARE_NOPERMISSION=10013]="ERROR_SCREENSHARE_NOPERMISSION",U[U.ERROR_SCREENSHARE_INVALIDACCESS=10014]="ERROR_SCREENSHARE_INVALIDACCESS",U[U.ERROR_SCREENSHARE_NOTSUPPORT=10018]="ERROR_SCREENSHARE_NOTSUPPORT",U[U.ERROR_DEVICE_NOTSUPPORT=10019]="ERROR_DEVICE_NOTSUPPORT",U[U.ERROR_SIGNAL_ERROR=10101]="ERROR_SIGNAL_ERROR",U[U.ERROR_PLAY_FAILED=10102]="ERROR_PLAY_FAILED",U[U.ERROR_NOTSUPPORT_WEBRTC=10110]="ERROR_NOTSUPPORT_WEBRTC",U[U.ERROR_BROWSER_NOTSUPPORT=10111]="ERROR_BROWSER_NOTSUPPORT",U[U.ERROR_BROWSER_VERSIONLOW=10112]="ERROR_BROWSER_VERSIONLOW",U[U.ERROR_NOTSUPPORT_H264=10113]="ERROR_NOTSUPPORT_H264",U[U.ERROR_CREATEOFFER=10114]="ERROR_CREATEOFFER",U[U.ERROR_NO_DATACHANNEL=10115]="ERROR_NO_DATACHANNEL",U[U.ERROR_INIT_LOCAL_FAIL=10116]="ERROR_INIT_LOCAL_FAIL",U[U.ERROR_HEMLELEMENT_NOTMATCH=10125]="ERROR_HEMLELEMENT_NOTMATCH",U[U.ERROR_AUTOPLAY_ERROR=10201]="ERROR_AUTOPLAY_ERROR",U[U.ERROR_PLAY_URL=10202]="ERROR_PLAY_URL",U[U.ERROR_SUBSCRIBE_NOTHING=10203]="ERROR_SUBSCRIBE_NOTHING",U[U.ERROR_HTMLELEMENT_ERROR=10204]="ERROR_HTMLELEMENT_ERROR",U[U.ERROR_HTTPREQUEST_ERROR=10205]="ERROR_HTTPREQUEST_ERROR",U[U.ERROR_ANSWER_ERROR=10206]="ERROR_ANSWER_ERROR",U[U.ERROR_INBOUND_TIMEOUT=10207]="ERROR_INBOUND_TIMEOUT",U[U.ERROR_STREAM_ENDED=10208]="ERROR_STREAM_ENDED",U[U.ERROR_PC_DISCONNECTED=10209]="ERROR_PC_DISCONNECTED",U[U.ERROR_TRANSPORT_CLOSED=10210]="ERROR_TRANSPORT_CLOSED",U[U.ERROR_SIGNAL_URL=10211]="ERROR_SIGNAL_URL",U[U.ERROR_PUBLISH_URL=10300]="ERROR_PUBLISH_URL",U[U.ERROR_PUBLISH_NOAUDIO=10301]="ERROR_PUBLISH_NOAUDIO",U[U.ERROR_PUBLISH_NOSTREAM=10302]="ERROR_PUBLISH_NOSTREAM",U[U.ERROR_DATACHANNEL_PARAM=10500]="ERROR_DATACHANNEL_PARAM",U[U.ERROR_DATACHANNEL_OPEN=10501]="ERROR_DATACHANNEL_OPEN",U[U.ERROR_MEDIASTREAMTRACK_TYPE_ERROR=11e3]="ERROR_MEDIASTREAMTRACK_TYPE_ERROR",U[U.ERROR_MEDIASTREAMTRACK_KIND_ERROR=11001]="ERROR_MEDIASTREAMTRACK_KIND_ERROR",U[U.ERROR_MEDIASTREAMTRACK_AUDIO_NONE=11002]="ERROR_MEDIASTREAMTRACK_AUDIO_NONE",U[U.ERROR_CUSTOMSTREAM_NONE=11003]="ERROR_CUSTOMSTREAM_NONE",U[U.ERROR_CUSTOMSTREAM_INVALID=11004]="ERROR_CUSTOMSTREAM_INVALID",U[U.ERROR_CUSTOMSTREAM_TRACK_NONE=11005]="ERROR_CUSTOMSTREAM_TRACK_NONE",U[U.ERROR_PREERCONNECTION_UNKNOWN=12e3]="ERROR_PREERCONNECTION_UNKNOWN",U[U.ERROR_SUBADD_NO_RESULT=13e3]="ERROR_SUBADD_NO_RESULT",U[U.ERROR_PUBADD_NO_RESULT=13001]="ERROR_PUBADD_NO_RESULT"}(V||(W.ErrorCode=V={})),function(U){U[U.ERROR_DEVICE_UNKNOWNERROR=1e4]="ERROR_DEVICE_UNKNOWNERROR",U[U.ERROR_DEVICE_AUDIODEVICE_NOTFOUND=10001]="ERROR_DEVICE_AUDIODEVICE_NOTFOUND",U[U.ERROR_DEVICE_VIDEODEVICE_NOTFOUND=10002]="ERROR_DEVICE_VIDEODEVICE_NOTFOUND",U[U.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED=10003]="ERROR_DEVICE_AUDIODEVICE_NOTALLOWED",U[U.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED=10004]="ERROR_DEVICE_VIDEODEVICE_NOTALLOWED",U[U.ERROR_DEVICE_AUDIODEVICE_NOTREADABLE=10005]="ERROR_DEVICE_AUDIODEVICE_NOTREADABLE",U[U.ERROR_DEVICE_VIDEODEVICE_NOTREADABLE=10006]="ERROR_DEVICE_VIDEODEVICE_NOTREADABLE",U[U.ERROR_SCREENSHARE_NOTSUPPORT=10010]="ERROR_SCREENSHARE_NOTSUPPORT",U[U.ERROR_SCREENSHARE_NOTALLOWED=10011]="ERROR_SCREENSHARE_NOTALLOWED",U[U.ERROR_SCREENSHARE_ENDED=10012]="ERROR_SCREENSHARE_ENDED",U[U.ERROR_SCREENSHARE_NOPERMISSION=10013]="ERROR_SCREENSHARE_NOPERMISSION",U[U.ERROR_SCREENSHARE_SAFARI_INVALIDACCESS=10014]="ERROR_SCREENSHARE_SAFARI_INVALIDACCESS",U[U.ERROR_SCREENSHARE_UNKNOWNERRO=10019]="ERROR_SCREENSHARE_UNKNOWNERRO",U[U.ERROR_DEVICE_NOTSUPPORT=2e4]="ERROR_DEVICE_NOTSUPPORT"}(N||(W.DeviceErrorCode=N={})),W.SUB_RECONNECT_ERROR_LIST=[V.ERROR_INBOUND_TIMEOUT,V.ERROR_STREAM_ENDED,V.ERROR_PC_DISCONNECTED],W.RECONNECT_ERROR_EXCLUDE_LIST=[V.ERROR_AUTOPLAY_ERROR,V.ERROR_PLAY_URL,V.ERROR_SUBSCRIBE_NOTHING,V.ERROR_HTMLELEMENT_ERROR,V.ERROR_HEMLELEMENT_NOTMATCH,V.ERROR_PUBLISH_URL,V.ERROR_PUBLISH_NOAUDIO,V.ERROR_PUBLISH_NOSTREAM],W.PUB_RECONNECT_ERROR_LIST=[V.ERROR_PC_DISCONNECTED,V.ERROR_TRANSPORT_CLOSED]},5044:(_e,W,V)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.RtsError=void 0;var N=V(9428),U=function(){function B(Y,G,k,M){this.errorCode=Y,this.errorCodeName=N.ErrorCode[Y],this.message=G,this.traceId=k,M&&(this.extraInfo=M)}return B.prototype.renameCode=function(Y){this.errorCode=Y,this.errorCodeName=N.ErrorCode[Y]},B}();W.RtsError=U},6091:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.PlayEvent=W.PlayType=void 0,W.PlayType={PLAY_CANPLAY:"canplay",PLAY_WAITING:"waiting",PLAY_PLAYING:"playing",PLAY_MEDIA:"media",PLAY_ENDED:"ended",PLAY_TIMEOUT:"timeout"};var V=function(N){this.event=N};W.PlayEvent=V},5917:(_e,W)=>{"use strict";var V,N,U,B;Object.defineProperty(W,"__esModule",{value:!0}),W.DEFAULT_RETRY_PUBLISH_INTERVAL=W.DEFAULT_RETRY_SUBSCRIBE_INTERVAL=W.DEFAULT_RETRY_PUBLISH_LIMIT=W.DEFAULT_RETRY_SUBSCRIBE_LIMIT=W.EWorkerAction=W.EWorkerSource=W.EConnectStatus=W.TrackType=void 0,function(Y){Y.AUDIO="audio",Y.VIDEO="video"}(V||(W.TrackType=V={})),function(Y){Y[Y.CONNECT_STATUS_DISCONNECTED=0]="CONNECT_STATUS_DISCONNECTED",Y[Y.CONNECT_STATUS_CONNECTING=1]="CONNECT_STATUS_CONNECTING",Y[Y.CONNECT_STATUS_CONNECTED=2]="CONNECT_STATUS_CONNECTED",Y[Y.CONNECT_STATUS_RECONNECTING=3]="CONNECT_STATUS_RECONNECTING"}(N||(W.EConnectStatus=N={})),function(Y){Y.Sender="sender",Y.Receiver="receiver"}(U||(W.EWorkerSource=U={})),function(Y){Y.Setup="setup",Y.InserSEI="insertSEI"}(B||(W.EWorkerAction=B={})),W.DEFAULT_RETRY_SUBSCRIBE_LIMIT=5,W.DEFAULT_RETRY_PUBLISH_LIMIT=5,W.DEFAULT_RETRY_SUBSCRIBE_INTERVAL=2e3,W.DEFAULT_RETRY_PUBLISH_INTERVAL=2e3},6600:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(re,K){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,L){T.__proto__=L}||function(T,L){for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(T[x]=L[x])},N(re,K)},function(re,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function T(){this.constructor=re}N(re,K),re.prototype=K===null?Object.create(K):(T.prototype=K.prototype,new T)}),B=this&&this.__assign||function(){return B=Object.assign||function(re){for(var K,T=1,L=arguments.length;T<L;T++)for(var x in K=arguments[T])Object.prototype.hasOwnProperty.call(K,x)&&(re[x]=K[x]);return re},B.apply(this,arguments)},Y=this&&this.__awaiter||function(re,K,T,L){return new(T||(T=Promise))(function(x,se){function ne(te){try{$(L.next(te))}catch(X){se(X)}}function de(te){try{$(L.throw(te))}catch(X){se(X)}}function $(te){var X;te.done?x(te.value):(X=te.value,X instanceof T?X:new T(function(ye){ye(X)})).then(ne,de)}$((L=L.apply(re,K||[])).next())})},G=this&&this.__generator||function(re,K){var T,L,x,se,ne={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return se={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function de($){return function(te){return function(X){if(T)throw new TypeError("Generator is already executing.");for(;se&&(se=0,X[0]&&(ne=0)),ne;)try{if(T=1,L&&(x=2&X[0]?L.return:X[0]?L.throw||((x=L.return)&&x.call(L),0):L.next)&&!(x=x.call(L,X[1])).done)return x;switch(L=0,x&&(X=[2&X[0],x.value]),X[0]){case 0:case 1:x=X;break;case 4:return ne.label++,{value:X[1],done:!1};case 5:ne.label++,L=X[1],X=[0];continue;case 7:X=ne.ops.pop(),ne.trys.pop();continue;default:if(x=ne.trys,!((x=x.length>0&&x[x.length-1])||X[0]!==6&&X[0]!==2)){ne=0;continue}if(X[0]===3&&(!x||X[1]>x[0]&&X[1]<x[3])){ne.label=X[1];break}if(X[0]===6&&ne.label<x[1]){ne.label=x[1],x=X;break}if(x&&ne.label<x[2]){ne.label=x[2],ne.ops.push(X);break}x[2]&&ne.ops.pop(),ne.trys.pop();continue}X=K.call(re,ne)}catch(ye){X=[6,ye],L=0}finally{T=x=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([$,te])}}},k=this&&this.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(W,"__esModule",{value:!0}),W.CommonController=void 0;var M=V(771),j=V(5917),p=k(V(102)),v=V(9594),P=V(5044),O=V(9428),E=V(6091),w=V(5788),F=V(4450),q=function(re){function K(T){var L=re.call(this)||this;return L.datachannelList=new ce,L.receiverCodecPreferences={},L.senderCodecPreferences={},L.reporter=T,L.signalChannel=new w.SignalChannel({reporter:T}),L.proxySignalChannelEvents(),L}return U(K,re),K.prototype.setPeerconnection=function(T){var L=this;T!==this.peerconnection&&(this.peerconnection&&this.peerconnection.removeAllListeners(),this.peerconnection=T,this.signalChannel.isOpen||(this.waitForOpenPms=new Promise(function(x,se){L.peerconnection.on("datachannelStatusChange",function(ne){L.emit("datachannelStatusChange",ne),ne.status===F.EDatachannelStatus.DATACHANNEL_STATUS_OPEN&&(L.signalChannel.setPeerConnection(T),x())})})),this.peerconnection.on("innerSubscribeDeleteTracks",function(x){L.handleWorkerSubDelete(x)}),this.peerconnection.on("encodedFrame",function(x){var se;L.emit("encodedFrame",x),x.kind==="video"&&(0,v.parseSei)((se=x.frame)===null||se===void 0?void 0:se.data).forEach(function(ne){L.emit("receivedSEI",{url:x.url,vMsid:x.vMsid,sei:ne})})}),(this.receiverCodecPreferences.video||this.receiverCodecPreferences.audio)&&this.peerconnection.setReceiverCodecPreferences(this.receiverCodecPreferences),(this.senderCodecPreferences.video||this.senderCodecPreferences.audio)&&this.peerconnection.setSenderCodecPreferences(this.senderCodecPreferences))},Object.defineProperty(K.prototype,"peerCore",{get:function(){var T;return(T=this.peerconnection)===null||T===void 0?void 0:T.getPeerCore()},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"streamManager",{get:function(){var T;return(T=this.peerCore)===null||T===void 0?void 0:T.getStreamManager()},enumerable:!1,configurable:!0}),K.prototype.subscribeAdd=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$,te,X,ye=this;return G(this,function(Q){switch(Q.label){case 0:if(T.forEach(function(z){var le;(le=ye.reporter)===null||le===void 0||le.reportSubscribeStart(z.url,"",z.vMsid,z.aMsid,!0)}),!this.peerconnection)throw this.makeRtsError("subscribeAdd");this.peerconnection.isReused=!0,L=new Date().getTime(),Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,this.peerconnection.subAdd(T)];case 2:if(!(x=Q.sent()).streamList)throw new P.RtsError(O.ErrorCode.ERROR_SUBADD_NO_RESULT,"subAdd streamList not found","",{api:"subscribeAdd",configList:T,response:x});return[3,4];case 3:throw se=Q.sent(),ne=se,(X=this.reporter)===null||X===void 0||X.reportErrorInfo(ne.errorCode,ne.message,ne.traceId,ne.extraInfo),ne;case 4:return de=x.deleteRspTime-L,$=x.subAddRspTime-x.deleteRspTime,te=x.activeRspTime-x.subAddRspTime,x.streamList.forEach(function(z,le){var ee,ve,Ee;(ee=ye.reporter)===null||ee===void 0||ee.reportSubscribeOk({vurl:z.url||void 0,isSubAdd:!0});var Re,be=T[le]||{},We=be.targetStream,tt=be.vMsid,Xe=be.aMsid,dt=z.stream;if(We)return We.mergeStream(dt),void(z.stream=We);var vt=(ve=ye.streamManager)===null||ve===void 0?void 0:ve.getStreamByMsid({url:z.url,vMsid:tt==null?void 0:tt[0],aMsid:Xe==null?void 0:Xe[0]});if(vt)vt.mergeStream(dt),Re=vt;else{(Re=new M.RemoteStream).updateMediaStream(dt),(Ee=ye.streamManager)===null||Ee===void 0||Ee.update(z.url,{stream:Re,vMsid:tt==null?void 0:tt[0],aMsid:Xe==null?void 0:Xe[0]}),Re.on("onCanPlay",function(){var At,Pt,Vt=new Date().getTime();(At=ye.reporter)===null||At===void 0||At.reportFirstFrameTime(z.url,z.traceId,-1,-1,Vt-L,0,-1,{},de,$,te,tt,Xe,!0),(Pt=ye.peerconnection)===null||Pt===void 0||Pt.playStart()});var _t=new E.PlayEvent(E.PlayType.PLAY_CANPLAY);_t.data={url:z.url,vMsid:(tt==null?void 0:tt[0])||"vMsid unknown",aMsid:(Xe==null?void 0:Xe[0])||"aMsid unknown"},ye.emit("onPlayEvent",_t)}z.stream=Re}),[2,x.streamList]}})})},K.prototype.subscribeActive=function(T){return Y(this,void 0,void 0,function(){var L;return G(this,function(x){if(!this.peerconnection)throw this.makeRtsError("subscribeActive");return[2,(L=this.peerconnection)===null||L===void 0?void 0:L.subActive(T)]})})},K.prototype.subscribeStop=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de;return G(this,function($){switch($.label){case 0:if(!this.peerconnection)throw this.makeRtsError("subscribeStop");$.label=1;case 1:return $.trys.push([1,3,,4]),[4,this.peerconnection.subStop(T)];case 2:return L=$.sent(),this.peerconnection.getSubMonitor().updateTranceiversController(),x=this.peerconnection.getWorkerManager(),T.forEach(function(te){x.removeByUrl({url:te.url,source:j.EWorkerSource.Receiver})}),[3,4];case 3:throw se=$.sent(),ne=se,(de=this.reporter)===null||de===void 0||de.reportErrorInfo(ne.errorCode,ne.message,ne.traceId,ne.extraInfo),se;case 4:return[2,L]}})})},K.prototype.subscribeDeleteTracks=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne;return G(this,function(de){switch(de.label){case 0:if(!this.peerconnection)throw this.makeRtsError("subscribeDeleteTracks");de.label=1;case 1:return de.trys.push([1,3,,4]),[4,this.peerconnection.subDeleteTracks(T)];case 2:if(!(L=de.sent()))throw this.makeRtsError("subscribeDeleteTracks");return this.peerconnection.getSubMonitor().updateTranceiversController(),this.handleWorkerSubDelete(T),[3,4];case 3:throw x=de.sent(),se=x,(ne=this.reporter)===null||ne===void 0||ne.reportErrorInfo(se.errorCode,se.message,se.traceId,se.extraInfo),x;case 4:return[2,L]}})})},K.prototype.handleWorkerSubDelete=function(T){if(this.peerconnection){var L=this.peerconnection.getWorkerManager();T.forEach(function(x){var se,ne;!((se=x.vMsid)===null||se===void 0)&&se.length&&L.removeByMsid({url:x.url,source:j.EWorkerSource.Receiver,kind:"video",msid:x.vMsid[0]}),!((ne=x.aMsid)===null||ne===void 0)&&ne.length&&L.removeByMsid({url:x.url,source:j.EWorkerSource.Receiver,kind:"audio",msid:x.aMsid[0]})})}},K.prototype.publishAdd=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$,te,X,ye,Q,z,le=this;return G(this,function(ee){switch(ee.label){case 0:if(T.forEach(function(ve){var Ee;(Ee=le.reporter)===null||Ee===void 0||Ee.reportStartPublish(ve.url,"",!0)}),L=new Date().getTime(),!this.peerconnection)throw this.makeRtsError("publishAdd");ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,(X=this.peerconnection)===null||X===void 0?void 0:X.pubAdd(T)];case 2:if(!(x=ee.sent()))throw new P.RtsError(O.ErrorCode.ERROR_PUBADD_NO_RESULT,"pubAdd streamList not found","",{api:"publishAdd",publishInfoList:T});return[3,4];case 3:throw se=ee.sent(),ne=se,(ye=this.reporter)===null||ye===void 0||ye.reportErrorInfo(ne.errorCode,ne.message,ne.traceId,ne.extraInfo),ne;case 4:return this.peerconnection.isReused=!0,de=new Date().getTime(),$=de-L,x.forEach(function(ve){var Ee;(Ee=le.reporter)===null||Ee===void 0||Ee.reportPublishOk(ve.url||"","",-1,-1,-1,ve.traceId||"",$,!0)}),(te=(Q=this.peerconnection)===null||Q===void 0?void 0:Q.getPc())&&(T.forEach(function(ve){le.peerconnection&&ve.stream.setEncodeParam(te)}),this.peerCore&&((z=this.peerconnection)===null||z===void 0||z.getPubMonitor().startHeartbeat(te,this.peerCore)),te.getSenders().forEach(function(ve){var Ee;ve.track&&((Ee=le.peerconnection)===null||Ee===void 0||Ee.handleEncodedInsertableStreams({sender:ve}))})),[2,x]}})})},K.prototype.publishDeleteTracks=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de;return G(this,function($){switch($.label){case 0:if(!this.peerconnection)throw this.makeRtsError("publishDeleteTracks");$.label=1;case 1:return $.trys.push([1,3,,4]),[4,this.peerconnection.pubDeleteTracks(T)];case 2:if(!(L=$.sent()))throw this.makeRtsError("publishDeleteTracks");return this.peerconnection.getPubMonitor().updateSenders(),x=this.peerconnection.getWorkerManager(),T.forEach(function(te){var X,ye;!((X=te.vMsid)===null||X===void 0)&&X.length&&x.removeByMsid({url:te.url,source:j.EWorkerSource.Sender,kind:"video",msid:te.vMsid[0]}),!((ye=te.aMsid)===null||ye===void 0)&&ye.length&&x.removeByMsid({url:te.url,source:j.EWorkerSource.Sender,kind:"audio",msid:te.aMsid[0]})}),[3,4];case 3:throw se=$.sent(),ne=se,(de=this.reporter)===null||de===void 0||de.reportErrorInfo(ne.errorCode,ne.message,ne.traceId,ne.extraInfo),se;case 4:return[2,L]}})})},K.prototype.publishReplaceTracks=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne;return G(this,function(de){switch(de.label){case 0:if(!this.peerconnection)throw this.makeRtsError("publishReplaceTracks");de.label=1;case 1:return de.trys.push([1,3,,4]),[4,this.peerconnection.pubReplaceTracks(T)];case 2:if(!(L=de.sent()))throw this.makeRtsError("publishReplaceTracks");return this.peerconnection.getPubMonitor().updateSenders(),[3,4];case 3:throw x=de.sent(),se=x,(ne=this.reporter)===null||ne===void 0||ne.reportErrorInfo(se.errorCode,se.message,se.traceId,se.extraInfo),x;case 4:return[2,L]}})})},K.prototype.publishStop=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$=this;return G(this,function(te){switch(te.label){case 0:if(T.forEach(function(X){var ye;(ye=$.reporter)===null||ye===void 0||ye.reportStopPublish(X.url,!0)}),!this.peerconnection)throw this.makeRtsError("publishStop");te.label=1;case 1:return te.trys.push([1,3,,4]),[4,this.peerconnection.pubStop(T)];case 2:return L=te.sent(),this.peerconnection.getPubMonitor().updateSenders(),x=this.peerconnection.getWorkerManager(),T.forEach(function(X){x.removeByUrl({url:X.url,source:j.EWorkerSource.Sender})}),[3,4];case 3:throw se=te.sent(),ne=se,(de=this.reporter)===null||de===void 0||de.reportErrorInfo(ne.errorCode,ne.message,ne.traceId,ne.extraInfo),se;case 4:return[2,L]}})})},K.prototype.handleAddDatachannel=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$,te,X,ye,Q,z,le=this;return G(this,function(ee){switch(ee.label){case 0:if(!T.url||!T.signalUrl||!T.msid)throw x=new P.RtsError(O.ErrorCode.ERROR_DATACHANNEL_PARAM,"url, signalUrl, msid is required by subscribe(publish)AddDatachannel",""),(te=this.reporter)===null||te===void 0||te.reportErrorInfo(x.errorCode,x.message,x.traceId,x.extraInfo),x;return L=T.type==="sub",this.waitForOpenPms?[4,this.waitForOpenPms]:[3,2];case 1:ee.sent(),this.waitForOpenPms=void 0,ee.label=2;case 2:if(this.signalChannel.isOpen)return[3,4];if(console.warn("Creating a new signal channel"),!T.signalUrl)throw x=new P.RtsError(O.ErrorCode.ERROR_SIGNAL_URL,"signal url is required",""),(X=this.reporter)===null||X===void 0||X.reportErrorInfo(x.errorCode,x.message,x.traceId,x.extraInfo),x;return[4,this.initSignalChannel(T)];case 3:ee.sent(),this.setPeerconnection(this.signalChannel.getPeerConnection()),ee.label=4;case 4:if(se=performance.now(),ne={url:T.url,label:T.label,surl:T.signalUrl,msid:T.msid},L?(ye=this.reporter)===null||ye===void 0||ye.reportDatachannelSubAdd(ne):(Q=this.reporter)===null||Q===void 0||Q.reportDatachannelPubAdd(ne),!(de=(z=this.peerconnection)===null||z===void 0?void 0:z.getPc()))throw new Error("No avaliable peerconnection");return $=new F.DataChannelCore({pc:de,label:T.label,datachannelList:this.datachannelList.list}),this.datachannelList.update($),[2,new Promise(function(ve,Ee){return Y(le,void 0,void 0,function(){var Re,be,We,tt,Xe,dt,vt,_t,At,Pt,Vt,cr,Nt,Gt,Qt,vr,Qr=this;return G(this,function(on){switch(on.label){case 0:Re="",be=!1,We=!1,$.on("statusChange",function(Rn){var Lr;(Lr=Qr.reporter)===null||Lr===void 0||Lr.reportDatachannelStatusChange({state:F.EDatachannelStatus[Rn],url:T.url,label:$.label,id:$.id,msid:T.msid}),Rn===F.EDatachannelStatus.DATACHANNEL_STATUS_OPEN&&(be=!0,We&&ve({datachannel:$,traceId:Re}))}),$.on("dispose",function(){var Rn;(Rn=Qr.reporter)===null||Rn===void 0||Rn.reportDatachannelDispose({url:T.url,label:$.label,id:$.id,msid:T.msid})}),on.label=1;case 1:return on.trys.push([1,6,,7]),tt=[{url:T.url,msid:T.msid,datachannelId:$.id}],L?[4,(Pt=this.peerCore)===null||Pt===void 0?void 0:Pt.subscribeAddDatachannel(tt)]:[3,3];case 2:return dt=on.sent(),[3,5];case 3:return[4,(Vt=this.peerCore)===null||Vt===void 0?void 0:Vt.publishAddDatachannel(tt)];case 4:dt=on.sent(),on.label=5;case 5:return Re=(Nt=(cr=(Xe=dt)==null?void 0:Xe.streams)===null||cr===void 0?void 0:cr[0])===null||Nt===void 0?void 0:Nt.traceid,[3,7];case 6:return vt=on.sent(),_t=vt,(Gt=this.reporter)===null||Gt===void 0||Gt.reportErrorInfo(_t.errorCode,_t.message||"datachannel ".concat(L?"sub":"pub"," add error"),_t.traceId,_t.extraInfo),[2,Ee(vt)];case 7:return At={url:T.url,drct:Math.floor(performance.now()-se),tcid:Re,label:$.label,id:$.id,msid:T.msid},L?(Qt=this.reporter)===null||Qt===void 0||Qt.reportDatachannelSubAddOk(At):(vr=this.reporter)===null||vr===void 0||vr.reportDatachannelPubAddOk(At),We=!0,be&&ve({datachannel:$,traceId:Re}),[2]}})})})]}})})},K.prototype.handleStopDatachannel=function(T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$,te,X,ye,Q,z,le;return G(this,function(ee){switch(ee.label){case 0:if(!T.url||!T.datachannel)throw L=new P.RtsError(O.ErrorCode.ERROR_DATACHANNEL_PARAM,"url, datachannel is required by subscribe(publish)StopDatachannel",""),(de=this.reporter)===null||de===void 0||de.reportErrorInfo(L.errorCode,L.message,L.traceId,L.extraInfo),L;if(!this.signalChannel.isOpen)throw L=new P.RtsError(O.ErrorCode.ERROR_NO_DATACHANNEL,"Signal channel is closed",""),($=this.reporter)===null||$===void 0||$.reportErrorInfo(L.errorCode,L.message,L.traceId,L.extraInfo),L;x=T.type==="sub",se=[{url:T.url}],ne={url:T.url,label:T.datachannel.label,id:T.datachannel.id},x?(te=this.reporter)===null||te===void 0||te.reportDatachannelSubStop(ne):(X=this.reporter)===null||X===void 0||X.reportDatachannelPubStop(ne),ee.label=1;case 1:return ee.trys.push([1,6,,7]),x?[4,(ye=this.peerCore)===null||ye===void 0?void 0:ye.subscribeStopDatachannel(se)]:[3,3];case 2:return ee.sent(),[3,5];case 3:return[4,(Q=this.peerCore)===null||Q===void 0?void 0:Q.publishStopDatachannel(se)];case 4:ee.sent(),ee.label=5;case 5:return[3,7];case 6:throw ee.sent();case 7:return x?(z=this.reporter)===null||z===void 0||z.reportDatachannelSubStopOk(ne):(le=this.reporter)===null||le===void 0||le.reportDatachannelPubStopOk(ne),T.datachannel.dispose(),[2]}})})},K.prototype.subscribeAddDatachannel=function(T){return Y(this,void 0,void 0,function(){return G(this,function(L){return[2,this.handleAddDatachannel(B(B({},T),{type:"sub"}))]})})},K.prototype.publishAddDatachannel=function(T){return Y(this,void 0,void 0,function(){return G(this,function(L){return[2,this.handleAddDatachannel(B(B({},T),{type:"pub"}))]})})},K.prototype.subscribeStopDatachannel=function(T){return Y(this,void 0,void 0,function(){return G(this,function(L){return[2,this.handleStopDatachannel(B(B({},T),{type:"sub"}))]})})},K.prototype.publishStopDatachannel=function(T){return Y(this,void 0,void 0,function(){return G(this,function(L){return[2,this.handleStopDatachannel(B(B({},T),{type:"pub"}))]})})},K.prototype.getSubscribeVideoStats=function(T,L){return this.getSubscribeMediaStats(T,"video",L)},K.prototype.getSubscribeAudioStats=function(T,L){return this.getSubscribeMediaStats(T,"audio",L)},K.prototype.getPublishVideoStats=function(T,L){return this.getPublishMediaStats(T,"video",L)},K.prototype.getPublishAudioStats=function(T,L){return this.getPublishMediaStats(T,"audio",L)},K.prototype.sendSEI=function(T){var L,x;if(!((L=this.peerconnection)===null||L===void 0)&&L.isReused)return(x=this.peerconnection)===null||x===void 0?void 0:x.sendSEI(T)},K.prototype.setReceiverCodecPreferences=function(T){this.receiverCodecPreferences=B({},T)},K.prototype.setSenderCodecPreferences=function(T){this.senderCodecPreferences=B({},T)},K.prototype.getSubscribeMediaStats=function(T,L,x){var se=this;return new Promise(function(ne){return Y(se,void 0,void 0,function(){var de,$,te,X;return G(this,function(ye){switch(ye.label){case 0:return this.streamManager?(de=void 0,$=this.streamManager.getAllMediaInfoList(T,!0),x?$.forEach(function(Q){var z,le,ee,ve=(le=(z=Q.transceiver)===null||z===void 0?void 0:z.receiver)===null||le===void 0?void 0:le.track;(ve==null?void 0:ve.kind)===L&&Q.msid===x&&(de=(ee=Q.transceiver)===null||ee===void 0?void 0:ee.receiver)}):de=(X=(te=$==null?void 0:$.find(function(Q){var z,le,ee;return((ee=(le=(z=Q.transceiver)===null||z===void 0?void 0:z.receiver)===null||le===void 0?void 0:le.track)===null||ee===void 0?void 0:ee.kind)===L}))===null||te===void 0?void 0:te.transceiver)===null||X===void 0?void 0:X.receiver,de?[4,de.getStats()]:[2,ne({})]):[2,ne({})];case 1:return ye.sent().forEach(function(Q){Q.type==="inbound-rtp"&&ne(Q)}),[2]}})})})},K.prototype.getPublishMediaStats=function(T,L,x){var se=this;return new Promise(function(ne){return Y(se,void 0,void 0,function(){var de,$,te,X;return G(this,function(ye){switch(ye.label){case 0:return this.streamManager?(de=void 0,$=this.streamManager.getAllMediaInfoList(T,!0),x?$.forEach(function(Q){var z,le,ee,ve=(le=(z=Q.transceiver)===null||z===void 0?void 0:z.sender)===null||le===void 0?void 0:le.track;(ve==null?void 0:ve.kind)===L&&Q.msid===x&&(de=(ee=Q.transceiver)===null||ee===void 0?void 0:ee.sender)}):de=(X=(te=$==null?void 0:$.find(function(Q){var z,le,ee;return((ee=(le=(z=Q.transceiver)===null||z===void 0?void 0:z.sender)===null||le===void 0?void 0:le.track)===null||ee===void 0?void 0:ee.kind)===L}))===null||te===void 0?void 0:te.transceiver)===null||X===void 0?void 0:X.sender,de?[4,de.getStats()]:[2,ne({})]):[2,ne({})];case 1:return ye.sent().forEach(function(Q){Q.type==="outbound-rtp"&&ne(Q)}),[2]}})})})},K.prototype.proxySignalChannelEvents=function(){var T=this;this.signalChannel.on("connectStatusChange",function(L){T.emit("connectStatusChange",L)}),this.signalChannel.on("onError",function(L){T.emit("onError",L)})},K.prototype.initSignalChannel=function(T){return this.signalChannel.createDatachannel(T)},K.prototype.makeRtsError=function(T){var L,x=new P.RtsError(O.ErrorCode.ERROR_NO_DATACHANNEL,"No avaliable datachannel, you should subscribe/publish first.","",{api:T});return(L=this.reporter)===null||L===void 0||L.reportErrorInfo(x.errorCode,x.message,x.traceId,x.extraInfo),x},K}(p.default);W.CommonController=q;var ce=function(){function re(){this._list=[]}return Object.defineProperty(re.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),re.prototype.update=function(K){var T=this._list.findIndex(function(L){return L.id===K.id});T!==-1?this._list.splice(T,1,K):this._list.push(K)},re}()},9796:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(ce,re){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,T){K.__proto__=T}||function(K,T){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(K[L]=T[L])},N(ce,re)},function(ce,re){if(typeof re!="function"&&re!==null)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function K(){this.constructor=ce}N(ce,re),ce.prototype=re===null?Object.create(re):(K.prototype=re.prototype,new K)}),B=this&&this.__assign||function(){return B=Object.assign||function(ce){for(var re,K=1,T=arguments.length;K<T;K++)for(var L in re=arguments[K])Object.prototype.hasOwnProperty.call(re,L)&&(ce[L]=re[L]);return ce},B.apply(this,arguments)},Y=this&&this.__awaiter||function(ce,re,K,T){return new(K||(K=Promise))(function(L,x){function se($){try{de(T.next($))}catch(te){x(te)}}function ne($){try{de(T.throw($))}catch(te){x(te)}}function de($){var te;$.done?L($.value):(te=$.value,te instanceof K?te:new K(function(X){X(te)})).then(se,ne)}de((T=T.apply(ce,re||[])).next())})},G=this&&this.__generator||function(ce,re){var K,T,L,x,se={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return x={next:ne(0),throw:ne(1),return:ne(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function ne(de){return function($){return function(te){if(K)throw new TypeError("Generator is already executing.");for(;x&&(x=0,te[0]&&(se=0)),se;)try{if(K=1,T&&(L=2&te[0]?T.return:te[0]?T.throw||((L=T.return)&&L.call(T),0):T.next)&&!(L=L.call(T,te[1])).done)return L;switch(T=0,L&&(te=[2&te[0],L.value]),te[0]){case 0:case 1:L=te;break;case 4:return se.label++,{value:te[1],done:!1};case 5:se.label++,T=te[1],te=[0];continue;case 7:te=se.ops.pop(),se.trys.pop();continue;default:if(L=se.trys,!((L=L.length>0&&L[L.length-1])||te[0]!==6&&te[0]!==2)){se=0;continue}if(te[0]===3&&(!L||te[1]>L[0]&&te[1]<L[3])){se.label=te[1];break}if(te[0]===6&&se.label<L[1]){se.label=L[1],L=te;break}if(L&&se.label<L[2]){se.label=L[2],se.ops.push(te);break}L[2]&&se.ops.pop(),se.trys.pop();continue}te=re.call(ce,se)}catch(X){te=[6,X],T=0}finally{K=L=0}if(5&te[0])throw te[1];return{value:te[0]?te[1]:void 0,done:!0}}([de,$])}}},k=this&&this.__importDefault||function(ce){return ce&&ce.__esModule?ce:{default:ce}};Object.defineProperty(W,"__esModule",{value:!0}),W.Publisher=void 0;var M=V(5917),j=V(4865),p=k(V(7028)),v=V(9428),P=V(5044),O=V(7989),E=k(V(102)),w=k(V(8219)),F=V(2718),q=function(ce){function re(K){var T=ce.call(this)||this;return T.publishStartTimeStamp=0,T.pubReconnectTimes=0,T.isConnecting=!1,T.reconnectTimerHandle=null,T.reportMonitorTimes=0,T.reportSubFlag=!1,T.reporter=K,T.peerconnection=new j.RtsPeerconnection,T.peerconnection.on("connectStatusChange",function(L){L.status!==M.EConnectStatus.CONNECT_STATUS_DISCONNECTED&&L.status!==M.EConnectStatus.CONNECT_STATUS_RECONNECTING||!T.hasRetries()?T.emit("connectStatusChange",L):T.emit("onError",new P.RtsError(v.ErrorCode.ERROR_PC_DISCONNECTED,"PC disconnected",""))}),T.peerconnection.on("onMonitorEvent",function(L){var x=L.eventList;L.type==="pub"?(T.reportMonitorTimes++,T.reportMonitorTimes%4==0&&(x.forEach(function(se){T.reporter.reportPushStats(se)}),T.reportSubFlag=!0,T.reportMonitorTimes=0)):L.type==="sub"&&T.reportSubFlag&&(T.handleSubMonitorEvent(x),T.reportSubFlag=!1)}),T.peerconnection.on("onTransportStateEvent",function(L){var x;T.peerconnection.isReused||((x=T.peerconnection.getPc())===null||x===void 0?void 0:x.connectionState)!=="closed"&&L.state==="closed"&&T.hasRetries()&&T.emit("onError",new P.RtsError(v.ErrorCode.ERROR_TRANSPORT_CLOSED,"Transport has been closed. ".concat(L.kind,"|").concat(L.type,"|").concat(L.url),"",{protocol:L.protocol}))}),T.signalingUrl="",T.publishUrl="",T.publishConfig={},T}return U(re,ce),re.prototype.publish=function(K,T,L){var x=this;return new Promise(function(se,ne){if(x.unpublish(),x.localStream=T,x.publishUrl=K,x.publishConfig=L||{},x.checkPublishUrl())if(T)if(T.audioTrack===null)ne(new P.RtsError(v.ErrorCode.ERROR_PUBLISH_NOAUDIO,"publish need audiotrack",""));else{var de=L==null?void 0:L.signalUrl;x.signalingUrl=de||x.signalingUrl,x.publishStartTimeStamp=new Date().getTime(),T.setReporter(x.reporter),x.peerconnection.createOffer(T.hasAudio,T.hasVideo||T.hasScreen,T,B(B({},L),{publishUrl:K})).then(function($){var te=$.desp,X=$.publishTrackInfoList;x.publishTrackInfoList=X;var ye=new Date().getTime();x.reporter.reportStartPublish(x.publishUrl,x.signalingUrl),x.excuteSignal(te).then(function(Q){var z=new Date().getTime();x.peerconnection.recvAnswer(Q.data,{answerSdpHook:L==null?void 0:L.answerSdpHook,tcpOnly:L==null?void 0:L.tcpOnly}).then(function(){x.reporter.reportPublishOk(x.publishUrl,x.signalingUrl,ye-x.publishStartTimeStamp,z-ye,new Date().getTime()-z,Q.data.trace_id),se(Q.data.trace_id),x.pubReconnectTimes=0,x.peerconnection.pushStart()}).catch(function(le){le.traceid=Q.data?Q.data.trace_id:"";var ee=new P.RtsError(le.errorCode||v.ErrorCode.ERROR_ANSWER_ERROR,le.message||"set answer error",le.traceid,{sdp:le.sdp});ne(ee)})}).catch(function(Q){var z=new P.RtsError(Q.errorCode||v.ErrorCode.ERROR_HTTPREQUEST_ERROR,Q.message||"","",{response:Q.response,sdp:Q.sdp});ne(z)})}).catch(function($){var te=new P.RtsError($.errorCode||v.ErrorCode.ERROR_CREATEOFFER,$.message||"","");ne(te)})}else ne(new P.RtsError(v.ErrorCode.ERROR_PUBLISH_NOSTREAM,"publish stream not found",""));else ne(new P.RtsError(v.ErrorCode.ERROR_PUBLISH_URL,"url need artc://",""))})},re.prototype.unpublish=function(){this.peerconnection.dispose(),this.reporter.reportStopPublish(),this.signalingUrl="",this.publishUrl="",this.publishTrackInfoList=null},re.prototype.getTrackInfoList=function(){return this.publishTrackInfoList||[]},re.prototype.getPeerConnection=function(){return this.peerconnection},re.prototype.replaceTrack=function(K,T){return this.peerconnection.replaceTrack(this.publishUrl,K,T)},re.prototype.excuteSignal=function(K){var T=this,L={type:K.type,sdp:K.sdp};return this.isSingleMsid()&&(L.sdp=L.sdp.replace(/msid\:-? /g,"msid:")),new Promise(function(x,se){w.default.post(T.signalingUrl,{version:p.default.protocol_version,sdk_version:p.default.sdk_version,mode:"rtc",push_stream:T.publishUrl,jsep:L}).then(function(ne){ne&&ne.status===200?x(ne):se({message:ne?"response status:"+ne.status:"response is null",sdp:L.sdp})}).catch(function(ne){return Y(T,void 0,void 0,function(){var de,$;return G(this,function(te){switch(te.label){case 0:if(![400,500].includes(($=ne.response)===null||$===void 0?void 0:$.status))return[3,4];ne.sdp=K.sdp,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,new O.SupportUtil().isSupport({isReceiveVideo:!0})];case 2:return te.sent(),[3,4];case 3:return de=te.sent(),ne.errorCode=de==null?void 0:de.errorCode,ne.message=de==null?void 0:de.message,this.pubReconnectTimes=1/0,[3,4];case 4:return se(ne),[2]}})})})})},re.prototype.checkPublishUrl=function(){if(!this.publishUrl||this.publishUrl.indexOf("artc://")!==0)return!1;var K=window.location.protocol,T=(["http:","https:"].indexOf(K)>-1?K:"https:")+"//";return this.signalingUrl=this.publishUrl.replace("artc://",T),!0},re.prototype.isSingleMsid=function(){if(!this.publishConfig)return!1;var K=this.publishConfig,T=K.vMsid,L=K.aMsid;return!(!T||!T[0]||T[0].indexOf(" ")!==-1)||!(!L||!L[0]||L[0].indexOf(" ")!==-1)},re.prototype.retryPublish=function(K,T){return Y(this,void 0,void 0,function(){var L,x,se,ne,de,$,te;return G(this,function(X){switch(X.label){case 0:if(K.extraInfo=B(B({},K.extraInfo),{retryTimes:this.pubReconnectTimes}),!this.hasRetries())return[2,!1];if(typeof(L=this.publishConfig).beforeRetry!="function")return[3,4];X.label=1;case 1:return X.trys.push([1,3,,4]),[4,L.beforeRetry({url:this.publishUrl,stream:this.localStream,vMsid:L.vMsid,aMsid:L.aMsid,useTcp:T})];case 2:return(x=X.sent())?(se=x.url,ne=x.stream,de=x.vMsid,$=x.aMsid,ne||(console.error("Stream is not returned by beforeRetry function."),this.pubReconnectTimes=1/0),this.reporter.reportReconnectParams("pub",se,de,$,x.useTcp,ne==null?void 0:ne.id),this.publishUrl=se,this.localStream=ne,this.publishConfig.vMsid=de,this.publishConfig.aMsid=$,typeof x.useTcp=="boolean"&&(T=x.useTcp),console.log(`Retry with: 
[URL] `.concat(se,`
[STREAM] `).concat(ne==null?void 0:ne.id,`
[VMSID]`).concat(de," [AMSID]").concat($,`
[PROTOCOL] `).concat(T?"TCP":"UDP"))):(this.reporter.reportReconnectParams("pub"),this.pubReconnectTimes=1/0),[3,4];case 3:return te=X.sent(),console.error("Error in beforeRetry",te),[3,4];case 4:return this.hasRetries()&&this.localStream?(this.emit("connectStatusChange",{status:M.EConnectStatus.CONNECT_STATUS_RECONNECTING}),this.pubReconnectTimes++,K.extraInfo.retryTimes=this.pubReconnectTimes,K.extraInfo.tcpOnly=!!T,this.publishWithReconnect(this.publishUrl,this.localStream,B(B({},this.publishConfig),{tcpOnly:!!T})).catch(function(ye){}),[2,!0]):(K.extraInfo.retryTimes=this.pubReconnectTimes,[2,!1])}})})},re.prototype.publishWithReconnect=function(K,T,L,x,se){var ne=this;return new Promise(function(de,$){de=x||de,$=se||$,ne.isConnecting=!0,ne.publish(K,T,L).then(function(te){ne.isConnecting=!1,de(te)}).catch(function(te){var X;if(!ne.isConnecting)return $(te);if(!v.RECONNECT_ERROR_EXCLUDE_LIST.includes(te.errorCode)&&ne.hasRetries(!0)){var ye=((X=ne.publishConfig)===null||X===void 0?void 0:X.retryInterval)||M.DEFAULT_RETRY_PUBLISH_INTERVAL;ne.reconnectTimerHandle=setTimeout(function(){te.extraInfo=B(B({},te.extraInfo),{retryTimes:ne.pubReconnectTimes}),ne.emit("reconnect",te),ne.publishWithReconnect(K,T,L,de,$)},ye)}else $(te),te.extraInfo=B(B({},te.extraInfo),{retryTimes:ne.pubReconnectTimes}),ne.isConnecting=!1,ne.emit("onError",te)})})},re.prototype.sendSEI=function(K){var T;(T=this.peerconnection)===null||T===void 0||T.sendSEI(K)},re.prototype.hasRetries=function(K){var T,L,x=M.DEFAULT_RETRY_PUBLISH_LIMIT;typeof((T=this.publishConfig)===null||T===void 0?void 0:T.retryTimes)=="number"&&(x=Math.floor((L=this.publishConfig)===null||L===void 0?void 0:L.retryTimes));var se=this.pubReconnectTimes<x;return K&&se&&this.pubReconnectTimes++,se},re.prototype.resetRepublishStatus=function(){this.pubReconnectTimes=0,this.isConnecting=!1,this.reporter.updateTid(),this.reconnectTimerHandle!==null&&(clearTimeout(this.reconnectTimerHandle),this.reconnectTimerHandle=null)},re.prototype.handleSubMonitorEvent=function(K){var T=this;K.forEach(function(L){var x={ct:0,tt:4e3,url:L.url},se=L.video,ne=L.audio;if(se){var de=se.transportStats,$=se.inboundRtpStats,te=se.inboundRtpStatsPerSec,X=se.localCandidate,ye=se.remoteCandidate;x=B(B({},x),{rtt:(de==null?void 0:de.rtt)!==-1?1e3*((de==null?void 0:de.rtt)||0):-1,cand_re_prot:ye.protocol,cand_lo_prot:X.protocol,cand_re_addr:"".concat(ye.ip||ye.address,":").concat(ye.port),cand_lo_addr:"".concat(X.ip||X.address,":").concat(X.port),w:$==null?void 0:$.frameWidth,h:$==null?void 0:$.frameHeight,vbps:Math.floor(8*te.bytesReceivedPerSecond),fps:$==null?void 0:$.framesPerSecond,dfps:Math.floor(te==null?void 0:te.framesDecodedPerSecond),vjb:Math.floor((0,F.getJitterBufferDelayAvg)($==null?void 0:$.jitterBufferDelay,$==null?void 0:$.jitterBufferEmittedCount)),vMsid:L.vMsid})}ne&&(de=ne.transportStats,$=ne.inboundRtpStats,te=ne.inboundRtpStatsPerSec,X=ne.localCandidate,ye=ne.remoteCandidate,x=B(B({},x),{rtt:(de==null?void 0:de.rtt)!==-1?1e3*((de==null?void 0:de.rtt)||0):-1,cand_re_prot:ye.protocol,cand_lo_prot:X.protocol,cand_re_addr:"".concat(ye.ip||ye.address,":").concat(ye.port),cand_lo_addr:"".concat(X.ip||X.address,":").concat(X.port),abps:Math.floor(8*te.bytesReceivedPerSecond),ajb:Math.floor((0,F.getJitterBufferDelayAvg)($==null?void 0:$.jitterBufferDelay,$.jitterBufferEmittedCount)),aMsid:L.aMsid})),T.reporter.reportPullStats(x)})},re}(E.default);W.Publisher=q},5788:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(w,F){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,ce){q.__proto__=ce}||function(q,ce){for(var re in ce)Object.prototype.hasOwnProperty.call(ce,re)&&(q[re]=ce[re])},N(w,F)},function(w,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function q(){this.constructor=w}N(w,F),w.prototype=F===null?Object.create(F):(q.prototype=F.prototype,new q)}),B=this&&this.__awaiter||function(w,F,q,ce){return new(q||(q=Promise))(function(re,K){function T(se){try{x(ce.next(se))}catch(ne){K(ne)}}function L(se){try{x(ce.throw(se))}catch(ne){K(ne)}}function x(se){var ne;se.done?re(se.value):(ne=se.value,ne instanceof q?ne:new q(function(de){de(ne)})).then(T,L)}x((ce=ce.apply(w,F||[])).next())})},Y=this&&this.__generator||function(w,F){var q,ce,re,K,T={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return K={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function L(x){return function(se){return function(ne){if(q)throw new TypeError("Generator is already executing.");for(;K&&(K=0,ne[0]&&(T=0)),T;)try{if(q=1,ce&&(re=2&ne[0]?ce.return:ne[0]?ce.throw||((re=ce.return)&&re.call(ce),0):ce.next)&&!(re=re.call(ce,ne[1])).done)return re;switch(ce=0,re&&(ne=[2&ne[0],re.value]),ne[0]){case 0:case 1:re=ne;break;case 4:return T.label++,{value:ne[1],done:!1};case 5:T.label++,ce=ne[1],ne=[0];continue;case 7:ne=T.ops.pop(),T.trys.pop();continue;default:if(re=T.trys,!((re=re.length>0&&re[re.length-1])||ne[0]!==6&&ne[0]!==2)){T=0;continue}if(ne[0]===3&&(!re||ne[1]>re[0]&&ne[1]<re[3])){T.label=ne[1];break}if(ne[0]===6&&T.label<re[1]){T.label=re[1],re=ne;break}if(re&&T.label<re[2]){T.label=re[2],T.ops.push(ne);break}re[2]&&T.ops.pop(),T.trys.pop();continue}ne=F.call(w,T)}catch(de){ne=[6,de],ce=0}finally{q=re=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([x,se])}}},G=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(W,"__esModule",{value:!0}),W.SignalChannel=void 0;var k=G(V(7028)),M=V(4865),j=G(V(102)),p=G(V(8219)),v=V(9428),P=V(5044),O=V(4450),E=function(w){function F(q){var ce=w.call(this)||this;return ce.reporter=q.reporter,ce}return U(F,w),Object.defineProperty(F.prototype,"isOpen",{get:function(){return this.readyState==="open"},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"readyState",{get:function(){var q,ce,re;return((q=this.peerconnection)===null||q===void 0?void 0:q.isConnected)&&((re=(ce=this.peerconnection.getPeerCore())===null||ce===void 0?void 0:ce.getSignal())===null||re===void 0?void 0:re.getDatachannelCore().readyState)},enumerable:!1,configurable:!0}),F.prototype.getPeerConnection=function(){return this.peerconnection},F.prototype.setPeerConnection=function(q){this.peerconnection=q},F.prototype.createDatachannel=function(q){return B(this,void 0,void 0,function(){var ce,re,K,T,L,x,se,ne,de,$,te,X;return Y(this,function(ye){switch(ye.label){case 0:if(ce=q.signalUrl,!this.checkUrl(ce))throw new P.RtsError(v.ErrorCode.ERROR_DATACHANNEL_PARAM,"url need artc://","");this.closeDatachannel(),this.createPC(),this.reporter.updateUrl(ce),this.reporter.reportDatachannelHttpConnect(ce),re=performance.now(),ye.label=1;case 1:return ye.trys.push([1,3,,4]),[4,($=this.peerconnection)===null||$===void 0?void 0:$.createOffer(!1,!1,void 0,q)];case 2:return K=ye.sent(),[3,4];case 3:return T=ye.sent(),this.throwRtsError(new P.RtsError(T.errorCode||v.ErrorCode.ERROR_CREATEOFFER,T.message||"","")),[3,4];case 4:x="",ye.label=5;case 5:return ye.trys.push([5,7,,8]),[4,this.excuteSignal(K.desp)];case 6:return L=ye.sent(),x=((te=L==null?void 0:L.data)===null||te===void 0?void 0:te.trace_id)||"",this.reporter.reportDatachannelHttpConnectOk({url:ce,hrct:Math.floor(performance.now()-re),tcid:x}),[3,8];case 7:return se=ye.sent(),this.throwRtsError(new P.RtsError(se.errorCode||v.ErrorCode.ERROR_HTTPREQUEST_ERROR,se.message||"",x)),[3,8];case 8:return ye.trys.push([8,10,,11]),[4,(X=this.peerconnection)===null||X===void 0?void 0:X.recvAnswer(L==null?void 0:L.data,{answerSdpHook:q.answerSdpHook})];case 9:return ye.sent(),[3,11];case 10:return ne=ye.sent(),this.throwRtsError(new P.RtsError(ne.errorCode||v.ErrorCode.ERROR_ANSWER_ERROR,ne.message||"set answer error",x)),[3,11];case 11:return ye.trys.push([11,13,,14]),[4,this.waitForOpen()];case 12:return ye.sent(),[3,14];case 13:return de=ye.sent(),this.throwRtsError(new P.RtsError(v.ErrorCode.ERROR_DATACHANNEL_OPEN,"datachannel open failed: ".concat(de),x)),[3,14];case 14:return[2,x]}})})},F.prototype.waitForOpen=function(){var q,ce=this;return new Promise(function(re,K){var T;q=window.setTimeout(function(){var x;(x=ce.peerconnection)===null||x===void 0||x.off("datachannelStatusChange",L),q=void 0,K("timeout")},5e3);var L=function(x){q&&(clearTimeout(q),q=void 0),x.status===O.EDatachannelStatus.DATACHANNEL_STATUS_OPEN?re(!0):K("status is ".concat(x.status))};(T=ce.peerconnection)===null||T===void 0||T.once("datachannelStatusChange",L)})},F.prototype.excuteSignal=function(q){return B(this,void 0,void 0,function(){var ce;return Y(this,function(re){switch(re.label){case 0:return[4,p.default.post(this.signalUrl,{version:k.default.protocol_version,sdk_version:k.default.sdk_version,mode:"live",jsep:q})];case 1:if(((ce=re.sent())==null?void 0:ce.status)!==200)throw new P.RtsError(v.ErrorCode.ERROR_SIGNAL_ERROR,ce?"response status:"+ce.status:"response is null","");return[2,ce]}})})},F.prototype.closeDatachannel=function(){var q;(q=this.peerconnection)===null||q===void 0||q.dispose()},F.prototype.checkUrl=function(q){var ce="artc://";if(q&&q.indexOf(ce)===0){var re=window.location.protocol,K=(["http:","https:"].indexOf(re)>-1?re:"https:")+"//";return this.signalUrl=q.replace(ce,K),!0}},F.prototype.throwRtsError=function(q){throw this.emit("onError",q),q},F.prototype.createPC=function(){var q=this;this.peerconnection=new M.RtsPeerconnection,this.peerconnection.on("connectStatusChange",function(ce){q.emit("connectStatusChange",ce)})},F}(j.default);W.SignalChannel=E},2550:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(re,K){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,L){T.__proto__=L}||function(T,L){for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(T[x]=L[x])},N(re,K)},function(re,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function T(){this.constructor=re}N(re,K),re.prototype=K===null?Object.create(K):(T.prototype=K.prototype,new T)}),B=this&&this.__assign||function(){return B=Object.assign||function(re){for(var K,T=1,L=arguments.length;T<L;T++)for(var x in K=arguments[T])Object.prototype.hasOwnProperty.call(K,x)&&(re[x]=K[x]);return re},B.apply(this,arguments)},Y=this&&this.__awaiter||function(re,K,T,L){return new(T||(T=Promise))(function(x,se){function ne(te){try{$(L.next(te))}catch(X){se(X)}}function de(te){try{$(L.throw(te))}catch(X){se(X)}}function $(te){var X;te.done?x(te.value):(X=te.value,X instanceof T?X:new T(function(ye){ye(X)})).then(ne,de)}$((L=L.apply(re,K||[])).next())})},G=this&&this.__generator||function(re,K){var T,L,x,se,ne={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return se={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function de($){return function(te){return function(X){if(T)throw new TypeError("Generator is already executing.");for(;se&&(se=0,X[0]&&(ne=0)),ne;)try{if(T=1,L&&(x=2&X[0]?L.return:X[0]?L.throw||((x=L.return)&&x.call(L),0):L.next)&&!(x=x.call(L,X[1])).done)return x;switch(L=0,x&&(X=[2&X[0],x.value]),X[0]){case 0:case 1:x=X;break;case 4:return ne.label++,{value:X[1],done:!1};case 5:ne.label++,L=X[1],X=[0];continue;case 7:X=ne.ops.pop(),ne.trys.pop();continue;default:if(x=ne.trys,!((x=x.length>0&&x[x.length-1])||X[0]!==6&&X[0]!==2)){ne=0;continue}if(X[0]===3&&(!x||X[1]>x[0]&&X[1]<x[3])){ne.label=X[1];break}if(X[0]===6&&ne.label<x[1]){ne.label=x[1],x=X;break}if(x&&ne.label<x[2]){ne.label=x[2],ne.ops.push(X);break}x[2]&&ne.ops.pop(),ne.trys.pop();continue}X=K.call(re,ne)}catch(ye){X=[6,ye],L=0}finally{T=x=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([$,te])}}},k=this&&this.__rest||function(re,K){var T={};for(var L in re)Object.prototype.hasOwnProperty.call(re,L)&&K.indexOf(L)<0&&(T[L]=re[L]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(L=Object.getOwnPropertySymbols(re);x<L.length;x++)K.indexOf(L[x])<0&&Object.prototype.propertyIsEnumerable.call(re,L[x])&&(T[L[x]]=re[L[x]])}return T},M=this&&this.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(W,"__esModule",{value:!0}),W.LocalStream=void 0;var j=V(5805),p=V(3412),v=V(5044),P=V(9428),O=V(5259),E=V(233),w=M(V(335)),F=V(6295),q=V(2718),ce=function(re){function K(){var T=re.call(this)||this;return T.screenSurfaceType="",T.VideoProfileMap=new Map(O.VideoProfileMap),T.ScreenProfileMap=new Map(O.ScreenProfileMap),T.AudioProfileMap=new Map(O.AudioProfileMap),T.deviceManager=new p.BrowserDeviceManager,T.mediastream=new MediaStream,T.hasVideo=!1,T.hasScreen=!1,T.videoProfile="360p_1",T.screenProfile="720p_1",T.audioProfile="standard",T.isCustomStream=!1,T.handleVideoTrackEnded=T.handleVideoTrackEnded.bind(T),T.handleAudioTrackEnded=T.handleAudioTrackEnded.bind(T),T}return U(K,re),Object.defineProperty(K.prototype,"mediaStream",{get:function(){return this.mediastream},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"audioTrack",{get:function(){return this.audiotrack},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"videoTrack",{get:function(){return this.videotrack},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"hasAudio",{get:function(){return!!this.audioTrack},enumerable:!1,configurable:!0}),K.prototype.getVideoProfile=function(){if(this.hasVideo)return this.videoProfile},K.prototype.getScreenProfile=function(){if(this.hasScreen)return this.screenProfile},K.prototype.getAudioProfile=function(){if(this.hasAudio)return this.audioProfile},K.prototype.init=function(T){return T.custom?this.createCustomStream(T.mediaStream):this.initWithRetry(T)},K.prototype.initWithRetry=function(T,L,x){var se=this;return new Promise(function(ne,de){ne=L||ne,de=x||de;var $=[];$.push(se.initMicAudio(T)),T.video?$.push(se.initCameraVideo(T)):T.screen&&$.push(se.initScreenVideoAudio(T)),Promise.all($).then(function(){se.tryMixMicAndScreenAudio(T),se.initTracks(T),T.skipProfile?ne():se.tryToSetProfile(T).then(function(){ne()}).catch(function(te){console.log(te),se.resetLocalStream(),se.initWithRetry(B(B({},T),{skipProfile:!0}),ne,de)})}).catch(function(te){se.stopAllTracks(),de(te)})})},K.prototype.initMicAudio=function(T){var L=this;return new Promise(function(x,se){if(!T||!T.audio)return x();var ne={deviceId:T.audio===!0?"":String(T.audio.deviceId)};L.deviceManager.getAudioTrack(ne).then(function(de){L.micAudioTrack=de,L.audiotrack=de,x()}).catch(function(de){se(new v.RtsError(de.code,de.reason,"",de.relatedLink))})})},K.prototype.initCameraVideo=function(T){var L=this;return new Promise(function(x,se){if(!T||!T.video)return x();var ne={};T.video===!0?ne.deviceId="":ne=T.video,L.deviceManager.getVideoTrack(ne).then(function(de){L.videotrack=de,L.hasVideo=!0,x()}).catch(function(de){se(new v.RtsError(de.code,de.reason,"",de.relatedLink))})})},K.prototype.initScreenVideoAudio=function(T){var L=this;return new Promise(function(x,se){if(T.screen){var ne=!0,de=!1,$={};if(typeof T.screen!="boolean"){var te=T.screen,X=te.video,ye=te.audio;$=k(te,["video","audio"]),ne=typeof X!="object"||X,typeof ye!="boolean"&&typeof ye!="object"||(de=ye)}E.SystemUtil.isMacOS&&E.BrowserUtil.isSafari&&["16.1","16.2","16.3"].indexOf(E.BrowserUtil.browserVersion)>-1&&typeof ne=="object"&&(typeof ne.width=="number"&&(ne.width={max:ne.width}),typeof ne.height=="number"&&(ne.height={max:ne.height})),L.deviceManager.getScreenStream(B({video:ne,audio:de},$)).then(function(Q){L.videotrack=Q.getVideoTracks()[0],L.videotrack&&L.videotrack.getSettings&&(L.screenSurfaceType=L.videotrack.getSettings().displaySurface),L.hasScreen=!0;var z=Q.getAudioTracks()[0];z&&(L.screenAudioTrack=z),x()}).catch(function(Q){se(new v.RtsError(Q.code,Q.reason,"",Q.relatedLink))})}})},K.prototype.tryMixMicAndScreenAudio=function(T){T.audio&&this.micAudioTrack&&this.hasScreenAudioConfig(T)&&this.screenAudioTrack?(this.audioMixer||(this.audioMixer=new w.default({useGainNode:!1,trackList:[]})),this.audioMixer.updateTrackList([this.screenAudioTrack,this.micAudioTrack]),this.audiotrack=this.audioMixer.getMixedAudioTrack()):T.audio&&this.micAudioTrack?this.audiotrack=this.micAudioTrack:this.hasScreenAudioConfig(T)&&this.screenAudioTrack&&(this.audiotrack=this.screenAudioTrack)},K.prototype.initTracks=function(T){this.hasAudioTrackReady(T)&&this.audiotrack&&this.mediastream.addTrack(this.audiotrack),this.hasVideoTrackReady(T)&&this.videotrack&&this.mediastream.addTrack(this.videotrack),this.addTrackListener()},K.prototype.tryToSetProfile=function(T){var L=this;return new Promise(function(x,se){return Y(L,void 0,void 0,function(){var ne;return G(this,function(de){switch(de.label){case 0:return de.trys.push([0,4,,5]),T.video?[4,this.setVideoProfile(this.videoProfile)]:[3,2];case 1:return de.sent(),[3,3];case 2:T.screen&&this.setScreenProfile(this.screenProfile).catch(function($){console.log($)}),de.label=3;case 3:return x(),[3,5];case 4:return ne=de.sent(),se(new v.RtsError(P.ErrorCode.ERROR_DEIVCE_CONSTRAINEDERROR,"apply constraint failed","",{originErr:ne,config:T})),[3,5];case 5:return[2]}})})})},K.prototype.stopAllTracks=function(){this.screenAudioTrack&&(this.screenAudioTrack.stop(),this.screenAudioTrack=void 0),this.micAudioTrack&&(this.micAudioTrack.stop(),this.micAudioTrack=void 0),this.audioTrack&&(this.audioTrack.stop(),this.audiotrack=void 0),this.videoTrack&&(this.videoTrack.stop(),this.videotrack=void 0)},K.prototype.resetLocalStream=function(){this.deviceManager=new p.BrowserDeviceManager,this.mediastream=new MediaStream,this.hasVideo=!1,this.hasScreen=!1,this.videoProfile="360p_1",this.screenProfile="720p_1",this.isCustomStream=!1,this.stopAllTracks(),this.audioMixer=void 0,this.screenSurfaceType=""},K.prototype.setEncodeParam=function(T,L){var x=this;this.pc=T;var se=!1,ne=!1;L?L==="video"?se=!0:L==="audio"&&(ne=!0):se=ne=!0,T.getSenders().forEach(function(de){var $=de.track;!$||$.kind!=="video"&&$.kind!=="audio"||($.kind==="video"&&se&&x.setVideoEncodeParams(de),$.kind==="audio"&&ne&&x.setAudioEncodeParams(de))})},K.prototype.setVideoEncodeParams=function(T){var L,x,se;if(((L=T.track)===null||L===void 0?void 0:L.id)===((x=this.videoTrack)===null||x===void 0?void 0:x.id)&&(this.hasVideo?se=this.VideoProfileMap.get(this.videoProfile):this.hasScreen&&(se=this.ScreenProfileMap.get(this.screenProfile)),se&&T.setParameters&&T.getParameters)){var ne=T.getParameters();ne.degradationPreference="maintain-resolution",ne.encodings.forEach(function(de){se!=null&&se.maxBitrate&&(de.maxBitrate=1024*se.maxBitrate),se!=null&&se.frameRate&&(de.maxFramerate=se.frameRate)}),T.setParameters(ne)}},K.prototype.setAudioEncodeParams=function(T){var L,x;if(((L=T.track)===null||L===void 0?void 0:L.id)===((x=this.audioTrack)===null||x===void 0?void 0:x.id)){var se=this.AudioProfileMap.get(this.audioProfile);if(se&&T.setParameters&&T.getParameters){var ne=T.getParameters();ne.encodings.forEach(function(de){se.maxBitrate&&(de.maxBitrate=1024*se.maxBitrate)}),T.setParameters(ne)}}},K.prototype.play=function(T,L){var x,se=this;if((x=this.reporter)===null||x===void 0||x.reportPlay(T?T.nodeName:String(T)),T&&(this.element=T,this.mediastream)){if(this.element.srcObject=this.mediastream,(E.SystemUtil.isIos&&E.SystemUtil.systemVersion.indexOf("15.1")===0&&(E.BrowserUtil.isSafari||E.BrowserUtil.isChrome||E.BrowserUtil.isMicroMessenger)||(L==null?void 0:L.canvasStream))&&this.hasVideo){if(this.canvasRenderer)return;this.canvasRenderer=new F.CanvasRenderer({video:this.element});var ne=this;this.element.addEventListener("loadeddata",function de(){if(ne.element&&(ne.element.removeEventListener("loadeddata",de),ne.canvasRenderer)){ne.canvasRenderer.start();var $=ne.canvasRenderer.mediaStream;$&&(ne.mediastream=$,ne.videotrack=$.getVideoTracks()[0])}}),this.element.addEventListener("resize",function(){var de;if(se){var $=se.element;$&&((de=se.canvasRenderer)===null||de===void 0||de.resize($.videoWidth,$.videoHeight))}})}if(L&&L.autoplay===!1)return;this.element.play()}},K.prototype.setVideoProfile=function(T){var L=this;return new Promise(function(x,se){return Y(L,void 0,void 0,function(){var ne,de,$;return G(this,function(te){switch(te.label){case 0:if(($=this.reporter)===null||$===void 0||$.reportVideoProfile(T),!(ne=this.VideoProfileMap.get(T)))return[3,5];if(this.isCustomStream||!this.hasVideo||!this.videotrack||!this.videotrack.applyConstraints)return[3,4];te.label=1;case 1:return te.trys.push([1,3,,4]),[4,this.videotrack.applyConstraints(ne)];case 2:return te.sent(),[3,4];case 3:return de=te.sent(),[2,se(de)];case 4:return this.videoProfile=T,this.pc&&this.setEncodeParam(this.pc,"video"),x(this.videoProfile),[3,6];case 5:se("Profile not found"),te.label=6;case 6:return[2]}})})})},K.prototype.setScreenProfile=function(T){var L=this;return new Promise(function(x,se){return Y(L,void 0,void 0,function(){var ne,de,$;return G(this,function(te){switch(te.label){case 0:if(($=this.reporter)===null||$===void 0||$.reportScreenProfile(T),!(ne=this.ScreenProfileMap.get(T)))return[3,5];if(!(this.hasScreen&&this.videotrack&&this.videotrack.applyConstraints))return[3,4];te.label=1;case 1:return te.trys.push([1,3,,4]),[4,this.videotrack.applyConstraints(ne)];case 2:return te.sent(),[3,4];case 3:return de=te.sent(),[2,se(de)];case 4:return this.screenProfile=T,this.pc&&this.setEncodeParam(this.pc,"video"),x(this.screenProfile),[3,6];case 5:se("Profile not found"),te.label=6;case 6:return[2]}})})})},K.prototype.setAudioProfile=function(T){var L=this;return new Promise(function(x,se){return Y(L,void 0,void 0,function(){var ne,de,$;return G(this,function(te){switch(te.label){case 0:if(($=this.reporter)===null||$===void 0||$.reportAudioProfile(T),!(ne=this.AudioProfileMap.get(T)))return[3,5];if(this.isCustomStream||!this.hasAudio||!this.audioTrack||!this.audioTrack.applyConstraints)return[3,4];te.label=1;case 1:return te.trys.push([1,3,,4]),[4,this.audioTrack.applyConstraints(ne)];case 2:return te.sent(),[3,4];case 3:return de=te.sent(),[2,se(de)];case 4:return this.audioProfile=T,this.pc&&this.setEncodeParam(this.pc,"audio"),x(this.audioProfile),[3,6];case 5:se("Profile not found"),te.label=6;case 6:return[2]}})})})},K.prototype.enableAudio=function(){var T;return(T=this.reporter)===null||T===void 0||T.reportEnableAudio(),!!this.audiotrack&&(this.audiotrack.enabled=!0,!0)},K.prototype.disableAudio=function(){var T;return(T=this.reporter)===null||T===void 0||T.reportDisableAudio(),!!this.audiotrack&&(this.audiotrack.enabled=!1,!0)},K.prototype.enableVideo=function(){var T;return(T=this.reporter)===null||T===void 0||T.reportEnableVideo(),!!this.videotrack&&(this.videotrack.enabled=!0,!0)},K.prototype.disableVideo=function(){var T;return(T=this.reporter)===null||T===void 0||T.reportDisableVideo(),!!this.videotrack&&(this.videotrack.enabled=!1,!0)},K.prototype.stop=function(){var T;re.prototype.stop.call(this),this.hasVideo=!1,this.hasScreen=!1,this.isCustomStream=!1,this.canvasRenderer&&(this.canvasRenderer.stop(),this.canvasRenderer=void 0),this.audiotrack&&(this.audiotrack.stop(),this.audiotrack=void 0),this.videotrack&&(this.videotrack.stop(),this.videotrack=void 0),this.micAudioTrack&&(this.micAudioTrack.stop(),this.micAudioTrack=void 0),this.screenAudioTrack&&(this.screenAudioTrack.stop(),this.screenAudioTrack=void 0),(T=this.reporter)===null||T===void 0||T.reportStop(0)},K.prototype.mergeStream=function(T){var L=T.videoTrack,x=T.audioTrack;L&&(this.videoTrack&&(this.videoTrack.removeEventListener("ended",this.handleVideoTrackEnded),this.mediaStream.removeTrack(this.videoTrack)),this.mediaStream.addTrack(L),this.videotrack=L,this.listenVideoEnded(),this.hasVideo=T.hasVideo,this.hasScreen=T.hasScreen,this.isCustomStream=T.isCustomStream,this.hasVideo&&(this.videoProfile=T.videoProfile),this.hasScreen&&(this.screenProfile=T.screenProfile)),x&&(this.audioTrack&&(this.audioTrack.removeEventListener("ended",this.handleAudioTrackEnded),this.mediaStream.removeTrack(this.audioTrack)),this.mediaStream.addTrack(x),this.audiotrack=x,this.listenAudioEnded())},K.prototype.deleteTracks=function(T){T.audio&&this.audioTrack&&(this.mediaStream.removeTrack(this.audioTrack),this.audiotrack=void 0),T.video&&this.videoTrack&&(this.mediaStream.removeTrack(this.videoTrack),this.videotrack=void 0,this.hasScreen=!1,this.hasVideo=!1)},K.prototype.createCustomStream=function(T){var L=this;return new Promise(function(x,se){if(!T)return se(new v.RtsError(P.ErrorCode.ERROR_CUSTOMSTREAM_NONE,"MediaStream is required.",""));if(!(T instanceof MediaStream))return se(new v.RtsError(P.ErrorCode.ERROR_CUSTOMSTREAM_INVALID,"MediaStream is invalid.",""));if(T.getTracks().length===0)return se(new v.RtsError(P.ErrorCode.ERROR_CUSTOMSTREAM_TRACK_NONE,"MediaStream has no track.",""));var ne=(0,q.getVideoTrack)(T),de=(0,q.getAudioTrack)(T);ne&&(L.hasVideo=!0,L.videotrack=ne,L.mediastream.addTrack(ne)),de&&(L.audiotrack=de,L.mediastream.addTrack(de)),L.isCustomStream=!0,L.setVideoProfile(L.videoProfile),L.addTrackListener(),x()})},K.prototype.releaseMediaStream=function(){var T=this;this.mediastream.getTracks().forEach(function(L){L.stop(),T.mediastream.removeTrack(L)})},K.prototype.hasVideoTrackReady=function(T){return!(!T.video&&!T.screen||!this.videotrack)||!T.video&&!T.screen},K.prototype.hasScreenAudioConfig=function(T){return typeof T.screen=="object"&&T.screen.audio},K.prototype.hasAudioTrackReady=function(T){return!(T.audio&&(!this.hasMicAudioAndReady(T)&&!this.hasScreenAudioAndReady(T)||!this.audiotrack))},K.prototype.hasMicAudioAndReady=function(T){return T.audio&&this.micAudioTrack},K.prototype.hasScreenAudioAndReady=function(T){return this.hasScreenAudioConfig(T)&&this.screenAudioTrack},K.prototype.addTrackListener=function(){this.listenVideoEnded(),this.listenAudioEnded()},K.prototype.listenVideoEnded=function(){var T=this;this.videotrack&&this.videotrack.addEventListener("ended",this.handleVideoTrackEnded),this.micAudioTrack&&this.micAudioTrack.addEventListener("ended",function(){var L;T.emit("micAudioTrackEnded"),T.screenAudioTrack&&T.screenAudioTrack.readyState==="ended"&&((L=T.audioMixer)===null||L===void 0||L.destroy(),T.emit("audioTrackEnded"))}),this.screenAudioTrack&&this.screenAudioTrack.addEventListener("ended",function(){var L;T.emit("screenAudioTrackEnded"),T.micAudioTrack&&T.micAudioTrack.readyState==="ended"&&((L=T.audioMixer)===null||L===void 0||L.destroy(),T.emit("audioTrackEnded"))})},K.prototype.listenAudioEnded=function(){this.audiotrack&&this.audiotrack.addEventListener("ended",this.handleAudioTrackEnded)},K.prototype.handleVideoTrackEnded=function(){this.hasScreen=!1,this.hasVideo=!1,this.emit("videoTrackEnded")},K.prototype.handleAudioTrackEnded=function(){this.emit("audioTrackEnded")},K}(j.Stream);W.LocalStream=ce},771:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(j,p){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,P){v.__proto__=P}||function(v,P){for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(v[O]=P[O])},N(j,p)},function(j,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function v(){this.constructor=j}N(j,p),j.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(W,"__esModule",{value:!0}),W.RemoteStream=void 0;var B=V(5805),Y=V(233),G=V(5044),k=V(9428),M=function(j){function p(){var v=j.call(this)||this;return v.recvCanPlay=!1,v.autoplay=!0,v.onCanPlay=v.onCanPlay.bind(v),v}return U(p,j),Object.defineProperty(p.prototype,"muted",{get:function(){return!!this.element&&this.element.muted},set:function(v){this.element&&(this.element.muted=v)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"audioTrack",{get:function(){var v;return(v=this.mediastream)===null||v===void 0?void 0:v.getAudioTracks()[0]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"videoTrack",{get:function(){var v;return(v=this.mediastream)===null||v===void 0?void 0:v.getVideoTracks()[0]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasVideo",{get:function(){return!!this.videoTrack},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasAudio",{get:function(){return!!this.audioTrack},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"mediaStream",{get:function(){return this.mediastream},enumerable:!1,configurable:!0}),p.prototype.updateMediaStream=function(v){var P=this.mediastream||new MediaStream;v.getTracks().forEach(function(O){return P.addTrack(O)}),this.mediastream=P,this.element&&this.play(this.element)},p.prototype.getMediaStream=function(){return this.mediastream},p.prototype.mergeStream=function(v){if(this.mediaStream){var P=v.getVideoTracks()[0],O=v.getAudioTracks()[0];P&&(this.videoTrack&&this.mediaStream.removeTrack(this.videoTrack),this.mediaStream.addTrack(P),this.videotrack=P),O&&(this.audioTrack&&this.mediaStream.removeTrack(this.audioTrack),this.mediaStream.addTrack(O),this.audiotrack=O)}},p.prototype.play=function(v,P){if(this.autoplay=!!(!P||P.autoplay),v){if(!(v instanceof HTMLMediaElement))throw new G.RtsError(k.ErrorCode.ERROR_HTMLELEMENT_ERROR,"Param is not a HTMLMediaElement","",{element:v});this.recvCanPlay=!1,this.emit("mediaElementBinded"),this.element=v,this.element.addEventListener("canplay",this.onCanPlay);var O=this.mediaStream;this.element.addEventListener("playing",function E(){v.removeEventListener("playing",E),Y.SystemUtil.isIos&&parseInt(Y.SystemUtil.systemVersion)<=13&&!v.muted&&(O!=null&&O.getAudioTracks().length)&&(v.pause(),v.play())}),this.element.nodeName==="VIDEO"&&(this.element.setAttribute("playsinline",""),Y.BrowserUtil.isMicroMessenger&&(this.element.setAttribute("x5-video-player-type","h5-page"),this.element.setAttribute("x5-playsinline",""),Y.SystemUtil.isAndroid||Y.SystemUtil.isIos&&this.element.setAttribute("x-webkit-airplay","allow"))),this.autoplay&&Y.BrowserUtil.isSafari&&this.element.setAttribute("autoplay",""),this.mediastream&&this.bindMediaStream(this.mediastream)}else this.release()},p.prototype.disableVideo=function(){var v=this.getMediaStream();v&&v.getVideoTracks().forEach(function(P){P.enabled&&(P.enabled=!1)})},p.prototype.enableVideo=function(){var v=this.getMediaStream();v&&v.getVideoTracks().forEach(function(P){P.enabled||(P.enabled=!0)})},p.prototype.disableAudio=function(){var v=this.getMediaStream();v&&v.getAudioTracks().forEach(function(P){P.enabled&&(P.enabled=!1)})},p.prototype.enableAudio=function(){var v=this.getMediaStream();v&&v.getAudioTracks().forEach(function(P){P.enabled||(P.enabled=!0)})},p.prototype.stop=function(){j.prototype.stop.call(this),this.release()},p.prototype.onCanPlay=function(){var v=this;if(!this.recvCanPlay&&(this.emit("onCanPlay"),this.recvCanPlay=!0,this.autoplay))if(this.element)if(Y.BrowserUtil.isMicroMessenger){var P=window.top!==window.self,O=window.WeixinJSBridge||window.top.WeixinJSBridge;O?O.invoke("getNetworkType",{},function(){v.tryToPlay()}):(P?window.top.document:document).addEventListener("WeixinJSBridgeReady",function(){O.invoke("getNetworkType",{},function(){v.tryToPlay()})})}else this.tryToPlay();else this.tryToPlay()},p.prototype.release=function(){this.element&&(this.element.pause(),this.element.srcObject=null,this.element.load(),this.element.removeEventListener("canplay",this.onCanPlay)),this.recvCanPlay=!1,this.mediastream=void 0},p.prototype.bindMediaStream=function(v){this.element&&(this.element.nodeName==="AUDIO"&&v.getVideoTracks()[0]&&v.removeTrack(v.getVideoTracks()[0]),this.element.srcObject=v),this.mediastream=v},p.prototype.tryToPlay=function(){var v=this;if(this.element){var P=this.element.play();P!==void 0&&P.then(function(){}).catch(function(O){console.log("playPromise err",O),v.element&&v.element.srcObject&&v.emit("onAutoPlayError")})}},p}(B.Stream);W.RemoteStream=M},5805:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(k,M){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,p){j.__proto__=p}||function(j,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(j[v]=p[v])},N(k,M)},function(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function j(){this.constructor=k}N(k,M),k.prototype=M===null?Object.create(M):(j.prototype=M.prototype,new j)}),B=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(W,"__esModule",{value:!0}),W.Stream=void 0;var Y=V(233),G=function(k){function M(){var j=k.call(this)||this;return j.traceid="",j.id=Y.Guid.create(32),j}return U(M,k),Object.defineProperty(M.prototype,"traceId",{get:function(){return this.traceid},set:function(j){this.traceid=j},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"mediaElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),M.prototype.setReporter=function(j){this.reporter=j},M.prototype.play=function(j){},M.prototype.stop=function(){this.traceid="",this.reporter=void 0},M}(B(V(102)).default);W.Stream=G},5676:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(x,se){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,de){ne.__proto__=de}||function(ne,de){for(var $ in de)Object.prototype.hasOwnProperty.call(de,$)&&(ne[$]=de[$])},N(x,se)},function(x,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function ne(){this.constructor=x}N(x,se),x.prototype=se===null?Object.create(se):(ne.prototype=se.prototype,new ne)}),B=this&&this.__assign||function(){return B=Object.assign||function(x){for(var se,ne=1,de=arguments.length;ne<de;ne++)for(var $ in se=arguments[ne])Object.prototype.hasOwnProperty.call(se,$)&&(x[$]=se[$]);return x},B.apply(this,arguments)},Y=this&&this.__awaiter||function(x,se,ne,de){return new(ne||(ne=Promise))(function($,te){function X(z){try{Q(de.next(z))}catch(le){te(le)}}function ye(z){try{Q(de.throw(z))}catch(le){te(le)}}function Q(z){var le;z.done?$(z.value):(le=z.value,le instanceof ne?le:new ne(function(ee){ee(le)})).then(X,ye)}Q((de=de.apply(x,se||[])).next())})},G=this&&this.__generator||function(x,se){var ne,de,$,te,X={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return te={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function ye(Q){return function(z){return function(le){if(ne)throw new TypeError("Generator is already executing.");for(;te&&(te=0,le[0]&&(X=0)),X;)try{if(ne=1,de&&($=2&le[0]?de.return:le[0]?de.throw||(($=de.return)&&$.call(de),0):de.next)&&!($=$.call(de,le[1])).done)return $;switch(de=0,$&&(le=[2&le[0],$.value]),le[0]){case 0:case 1:$=le;break;case 4:return X.label++,{value:le[1],done:!1};case 5:X.label++,de=le[1],le=[0];continue;case 7:le=X.ops.pop(),X.trys.pop();continue;default:if($=X.trys,!(($=$.length>0&&$[$.length-1])||le[0]!==6&&le[0]!==2)){X=0;continue}if(le[0]===3&&(!$||le[1]>$[0]&&le[1]<$[3])){X.label=le[1];break}if(le[0]===6&&X.label<$[1]){X.label=$[1],$=le;break}if($&&X.label<$[2]){X.label=$[2],X.ops.push(le);break}$[2]&&X.ops.pop(),X.trys.pop();continue}le=se.call(x,X)}catch(ee){le=[6,ee],de=0}finally{ne=$=0}if(5&le[0])throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}([Q,z])}}},k=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(W,"__esModule",{value:!0}),W.Subscriber=void 0;var M,j=V(4865),p=V(5917),v=V(9428),P=k(V(8219)),O=k(V(102)),E=V(5044),w=V(7989),F=V(492),q=k(V(2818)),ce=k(V(7028)),re=V(6091),K=V(771),T=V(2718);(function(x){x[x.Init=0]="Init",x[x.Requesting=1]="Requesting",x[x.Playing=2]="Playing",x[x.Waiting=3]="Waiting"})(M||(M={}));var L=function(x){function se(ne,de){var $=x.call(this)||this;return $.monitorStatsHistory=[],$.playTimeIndex=0,$.playCatonIndex=0,$.reportPubFlag=!1,$.state=M.Init,$.subscribeAudio=!0,$.subscribeVideo=!0,$.signalingUrl="",$.pullStreamUrl="",$.noParsePullStreamUrl="",$.subReconnectTimes=0,$.isConnecting=!1,$.reconnectTimerHandle=null,$.reporter=ne,$.playTimer=0,$.config=de||{playTimeOut:5e3},$.remoteStream=new K.RemoteStream,$.remoteStream.on("onAutoPlayError",function(){$.emit("onError",new E.RtsError(v.ErrorCode.ERROR_AUTOPLAY_ERROR,"auto play failed",""))}),$.remoteStream.on("onCanPlay",function(){return Y($,void 0,void 0,function(){var te,X,ye,Q,z,le,ee,ve,Ee,Re,be;return G(this,function(We){switch(We.label){case 0:return te=new Date().getTime(),[4,this.peerconnection.sample()];case 1:return We.sent(),X=-1,ye=[],Q=-1,this.monitorStatsHistory&&this.monitorStatsHistory.length&&(z=this.monitorStatsHistory[this.monitorStatsHistory.length-1],this.monitorStatsHistory.forEach(function(tt){var Xe=tt.rtt;Xe&&Xe>0&&ye.push(Xe)}),X=Number((ye.reduce(function(tt,Xe){return tt+Xe},0)/ye.length).toFixed(3)),Q=z.packetsLost,this.monitorStatsHistory=null),this.stopPlayTimer(),this.peerconnection.playStart(),this.subReconnectTimes=0,le=this._cnend||te,this.reporter.reportFirstFrameTime(this.noParsePullStreamUrl,this.remoteStream.traceId,this._cpend-this._cpstart,this._hrend-this._cpend,te-this._cpstart,0,le-this._hrend,{rttAvg:X,packetsLost:Q},-1,-1,-1,(ve=this.subscribeConfig)===null||ve===void 0?void 0:ve.vMsid,(Ee=this.subscribeConfig)===null||Ee===void 0?void 0:Ee.aMsid),(ee=new re.PlayEvent(re.PlayType.PLAY_CANPLAY)).data={url:this.noParsePullStreamUrl,vMsid:(Re=this.subscribeConfig)===null||Re===void 0?void 0:Re.vMsid,aMsid:(be=this.subscribeConfig)===null||be===void 0?void 0:be.aMsid},this.emit("onPlayEvent",ee),[2]}})})}),$.peerconnection=new j.RtsPeerconnection,$.peerconnection.on("onConnected",function(){$._cnend=new Date().getTime()}),$.peerconnection.on("streamEnded",function(te){var X=new re.PlayEvent(re.PlayType.PLAY_ENDED);X.data=B({},te),$.emit("onPlayEvent",X),$.emit("onError",new E.RtsError(v.ErrorCode.ERROR_STREAM_ENDED,"Stream Receiver Transport is Closed",$.remoteStream.traceId))}),$.peerconnection.on("onTrackEvent",function(te){te.streams&&te.streams.length&&($.remoteStream.updateMediaStream(te.streams[0]),$.onTrackFunction&&$.onTrackFunction())}),$.peerconnection.on("connectStatusChange",function(te){te.status!==p.EConnectStatus.CONNECT_STATUS_DISCONNECTED&&te.status!==p.EConnectStatus.CONNECT_STATUS_RECONNECTING||!$.hasRetries()?$.emit("connectStatusChange",te):$.emit("onError",new E.RtsError(v.ErrorCode.ERROR_PC_DISCONNECTED,"PC disconnected",$.remoteStream.traceId))}),$.mediaObserver=new F.MediaObserver({handler:function(te,X,ye){var Q,z=new re.PlayEvent(re.PlayType.PLAY_TIMEOUT),le={url:te};X&&(le.vMsid=X),ye&&(le.aMsid=ye),z.data=le,$.emit("onPlayEvent",z);var ee=new E.RtsError(v.ErrorCode.ERROR_INBOUND_TIMEOUT,"Media data timeout after ".concat((Q=$.mediaObserver)===null||Q===void 0?void 0:Q.actTimeout," ms."),$.remoteStream.traceId);$.emit("onError",ee)}}),$.peerconnection.on("onMonitorEvent",function(te){var X=te.eventList;if(te.type!=="pub"){if(X.length){for(var ye=void 0,Q=0;Q<X.length;Q++)if(X[Q].url===(0,T.pruneSubUrl)($.noParsePullStreamUrl,!0)){ye=X[Q];break}if(ye){$.lastMeidaEventData=ye;var z=ye.video,le=ye.audio;z&&$.monitorStatsHistory?$.monitorStatsHistory.push({rtt:z.transportStats.rtt,packetsLost:z.inboundRtpStats.packetsLost}):le&&$.monitorStatsHistory&&$.monitorStatsHistory.push({rtt:le.transportStats.rtt,packetsLost:le.inboundRtpStats.packetsLost}),M.Requesting===$.state?ye.video?ye.video.inboundRtpStatsPerSec.framesDecodedPerSecond>5&&($.state=M.Playing):ye.audio&&ye.audio.inboundRtpStatsPerSec.bytesReceivedPerSecond>0&&($.state=M.Playing):$.state!==M.Playing&&$.state!==M.Waiting||(++$.playTimeIndex,ye.video&&(ye.video.inboundRtpStatsPerSec.framesDecodedPerSecond<=5?(++$.playCatonIndex,M.Waiting!==$.state&&($.state=M.Waiting,$.emit("onPlayEvent",new re.PlayEvent(re.PlayType.PLAY_WAITING)))):M.Waiting===$.state&&($.state=M.Playing,$.emit("onPlayEvent",new re.PlayEvent(re.PlayType.PLAY_PLAYING)))),q.default.HEARTHEAT_INTERVAL===$.playTimeIndex&&($.reportPubFlag=!0,X.forEach(function(ve){$.doReportPullStats(ve)}),$.playTimeIndex=0,$.playCatonIndex=0))}var ee=new re.PlayEvent(re.PlayType.PLAY_MEDIA);ee.data=[],X.forEach(function(ve){var Ee={};Ee.url=ve.url;var Re=$.calcStreamPullStats(ve);if(ve.audio&&(Ee.audio={bytesReceivedPerSecond:ve.audio.inboundRtpStatsPerSec.bytesReceivedPerSecond,rtt:ve.audio.transportStats.rtt,lossRate:Re.aloss},Ee.aMsid=ve.aMsid),ve.video){var be=ve.video,We=be.inboundRtpStats,tt=be.inboundRtpStatsPerSec,Xe=be.transportStats;Ee.video={bytesReceivedPerSecond:tt.bytesReceivedPerSecond,fps:We.framesPerSecond||tt.framesDecodedPerSecond,framesDecodedPerSecond:tt.framesDecodedPerSecond,rtt:Xe.rtt,width:We.frameWidth,height:We.frameHeight,lossRate:Re.vloss},Ee.vMsid=ve.vMsid}Ee.networkQuality=Re.net_qual||0,ee.data.push(Ee)}),ee.data&&ee.data.length&&(ee.data.forEach(function(ve){var Ee;(Ee=$.mediaObserver)===null||Ee===void 0||Ee.check({audio:ve.audio,video:ve.video},ve.url,ve.vMsid,ve.aMsid)}),ee.data.length===1&&(ee.data[0].audio||ee.data[0].video)&&(ee.data=B({},ee.data[0])),$.emit("onPlayEvent",ee))}}else $.reportPubFlag&&($.handlePubMonitorEvent(X),$.reportPubFlag=!1)}),$.playTimer=0,$._cpstart=0,$._cpend=0,$._hrend=0,$._cnend=0,$.subscribeConfig={},$}return U(se,x),se.prototype.getPeerConnection=function(){return this.peerconnection},se.prototype.subscribe=function(ne,de,$){var te=this;return new Promise(function(X,ye){return Y(te,void 0,void 0,function(){var Q,z,le=this;return G(this,function(ee){switch(ee.label){case 0:return this.monitorStatsHistory=[],this.unsubscribe(),this.subscribeConfig=de||{},this.state=M.Requesting,this.noParsePullStreamUrl=ne,this.parseUrl(ne),(z=this.mediaObserver)===null||z===void 0||z.updateConfig({timeout:de==null?void 0:de.mediaTimeout}),Q=de==null?void 0:de.signalUrl,this.signalingUrl=Q||this.signalingUrl,this.checkPullUrl()?[3,1]:(ye(new E.RtsError(v.ErrorCode.ERROR_PLAY_URL,"url need artc://","")),[3,8]);case 1:return this.subscribeAudio||this.subscribeVideo?[3,2]:(ye(new E.RtsError(v.ErrorCode.ERROR_SUBSCRIBE_NOTHING,"subscribe nothing","")),[3,8]);case 2:if(this._cpstart=new Date().getTime(),!this.subscribeVideo||(de==null?void 0:de.isH264Checked))return[3,7];ee.label=3;case 3:return ee.trys.push([3,5,,6]),[4,new w.SupportUtil().loadH264(3)];case 4:return ee.sent(),[3,6];case 5:return ee.sent(),[3,6];case 6:ee.label=7;case 7:this.peerconnection.createOffer(this.subscribeAudio,this.subscribeVideo,void 0,{offerSdpHook:de==null?void 0:de.offerSdpHook,answerSdpHook:de==null?void 0:de.answerSdpHook,encodedInsertableStreams:de==null?void 0:de.encodedInsertableStreams,disableStereo:de==null?void 0:de.disableStereo}).then(function(ve){var Ee=ve.desp;le._cpend=new Date().getTime(),le.reporter.reportSubscribeStart(le.noParsePullStreamUrl,le.signalingUrl,de==null?void 0:de.vMsid,de==null?void 0:de.aMsid),le.excuteSignal(Ee,{innerTcpOnly:!!($!=null&&$.innerTcpOnly)}).then(function(Re){var be;le.remoteStream.traceId=Re,X(le.remoteStream);try{(be=le.peerconnection.getPeerCore())===null||be===void 0||be.patchSubscribeStreamManagerRecord(le.noParsePullStreamUrl,B(B({},le.subscribeConfig),{stream:le.remoteStream}))}catch(We){console.log(We)}le.peerconnection.getSubMonitor().updateTranceiversController()}).catch(function(Re){le._hrend=new Date().getTime();var be=new E.RtsError(Re.errorCode?Re.errorCode:v.ErrorCode.ERROR_HTTPREQUEST_ERROR,Re.message,Re?Re.traceid:"",{response:Re.response,sdp:Re.sdp});ye(be)})}).catch(function(ve){le._cpend=new Date().getTime();var Ee=new E.RtsError(v.ErrorCode.ERROR_CREATEOFFER,ve.message,"");ye(Ee)}),ee.label=8;case 8:return[2]}})})})},se.prototype.unsubscribe=function(){var ne;this.lastMeidaEventData&&this.doReportPullStats(this.lastMeidaEventData),this.stopPlayTimer(),this.peerconnection.dispose(),this.remoteStream.stop(),this.subscribeVideo=!0,this.subscribeAudio=!0,this.subscribeConfig={},this.state=M.Init,this.signalingUrl="",this.pullStreamUrl="",this.noParsePullStreamUrl="",this.onTrackFunction=void 0,this.playTimer=0,this._cpstart=0,this._cpend=0,this._hrend=0,this._cnend=0,this.monitorStatsHistory=[],(ne=this.mediaObserver)===null||ne===void 0||ne.reset()},se.prototype.startLiveStream=function(ne,de,$){var te=this;return console.error("\u6B64API\u53EF\u80FD\u5B58\u5728\u7A33\u5B9A\u6027\u95EE\u9898\uFF0C\u5E76\u5C06\u5728\u672A\u6765\u7684\u7248\u672C\u79FB\u9664\u3002\u8BF7\u4F7F\u7528subscribe\u66FF\u4EE3\uFF0C\u8BE6\u7EC6\u7528\u6CD5\u8BF7\u53C2\u8003\u5B98\u65B9\u6587\u6863\u3002"),new Promise(function(X,ye){te.unsubscribe(),te.state=M.Requesting,te.noParsePullStreamUrl=ne,te.parseUrl(ne);var Q=$==null?void 0:$.signalUrl;te.signalingUrl=Q||te.signalingUrl,te.pullStreamUrl===""?ye(new E.RtsError(v.ErrorCode.ERROR_PLAY_URL,"url need artc://","")):te.subscribeAudio||te.subscribeVideo?!de||de.nodeName!=="AUDIO"&&de.nodeName!=="VIDEO"?ye(new E.RtsError(v.ErrorCode.ERROR_HTMLELEMENT_ERROR,"need htmlaudioelement or htmlvideoelement","")):(te.subscribeAudio&&te.subscribeVideo?de.nodeName!=="VIDEO"&&te.emit("onError",new E.RtsError(v.ErrorCode.ERROR_HEMLELEMENT_NOTMATCH,"need htmlvideoelement","")):te.subscribeAudio?de.nodeName!=="AUDIO"&&te.emit("onError",new E.RtsError(v.ErrorCode.ERROR_HEMLELEMENT_NOTMATCH,"need htmlaudioelement","")):de.nodeName!=="VIDEO"&&te.emit("onError",new E.RtsError(v.ErrorCode.ERROR_HEMLELEMENT_NOTMATCH,"need htmlvieoelement","")),te._cpstart=new Date().getTime(),te.reporter.updateTid(),te.peerconnection.createOffer(te.subscribeAudio,te.subscribeVideo).then(function(z){var le=z.desp;te._cpend=new Date().getTime(),te.excuteSignal(le).then(function(ee){te.remoteStream.traceId=ee,te._hrend=new Date().getTime(),te.remoteStream.play(de),X(ee)}).catch(function(ee){te._hrend=new Date().getTime(),te.reporter.reportFirstFrameTime(te.noParsePullStreamUrl,ee?ee.traceid:"",te._cpend-te._cpstart,te._hrend-te._cpend,-1,-1,te._cnend-te._hrend),ye(new E.RtsError(ee.errorCode?ee.errorCode:v.ErrorCode.ERROR_HTTPREQUEST_ERROR,ee.message,""))})}).catch(function(z){te._cpend=new Date().getTime(),te.reporter.reportFirstFrameTime(te.noParsePullStreamUrl,z?z.traceid:"",te._cpend-te._cpstart,-1,-1,-1,te._cnend-te._hrend),ye(new E.RtsError(v.ErrorCode.ERROR_CREATEOFFER,z.message,""))})):ye(new E.RtsError(v.ErrorCode.ERROR_SUBSCRIBE_NOTHING,"subscribe nothing",""))})},se.prototype.stopLiveStream=function(){this.unsubscribe()},se.prototype.muteLiveStream=function(ne){return this.remoteStream.muted=ne,!0},se.prototype.excuteSignal=function(ne,de){var $=this;return new Promise(function(te,X){var ye,Q,z,le,ee={url:$.pullStreamUrl,amsid:((ye=$.subscribeConfig)===null||ye===void 0?void 0:ye.aMsid)||["rts audio"],vmsid:((Q=$.subscribeConfig)===null||Q===void 0?void 0:Q.vMsid)||["rts video"]};$.subscribeAudio||delete ee.amsid,$.subscribeVideo||delete ee.vmsid,P.default.post($.signalingUrl,{version:((z=$.subscribeConfig)===null||z===void 0?void 0:z.signalVersion)||ce.default.protocol_version,sdk_version:ce.default.sdk_version,mode:((le=$.subscribeConfig)===null||le===void 0?void 0:le.signalMode)||"live",pull_streams:[ee],jsep:ne}).then(function(ve){var Ee,Re,be,We,tt;if(ve&&ve.status===200){$._hrend=new Date().getTime();var Xe=(Ee=ve.data)===null||Ee===void 0?void 0:Ee.trace_id;$.reporter.reportSubscribeOk({vurl:$.noParsePullStreamUrl,surl:$.signalingUrl,traceId:Xe,hrct:$._hrend-$._cpend,rslt:(Re=ve.data)===null||Re===void 0?void 0:Re.code});var dt=typeof((be=$.subscribeConfig)===null||be===void 0?void 0:be.tcpOnly)=="boolean"?$.subscribeConfig.tcpOnly:de==null?void 0:de.innerTcpOnly;$.peerconnection.recvAnswer(ve.data,{answerSdpHook:(We=$.subscribeConfig)===null||We===void 0?void 0:We.answerSdpHook,tcpOnly:dt}).then(function(){te(Xe)}).catch(function(vt){vt.traceid=ve.data?ve.data.trace_id:"",X({errorCode:v.ErrorCode.ERROR_ANSWER_ERROR,message:vt.message?vt.message:"set answer error",traceid:vt.traceid,sdp:vt.sdp})})}else X({message:ve?"response status:"+ve.status:"response is null",traceid:(tt=ve==null?void 0:ve.data)===null||tt===void 0?void 0:tt.trace_id,sdp:ne.sdp})}).catch(function(ve){return Y($,void 0,void 0,function(){var Ee,Re;return G(this,function(be){switch(be.label){case 0:if(![400,500].includes((Re=ve.response)===null||Re===void 0?void 0:Re.status))return[3,4];ve.sdp=ne.sdp,be.label=1;case 1:return be.trys.push([1,3,,4]),[4,new w.SupportUtil().isSupport({isReceiveVideo:!0})];case 2:return be.sent(),[3,4];case 3:return Ee=be.sent(),ve.errorCode=Ee==null?void 0:Ee.errorCode,ve.message=Ee==null?void 0:Ee.message,this.subReconnectTimes=1/0,[3,4];case 4:return X(ve),[2]}})})})})},se.prototype.checkPullUrl=function(){return!!this.noParsePullStreamUrl&&this.noParsePullStreamUrl.indexOf("artc://")===0},se.prototype.parseUrl=function(ne){if(ne===void 0&&(ne=""),(ne==null?void 0:ne.indexOf("artc://"))===0){var de=ne.indexOf("@");if(de>-1){var $=ne.substring(de+1,ne.length);this.pullStreamUrl=ne.substring(0,de);for(var te=$.split("&"),X=0;X<te.length;++X)te[X]==="subaudio=no"&&(this.subscribeAudio=!1),te[X]==="subvideo=no"&&(this.subscribeVideo=!1)}else this.pullStreamUrl=ne;var ye=window.location.protocol,Q=(["http:","https:"].indexOf(ye)>-1?ye:"https:")+"//";this.signalingUrl=this.pullStreamUrl.replace("artc://",Q)}},se.prototype.stopPlayTimer=function(){this.playTimer&&clearTimeout(this.playTimer),this.playTimer=0},se.prototype.calcStreamPullStats=function(ne){var de={},$=ne.video,te=ne.audio;if($){var X=$.transportStats,ye=$.inboundRtpStats,Q=$.inboundRtpStatsPerSec,z=$.localCandidate,le=$.remoteCandidate;de=B(B({},de),{rtt:(X==null?void 0:X.rtt)!==-1?1e3*((X==null?void 0:X.rtt)||0):-1,cand_re_prot:le.protocol,cand_lo_prot:z.protocol,cand_re_addr:"".concat(le.ip||le.address,":").concat(le.port),cand_lo_addr:"".concat(z.ip||z.address,":").concat(z.port),w:ye==null?void 0:ye.frameWidth,h:ye==null?void 0:ye.frameHeight,vbps:Math.floor(8*Q.bytesReceivedPerSecond),fps:ye==null?void 0:ye.framesPerSecond,dfps:Math.floor(Q==null?void 0:Q.framesDecodedPerSecond),vjb:Math.floor((0,T.getJitterBufferDelayAvg)(ye==null?void 0:ye.jitterBufferDelay,ye==null?void 0:ye.jitterBufferEmittedCount)),vMsid:ne.vMsid,vloss:Q.packetsLostRate})}return te&&(X=te.transportStats,ye=te.inboundRtpStats,Q=te.inboundRtpStatsPerSec,z=te.localCandidate,le=te.remoteCandidate,de=B(B({},de),{rtt:(X==null?void 0:X.rtt)!==-1?1e3*((X==null?void 0:X.rtt)||0):-1,cand_re_prot:le.protocol,cand_lo_prot:z.protocol,cand_re_addr:"".concat(le.ip||le.address,":").concat(le.port),cand_lo_addr:"".concat(z.ip||z.address,":").concat(z.port),abps:Math.floor(8*Q.bytesReceivedPerSecond),ajb:Math.floor((0,T.getJitterBufferDelayAvg)(ye==null?void 0:ye.jitterBufferDelay,ye.jitterBufferEmittedCount)),aMsid:ne.aMsid,aloss:Q.packetsLostRate})),de=B(B({},de),{net_qual:(0,T.evaluateNetworkCondition)(de.rtt,de.aloss,de.vloss,de.ajb,de.vjb)})},se.prototype.doReportPullStats=function(ne){var de=this.calcStreamPullStats(ne),$={ct:1e3*this.playCatonIndex,tt:1e3*this.playTimeIndex,url:ne.url};$.tt&&($=B(B({},$),de),this.reporter.reportPullStats($),this.lastMeidaEventData=void 0)},se.prototype.retrySubscribe=function(ne,de){return Y(this,void 0,void 0,function(){var $,te,X,ye,Q,z,le;return G(this,function(ee){switch(ee.label){case 0:if(ne.extraInfo=B(B({},ne.extraInfo),{retryTimes:this.subReconnectTimes}),!this.hasRetries())return[2,!1];if(typeof(($=this.subscribeConfig)==null?void 0:$.beforeRetry)!="function")return[3,4];ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,$.beforeRetry({url:this.noParsePullStreamUrl,vMsid:$.vMsid,aMsid:$.aMsid,useTcp:de==null?void 0:de.innerTcpOnly})];case 2:return(te=ee.sent())?(X=te.url,ye=te.vMsid,Q=te.aMsid,z=te.useTcp,this.reporter.reportReconnectParams("sub",X,ye,Q,z),this.noParsePullStreamUrl=X,this.subscribeConfig.vMsid=ye,this.subscribeConfig.aMsid=Q,typeof z=="boolean"&&(de=B(B({},de),{innerTcpOnly:z})),console.log(`retry with: 
[URL] `.concat(X,`
[VMSID]`).concat(ye," [AMSID]").concat(Q,`
[PROTOCOL] `).concat(z?"TCP":"UDP"))):(this.reporter.reportReconnectParams("sub"),this.subReconnectTimes=1/0),[3,4];case 3:return le=ee.sent(),console.error("Error in beforeRetry",le),[3,4];case 4:return this.hasRetries()?(this.emit("connectStatusChange",{status:p.EConnectStatus.CONNECT_STATUS_RECONNECTING}),this.subReconnectTimes++,ne.extraInfo.retryTimes=this.subReconnectTimes,ne.extraInfo.tcpOnly=de==null?void 0:de.innerTcpOnly,this.subscribeWithReconnect(this.noParsePullStreamUrl,B({innerTcpOnly:de==null?void 0:de.innerTcpOnly},this.subscribeConfig)).catch(function(ve){}),[2,!0]):(ne.extraInfo.retryTimes=this.subReconnectTimes,[2,!1])}})})},se.prototype.subscribeWithReconnect=function(ne,de,$,te){var X=this;return new Promise(function(ye,Q){ye=$||ye,Q=te||Q,X.isConnecting=!0;var z=(de||{}).innerTcpOnly;de==null||delete de.innerTcpOnly,X.subscribe(ne,de,{innerTcpOnly:z}).then(function(le){X.isConnecting=!1,ye(le)}).catch(function(le){var ee;if(!X.isConnecting)return Q(le);if(!v.RECONNECT_ERROR_EXCLUDE_LIST.includes(le.errorCode)&&X.hasRetries(!0)){var ve=((ee=X.subscribeConfig)===null||ee===void 0?void 0:ee.retryInterval)||p.DEFAULT_RETRY_SUBSCRIBE_INTERVAL;X.reconnectTimerHandle=setTimeout(function(){le.extraInfo=B(B({},le.extraInfo),{retryTimes:X.subReconnectTimes}),X.emit("reconnect",le),X.subscribeWithReconnect(ne,de,ye,Q)},ve)}else Q(le),le.extraInfo=B(B({},le.extraInfo),{retryTimes:X.subReconnectTimes}),X.isConnecting=!1,X.emit("onError",le)})})},se.prototype.hasRetries=function(ne){var de,$,te=p.DEFAULT_RETRY_SUBSCRIBE_LIMIT;typeof((de=this.subscribeConfig)===null||de===void 0?void 0:de.retryTimes)=="number"&&(te=Math.floor(($=this.subscribeConfig)===null||$===void 0?void 0:$.retryTimes));var X=this.subReconnectTimes<te;return ne&&X&&this.subReconnectTimes++,X},se.prototype.resetResubscribeStatus=function(){this.subReconnectTimes=0,this.isConnecting=!1,this.reporter.updateTid(),this.reconnectTimerHandle!==null&&(clearTimeout(this.reconnectTimerHandle),this.reconnectTimerHandle=null)},se.prototype.handlePubMonitorEvent=function(ne){var de=this;ne.forEach(function($){de.reporter.reportPushStats($)})},se}(O.default);W.Subscriber=L},6901:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(G,k){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,j){M.__proto__=j}||function(M,j){for(var p in j)Object.prototype.hasOwnProperty.call(j,p)&&(M[p]=j[p])},N(G,k)},function(G,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function M(){this.constructor=G}N(G,k),G.prototype=k===null?Object.create(k):(M.prototype=k.prototype,new M)});Object.defineProperty(W,"__esModule",{value:!0}),W.AudioReceiverMonitorData=void 0;var B=V(1353),Y=function(G){function k(){return G.call(this,B.ReceiverMonitorType.AUDIO)||this}return U(k,G),k}(B.ReceiverMonitorData);W.AudioReceiverMonitorData=Y},1353:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(p,v){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,O){P.__proto__=O}||function(P,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(P[E]=O[E])},N(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function P(){this.constructor=p}N(p,v),p.prototype=v===null?Object.create(v):(P.prototype=v.prototype,new P)}),B=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(W,"__esModule",{value:!0}),W.ReceiverMonitorData=W.ReceiverMonitorType=void 0;var Y,G=V(233),k=B(V(102)),M=V(2688);(function(p){p.AUDIO="audio",p.VIDEO="video"})(Y||(W.ReceiverMonitorType=Y={}));var j=function(p){function v(P){var O=p.call(this)||this;return O.streamEnded=!1,O.currentTimeGap=0,O.lastTimeStamp=0,O.transportStats={},O.remoteCandidate={},O.localCandidate={},O.inboundRtpStreamStats={},O.inboundRtpStreamStatsDiff={},O.receiver=null,O.pc=null,O.canplay=!1,O.type=P,O}return U(v,p),Object.defineProperty(v.prototype,"rtpReceiver",{set:function(P){this.receiver=P},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"RTCPeerconnection",{set:function(P){this.pc=P},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isExist",{get:function(){return this.receiver!=null},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isPlaying",{get:function(){return this.canplay},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isStreamEnded",{get:function(){return this.streamEnded},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"monitorData",{get:function(){var P=this.inboundRtpStreamStatsDiff||{},O=(this.inboundRtpStreamStats,this.currentTimeGap),E=0;return P.nackCount!==void 0&&P.packetsReceived!==void 0&&(E=Math.round(P.nackCount/(P.packetsReceived+P.nackCount)*1e3)/1e3),{inboundRtpStats:this.inboundRtpStreamStats,inboundRtpStatsPerSec:{bytesReceivedPerSecond:P.bytesReceived/O||0,framesDecodedPerSecond:P.framesDecoded/O||0,packetsLostRate:E>0?E:0},transportStats:this.transportStats,remoteCandidate:this.remoteCandidate,localCandidate:this.localCandidate}},enumerable:!1,configurable:!0}),v.prototype.getInfo=function(){var P=this;if(this.receiver&&this.receiver.transport&&this.receiver.transport.state==="closed"&&this.canplay&&(this.streamEnded=!0,this.emit("streamEnded"),this.canplay=!1),this.receiver&&"getStats"in this.receiver||this.pc&&"getStats"in this.pc)return new Promise(function(O,E){var w=null,F=!1;P.receiver&&"getStats"in P.receiver?w=P.receiver.getStats():P.pc&&"getStats"in P.pc&&(w=P.pc.getStats(),F=!0),w==null||w.then(function(q){q.forEach(function(ce){var re,K;if(ce)switch(ce.type){case M.RTCStatsType.CandidatePair:P.onCandidatePair(ce);break;case M.RTCStatsType.InboundRtp:G.SystemUtil.isIos&&F?!((re=ce.id)===null||re===void 0)&&re.toLowerCase().includes(P.type)&&P.onInBoundRtp(ce):G.BrowserUtil.isFirefox?ce.kind===P.type&&P.onInBoundRtp(ce):P.onInBoundRtp(ce);break;case M.RTCStatsType.RemoteCandidate:P.onRemoteCandidate(ce);break;case M.RTCStatsType.LocalCandidate:P.onLocalCandidate(ce);break;case M.RTCStatsType.Track:if(P.type!==Y.VIDEO)break;G.SystemUtil.isIos&&F?(!((K=ce.id)===null||K===void 0)&&K.toLowerCase().includes(P.type)||ce.trackIdentifier.toLowerCase()===P.type)&&P.onTrack(ce):P.onTrack(ce)}}),O("")}).catch(function(q){E(q)})})},v.prototype.dispose=function(){this.reset()},v.prototype.onCandidatePair=function(P){(P.state==="succeeded"||P.bytesReceived)&&(this.transportStats={timestamp:Math.floor(P.timestamp),rtt:P.currentRoundTripTime||-1,bytesReceived:P.bytesReceived,bytesSent:P.bytesSent})},v.prototype.onInBoundRtp=function(P){this.currentTimeGap=(P.timestamp-this.lastTimeStamp)/1e3,this.lastTimeStamp=P.timestamp,this.inboundRtpStreamStatsDiff=this.calcDiff(P,this.inboundRtpStreamStats,["bytesReceived","framesDecoded","packetsReceived","nackCount"]),this.inboundRtpStreamStats=P,!this.canplay&&Number(P.bytesReceived)>0&&(this.canplay=!0,this.emit("canPlay"))},v.prototype.calcDiff=function(P,O,E){var w={};return E.forEach(function(F){w[F]=Number(P[F]||0)-Number(O[F]||0)}),w},v.prototype.onRemoteCandidate=function(P){this.remoteCandidate=P||{}},v.prototype.onLocalCandidate=function(P){this.localCandidate=P||{}},v.prototype.onTrack=function(P){P.frameWidth&&(this.inboundRtpStreamStats.frameWidth=P.frameWidth,this.inboundRtpStreamStats.frameHeight=P.frameHeight)},v.prototype.reset=function(){this.currentTimeGap=0,this.lastTimeStamp=0,this.transportStats={},this.remoteCandidate={},this.localCandidate={},this.inboundRtpStreamStats={},this.inboundRtpStreamStatsDiff={},this.receiver=null,this.canplay=!1,this.streamEnded=!1},v}(k.default);W.ReceiverMonitorData=j},5250:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(G,k){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,j){M.__proto__=j}||function(M,j){for(var p in j)Object.prototype.hasOwnProperty.call(j,p)&&(M[p]=j[p])},N(G,k)},function(G,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function M(){this.constructor=G}N(G,k),G.prototype=k===null?Object.create(k):(M.prototype=k.prototype,new M)});Object.defineProperty(W,"__esModule",{value:!0}),W.VideoReceiverMonitorData=void 0;var B=V(1353),Y=function(G){function k(){return G.call(this,B.ReceiverMonitorType.VIDEO)||this}return U(k,G),k}(B.ReceiverMonitorData);W.VideoReceiverMonitorData=Y},2688:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.RTCStatsType=void 0;var V=function(){function N(){}return N.CandidatePair="candidate-pair",N.Certificate="certificate",N.Codec="codec",N.Csrc="csrc",N.DataCahnnel="data-channel",N.InboundRtp="inbound-rtp",N.LocalCandidate="local-candidate",N.OutboundRtp="outbound-rtp",N.PeerConnection="peer-connection",N.Receiver="receiver",N.RemoteCandidate="remote-candidate",N.RemoteInboundRtp="remote-inbound-rtp",N.RemoteOutboundRtp="remote-outbound-rtp",N.Sender="sender",N.Stream="stream",N.Track="track",N.Transport="transport",N.MediaSource="media-source",N}();W.RTCStatsType=V},5657:(_e,W,V)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.SenderMonitorData=void 0;var N=V(2688),U=function(){function B(){this._audiosender=null,this._videosender=null,this.timeStamp=0,this.curTimeStamp=0,this.audioBytesSent=0,this.curAudioBytesSent=0,this.videoBytesSent=0,this.curVideoBytesSent=0,this.audioRetransmittedBytesSent=0,this.curAudioRetransmittedBytesSent=0,this.videoRetransmiitedBytesSent=0,this.curVideoRetransmiitedBytesSent=0,this.framesSent=0,this.curFramesSent=0,this.framesEncoded=0,this.curFramesEncoded=0,this.rtt=0,this.localProtocol="",this.remoteProtocol="",this.localTransportAddr="",this.remoteTransportAddr="",this.frameHeight=0,this.frameWidth=0,this.efps=0,this.sfps=0,this.timeGap=0,this.abps=0,this.vbps=0,this.rt_abps=0,this.rt_vbps=0,this.stashedData={}}return Object.defineProperty(B.prototype,"videoSender",{set:function(Y){this._videosender=Y},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"audioSender",{set:function(Y){this._audiosender=Y},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"monitorData",{get:function(){return this.doCalc(),{tt:parseFloat(this.timeGap.toFixed(0)),rtt:this.rtt,cand_re_prot:this.remoteProtocol,cand_lo_prot:this.localProtocol,cand_re_addr:this.remoteTransportAddr,cand_lo_addr:this.localTransportAddr,w:this.frameWidth,h:this.frameHeight,efps:parseFloat(this.efps.toFixed(0)),fps:parseFloat(this.sfps.toFixed(0)),abps:parseFloat(this.abps.toFixed(0)),vbps:parseFloat(this.vbps.toFixed(0)),rt_abps:parseFloat(this.rt_abps.toFixed(0)),rt_vbps:parseFloat(this.rt_vbps.toFixed(0))}},enumerable:!1,configurable:!0}),B.prototype.doCalc=function(){this.timeStamp!==0&&(this.timeGap=this.curTimeStamp-this.timeStamp,this.timeGap>0&&(this.efps=1e3*(this.curFramesEncoded-this.framesEncoded)/this.timeGap,this.sfps=1e3*(this.curFramesSent-this.framesSent)/this.timeGap,this.abps=1e3*(this.curAudioBytesSent-this.audioBytesSent)/this.timeGap,this.vbps=1e3*(this.curVideoBytesSent-this.videoBytesSent)/this.timeGap,this.rt_abps=1e3*(this.curAudioRetransmittedBytesSent-this.audioRetransmittedBytesSent)/this.timeGap,this.rt_vbps=1e3*(this.curVideoRetransmiitedBytesSent-this.videoRetransmiitedBytesSent)/this.timeGap)),this.timeStamp=this.curTimeStamp,this.audioBytesSent=this.curAudioBytesSent,this.videoBytesSent=this.curVideoBytesSent,this.audioRetransmittedBytesSent=this.curAudioRetransmittedBytesSent,this.videoRetransmiitedBytesSent=this.curVideoRetransmiitedBytesSent,this.framesSent=this.curFramesSent,this.framesEncoded=this.curFramesEncoded},B.prototype.getInfo=function(){var Y=this,G=new Promise(function(M,j){Y._videosender&&Y._videosender.getStats?Y._videosender.getStats().then(function(p){p.forEach(function(v){if(v)switch(v.type){case N.RTCStatsType.CandidatePair:Y.onCandidatePair(v);break;case N.RTCStatsType.OutboundRtp:Y.onOutBoundRtp(v,"video");break;case N.RTCStatsType.RemoteCandidate:Y.onRemoteCandidate(v);break;case N.RTCStatsType.LocalCandidate:Y.onLocalCandidate(v)}}),M()}).catch(function(p){j(p)}):j("no video sender")}),k=new Promise(function(M,j){Y._audiosender&&Y._audiosender.getStats?Y._audiosender.getStats().then(function(p){p.forEach(function(v){if(v)switch(v.type){case N.RTCStatsType.CandidatePair:Y.onCandidatePair(v);break;case N.RTCStatsType.OutboundRtp:Y.onOutBoundRtp(v,"audio");break;case N.RTCStatsType.RemoteCandidate:Y.onRemoteCandidate(v);break;case N.RTCStatsType.LocalCandidate:Y.onLocalCandidate(v)}}),M()}).catch(function(p){j(p)}):j("no audio sender")});return Promise.all([G,k])},B.prototype.onCandidatePair=function(Y){this.curTimeStamp=Y.timestamp,this.rtt=Y.currentRoundTripTime},B.prototype.onOutBoundRtp=function(Y,G){this.curTimeStamp=Y.timestamp,G==="video"?(this.curVideoBytesSent=Y.bytesSent,this.curVideoRetransmiitedBytesSent=Y.retransmittedBytesSent,this.curFramesEncoded=Y.framesEncoded,this.curFramesSent=Y.framesSent,this.frameWidth=Y.frameWidth,this.frameHeight=Y.frameHeight):G==="audio"&&(this.curAudioBytesSent=Y.bytesSent,this.curAudioRetransmittedBytesSent=Y.retransmittedBytesSent)},B.prototype.onRemoteCandidate=function(Y){this.curTimeStamp=Y.timestamp,this.remoteProtocol=Y.protocol,this.remoteTransportAddr=(Y.ip||Y.address)+(Y.port?":"+Y.port.toFixed(0):"")},B.prototype.onLocalCandidate=function(Y){this.curTimeStamp=Y.timestamp,this.localProtocol=Y.protocol,this.localTransportAddr=(Y.ip||Y.address)+(Y.port?":"+Y.port.toFixed(0):"")},B}();W.SenderMonitorData=U},9752:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(p,v){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,O){P.__proto__=O}||function(P,O){for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(P[E]=O[E])},N(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function P(){this.constructor=p}N(p,v),p.prototype=v===null?Object.create(v):(P.prototype=v.prototype,new P)}),B=this&&this.__assign||function(){return B=Object.assign||function(p){for(var v,P=1,O=arguments.length;P<O;P++)for(var E in v=arguments[P])Object.prototype.hasOwnProperty.call(v,E)&&(p[E]=v[E]);return p},B.apply(this,arguments)},Y=this&&this.__spreadArray||function(p,v,P){if(P||arguments.length===2)for(var O,E=0,w=v.length;E<w;E++)!O&&E in v||(O||(O=Array.prototype.slice.call(v,0,E)),O[E]=v[E]);return p.concat(O||Array.prototype.slice.call(v))},G=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(W,"__esModule",{value:!0}),W.PubMonitor=void 0;var k=G(V(102)),M=V(5657),j=function(p){function v(){var P=p.call(this)||this;return P.heartbeatHandle=null,P.pc=null,P.pcCore=null,P.senderMonitorDataList=[],P}return U(v,p),v.prototype.startHeartbeat=function(P,O,E){var w=this;this.pc=P,this.pcCore=O,this.updateSenders(),this.stopHeartbeat(),this.heartbeatHandle=setInterval(function(){w.emitHeartBeat()},E||1e3)},v.prototype.stopHeartbeat=function(){this.heartbeatHandle!==null&&clearInterval(this.heartbeatHandle),this.heartbeatHandle=null},v.prototype.addTrackPair=function(P,O,E,w,F){var q=this;if(P){var ce=new M.SenderMonitorData;if(O){ce.videoSender=O;var re=O.transport;re&&(re.onstatechange=function(){var T,L,x,se;q.emit("onTransportStateEvent",{url:P,type:"pub",kind:"video",state:re.state,protocol:(se=(x=(L=(T=re.iceTransport)===null||T===void 0?void 0:T.getSelectedCandidatePair)===null||L===void 0?void 0:L.call(T))===null||x===void 0?void 0:x.local)===null||se===void 0?void 0:se.protocol})})}if(E){ce.audioSender=E;var K=E.transport;K&&(K.onstatechange=function(){var T,L,x,se;q.emit("onTransportStateEvent",{url:P,type:"pub",kind:"audio",state:K.state,protocol:(se=(x=(L=(T=K.iceTransport)===null||T===void 0?void 0:T.getSelectedCandidatePair)===null||L===void 0?void 0:L.call(T))===null||x===void 0?void 0:x.local)===null||se===void 0?void 0:se.protocol})})}this.senderMonitorDataList.push({url:P,vMsid:w,aMsid:F,senderData:ce})}},v.prototype.updateSenders=function(){var P,O=this,E=(P=this.pcCore)===null||P===void 0?void 0:P.getStreamManager().getAllTrackPairList("pub");this.senderMonitorDataList=[],E==null||E.forEach(function(w){O.addTrackPair(w.url,w.vTransceiver,w.aTransceiver,w.vMsid,w.aMsid)})},v.prototype.emitHeartBeat=function(){var P=this;Promise.all(this.senderMonitorDataList.reduce(function(O,E){return Y(Y([],O,!0),[E.senderData.getInfo()],!1)},[])).then(function(){}).catch(function(O){}).finally(function(){var O=P.senderMonitorDataList.map(function(E){return B(B({},E.senderData.monitorData),{url:E.url,vMsid:E.vMsid,aMsid:E.aMsid})});P.emit("onMonitorEvent",{eventList:O,type:"pub"})})},v}(k.default);W.PubMonitor=j},4699:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(O,E){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,F){w.__proto__=F}||function(w,F){for(var q in F)Object.prototype.hasOwnProperty.call(F,q)&&(w[q]=F[q])},N(O,E)},function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function w(){this.constructor=O}N(O,E),O.prototype=E===null?Object.create(E):(w.prototype=E.prototype,new w)}),B=this&&this.__awaiter||function(O,E,w,F){return new(w||(w=Promise))(function(q,ce){function re(L){try{T(F.next(L))}catch(x){ce(x)}}function K(L){try{T(F.throw(L))}catch(x){ce(x)}}function T(L){var x;L.done?q(L.value):(x=L.value,x instanceof w?x:new w(function(se){se(x)})).then(re,K)}T((F=F.apply(O,E||[])).next())})},Y=this&&this.__generator||function(O,E){var w,F,q,ce,re={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return ce={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(ce[Symbol.iterator]=function(){return this}),ce;function K(T){return function(L){return function(x){if(w)throw new TypeError("Generator is already executing.");for(;ce&&(ce=0,x[0]&&(re=0)),re;)try{if(w=1,F&&(q=2&x[0]?F.return:x[0]?F.throw||((q=F.return)&&q.call(F),0):F.next)&&!(q=q.call(F,x[1])).done)return q;switch(F=0,q&&(x=[2&x[0],q.value]),x[0]){case 0:case 1:q=x;break;case 4:return re.label++,{value:x[1],done:!1};case 5:re.label++,F=x[1],x=[0];continue;case 7:x=re.ops.pop(),re.trys.pop();continue;default:if(q=re.trys,!((q=q.length>0&&q[q.length-1])||x[0]!==6&&x[0]!==2)){re=0;continue}if(x[0]===3&&(!q||x[1]>q[0]&&x[1]<q[3])){re.label=x[1];break}if(x[0]===6&&re.label<q[1]){re.label=q[1],q=x;break}if(q&&re.label<q[2]){re.label=q[2],re.ops.push(x);break}q[2]&&re.ops.pop(),re.trys.pop();continue}x=E.call(O,re)}catch(se){x=[6,se],F=0}finally{w=q=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([T,L])}}},G=this&&this.__spreadArray||function(O,E,w){if(w||arguments.length===2)for(var F,q=0,ce=E.length;q<ce;q++)!F&&q in E||(F||(F=Array.prototype.slice.call(E,0,q)),F[q]=E[q]);return O.concat(F||Array.prototype.slice.call(E))},k=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(W,"__esModule",{value:!0}),W.SubMonitor=void 0;var M=V(6901),j=V(5250),p=k(V(102)),v=function(){function O(){this.trackPairDataList=[]}return O.prototype.reset=function(){this.trackPairDataList=[]},O.prototype.addTrackPair=function(E,w,F,q,ce,re){var K=new M.AudioReceiverMonitorData,T=new j.VideoReceiverMonitorData;q&&(T.rtpReceiver=q),ce&&(K.rtpReceiver=ce),re&&(T.RTCPeerconnection=re,K.RTCPeerconnection=re),this.trackPairDataList.push({url:E,vMsid:w,aMsid:F,audioReceiverMonitorData:K,videoReceiverMonitorData:T})},O}(),P=function(O){function E(){var w=O.call(this)||this;return w.canplay=!1,w.pc=null,w.pcCore=null,w.monitorTimerId=null,w.audioReceiverMonitorData=new M.AudioReceiverMonitorData,w.videoReceiverMonitorData=new j.VideoReceiverMonitorData,w.receiverMonitorController=new v,w}return U(E,O),E.prototype.start=function(w,F){this.pc=w,this.pcCore=F,this.updateTranceiversController(),this.startMonitorTimer(200)},E.prototype.updateTranceiversController=function(){var w=this;if(this.pc&&this.pcCore){var F=this.pcCore.getStreamManager().getAllTrackPairList("sub");this.receiverMonitorController.reset(),F.forEach(function(q){q.url&&w.receiverMonitorController.addTrackPair(q.url,q.vMsid,q.aMsid,q.vTransceiver,q.aTransceiver,w.pc)}),this.receiverMonitorController.trackPairDataList.forEach(function(q){w.initEvent(q)})}},E.prototype.resetTimer=function(w){this.updateTranceiversController(),this.stopMonitorTimer(),this.startMonitorTimer(w)},E.prototype.stop=function(){this.canplay=!1,this.stopMonitorTimer(),this.audioReceiverMonitorData.dispose(),this.videoReceiverMonitorData.dispose()},E.prototype.startMonitorTimer=function(w){var F=this;this.monitorTimerId||(this.monitorTimerId=window.setInterval(function(){F.onMonitorTimer()},w))},E.prototype.stopMonitorTimer=function(){this.monitorTimerId&&clearInterval(this.monitorTimerId),this.monitorTimerId=null},E.prototype.onMonitorTimer=function(){return B(this,void 0,void 0,function(){var w;return Y(this,function(F){switch(F.label){case 0:return[4,this.updateMonitorData()];case 1:return F.sent(),w=[],this.receiverMonitorController.trackPairDataList.forEach(function(q){var ce,re;if(q.url){var K={url:q.url};q.audioReceiverMonitorData.isExist&&(K.audio=(ce=q.audioReceiverMonitorData)===null||ce===void 0?void 0:ce.monitorData,K.aMsid=q.aMsid),q.videoReceiverMonitorData.isExist&&(K.video=(re=q.videoReceiverMonitorData)===null||re===void 0?void 0:re.monitorData,K.vMsid=q.vMsid),w.push(K)}}),this.emit("onMonitorEvent",{eventList:w,type:"sub"}),[2]}})})},E.prototype.initEvent=function(w){var F=this,q={url:w.url||"url unknown",vMsid:w.vMsid||"vMsid unknown",aMsid:w.aMsid||"aMsid unknown"};w.audioReceiverMonitorData.isExist&&(w.audioReceiverMonitorData.on("streamEnded",function(){w.videoReceiverMonitorData&&!w.videoReceiverMonitorData.isStreamEnded||(F.emit("streamEnded",q),F.stopMonitorTimer())}),w.audioReceiverMonitorData.on("canPlay",function(){F.emitCanPlay()})),w.videoReceiverMonitorData.isExist&&(w.videoReceiverMonitorData.on("streamEnded",function(){w.audioReceiverMonitorData&&!w.audioReceiverMonitorData.isStreamEnded||(F.emit("streamEnded",q),F.stopMonitorTimer())}),w.videoReceiverMonitorData.on("canPlay",function(){F.emitCanPlay()}))},E.prototype.updateMonitorData=function(){return Promise.all(this.receiverMonitorController.trackPairDataList.reduce(function(w,F){var q,ce;return G(G([],w,!0),[(q=F.audioReceiverMonitorData)===null||q===void 0?void 0:q.getInfo(),(ce=F.videoReceiverMonitorData)===null||ce===void 0?void 0:ce.getInfo()],!1)},[]))},E.prototype.emitCanPlay=function(){this.canplay||(this.canplay=!0,this.emit("canPlay"))},E.prototype.copyMonitorData=function(){var w,F;!((F=(w=this.receiverMonitorController)===null||w===void 0?void 0:w.trackPairDataList)===null||F===void 0)&&F.length&&(this.audioReceiverMonitorData=this.receiverMonitorController.trackPairDataList[0].audioReceiverMonitorData,this.videoReceiverMonitorData=this.receiverMonitorController.trackPairDataList[0].videoReceiverMonitorData)},E.prototype.getTransportStats=function(){return B(this,void 0,void 0,function(){var w;return Y(this,function(F){switch(F.label){case 0:return[4,this.updateMonitorData()];case 1:return F.sent(),this.copyMonitorData(),w={},this.videoReceiverMonitorData.isExist?w=this.videoReceiverMonitorData.monitorData.transportStats:this.audioReceiverMonitorData.isExist&&(w=this.audioReceiverMonitorData.monitorData.transportStats),[2,w]}})})},E.prototype.getRemoteVideoStats=function(){return B(this,void 0,void 0,function(){var w,F;return Y(this,function(q){switch(q.label){case 0:return[4,this.updateMonitorData()];case 1:return q.sent(),this.copyMonitorData(),w={},this.videoReceiverMonitorData.isExist&&(F=this.videoReceiverMonitorData.monitorData.inboundRtpStats,w={timestamp:Math.floor(F.timestamp||0),framesDecodedPerSecond:F.framesPerSecond,framesDecoded:F.framesDecoded,frameWidth:F.frameWidth,frameHeight:F.frameHeight,bytesReceived:F.bytesReceived,jitter:F.jitter,jitterBufferDelayAvg:Number(F.jitterBufferDelay)/Number(F.jitterBufferEmittedCount),packetsLost:F.packetsLost,packetsReceived:F.packetsReceived}),[2,w]}})})},E.prototype.getRemoteAudioStats=function(){return B(this,void 0,void 0,function(){var w,F;return Y(this,function(q){switch(q.label){case 0:return[4,this.updateMonitorData()];case 1:return q.sent(),this.copyMonitorData(),w={},this.audioReceiverMonitorData.isExist&&(F=this.audioReceiverMonitorData.monitorData.inboundRtpStats,w={timestamp:Math.floor(F.timestamp||0),bytesReceived:F.bytesReceived,jitter:F.jitter,jitterBufferDelayAvg:Number(F.jitterBufferDelay)/Number(F.jitterBufferEmittedCount),packetsLost:F.packetsLost,packetsReceived:F.packetsReceived}),[2,w]}})})},E}(p.default);W.SubMonitor=P},5259:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.AudioProfileMap=W.VideoProfileMap=W.ScreenProfileMap=void 0,W.ScreenProfileMap=new Map,W.ScreenProfileMap.set("480p_1",{width:640,height:480,frameRate:5,maxBitrate:300}),W.ScreenProfileMap.set("480p_2",{width:640,height:480,frameRate:30,maxBitrate:1e3}),W.ScreenProfileMap.set("720p_1",{width:1280,height:720,frameRate:5,maxBitrate:800}),W.ScreenProfileMap.set("720p_2",{width:1280,height:720,frameRate:30,maxBitrate:2e3}),W.ScreenProfileMap.set("1080p_1",{width:1920,height:1080,frameRate:5,maxBitrate:1e3}),W.ScreenProfileMap.set("1080p_2",{width:1920,height:1080,frameRate:30,maxBitrate:3e3}),W.VideoProfileMap=new Map,W.VideoProfileMap.set("120p_1",{width:160,height:120,frameRate:15,maxBitrate:65}),W.VideoProfileMap.set("120p_3",{width:120,height:120,frameRate:15,maxBitrate:50}),W.VideoProfileMap.set("180p_1",{width:320,height:180,frameRate:15,maxBitrate:140}),W.VideoProfileMap.set("180p_3",{width:180,height:180,frameRate:15,maxBitrate:100}),W.VideoProfileMap.set("180p_4",{width:240,height:180,frameRate:15,maxBitrate:120}),W.VideoProfileMap.set("240p_1",{width:320,height:240,frameRate:15,maxBitrate:200}),W.VideoProfileMap.set("240p_3",{width:240,height:240,frameRate:15,maxBitrate:140}),W.VideoProfileMap.set("240p_4",{width:424,height:240,frameRate:15,maxBitrate:220}),W.VideoProfileMap.set("360p_1",{width:640,height:360,frameRate:15,maxBitrate:400}),W.VideoProfileMap.set("360p_3",{width:360,height:360,frameRate:15,maxBitrate:260}),W.VideoProfileMap.set("360p_4",{width:640,height:360,frameRate:30,maxBitrate:600}),W.VideoProfileMap.set("360p_6",{width:360,height:360,frameRate:30,maxBitrate:400}),W.VideoProfileMap.set("360p_7",{width:480,height:360,frameRate:15,maxBitrate:320}),W.VideoProfileMap.set("360p_8",{width:480,height:360,frameRate:30,maxBitrate:490}),W.VideoProfileMap.set("360p_9",{width:640,height:360,frameRate:15,maxBitrate:800}),W.VideoProfileMap.set("360p_10",{width:640,height:360,frameRate:24,maxBitrate:800}),W.VideoProfileMap.set("360p_11",{width:640,height:360,frameRate:24,maxBitrate:1e3}),W.VideoProfileMap.set("480p_1",{width:640,height:480,frameRate:15,maxBitrate:500}),W.VideoProfileMap.set("480p_2",{width:640,height:480,frameRate:30,maxBitrate:1e3}),W.VideoProfileMap.set("480p_3",{width:480,height:480,frameRate:15,maxBitrate:400}),W.VideoProfileMap.set("480p_4",{width:640,height:480,frameRate:30,maxBitrate:750}),W.VideoProfileMap.set("480p_6",{width:480,height:480,frameRate:30,maxBitrate:600}),W.VideoProfileMap.set("480p_8",{width:848,height:480,frameRate:15,maxBitrate:610}),W.VideoProfileMap.set("480p_9",{width:848,height:480,frameRate:30,maxBitrate:930}),W.VideoProfileMap.set("480p_10",{width:640,height:480,frameRate:10,maxBitrate:400}),W.VideoProfileMap.set("720p_1",{width:1280,height:720,frameRate:15,maxBitrate:1130}),W.VideoProfileMap.set("720p_2",{width:1280,height:720,frameRate:30,maxBitrate:2e3}),W.VideoProfileMap.set("720p_3",{width:1280,height:720,frameRate:30,maxBitrate:1710}),W.VideoProfileMap.set("720p_5",{width:960,height:720,frameRate:15,maxBitrate:910}),W.VideoProfileMap.set("720p_6",{width:960,height:720,frameRate:30,maxBitrate:1380}),W.VideoProfileMap.set("1080p_1",{width:1920,height:1080,frameRate:15,maxBitrate:2080}),W.VideoProfileMap.set("1080p_2",{width:1920,height:1080,frameRate:30,maxBitrate:3e3}),W.VideoProfileMap.set("1080p_3",{width:1920,height:1080,frameRate:30,maxBitrate:3150}),W.VideoProfileMap.set("1080p_5",{width:1920,height:1080,frameRate:60,maxBitrate:4780}),W.VideoProfileMap.set("1440p_1",{width:2560,height:1440,frameRate:30,maxBitrate:4850}),W.VideoProfileMap.set("1440p_2",{width:2560,height:1440,frameRate:60,maxBitrate:7350}),W.VideoProfileMap.set("4K_1",{width:3840,height:2160,frameRate:30,maxBitrate:8910}),W.VideoProfileMap.set("4K_3",{width:3840,height:2160,frameRate:60,maxBitrate:13500}),W.AudioProfileMap=new Map,W.AudioProfileMap.set("standard",{sampleRate:48e3,channelCount:1,maxBitrate:64}),W.AudioProfileMap.set("high",{sampleRate:48e3,channelCount:1,maxBitrate:128}),W.AudioProfileMap.set("standard-stereo",{sampleRate:48e3,channelCount:2,maxBitrate:80}),W.AudioProfileMap.set("high-stereo",{sampleRate:48e3,channelCount:2,maxBitrate:192})},5553:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.Datachannel=void 0;var V=function(){function N(U){this.pc=U,this.messageId=1,this.dataChannel=this.pc.createDataChannel("GRTNDataChannel"),this.dataChannel.onopen=function(B){},this.dataChannel.onmessage=function(B){B.data},this.dataChannel.onclose=function(B){},this.dataChannel.onerror=function(B){}}return N.prototype.addTrack=function(U,B){return new Promise(function(Y,G){})},N.prototype.removeTrack=function(U,B){return new Promise(function(Y,G){})},N.prototype.createPublishPacket=function(){var U={type:"pub",version:1,msg_id:this.messageId,streams:[]};return++this.messageId,U},N}();W.Datachannel=V},4865:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(ne,de){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,te){$.__proto__=te}||function($,te){for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&($[X]=te[X])},N(ne,de)},function(ne,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function $(){this.constructor=ne}N(ne,de),ne.prototype=de===null?Object.create(de):($.prototype=de.prototype,new $)}),B=this&&this.__assign||function(){return B=Object.assign||function(ne){for(var de,$=1,te=arguments.length;$<te;$++)for(var X in de=arguments[$])Object.prototype.hasOwnProperty.call(de,X)&&(ne[X]=de[X]);return ne},B.apply(this,arguments)},Y=this&&this.__awaiter||function(ne,de,$,te){return new($||($=Promise))(function(X,ye){function Q(ee){try{le(te.next(ee))}catch(ve){ye(ve)}}function z(ee){try{le(te.throw(ee))}catch(ve){ye(ve)}}function le(ee){var ve;ee.done?X(ee.value):(ve=ee.value,ve instanceof $?ve:new $(function(Ee){Ee(ve)})).then(Q,z)}le((te=te.apply(ne,de||[])).next())})},G=this&&this.__generator||function(ne,de){var $,te,X,ye,Q={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return ye={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(ye[Symbol.iterator]=function(){return this}),ye;function z(le){return function(ee){return function(ve){if($)throw new TypeError("Generator is already executing.");for(;ye&&(ye=0,ve[0]&&(Q=0)),Q;)try{if($=1,te&&(X=2&ve[0]?te.return:ve[0]?te.throw||((X=te.return)&&X.call(te),0):te.next)&&!(X=X.call(te,ve[1])).done)return X;switch(te=0,X&&(ve=[2&ve[0],X.value]),ve[0]){case 0:case 1:X=ve;break;case 4:return Q.label++,{value:ve[1],done:!1};case 5:Q.label++,te=ve[1],ve=[0];continue;case 7:ve=Q.ops.pop(),Q.trys.pop();continue;default:if(X=Q.trys,!((X=X.length>0&&X[X.length-1])||ve[0]!==6&&ve[0]!==2)){Q=0;continue}if(ve[0]===3&&(!X||ve[1]>X[0]&&ve[1]<X[3])){Q.label=ve[1];break}if(ve[0]===6&&Q.label<X[1]){Q.label=X[1],X=ve;break}if(X&&Q.label<X[2]){Q.label=X[2],Q.ops.push(ve);break}X[2]&&Q.ops.pop(),Q.trys.pop();continue}ve=de.call(ne,Q)}catch(Ee){ve=[6,Ee],te=0}finally{$=X=0}if(5&ve[0])throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}([le,ee])}}},k=this&&this.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(W,"__esModule",{value:!0}),W.RtsPeerconnection=void 0;var M,j=V(4450),p=V(233),v=V(4315),P=V(2718),O=k(V(102)),E=V(5917),w=V(4699),F=V(9752),q=V(5553),ce=V(9428),re=V(5044),K=k(V(6834));(function(ne){ne.Subscribe="sub",ne.Publish="pub"})(M||(M={}));var T=window.RTCRtpReceiver&&"createEncodedStreams"in RTCRtpReceiver.prototype,L=window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&"RTCRtpScriptTransform"in window,x=function(ne){function de(){var $=ne.call(this)||this;return $.connectingEventSent=!1,$.reused=!1,$.transformWorkerList=new se,$.receiverCodecPreferences={},$.senderCodecPreferences={},$.subMonitor=new w.SubMonitor,$.subMonitor.on("onMonitorEvent",function(te){$.emit("onMonitorEvent",te)}),$.subMonitor.on("streamEnded",function(){$.emit("streamEnded")}),$.subMonitor.on("canPlay",function(){}),$.pubMonitor=new F.PubMonitor,$.pubMonitor.on("onMonitorEvent",function(te){$.emit("onMonitorEvent",te)}),$.pubMonitor.on("onTransportStateEvent",function(te){$.emit("onTransportStateEvent",te)}),$}return U(de,ne),Object.defineProperty(de.prototype,"isConnected",{get:function(){var $;return(($=this.pc)===null||$===void 0?void 0:$.connectionState)==="connected"},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"isReused",{get:function(){return this.reused},set:function($){this.reused=!!$},enumerable:!1,configurable:!0}),de.prototype.getWorkerManager=function(){return this.transformWorkerList},de.prototype.getPc=function(){return this.pc},de.prototype.getPeerCore=function(){return this.peerCore},de.prototype.getSubMonitor=function(){return this.subMonitor},de.prototype.getPubMonitor=function(){return this.pubMonitor},de.prototype.playStart=function(){this.subMonitor.resetTimer(1e3)},de.prototype.pushStart=function(){this.pc&&this.peerCore&&this.pubMonitor.startHeartbeat(this.pc,this.peerCore)},de.prototype.sample=function(){return Y(this,void 0,void 0,function(){return G(this,function($){switch($.label){case 0:return[4,this.subMonitor.onMonitorTimer()];case 1:return $.sent(),[2]}})})},de.prototype.subAdd=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.subscribeAdd($)},de.prototype.subActive=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.subscribeActive($)},de.prototype.subStop=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.subscribeStop($)},de.prototype.subDeleteTracks=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.subscribeDeleteTracks($)},de.prototype.pubAdd=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.publishAdd($)},de.prototype.pubDeleteTracks=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.publishDeleteTracks($)},de.prototype.pubReplaceTracks=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.publishReplaceTracks($)},de.prototype.pubStop=function($){var te;return(te=this.peerCore)===null||te===void 0?void 0:te.publishStop($)},de.prototype.createOffer=function($,te,X,ye){var Q=this;return ye===void 0&&(ye={publishUrl:""}),new Promise(function(z,le){var ee;(ee=Q.cancelable)===null||ee===void 0||ee.cancel();var ve={googCpuOveruseDetection:!1,sdpSemantics:"unified-plan",encodedInsertableStreams:ye.encodedInsertableStreams,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};if(p.BrowserUtil.isChrome&&Number(p.BrowserUtil.browserMainVersion)<=55&&(ve.iceServers=[]),Q.pc=new RTCPeerConnection(ve),Q.encodedInsertableStreams=ye.encodedInsertableStreams,Q.peerCore=new j.PeerConnectionCore({pc:Q.pc,onDatachannelEvent:function(We){Q.emit("datachannelStatusChange",{status:We})},onInnerSubscribeDelete:function(We){Q.emit("innerSubscribeDeleteTracks",We)},offerSdpHook:ye.offerSdpHook,answerSdpHook:ye.answerSdpHook}),Q.peerCore.setReceiverCodecPreferences(Q.receiverCodecPreferences),Q.peerCore.setSenderCodecPreferences(Q.senderCodecPreferences),Q.pc.onconnectionstatechange=function(){var We=(Q.pc||{}).connectionState;switch(Q.connectingEventSent||(Q.connectingEventSent=!0,Q.emit("connectStatusChange",{status:E.EConnectStatus.CONNECT_STATUS_CONNECTING})),We!=="connecting"&&Q.clearStatusTimer(),We){case"connected":Q.emit("onConnected"),Q.emit("connectStatusChange",{status:E.EConnectStatus.CONNECT_STATUS_CONNECTED});break;case"disconnected":Q.emit("connectStatusChange",{status:E.EConnectStatus.CONNECT_STATUS_RECONNECTING});break;case"failed":case"closed":Q.handleClosed()}},Q.clearStatusTimer(),Q.statusTimer=window.setTimeout(function(){Q.handleClosed()},de.CONNECT_TIMEOUT),X){Q.localStream=X,Q.sdpUtil=new v.SdpUtil(Q.localStream);var Ee=Q.addStream();if(Ee!==0)return Q.pc=void 0,void le(new re.RtsError(Ee,Ee===ce.ErrorCode.ERROR_MEDIASTREAMTRACK_AUDIO_NONE?"need audio track":"",""))}else Q.sdpUtil=new v.SdpUtil;var Re={};X||(Re=Q.handleSubTransceiver($,te).added?{}:{offerToReceiveAudio:$,offerToReceiveVideo:te});var be=Q.pc.createOffer(Re);Q.cancelable=(0,P.makeCancelable)(be),Q.cancelable.promise.then(function(We){var tt,Xe,dt,vt,_t,At,Pt;if(Q.cancelable=void 0,Q.sdpUtil){if(Q.sdpUtil.init(String(We.sdp)),Q.sdpUtil.addNack(),Q.sdpUtil.addSps(),ye.disableStereo||Q.sdpUtil.addStereo(),X&&Q.sdpUtil.modifyTrackName({vMsid:ye.vMsid&&ye.vMsid[0],aMsid:ye.aMsid&&ye.aMsid[0]}),Q.pc){We.sdp=Q.sdpUtil.sdp,X&&X.sdpHook&&typeof X.sdpHook=="function"&&(We.sdp=X.sdpHook(We.sdp)),(tt=Q.peerCore)===null||tt===void 0||tt.setPrevOfferSdp(We.sdp||"");var Vt=[];if(X)try{(Xe=Q.peerCore)===null||Xe===void 0||Xe.patchPublishStreamManagerRecord(ye.publishUrl||"",B(B({},ye),{stream:X}));var cr=(dt=Q.peerCore)===null||dt===void 0?void 0:dt.parseSdp(We.sdp||"");Vt=(vt=Q.peerCore)===null||vt===void 0?void 0:vt.updateTrackInfoList({url:ye.publishUrl||"",stream:X,vMsid:(_t=Q.peerCore)===null||_t===void 0?void 0:_t.unifyMsid(ye.vMsid,"video"),aMsid:(At=Q.peerCore)===null||At===void 0?void 0:At.unifyMsid(ye.aMsid,"audio"),sdpMediaList:(Pt=cr==null?void 0:cr.detail)===null||Pt===void 0?void 0:Pt.media})}catch(Nt){console.log(Nt)}ye.offerSdpHook&&typeof ye.offerSdpHook=="function"&&(We.sdp=ye.offerSdpHook(We.sdp||"")),Q.pc.setLocalDescription(We).then(function(){Q.pc?z({desp:Q.pc.localDescription,publishTrackInfoList:Vt}):le(new re.RtsError(ce.ErrorCode.ERROR_CREATEOFFER,"no pc",""))}).catch(function(Nt){le(new re.RtsError(ce.ErrorCode.ERROR_CREATEOFFER,"setLocalDescription error "+Nt.message,""))})}}else le(new re.RtsError(ce.ErrorCode.ERROR_CREATEOFFER,"no sdp",""))}).catch(function(We){We.isCanceled||le(new re.RtsError(ce.ErrorCode.ERROR_CREATEOFFER,We.message?We.message:"create offer error",""))})})},de.prototype.recvAnswer=function($,te){var X,ye,Q=this;return te===void 0&&(te={}),(X=this.peerCore)===null||X===void 0||X.setPrevAnswerSdp((ye=$==null?void 0:$.jsep)===null||ye===void 0?void 0:ye.sdp),new Promise(function(z,le){var ee,ve,Ee,Re,be,We;if(Q.pc){if(Q.pc.ontrack=function(Xe){Q.pc&&Q.peerCore&&Q.subMonitor.start(Q.pc,Q.peerCore),setTimeout(function(){Q.handleEncodedInsertableStreams({receiver:Xe.receiver})}),Q.isReused||Q.emit("onTrackEvent",Xe)},Q.pc.signalingState==="closed")return void le({message:"PeerConnection signalingState is closed"});if(!((ee=$.jsep)===null||ee===void 0)&&ee.sdp){var tt=new v.SdpUtil;tt.init(String((ve=$.jsep)===null||ve===void 0?void 0:ve.sdp)),Q.localStream&&(Q.localStream.audioTrack&&!Q.localStream.videoTrack&&(tt.removeTwccRtcpFb(),(Ee=Q.peerCore)===null||Ee===void 0||Ee.setRemoveTwcc(!0)),tt.setDirection()),te.tcpOnly&&tt.hasTcpCandidate&&tt.removeUdpCandidate(),$.jsep.sdp=tt.sdp,(Re=Q.peerCore)===null||Re===void 0||Re.setPrevAnswerSdp((be=$==null?void 0:$.jsep)===null||be===void 0?void 0:be.sdp)}!((We=$.jsep)===null||We===void 0)&&We.sdp&&te.answerSdpHook&&typeof te.answerSdpHook=="function"&&($.jsep.sdp=te.answerSdpHook($.jsep.sdp)),Q.pc.setRemoteDescription(new RTCSessionDescription($.jsep)).then(function(Xe){var dt;Q.pc&&Q.localStream&&(Q.localStream.setEncodeParam(Q.pc),(dt=Q.pc)===null||dt===void 0||dt.getSenders().forEach(function(vt){Q.handleEncodedInsertableStreams({sender:vt})})),z(Xe)}).catch(function(Xe){Xe.sdp=$.jsep.sdp,le(Xe)})}else le({message:"no PeerConnection"})})},de.prototype.setReceiverCodecPreferences=function($){var te;this.receiverCodecPreferences=B({},$),(te=this.peerCore)===null||te===void 0||te.setReceiverCodecPreferences(this.receiverCodecPreferences)},de.prototype.setSenderCodecPreferences=function($){var te;this.senderCodecPreferences=B({},$),(te=this.peerCore)===null||te===void 0||te.setSenderCodecPreferences(this.senderCodecPreferences)},de.prototype.removeTrack=function($,te){var X=this;return new Promise(function(ye,Q){X.pc&&X.dataChannel&&X.dataChannel.removeTrack($,te).then(function(){}).catch(function(z){Q(z)})})},de.prototype.replaceTrack=function($,te,X){var ye=this;return new Promise(function(Q,z){X||ye.pc&&ye.dataChannel&&ye.dataChannel.removeTrack($,te).then(function(){}).catch(function(le){z(le)})})},de.prototype.sendSEI=function($){var te;if(!$.data)throw new Error("No data to send, please check your params.");if(!($.data instanceof ArrayBuffer))throw new Error("data should be ArrayBuffer, please check your params.");if(!$.url)throw new Error("url is required, please check your params.");if(!$.vMsid)throw new Error("vMsid is required, please check your params.");if(T||L){var X=this.transformWorkerList.findByMsid({url:$.url,kind:E.TrackType.VIDEO,source:E.EWorkerSource.Sender,msid:$.vMsid});if(!X)throw new Error("No published stream found, please check your url: "+$.url);(te=X==null?void 0:X.worker)===null||te===void 0||te.postMessage({operation:E.EWorkerAction.InserSEI,payloadType:$.payloadType,repeatCount:$.repeatCount,sei:$.data})}},de.prototype.dispose=function(){this.cancelable&&(this.cancelable.cancel(),this.cancelable=void 0),this.peerCore&&(this.peerCore.dispose(),this.peerCore=void 0),this.pc&&(this.pc.onconnectionstatechange=function(){},this.pc.ontrack=function(){},this.pc.close(),this.pc=void 0,this.clearStatusTimer()),this.sdpUtil&&(this.sdpUtil.dispose(),this.sdpUtil=void 0),this.localStream&&(this.localStream=void 0),this.transformWorkerList.dispose(),this.subMonitor.stop(),this.pubMonitor.stopHeartbeat(),this.isReused=!1,this.encodedInsertableStreams=void 0},de.prototype.addStream=function(){if(this.localStream){if(this.pc){if(this.localStream.audioTrack){var $=this.pc.addTransceiver(this.localStream.audioTrack,{direction:"sendonly",streams:[this.localStream.mediaStream]});if(this.senderCodecPreferences.audio)try{$.setCodecPreferences(this.senderCodecPreferences.audio)}catch(X){console.warn("setCodecPreferences error",X)}}if(this.localStream.videoTrack){var te=this.pc.addTransceiver(this.localStream.videoTrack,{direction:"sendonly",streams:[this.localStream.mediaStream]});if(this.senderCodecPreferences.video)try{te.setCodecPreferences(this.senderCodecPreferences.video)}catch(X){console.warn("setCodecPreferences error",X)}}return 0}return ce.ErrorCode.ERROR_PREERCONNECTION_UNKNOWN}return ce.ErrorCode.ERROR_MEDIASTREAMTRACK_AUDIO_NONE},de.prototype.handleEncodedInsertableStreams=function($){var te,X,ye=this;if(this.encodedInsertableStreams){var Q=$.receiver,z=$.sender,le=Q?E.EWorkerSource.Receiver:E.EWorkerSource.Sender,ee=Q||z,ve=ee.track;if(!ve)return console.warn("no track in senderReceiver!");var Ee=ve.kind,Re=(X=(te=this.peerCore)===null||te===void 0?void 0:te.getStreamManager())===null||X===void 0?void 0:X.getAllTrackPairList(le===E.EWorkerSource.Receiver?M.Subscribe:M.Publish),be=Re==null?void 0:Re.find(function(_t){var At,Pt;return((Pt=(At=_t[Ee===E.TrackType.VIDEO?"vTransceiver":"aTransceiver"])===null||At===void 0?void 0:At.track)===null||Pt===void 0?void 0:Pt.id)===ve.id});if(!be)return console.warn("no existing stream info found");var We=new K.default;if(!this.transformWorkerList.add({worker:We,kind:Ee,source:le,info:be,receiver:Q,sender:z}))return console.log("worker existing, skip.");var tt=E.EWorkerAction.Setup;if(T){var Xe=ee.createEncodedStreams(),dt=Xe.readable,vt=Xe.writable;We.postMessage({source:le,readable:dt,writable:vt,operation:tt},[dt,vt])}else L&&(ee.transform=new RTCRtpScriptTransform(We,{source:le,operation:tt}));We.onmessage=function(_t){var At=_t.data,Pt=At.type,Vt=At.data,cr=At.frameInfo;Pt==="encodedFrame"&&ye.emit("encodedFrame",{kind:Ee,url:be.originUrl,vMsid:Ee==="video"?be==null?void 0:be.vMsid:void 0,aMsid:Ee==="audio"?be==null?void 0:be.aMsid:void 0,frame:B({data:Vt},cr)})}}},de.prototype.handleSubTransceiver=function($,te){var X,ye,Q,z=!1;if(!((X=this.pc)===null||X===void 0)&&X.addTransceiver){if($&&(ye=this.pc.addTransceiver("audio",{direction:"recvonly"}),this.receiverCodecPreferences.audio))try{ye.setCodecPreferences(this.receiverCodecPreferences.audio)}catch(le){console.warn("setCodecPreferences error",le)}if(te&&(Q=this.pc.addTransceiver("video",{direction:"recvonly"}),this.receiverCodecPreferences.video))try{Q.setCodecPreferences(this.receiverCodecPreferences.video)}catch(le){console.warn("setCodecPreferences error",le)}z=!0}return{added:z,aTransceiver:ye,vTransceiver:Q}},de.prototype.initDataChannel=function(){!this.dataChannel&&this.pc&&(this.dataChannel=new q.Datachannel(this.pc))},de.prototype.handleClosed=function(){this.subMonitor.stop(),this.emit("connectStatusChange",{status:E.EConnectStatus.CONNECT_STATUS_DISCONNECTED}),this.emit("onEnd")},de.prototype.clearStatusTimer=function(){this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=void 0},de.CONNECT_TIMEOUT=1e4,de}(O.default);W.RtsPeerconnection=x;var se=function(){function ne(){this.workerList=[]}return ne.prototype.add=function(de){return!this.findByMsid({url:de.info.url,source:de.source,kind:de.kind,msid:de.kind===E.TrackType.VIDEO?de.info.vMsid:de.info.aMsid})&&(this.workerList.push(de),!0)},ne.prototype.removeByUrl=function(de){var $=this;this.workerList.filter(function(te){return te.info.url.split("?")[0]===de.url.split("?")[0]&&te.source===de.source}).forEach(function(te){te.worker.terminate(),$.workerList=$.workerList.filter(function(X){return X!==te})})},ne.prototype.removeByMsid=function(de){var $=this.findByMsid(de);$?($.worker.terminate(),this.workerList=this.workerList.filter(function(te){return te!==$})):console.warn("no worker to remove")},ne.prototype.findByUrl=function(de,$){return this.workerList.find(function(te){return te.info.url.split("?")[0]===de.split("?")[0]&&te.kind===$})},ne.prototype.findByMsid=function(de){var $=de.url,te=de.kind,X=de.source,ye=de.msid,Q=te===E.TrackType.VIDEO?"vMsid":"aMsid";return this.workerList.find(function(z){return z.info.url.split("?")[0]===$.split("?")[0]&&z.source===X&&z.kind===te&&z.info[Q]===ye})},ne.prototype.dispose=function(){this.workerList.forEach(function(de){de.worker.terminate()}),this.workerList=[]},ne}()},2825:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0})},8156:function(_e,W,V){"use strict";var N=this&&this.__createBinding||(Object.create?function(k,M,j,p){p===void 0&&(p=j);var v=Object.getOwnPropertyDescriptor(M,j);v&&!("get"in v?!M.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return M[j]}}),Object.defineProperty(k,p,v)}:function(k,M,j,p){p===void 0&&(p=j),k[p]=M[j]}),U=this&&this.__exportStar||function(k,M){for(var j in k)j==="default"||Object.prototype.hasOwnProperty.call(M,j)||N(M,k,j)};Object.defineProperty(W,"__esModule",{value:!0}),W.EDatachannelStatus=W.EConnectStatus=W.AliRTS=void 0,V(9543);var B=V(4845);Object.defineProperty(W,"AliRTS",{enumerable:!0,get:function(){return B.AliRTS}}),window&&(window.AliRTS=B.AliRTS);var Y=V(5917);Object.defineProperty(W,"EConnectStatus",{enumerable:!0,get:function(){return Y.EConnectStatus}});var G=V(4450);Object.defineProperty(W,"EDatachannelStatus",{enumerable:!0,get:function(){return G.EDatachannelStatus}}),U(V(2825),W)},2672:(_e,W)=>{"use strict";var V;Object.defineProperty(W,"__esModule",{value:!0}),W.EN=void 0,function(N){N.MESSAGE_NOTSUPPORT_WEBRTC="not support webrtc",N.MESSAGE_BROWSER_NOTSUPPORT="browser not support",N.MESSAGE_BROWSER_VERSIONLOW="browser version too low",N.MESSAGE_NOTSUPPORT_H264="not support h264",N.MESSAGE_CREATEOFFER="create offer error"}(V||(W.EN=V={}))},2818:function(_e,W,V){"use strict";var N=this&&this.__assign||function(){return N=Object.assign||function(p){for(var v,P=1,O=arguments.length;P<O;P++)for(var E in v=arguments[P])Object.prototype.hasOwnProperty.call(v,E)&&(p[E]=v[E]);return p},N.apply(this,arguments)},U=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(W,"__esModule",{value:!0});var B,Y=V(233),G=U(V(7028)),k=V(9428),M=U(V(2632));(function(p){p[p.UA=101]="UA",p[p.SUB_STATS=107]="SUB_STATS",p[p.PUB_STATS=108]="PUB_STATS",p[p.CONNECT_STATE_CHANGE=109]="CONNECT_STATE_CHANGE",p[p.START_PLAY=120]="START_PLAY",p[p.STOP_PLAY=121]="STOP_PLAY",p[p.SUBSCRIBE_START=125]="SUBSCRIBE_START",p[p.SUBSCRIBE_OK=126]="SUBSCRIBE_OK",p[p.FIRST_FRAME_TIME=137]="FIRST_FRAME_TIME",p[p.DC_HTTP_CONNECT=140]="DC_HTTP_CONNECT",p[p.DC_HTTP_CONNECT_OK=141]="DC_HTTP_CONNECT_OK",p[p.DC_SUB_ADD=142]="DC_SUB_ADD",p[p.DC_SUB_ADD_OK=143]="DC_SUB_ADD_OK",p[p.DC_CONNECT_STATE_CHANGE=144]="DC_CONNECT_STATE_CHANGE",p[p.DC_SUB_STOP=145]="DC_SUB_STOP",p[p.DC_SUB_STOP_OK=146]="DC_SUB_STOP_OK",p[p.DC_DISPOSE=147]="DC_DISPOSE",p[p.ERROR_INFO=150]="ERROR_INFO",p[p.DC_PUB_ADD=152]="DC_PUB_ADD",p[p.DC_PUB_ADD_OK=153]="DC_PUB_ADD_OK",p[p.DC_PUB_STOP=155]="DC_PUB_STOP",p[p.DC_PUB_STOP_OK=156]="DC_PUB_STOP_OK",p[p.RECONNECT=160]="RECONNECT",p[p.RECONNECT_PARAMS=161]="RECONNECT_PARAMS",p[p.CREATE_CLIENT=200]="CREATE_CLIENT",p[p.LOCALSTREAM_INITED=201]="LOCALSTREAM_INITED",p[p.START_PUBLISH=220]="START_PUBLISH",p[p.STOP_PUBLISH=221]="STOP_PUBLISH",p[p.PUBLISH_OK=222]="PUBLISH_OK",p[p.SET_VIDEOPROFILE=230]="SET_VIDEOPROFILE",p[p.SET_SCREENPROFILE=231]="SET_SCREENPROFILE",p[p.SET_AUDIOPROFILE=238]="SET_AUDIOPROFILE",p[p.ENABLE_AUDIO=232]="ENABLE_AUDIO",p[p.DISABLE_AUDIO=233]="DISABLE_AUDIO",p[p.ENABLE_VIDEO=234]="ENABLE_VIDEO",p[p.DISABLE_VIDEO=235]="DISABLE_VIDEO",p[p.STOP=236]="STOP",p[p.PLAY=237]="PLAY"})(B||(B={}));var j=function(){function p(v){this.customReporter=v==null?void 0:v.customReporter,this.ct=v&&v.customTag?v.customTag:"",this.enableLog=!v||v.trackLog!=0,this._initParam(),this.slsTracker=new M.default({host:"cn-hangzhou.log.aliyuncs.com",project:"videocloud",logstore:"live-client-log",time:10,count:10})}return p.prototype.updateTid=function(){this.param?this.param.tid=Y.Guid.create(32):this._initParam()},p.prototype.updateUrl=function(v){this.param&&(this.param.pu=v)},p.prototype.reportUA=function(v){this.reporter({msgid:B.UA,args:JSON.stringify({ua:v})})},p.prototype.reportPullStats=function(v){this.reporter({msgid:B.SUB_STATS,args:JSON.stringify(N({},v))})},p.prototype.reportPushStats=function(v){this.reporter({msgid:B.PUB_STATS,args:JSON.stringify(N({},v))})},p.prototype.reportStartPlay=function(v){this.reporter({msgid:B.START_PLAY,args:JSON.stringify({vurl:v})})},p.prototype.reportStopPlay=function(){this.reporter({msgid:B.STOP_PLAY})},p.prototype.reportSubscribeStart=function(v,P,O,E,w){this.reporter({msgid:B.SUBSCRIBE_START,args:JSON.stringify({vurl:v,surl:P,vMsid:O?O.join(", "):"",aMsid:E?E.join(", "):"",isSubAdd:!!w})})},p.prototype.reportSubscribeOk=function(v){v===void 0&&(v={}),this.reporter({msgid:B.SUBSCRIBE_OK,args:JSON.stringify({vurl:v.vurl||"",surl:v.surl||"",hrct:v.hrct,tcid:v.traceId,rslt:v.rslt,isSubAdd:!!v.isSubAdd})})},p.prototype.reportFirstFrameTime=function(v,P,O,E,w,F,q,ce,re,K,T,L,x,se){this.reporter({msgid:B.FIRST_FRAME_TIME,args:JSON.stringify({vurl:v,cpct:O,hrct:E,tcid:P,ffct:w,rslt:F,cnct:q,stats:ce,delct:re,addct:K,actct:T,vMsid:L?L.join(", "):"",aMsid:x?x.join(", "):"",isSubAdd:!!se})})},p.prototype.reportErrorInfo=function(v,P,O,E){v!==k.ErrorCode.ERROR_AUTOPLAY_ERROR&&this.reporter({msgid:B.ERROR_INFO,args:JSON.stringify({errorCode:v,message:P,tcid:O,extraInfo:E})})},p.prototype.reportReconnect=function(v,P,O,E,w){this.reporter({msgid:B.RECONNECT,args:JSON.stringify({errorCode:v,message:P,tcid:O,retryTimes:E,useTcp:w})})},p.prototype.reportReconnectParams=function(v,P,O,E,w,F){this.reporter({msgid:B.RECONNECT_PARAMS,args:JSON.stringify({type:v,url:P,vMsid:(O||[]).join(","),aMsid:(E||[]).join(","),useTcp:w,streamId:F})})},p.prototype.reportCreateClient=function(){this.reporter({msgid:B.CREATE_CLIENT})},p.prototype.reportStartPublish=function(v,P,O){this.reporter({msgid:B.START_PUBLISH,args:JSON.stringify({purl:v,surl:P,isPubAdd:!!O})})},p.prototype.reportPublishOk=function(v,P,O,E,w,F,q,ce){this.reporter({msgid:B.PUBLISH_OK,args:JSON.stringify({purl:v,surl:P,coct:O,hrct:E,act:w,tcid:F,totalct:q||O+E+w,isPubAdd:!!ce})})},p.prototype.reportStopPublish=function(v,P){this.reporter({msgid:B.STOP_PUBLISH,args:JSON.stringify({url:v,isPubStop:!!P})})},p.prototype.reportVideoProfile=function(v){this.reporter({msgid:B.SET_VIDEOPROFILE,args:JSON.stringify({vp:v})})},p.prototype.reportScreenProfile=function(v){this.reporter({msgid:B.SET_SCREENPROFILE,args:JSON.stringify({sp:v})})},p.prototype.reportAudioProfile=function(v){this.reporter({msgid:B.SET_AUDIOPROFILE,args:JSON.stringify({vp:v})})},p.prototype.reportEnableAudio=function(){this.reporter({msgid:B.ENABLE_AUDIO})},p.prototype.reportDisableAudio=function(){this.reporter({msgid:B.DISABLE_AUDIO})},p.prototype.reportEnableVideo=function(){this.reporter({msgid:B.ENABLE_VIDEO})},p.prototype.reportDisableVideo=function(){this.reporter({msgid:B.DISABLE_VIDEO})},p.prototype.reportStop=function(v){this.reporter({msgid:B.STOP,args:JSON.stringify({tp:v})})},p.prototype.reportPlay=function(v){this.reporter({msgid:B.PLAY,args:JSON.stringify({tp:v})})},p.prototype.reportStreamCreated=function(v,P){this.reporter({msgid:B.LOCALSTREAM_INITED,args:JSON.stringify({userConfig:v,localStreamInfo:P})})},p.prototype.reportConnectionChange=function(v,P){this.reporter({msgid:B.CONNECT_STATE_CHANGE,args:JSON.stringify({connectionState:v,direction:P})})},p.prototype.reportDatachannelHttpConnect=function(v){this.reporter({msgid:B.DC_HTTP_CONNECT,args:JSON.stringify({url:v})})},p.prototype.reportDatachannelHttpConnectOk=function(v){this.reporter({msgid:B.DC_HTTP_CONNECT_OK,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelSubAdd=function(v){this.reporter({msgid:B.DC_SUB_ADD,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelPubAdd=function(v){this.reporter({msgid:B.DC_PUB_ADD,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelSubAddOk=function(v){this.reporter({msgid:B.DC_SUB_ADD_OK,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelPubAddOk=function(v){this.reporter({msgid:B.DC_PUB_ADD_OK,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelStatusChange=function(v){this.reporter({msgid:B.DC_CONNECT_STATE_CHANGE,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelSubStop=function(v){this.reporter({msgid:B.DC_SUB_STOP,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelPubStop=function(v){this.reporter({msgid:B.DC_PUB_STOP,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelSubStopOk=function(v){this.reporter({msgid:B.DC_SUB_STOP_OK,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelPubStopOk=function(v){this.reporter({msgid:B.DC_PUB_STOP_OK,args:JSON.stringify(N({},v))})},p.prototype.reportDatachannelDispose=function(v){this.reporter({msgid:B.DC_DISPOSE,args:JSON.stringify(N({},v))})},p.prototype._initParam=function(){this.param||(this.param={APIVersion:"0.6.0",os:Y.SystemUtil.platform,osv:Y.SystemUtil.systemVersion,bt:Y.BrowserUtil.browserName,bv:Y.BrowserUtil.browserVersion,host:window.location.origin,page:window.location.href,uid:Y.LocalStorage.uuid,tid:Y.Guid.create(32),ver:G.default.version,ct:this.ct,dt:"",lv:"1.0.0",ua:navigator&&navigator.userAgent||"",pu:""})},p.prototype.reporter=function(v){var P=N(N(N(N({},this.param||{}),{tm:new Date().getTime()}),v||{}),{msgname:B[v.msgid]});if(this.customReporter&&typeof this.customReporter=="function")try{this.customReporter(P)}catch(O){console.error("[Error in customReporter] ",O)}this.enableLog&&this.slsTracker.send(P)},p.prototype.data2String=function(v){var P="";for(var O in v)v.hasOwnProperty(O)&&(P.length&&(P+="&"),P+=O+"="+v[O]);return P},p.HEARTHEAT_INTERVAL=4,p}();W.default=j},7668:function(_e,W,V){"use strict";var N,U=this&&this.__extends||(N=function(re,K){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,L){T.__proto__=L}||function(T,L){for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(T[x]=L[x])},N(re,K)},function(re,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function T(){this.constructor=re}N(re,K),re.prototype=K===null?Object.create(K):(T.prototype=K.prototype,new T)}),B=this&&this.__assign||function(){return B=Object.assign||function(re){for(var K,T=1,L=arguments.length;T<L;T++)for(var x in K=arguments[T])Object.prototype.hasOwnProperty.call(K,x)&&(re[x]=K[x]);return re},B.apply(this,arguments)},Y=this&&this.__awaiter||function(re,K,T,L){return new(T||(T=Promise))(function(x,se){function ne(te){try{$(L.next(te))}catch(X){se(X)}}function de(te){try{$(L.throw(te))}catch(X){se(X)}}function $(te){var X;te.done?x(te.value):(X=te.value,X instanceof T?X:new T(function(ye){ye(X)})).then(ne,de)}$((L=L.apply(re,K||[])).next())})},G=this&&this.__generator||function(re,K){var T,L,x,se,ne={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return se={next:de(0),throw:de(1),return:de(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function de($){return function(te){return function(X){if(T)throw new TypeError("Generator is already executing.");for(;se&&(se=0,X[0]&&(ne=0)),ne;)try{if(T=1,L&&(x=2&X[0]?L.return:X[0]?L.throw||((x=L.return)&&x.call(L),0):L.next)&&!(x=x.call(L,X[1])).done)return x;switch(L=0,x&&(X=[2&X[0],x.value]),X[0]){case 0:case 1:x=X;break;case 4:return ne.label++,{value:X[1],done:!1};case 5:ne.label++,L=X[1],X=[0];continue;case 7:X=ne.ops.pop(),ne.trys.pop();continue;default:if(x=ne.trys,!((x=x.length>0&&x[x.length-1])||X[0]!==6&&X[0]!==2)){ne=0;continue}if(X[0]===3&&(!x||X[1]>x[0]&&X[1]<x[3])){ne.label=X[1];break}if(X[0]===6&&ne.label<x[1]){ne.label=x[1],x=X;break}if(x&&ne.label<x[2]){ne.label=x[2],ne.ops.push(X);break}x[2]&&ne.ops.pop(),ne.trys.pop();continue}X=K.call(re,ne)}catch(ye){X=[6,ye],L=0}finally{T=x=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([$,te])}}},k=this&&this.__rest||function(re,K){var T={};for(var L in re)Object.prototype.hasOwnProperty.call(re,L)&&K.indexOf(L)<0&&(T[L]=re[L]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(L=Object.getOwnPropertySymbols(re);x<L.length;x++)K.indexOf(L[x])<0&&Object.prototype.propertyIsEnumerable.call(re,L[x])&&(T[L[x]]=re[L[x]])}return T},M=this&&this.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(W,"__esModule",{value:!0}),W.RtsClient=void 0;var j=M(V(102)),p=V(5917),v=V(5676),P=V(9796),O=V(6600),E=M(V(2818)),w=M(V(7028)),F=V(7989),q=V(9428),ce=function(re){function K(T){var L=re.call(this)||this;return L.pullH264Checked=!1,L.lastProtocol="udp",L.reporter=new E.default(T),L.subscriber=new v.Subscriber(L.reporter,T?T.playConfig:void 0),L.publisher=new P.Publisher(L.reporter),L.commonController=new O.CommonController(L.reporter),L.subscriber.on("onError",function(x){return Y(L,void 0,void 0,function(){var se,ne,de,$,te;return G(this,function(X){switch(X.label){case 0:return se=(de=x.extraInfo)===null||de===void 0?void 0:de.response,this.reporter.reportErrorInfo(x.errorCode,x.message,x.traceId,{sdp:($=x.extraInfo)===null||$===void 0?void 0:$.sdp,response:{status:se==null?void 0:se.status,data:se==null?void 0:se.data}}),q.SUB_RECONNECT_ERROR_LIST.includes(x.errorCode)?this.subscriber.isConnecting?[3,2]:(ne=this.lastProtocol==="udp",this.lastProtocol=ne?"tcp":"udp",console.log("retrying with",this.lastProtocol),[4,this.subscriber.retrySubscribe(x,{innerTcpOnly:ne})]):[3,3];case 1:X.sent()?(this.reporter.reportReconnect(x.errorCode,x.message,x.traceId,(te=x.extraInfo)===null||te===void 0?void 0:te.retryTimes,ne),this.emit("reconnect",this.makeReconnectEvent("sub",x))):this.emit("onError",x),X.label=2;case 2:return[3,4];case 3:this.emit("onError",x),X.label=4;case 4:return[2]}})})}),L.subscriber.on("reconnect",function(x){var se;L.reporter.reportReconnect(x.errorCode,x.message,x.traceId,(se=x.extraInfo)===null||se===void 0?void 0:se.retryTimes),L.emit("reconnect",L.makeReconnectEvent("sub",x))}),L.subscriber.on("onPlayEvent",function(x){L.emit("onPlayEvent",x)}),L.subscriber.on("connectStatusChange",function(x){L.emit("connectStatusChange",x),L.reporter.reportConnectionChange(p.EConnectStatus[x.status],"sub")}),L.publisher.on("connectStatusChange",function(x){L.emit("connectStatusChange",x),L.reporter.reportConnectionChange(p.EConnectStatus[x.status],"pub")}),L.publisher.on("onError",function(x){return Y(L,void 0,void 0,function(){var se,ne,de,$,te,X;return G(this,function(ye){switch(ye.label){case 0:return se=(de=x.extraInfo)===null||de===void 0?void 0:de.response,this.reporter.reportErrorInfo(x.errorCode,x.message,x.traceId,{sdp:($=x.extraInfo)===null||$===void 0?void 0:$.sdp,response:{status:se==null?void 0:se.status,data:se==null?void 0:se.data}}),q.PUB_RECONNECT_ERROR_LIST.includes(x.errorCode)?this.publisher.isConnecting?[3,2]:(ne=x.errorCode===q.ErrorCode.ERROR_TRANSPORT_CLOSED&&((te=x.extraInfo)===null||te===void 0?void 0:te.protocol)!=="tcp",console.log("Retrying with ",ne?"TCP":"UDP"),[4,this.publisher.retryPublish(x,ne)]):[3,3];case 1:ye.sent()?(this.reporter.reportReconnect(x.errorCode,x.message,x.traceId,(X=x.extraInfo)===null||X===void 0?void 0:X.retryTimes,ne),this.emit("reconnect",this.makeReconnectEvent("pub",x))):this.emit("onError",x),ye.label=2;case 2:return[3,4];case 3:this.emit("onError",x),ye.label=4;case 4:return[2]}})})}),L.publisher.on("reconnect",function(x){var se;L.reporter.reportReconnect(x.errorCode,x.message,x.traceId,(se=x.extraInfo)===null||se===void 0?void 0:se.retryTimes),L.emit("reconnect",L.makeReconnectEvent("pub",x))}),L.commonController.on("connectStatusChange",function(x){L.emit("connectStatusChange",x),L.reporter.reportConnectionChange(p.EConnectStatus[x.status],"signalChannel")}),L.commonController.on("onError",function(x){L.reporter.reportErrorInfo(x.errorCode,x.message,x.traceId),L.emit("onError",x)}),L.commonController.on("datachannelStatusChange",function(x){L.emit("datachannelStatusChange",x)}),L.commonController.on("encodedFrame",function(x){L.emit("encodedFrame",x)}),L.commonController.on("receivedSEI",function(x){L.emit("receivedSEI",x)}),L.commonController.on("onPlayEvent",function(x){L.emit("onPlayEvent",x)}),L.reporter.reportCreateClient(),L}return U(K,re),K.prototype.getVersion=function(){return w.default.version},K.prototype.isSupport=function(T){var L=new F.SupportUtil;return this.pullH264Checked=!0,L.isSupport(T)},K.prototype.checkPublishSupport=function(){return new F.SupportUtil().checkPublishSupport()},K.prototype.checkEncodedTransformSupport=function(){return new F.SupportUtil().checkEncodedTransformSupport()},K.prototype.subscribe=function(T,L){return this.reporter.updateUrl(T),this.commonController.setPeerconnection(this.subscriber.getPeerConnection()),this.subscriber.resetResubscribeStatus(),this.subscriber.subscribeWithReconnect(T,B(B({},L),{isH264Checked:this.pullH264Checked}))},K.prototype.subscribeAdd=function(T){return this.commonController.subscribeAdd(T)},K.prototype.subscribeActive=function(T){return this.commonController.subscribeActive(T)},K.prototype.subscribeDeleteTracks=function(T){return this.commonController.subscribeDeleteTracks(T)},K.prototype.subscribeStop=function(T){return this.commonController.subscribeStop(T)},K.prototype.publishAdd=function(T){return this.commonController.publishAdd(T)},K.prototype.publishDeleteTracks=function(T){return this.commonController.publishDeleteTracks(T)},K.prototype.publishReplaceTracks=function(T){return this.commonController.publishReplaceTracks(T)},K.prototype.publishStop=function(T){return this.commonController.publishStop(T)},K.prototype.subscribeAddDatachannel=function(T){return this.commonController.subscribeAddDatachannel(T)},K.prototype.subscribeStopDatachannel=function(T){return this.commonController.subscribeStopDatachannel(T)},K.prototype.publishAddDatachannel=function(T){return this.commonController.publishAddDatachannel(T)},K.prototype.publishStopDatachannel=function(T){return this.commonController.publishStopDatachannel(T)},K.prototype.unsubscribe=function(){this.subscriber.resetResubscribeStatus(),this.subscriber.unsubscribe()},K.prototype.startLiveStream=function(T,L,x){return this.reporter.reportStartPlay(T),this.subscriber.startLiveStream(T,L,x)},K.prototype.stopLiveStream=function(){this.reporter.reportStopPlay(),this.subscriber.stopLiveStream()},K.prototype.muteLiveStream=function(T){this.subscriber.muteLiveStream(T)},K.prototype.publish=function(T,L,x){return Y(this,void 0,void 0,function(){return G(this,function(se){return this.reporter.updateUrl(T),this.commonController.setPeerconnection(this.publisher.getPeerConnection()),this.publisher.resetRepublishStatus(),[2,this.publisher.publishWithReconnect(T,L,x)]})})},K.prototype.unpublish=function(){return this.publisher.resetRepublishStatus(),this.publisher.unpublish()},K.prototype.sendSEI=function(T){this.publisher.sendSEI(T),this.commonController.sendSEI(T)},K.prototype.getPublishTrackInfoList=function(){return this.publisher.getTrackInfoList()},K.prototype.getTransportStats=function(){return this.subscriber.getPeerConnection().getSubMonitor().getTransportStats()},K.prototype.getRemoteVideoStats=function(){return this.subscriber.getPeerConnection().getSubMonitor().getRemoteVideoStats()},K.prototype.getRemoteAudioStats=function(){return this.subscriber.getPeerConnection().getSubMonitor().getRemoteAudioStats()},K.prototype.getSubscribeVideoStats=function(T,L){return this.commonController.getSubscribeVideoStats(T,L)},K.prototype.getSubscribeAudioStats=function(T,L){return this.commonController.getSubscribeAudioStats(T,L)},K.prototype.getPublishVideoStats=function(T,L){return this.commonController.getPublishVideoStats(T,L)},K.prototype.getPublishAudioStats=function(T,L){return this.commonController.getPublishAudioStats(T,L)},K.prototype.setReceiverCodecPreferences=function(T){return this.commonController.setReceiverCodecPreferences(T)},K.prototype.setSenderCodecPreferences=function(T){return this.commonController.setSenderCodecPreferences(T)},K.prototype.makeReconnectEvent=function(T,L){var x=L||{},se=x.extraInfo||{};return{type:T,reason:k(x,["extraInfo"]),retryTimes:se.retryTimes,extraInfo:k(se,["retryTimes"])}},K}(j.default);W.RtsClient=ce},335:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var V=function(){function N(U){this.useGainNode=!0,this.audioContext=new AudioContext,this.audioDestination=this.audioContext.createMediaStreamDestination(),this.audioSource=[],this.gainNode=null,this.audioTrack=null,this.audioTrackArr=U.trackList||[],this.useGainNode=typeof U.useGainNode!="boolean"||U.useGainNode,this.useGainNode&&(this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.gainNode.gain.value=0),this.getMixedAudioTrack()}return N.prototype.destroy=function(){var U;(U=this.getMixedAudioTrack())===null||U===void 0||U.stop(),this.disconnectSourceNode(),this.audioContext.close(),this.audioTrackArr=[]},N.prototype.updateTrackList=function(U){U.length&&(this.disconnectSourceNode(),this.audioTrackArr=U,this.connectNode())},N.prototype.getMixedAudioTrack=function(){return this.audioTrack||(this.connectNode(),this.audioTrack=this.audioDestination.stream.getAudioTracks()[0]),this.audioTrack},N.prototype.connectNode=function(){var U=this;this.audioTrackArr.forEach(function(B){var Y=new MediaStream;Y.addTrack(B);var G=U.audioContext.createMediaStreamSource(Y);U.gainNode&&G.connect(U.gainNode),U.audioSource.push(G)}),this.audioSource.forEach(function(B){B.connect(U.audioDestination)})},N.prototype.disconnectSourceNode=function(){var U=this;this.audioSource.forEach(function(B){U.gainNode&&B.disconnect(U.gainNode),B.disconnect(U.audioDestination)}),this.audioSource=[]},N}();W.default=V},1893:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.TwoDRenderer=void 0;var V=function(){function N(U){this.video=U.video,this.canvas=U.canvas,this.ctx=this.canvas.getContext("2d")}return N.prototype.render=function(){var U,B,Y=this.video,G=this.canvas;Y&&G&&((U=this.ctx)===null||U===void 0||U.clearRect(0,0,G.width,G.height),(B=this.ctx)===null||B===void 0||B.drawImage(Y,0,0,1*Y.videoWidth,1*Y.videoHeight),this.requestId=requestAnimationFrame(this.render.bind(this)))},N.prototype.stop=function(){this.requestId&&cancelAnimationFrame(this.requestId)},N}();W.TwoDRenderer=V},6295:(_e,W,V)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.CanvasRenderer=void 0;var N=V(1893),U=function(){function B(Y){this.video=Y.video,this.canvas=this.initCanvas(),this.activeRenderer=this.initRenderer()}return Object.defineProperty(B.prototype,"mediaStream",{get:function(){var Y;return this.ms||(this.ms=((Y=this.canvas)===null||Y===void 0?void 0:Y.captureStream())||void 0),this.ms},enumerable:!1,configurable:!0}),B.prototype.start=function(){this.render()},B.prototype.stop=function(){this.activeRenderer.stop()},B.prototype.initCanvas=function(){var Y=document.createElement("canvas"),G=this.video;return Y.width=1*G.videoWidth,Y.height=1*G.videoHeight,Y},B.prototype.initRenderer=function(){return new N.TwoDRenderer({video:this.video,canvas:this.canvas})},B.prototype.render=function(){this.activeRenderer.render()},B.prototype.resize=function(Y,G){this.canvas&&(this.canvas.width=Y,this.canvas.height=G)},B}();W.CanvasRenderer=U},102:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var V=function(){function N(){this._eventMap={}}return N.prototype.listeners=function(U){return this._eventMap[U]||[]},N.prototype.emit=function(U){for(var B=this,Y=[],G=1;G<arguments.length;G++)Y[G-1]=arguments[G];var k=this._eventMap[U];return!!Array.isArray(k)&&(k.forEach(function(M){return M.apply(B,Y)}),!0)},N.prototype.off=function(U,B){var Y=this._eventMap[U];return Array.isArray(Y)&&(this._eventMap[U]=Y.filter(function(G){return G!==B})),this},N.prototype.removeAllListeners=function(U){return U===void 0?this._eventMap={}:this._eventMap[U]&&(this._eventMap[U]=[]),this},N.prototype.on=function(U,B){return this._eventMap[U]?this._eventMap[U].push(B):this._eventMap[U]=[B],this},N.prototype.once=function(U,B){var Y=this,G=function(){for(var k=[],M=0;M<arguments.length;M++)k[M]=arguments[M];Y.off(U,G),B.apply(Y,k)};return this.on(U,G),this},N}();W.default=V},492:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.MediaObserver=void 0;var V=function(){function N(U){this.timeout=U.timeout||N.DEFAULT_TIMEOUT,this.handler=U.handler||function(){},this.watchTimer=null}return Object.defineProperty(N.prototype,"actTimeout",{get:function(){return this.timeout},enumerable:!1,configurable:!0}),N.prototype.check=function(U,B,Y,G){var k=this;this.hasNoData(U)?this.watchTimer||(this.watchTimer=window.setTimeout(function(){k.handler(B,Y,G)},this.timeout)):this.watchTimer&&(clearTimeout(this.watchTimer),this.watchTimer=null)},N.prototype.hasNoData=function(U){return!U||(U.video?!(Number(U.video.bytesReceivedPerSecond)>0):!U.audio||!(Number(U.audio.bytesReceivedPerSecond)>0))},N.prototype.updateConfig=function(U){this.timeout=U.timeout||this.timeout,this.handler=U.handler||this.handler},N.prototype.reset=function(){this.watchTimer&&(clearTimeout(this.watchTimer),this.watchTimer=null)},N.prototype.dispose=function(){this.timeout=N.DEFAULT_TIMEOUT,this.handler=function(){},this.watchTimer&&(clearTimeout(this.watchTimer),this.watchTimer=null)},N.DEFAULT_TIMEOUT=6e3,N}();W.MediaObserver=V},9594:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.readUUID=W.discardEPB=W.insertEPB=W.SODBtoRBSP=W.convertPayloadSize=W.NALU=W.SEI=W.parseSei=W.insertSei=void 0,W.insertSei=function(U,B,Y,G){Y===void 0&&(Y=5);for(var k=U.data,M=new DataView(k),j=0;;){if(M.getUint32(j)===1){M.getUint8(j+4);var p=new V(B,Y,G).buffer,v=new N(p).buffer,P=new ArrayBuffer(v.byteLength+k.byteLength),O=new Uint8Array(P),E=new Uint8Array(v);O.set(E);var w=new Uint8Array(k);O.set(w,v.byteLength),U.data=P,j+=1;break}if((j+=1)+4>=M.byteLength)break}},W.parseSei=function(U){for(var B=[],Y=new DataView(U),G=0;;){var k=G,M=Y.getUint32(k);if(k+=4,M===1){if((31&Y.getUint8(k++))===6){for(var j=Y.getUint8(k++),p=j===5?16:0,v=0;Y.getUint8(k)==255;)k++,v+=255;if((v+=Y.getUint8(k++))>0&&Y.byteLength>k+v){var P=new Uint8Array(Y.buffer),O="";if(j===5){var E=P.slice(k,k+p);O=(0,W.readUUID)((0,W.discardEPB)(E))}var w=P.slice(k+p,k+v);k+=v,B.push({payloadType:j,uuid:O,data:w.buffer})}}G=k}else G+=1;if(G+4>=Y.byteLength)break}return B};var V=function(U,B,Y){B===void 0&&(B=5);var G=B===5?16:0,k=U.byteLength+G,M=(0,W.convertPayloadSize)(k),j=M.buffer.byteLength,p=new ArrayBuffer(1+j+G+U.byteLength),v=new Uint8Array(p),P=0;if(v[P++]=B,v.set(M,P),P+=M.byteLength,B===5){Y=(Y||"00000000-0000-0000-0000-000000000000").replace(/-/g,"");for(var O=0;O<16;O++)v[P+O]=parseInt(Y.substr(2*O,2),16);P+=16}var E=new Uint8Array(U);v.set(E,P);var w=(0,W.SODBtoRBSP)(v);this.buffer=w.buffer};W.SEI=V;var N=function(U){var B=new Uint8Array([0,0,0,1]),Y=new Uint8Array([6]),G=new ArrayBuffer(B.byteLength+Y.byteLength+U.byteLength),k=new Uint8Array(G);k.set(B),k.set(Y,B.byteLength),k.set(new Uint8Array(U),B.byteLength+Y.byteLength),this.buffer=G};W.NALU=N,W.convertPayloadSize=function(U){if(U<=0)throw new Error("payloadSize must be a positive integer.");for(var B=Math.ceil(U/255),Y=new ArrayBuffer(B),G=new DataView(Y),k=0;k<B-1;k++)G.setUint8(k,255);return G.setUint8(B-1,U%255&255),new Uint8Array(Y)},W.SODBtoRBSP=function(U){for(var B=new Uint8Array(U),Y="",G=0;G<B.length;G++)Y+=B[G].toString(2).padStart(8,"0");for(Y+="1";Y.length%8!=0;)Y+="0";var k=Y.length/8,M=new Uint8Array(k);for(G=0;G<k;G++)M[G]=parseInt(Y.slice(8*G,8*G+8),2);return(0,W.insertEPB)(M)},W.insertEPB=function(U){for(var B=[],Y=0,G=0;G<U.length;G++)B.push(U[G]),U[G]===0?++Y===2&&G<U.length-1&&U[G+1]<=3&&(B.push(3),Y=0):Y=0;return new Uint8Array(B)},W.discardEPB=function(U){for(var B=U.byteLength,Y=[],G=1;G<B-2;)U[G]===0&&U[G+1]===0&&U[G+2]===3?(Y.push(G+2),G+=2):G++;if(Y.length===0)return U;var k=B-Y.length,M=new Uint8Array(k),j=0;for(G=0;G<k;j++,G++)j===Y[0]&&(j++,Y.shift()),M[G]=U[j];return M},W.readUUID=function(U){if(U.length!==16)throw new Error("UUID must be 16 bytes long.");var B=U.reduce(function(Y,G){return Y+G.toString(16).padStart(2,"0")},"");return"".concat(B.slice(0,8),"-").concat(B.slice(8,12),"-").concat(B.slice(12,16),"-").concat(B.slice(16,20),"-").concat(B.slice(20))}},8219:function(_e,W,V){"use strict";var N=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(W,"__esModule",{value:!0});var U=N(V(2505));W.default=U.default.create({baseURL:"",timeout:5e3,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},4315:function(_e,W,V){"use strict";var N=this&&this.__spreadArray||function(G,k,M){if(M||arguments.length===2)for(var j,p=0,v=k.length;p<v;p++)!j&&p in k||(j||(j=Array.prototype.slice.call(k,0,p)),j[p]=k[p]);return G.concat(j||Array.prototype.slice.call(k))};Object.defineProperty(W,"__esModule",{value:!0}),W.SdpUtil=void 0;var U=V(233),B=function(){this.stramId="",this.audioTrackId="",this.videoTrackId="",this.screenTrackId="",this.customTrackId=""},Y=function(){function G(k){this.sdpLines=new Array,this.localStream=k,this.publishStreamInfo=new B}return Object.defineProperty(G.prototype,"sdp",{get:function(){return this.sdpLines.join(`\r
`)},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"videoTrackId",{get:function(){return this.publishStreamInfo.videoTrackId},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"screenTrackId",{get:function(){return this.publishStreamInfo.videoTrackId},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"videoName",{get:function(){return"rts video"},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"screenName",{get:function(){return"rts screen"},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"hasTcpCandidate",{get:function(){return this.sdpLines.some(function(k){return k.indexOf("tcptype")!==-1})},enumerable:!1,configurable:!0}),G.prototype.init=function(k){this.sdpLines=k.split(`\r
`)},G.prototype.addNack=function(){for(var k=0;k<this.sdpLines.length;++k)if(this.sdpLines[k].indexOf("opus")!=-1&&this.sdpLines[k+1].indexOf("rtcp-fb")!=-1){var M=this.sdpLines[k+1].split(" ");M.length==2&&(this.sdpLines[k+2].indexOf("rtcp-fb")!=-1?this.sdpLines.splice(k+3,0,M[0]+" nack"):this.sdpLines.splice(k+2,0,M[0]+" nack"))}},G.prototype.parseCustomMsid=function(k){var M={stream:"",track:""};if(!k)return M;var j=k.trim().split(" ");return j.length==2?(M.stream=j[0],M.track=j[1]):M.track=j[0],M},G.prototype.modifyTrackName=function(k){k===void 0&&(k={});var M=k.vMsid,j=k.aMsid,p=M?this.parseCustomMsid(M):{stream:"rts",track:"video"},v=j?this.parseCustomMsid(j):{stream:"rts",track:"audio"},P="";if(this.localStream){this.publishStreamInfo.stramId=this.localStream.mediaStream.id,this.localStream.audioTrack&&(this.publishStreamInfo.audioTrackId=this.localStream.audioTrack.id,P=v.stream||"-"),this.localStream.videoTrack&&(this.publishStreamInfo.videoTrackId=this.localStream.videoTrack.id,P=p.stream||"-");for(var O=!1,E=!1,w=0;w<this.sdpLines.length;++w){var F=this.sdpLines[w],q=F.indexOf(this.publishStreamInfo.stramId);this.publishStreamInfo.stramId&&q!=-1&&(this.sdpLines[w]=this.sdpLines[w].replace(this.publishStreamInfo.stramId,P),U.BrowserUtil.isFirefox&&(O?this.sdpLines[w]=this.sdpLines[w].substring(0,q+P.length+1)+v.track:E&&(this.sdpLines[w]=this.sdpLines[w].substring(0,q+P.length+1)+p.track))),this.publishStreamInfo.audioTrackId&&F.indexOf(this.publishStreamInfo.audioTrackId)!=-1?this.sdpLines[w]=this.sdpLines[w].replace(this.publishStreamInfo.audioTrackId,v.track):this.publishStreamInfo.videoTrackId&&F.indexOf(this.publishStreamInfo.videoTrackId)!=-1&&(this.sdpLines[w]=this.sdpLines[w].replace(this.publishStreamInfo.videoTrackId,p.track)),F.indexOf("m=audio")!=-1?(O=!0,E=!1):F.indexOf("m=video")!=-1&&(E=!0,O=!1),F.indexOf("a=ssrc")!=-1&&(q=F.indexOf("cname:"))!==-1&&(O?this.sdpLines[w]=F.substr(0,q+6)+v.track:E&&(this.sdpLines[w]=F.substr(0,q+6)+p.track))}}},G.prototype.getPublishVideoSdp=function(){for(var k=-1,M=-1,j=!1,p=0;p<this.sdpLines.length;++p){if(j&&this.sdpLines[p].indexOf("m=application")>-1){M=p-1;break}if(this.sdpLines[p].indexOf("m=video")>-1){if(j){M=p-1;break}k=p}this.sdpLines[p].indexOf("rts video")>-1&&(j=!0)}return j?(M===-1&&(M=this.sdpLines.length-1),this.sdpLines.splice(k,M-k).join(`\r
`)):""},G.prototype.removeVideoTrack=function(k){for(var M="rts "+k,j=-1,p=-1,v=!1,P=0;P<this.sdpLines.length;++P){if(v&&this.sdpLines[P].indexOf("m=application")>-1){p=P-1;break}if(this.sdpLines[P].indexOf("m=video")>-1){if(v){p=P-1;break}j=P}this.sdpLines[P].indexOf(M)>-1&&(v=!0)}return!!v&&(p===-1&&(p=this.sdpLines.length-1),this.sdpLines.splice(j,p-j),!0)},G.prototype.ios15PushHack=function(){var k=!1,M=-1;if(this.sdpLines.forEach(function(v,P){v.includes("m=video")&&(k=!0),k&&M===-1&&v.includes("a=")&&(M=P)}),M!==-1){var j=this.getExtmapIds(),p=Math.max.apply(Math,j)+1;this.sdpLines.splice(M,0,"a=extmap:".concat(p," urn:3gpp:video-orientation"))}},G.prototype.addSps=function(){this.sdpLines=this.sdpLines.map(function(k){return k.includes("a=fmtp:")&&k.includes("level-asymmetry-allowed")?k+=";sps-pps-idr-in-keyframe=1":k})},G.prototype.removeTwccRtcpFb=function(){this.sdpLines=this.sdpLines.filter(function(k){return!k.includes("http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01")})},G.prototype.removeUdpCandidate=function(){this.sdpLines=this.sdpLines.filter(function(k){return!k.includes("a=candidate:")||!k.includes("UDP")}),console.log("removed udp candidate")},G.prototype.setDirection=function(k){k===void 0&&(k={direction:"recvonly"});var M=["sendonly","recvonly","sendrecv"].filter(function(v){return v!==k.direction}),j=!1,p=!1;this.sdpLines=this.sdpLines.map(function(v,P){if(v.includes("m=video"))j=!0,p=!1;else if(v.includes("m=audio"))p=!0,j=!1;else if(v.includes("m=application"))j=!1,p=!1;else if(j||p){var O;if(M.some(function(E){if(v.includes(E))return O=E,!0})&&O)return v.replace(O,k.direction)}return v})},G.prototype.removeSDES=function(){var k=["urn:ietf:params:rtp-hdrext:sdes:mid","urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id"];this.sdpLines=this.sdpLines.filter(function(M){return!k.some(function(j){return M.includes(j)})})},G.prototype.addStereo=function(){var k=this;this.getPayloadType("opus").map(this.getFmtpIndex.bind(this)).filter(function(M){return M!==void 0}).forEach(function(M){k.sdpLines[M].indexOf("stereo=1")>-1||(k.sdpLines[M]=k.sdpLines[M]+";stereo=1")})},G.prototype.dispose=function(){this.localStream&&(this.localStream=void 0),this.sdpLines=new Array,this.publishStreamInfo=new B},G.prototype.getExtmapIds=function(){return this.sdpLines.reduce(function(k,M){if(M.includes("a=extmap")){var j=Number(M.replace("a=extmap:","").split(" ")[0]);return N(N([],k,!0),[j],!1)}return k},[]).filter(function(k){return k})},G.prototype.getPayloadType=function(k){for(var M=[],j=new RegExp("a\\=rtpmap\\:(\\d+) ".concat(k,".*"),"i"),p=0;p<this.sdpLines.length;p++){var v=this.sdpLines[p],P=j.exec(v);P!=null&&P.length&&M.push(P[1])}return M},G.prototype.getFmtpIndex=function(k){for(var M=new RegExp("a\\=fmtp\\:".concat(k," .*"),"i"),j=0;j<this.sdpLines.length;j++){var p=this.sdpLines[j];if(M.test(p))return j}},G}();W.SdpUtil=Y},7989:function(_e,W,V){"use strict";var N=this&&this.__awaiter||function(p,v,P,O){return new(P||(P=Promise))(function(E,w){function F(re){try{ce(O.next(re))}catch(K){w(K)}}function q(re){try{ce(O.throw(re))}catch(K){w(K)}}function ce(re){var K;re.done?E(re.value):(K=re.value,K instanceof P?K:new P(function(T){T(K)})).then(F,q)}ce((O=O.apply(p,v||[])).next())})},U=this&&this.__generator||function(p,v){var P,O,E,w,F={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function q(ce){return function(re){return function(K){if(P)throw new TypeError("Generator is already executing.");for(;w&&(w=0,K[0]&&(F=0)),F;)try{if(P=1,O&&(E=2&K[0]?O.return:K[0]?O.throw||((E=O.return)&&E.call(O),0):O.next)&&!(E=E.call(O,K[1])).done)return E;switch(O=0,E&&(K=[2&K[0],E.value]),K[0]){case 0:case 1:E=K;break;case 4:return F.label++,{value:K[1],done:!1};case 5:F.label++,O=K[1],K=[0];continue;case 7:K=F.ops.pop(),F.trys.pop();continue;default:if(E=F.trys,!((E=E.length>0&&E[E.length-1])||K[0]!==6&&K[0]!==2)){F=0;continue}if(K[0]===3&&(!E||K[1]>E[0]&&K[1]<E[3])){F.label=K[1];break}if(K[0]===6&&F.label<E[1]){F.label=E[1],E=K;break}if(E&&F.label<E[2]){F.label=E[2],F.ops.push(K);break}E[2]&&F.ops.pop(),F.trys.pop();continue}K=v.call(p,F)}catch(T){K=[6,T],O=0}finally{P=E=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([ce,re])}}};Object.defineProperty(W,"__esModule",{value:!0}),W.SupportUtil=void 0;var B=V(233),Y=V(3412),G=V(9428),k=V(2672),M=function(){this.errorCode=0,this.message=""},j=function(){function p(){this.deviceManager=new Y.BrowserDeviceManager}return p.prototype.isSupport=function(v){var P=this;return new Promise(function(O,E){return N(P,void 0,void 0,function(){var w,F,q,ce;return U(this,function(re){switch(re.label){case 0:return w=new M,this.checkWebRtcSupport()?v.onlyCheckUA?this.checkBrowser(w)?[3,3]:[2,E(w)]:[3,1]:(w.errorCode=G.ErrorCode.ERROR_NOTSUPPORT_WEBRTC,w.message=k.EN.MESSAGE_NOTSUPPORT_WEBRTC,[2,E(w)]);case 1:return[4,this.checkWebrtcAbilities()];case 2:if(F=re.sent(),q=F[0],F[1],F[2],ce=F[3],!q)return w.errorCode=G.ErrorCode.ERROR_NOTSUPPORT_WEBRTC,w.message=k.EN.MESSAGE_NOTSUPPORT_WEBRTC,[2,E(w)];if(ce)return w.errorCode=G.ErrorCode.ERROR_BROWSER_NOTSUPPORT,w.message=k.EN.MESSAGE_BROWSER_NOTSUPPORT,[2,E(w)];re.label=3;case 3:return v.isReceiveVideo?this.checkH264Decode(w).then(function(){O(w)}).catch(function(){E(w)}):O(w),[2]}})})})},p.prototype.checkEncodedTransformSupport=function(){var v=window.RTCRtpReceiver&&"createEncodedStreams"in RTCRtpReceiver.prototype,P=window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&"RTCRtpScriptTransform"in window;return v||P},p.prototype.checkWebrtcAbilities=function(v){return N(this,void 0,void 0,function(){var P,O,E,w,F,q,ce,re,K;return U(this,function(T){switch(T.label){case 0:P=window.RTCPeerConnection,O=!1,E=!1,w=null,F=!1,T.label=1;case 1:return T.trys.push([1,4,,5]),P?(q=new P,E="createDataChannel"in q,v&&(ce=this.createBlankStream()).getTracks().forEach(function(L){q==null||q.addTrack(L,ce)}),[4,q.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0,iceRestart:!0})]):[3,3];case 2:re=T.sent(),K=(re||{}).sdp,w=v?!!(K&&K.indexOf("a=sendrecv")>-1):null,q.close(),q=void 0,O=!0,T.label=3;case 3:return[3,5];case 4:return T.sent(),O=!1,E=!1,w=!1,[3,5];case 5:return F=this.checkBlackList(),[2,[O,E,w,F]]}})})},p.prototype.checkPublishSupport=function(){return N(this,void 0,void 0,function(){var v,P,O,E,w,F,q,ce;return U(this,function(re){switch(re.label){case 0:return v={isWebRTCSupported:!1,isH264EncodeSupported:!1,isMediaDevicesSupported:!1,isScreenCaptureSupported:!1,isAudioMixSupported:!1,cameraList:[],micList:[],speakerList:[]},this.checkWebRtcSupport()?[3,1]:(v.isWebRTCSupported=!1,v.isH264EncodeSupported=!1,[3,5]);case 1:return[4,this.checkWebrtcAbilities(!0)];case 2:return P=re.sent(),O=P[0],P[1],E=P[2],v.isWebRTCSupported=!(!O||!E),v.isWebRTCSupported?[3,3]:(v.isH264EncodeSupported=!1,[3,5]);case 3:return w=v,[4,this.checkH264Encode()];case 4:w.isH264EncodeSupported=re.sent(),re.label=5;case 5:if(v.isMediaDevicesSupported=this.checkMediaDevices(),v.isScreenCaptureSupported=this.checkScreenCapture(),v.isAudioMixSupported=this.checkAudioMix(),!v.isMediaDevicesSupported)return[3,11];re.label=6;case 6:return re.trys.push([6,10,,11]),F=v,[4,this.deviceManager.getCameraList()];case 7:return F.cameraList=re.sent().filter(function(K){return K.deviceId}),q=v,[4,this.deviceManager.getMicList()];case 8:return q.micList=re.sent().filter(function(K){return K.deviceId}),ce=v,[4,this.deviceManager.getSpeakerList()];case 9:return ce.speakerList=re.sent().filter(function(K){return K.deviceId}),[3,11];case 10:return re.sent(),[3,11];case 11:return[2,v]}})})},p.prototype.checkWebRtcSupport=function(){return!!window.RTCPeerConnection},p.prototype.checkMediaDevices=function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)},p.prototype.checkScreenCapture=function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)},p.prototype.checkAudioMix=function(){if(!window.AudioContext)return!1;var v=new AudioContext;return!!v.createMediaStreamDestination&&!!v.createMediaStreamSource},p.prototype.checkBlackList=function(){var v=!1;if(B.BrowserUtil.isOppoBrowser&&B.SystemUtil.isAndroid){var P=(this.getUa().toLowerCase().match(/heytapbrowser\/([\d.]+)/)||[])[1]||"";v=!this.compareVersion(P,"40.7.39.1")}else(B.BrowserUtil.isUCBrowser||B.BrowserUtil.isQuarkBrowser)&&B.SystemUtil.isIos?v=!0:B.BrowserUtil.isWebView&&B.SystemUtil.isAndroid&&(v=!(B.BrowserUtil.browserMainVersion>=79));return v},p.prototype.checkBrowser=function(v){if(B.SystemUtil.isIos){if(B.BrowserUtil.isUCBrowser||B.BrowserUtil.isQuarkBrowser)return v.errorCode=G.ErrorCode.ERROR_BROWSER_NOTSUPPORT,v.message=k.EN.MESSAGE_BROWSER_NOTSUPPORT,!1;if(B.BrowserUtil.isSafari||B.BrowserUtil.isQQBrowser)return B.BrowserUtil.browserMainVersion>=11||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isEdge||B.BrowserUtil.isChrome)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isMicroMessenger)return!!this.compareVersion(B.SystemUtil.systemVersion,"12.1.4")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isDingTalk)return!!B.SystemUtil.compareVersion("11.2.5")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isWebView)return!!this.compareVersion(B.SystemUtil.systemVersion,"14.3")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}else if(B.SystemUtil.isAndroid){if(this.checkPrivateUcWebview())return!0;if(B.BrowserUtil.isChrome||B.BrowserUtil.isQQBrowser||B.BrowserUtil.isHuaweiBrowser||B.BrowserUtil.isSamsungBrowser)return B.BrowserUtil.browserMainVersion>=63||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isEdge)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isMicroMessenger)return!!this.compareVersion(this.getChromeCoreVersion(),"63")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isDingTalk)return!!this.compareVersion(this.getChromeCoreVersion(),"69")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isOppoBrowser){var P=(this.getUa().toLowerCase().match(/heytapbrowser\/([\d.]+)/)||[])[1]||"";return!!this.compareVersion(P,"40.7.39.1")||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}if(B.BrowserUtil.isX5Core)return!0;if(B.BrowserUtil.isWebView)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}else if(B.SystemUtil.isMacOS){if(B.BrowserUtil.isElectron)return!0;if(B.BrowserUtil.isSafari)return B.BrowserUtil.browserMainVersion>=11||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isChrome)return B.BrowserUtil.browserMainVersion>=63||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isEdge)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isFirefox)return B.BrowserUtil.browserMainVersion>=62||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isOpera)return B.BrowserUtil.browserMainVersion>=15||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}else if(B.SystemUtil.isWindows){if(B.BrowserUtil.isElectron||B.BrowserUtil.isMicroMessenger)return!0;if(B.BrowserUtil.isChrome||B.BrowserUtil.isQQBrowser)return B.BrowserUtil.browserMainVersion>=63||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isEdge)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isFirefox)return B.BrowserUtil.browserMainVersion>=62||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isOpera)return B.BrowserUtil.browserMainVersion>=15||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}else if(B.SystemUtil.isLinux){if(B.BrowserUtil.isChrome)return B.BrowserUtil.browserMainVersion>=63||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isEdge)return B.BrowserUtil.browserMainVersion>=79||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1);if(B.BrowserUtil.isFirefox)return B.BrowserUtil.browserMainVersion>=62||(v.errorCode=G.ErrorCode.ERROR_BROWSER_VERSIONLOW,v.message=k.EN.MESSAGE_BROWSER_VERSIONLOW,!1)}return v.errorCode===0&&(v.errorCode=G.ErrorCode.ERROR_BROWSER_NOTSUPPORT,v.message=k.EN.MESSAGE_BROWSER_NOTSUPPORT),!1},p.prototype.checkH264Decode=function(v){var P=this;return new Promise(function(O,E){return N(P,void 0,void 0,function(){var w;return U(this,function(F){switch(F.label){case 0:return[4,this.tryFindH264FromSdp(v)];case 1:if(w=F.sent())return O(!0),[2];F.label=2;case 2:return F.trys.push([2,4,,5]),[4,this.loadH264(3)];case 3:return w=F.sent(),[3,5];case 4:return F.sent(),[3,5];case 5:return w?O(!0):(v&&v.errorCode===0&&(v.errorCode=G.ErrorCode.ERROR_NOTSUPPORT_H264,v.message=k.EN.MESSAGE_NOTSUPPORT_H264),E(!1)),[2]}})})})},p.prototype.checkSDPSupportH264=function(v){return v.indexOf("H264")>0||v.indexOf("h264")>0||v.indexOf("H.264")>0||v.indexOf("h.264")>0},p.prototype.checkPrivateUcWebview=function(){return this.getUa().indexOf("UniqueCode")>0},p.prototype.getUa=function(){return navigator&&navigator.userAgent||""},p.prototype.getChromeCoreVersion=function(){return(this.getUa().toLowerCase().match(/chrome\/([\d.]+)/)||[])[1]||""},p.prototype.compareVersion=function(v,P){v===void 0&&(v=""),P===void 0&&(P="");for(var O=(v||"").split("."),E=(P||"").split("."),w=0,F=0,q=0;q<O.length&&q<E.length;++q){if((w=isNaN(parseInt(O[q],10))?0:parseInt(O[q],10))<(F=isNaN(parseInt(E[q],10))?0:parseInt(E[q],10)))return!1;if(w>F)return!0}return!0},p.prototype.tryFindH264FromSdp=function(v){return N(this,void 0,void 0,function(){var P,O,E;return U(this,function(w){switch(w.label){case 0:if(P=!1,!RTCPeerConnection)return[2,P];O=new RTCPeerConnection,E=void 0,w.label=1;case 1:return w.trys.push([1,3,,4]),[4,O.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!0})];case 2:return(E=w.sent())&&E.sdp&&(P=this.checkSDPSupportH264(E.sdp)),[3,4];case 3:return w.sent(),P=!1,v&&(v.errorCode=G.ErrorCode.ERROR_CREATEOFFER,v.message=k.EN.MESSAGE_CREATEOFFER),[3,4];case 4:return O.close(),O=void 0,[2,P]}})})},p.prototype.loadH264=function(v){var P=this;return new Promise(function(O,E){return N(P,void 0,void 0,function(){var w,F,q,ce,re=this;return U(this,function(K){if(!B.SystemUtil.isAndroid||!B.BrowserUtil.isChrome&&!B.BrowserUtil.isWebView)return O(!1),[2];for(w=0,F=[],q=0;w<v;)ce=setTimeout(function(){return N(re,void 0,void 0,function(){return U(this,function(T){switch(T.label){case 0:return q++,[4,this.tryFindH264FromSdp()];case 1:return T.sent()?(F.forEach(function(L){clearTimeout(L)}),F=[],O(!0),[2]):(q===v&&O(!1),[2])}})})},1e3*w),F.push(ce),w++;return[2]})})})},p.prototype.checkH264Encode=function(){return N(this,void 0,void 0,function(){var v,P,O;return U(this,function(E){switch(E.label){case 0:return[4,this.loadH264(3)];case 1:return!(v=E.sent())&&RTCRtpSender&&RTCRtpSender.getCapabilities&&(P=JSON.stringify((O=RTCRtpSender.getCapabilities("video"))===null||O===void 0?void 0:O.codecs),v=P.toLowerCase().includes("video/h264")),[2,!!v]}})})},p.prototype.createBlankStream=function(){var v,P,O,E=(v=new AudioContext,P=v.createOscillator(),O=P.connect(v.createMediaStreamDestination()),P.start(),Object.assign(O.stream.getAudioTracks()[0],{enabled:!1}));E.stop();var w=function(F){var q,ce=F===void 0?{}:F,re=ce.width,K=re===void 0?160:re,T=ce.height,L=T===void 0?90:T,x=document.createElement("canvas");x.width=K,x.height=L,(q=x.getContext("2d"))===null||q===void 0||q.fillRect(0,0,K,L);var se=x.captureStream();return Object.assign(se.getVideoTracks()[0],{enabled:!1})}();return w.stop(),new MediaStream([E,w])},p}();W.SupportUtil=j},2718:(_e,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.createUUID=W.evaluateNetworkCondition=W.makeCancelable=W.hasVideoTrack=W.hasAudioTrack=W.getVideoTrack=W.getAudioTrack=W.pruneSubUrl=W.getJitterBufferDelayAvg=void 0,W.getJitterBufferDelayAvg=function(V,N){return V&&N?Number(V)/Number(N)*1e3:-1},W.pruneSubUrl=function(V,N){var U=V||"";return U=U.replace("@subaudio=no","").replace("@subvideo=no",""),N&&(U=U.split("?")[0]),U},W.getAudioTrack=function(V){return V.getAudioTracks()[0]},W.getVideoTrack=function(V){return V.getVideoTracks()[0]},W.hasAudioTrack=function(V){return V.getAudioTracks().length>0},W.hasVideoTrack=function(V){return V.getVideoTracks().length>0},W.makeCancelable=function(V){var N=!1;return{promise:new Promise(function(U,B){V.then(function(Y){return N?B({isCanceled:!0}):U(Y)}),V.catch(function(Y){return B(N?{isCanceled:!0}:Y)})}),cancel:function(){N=!0}}},W.evaluateNetworkCondition=function(V,N,U,B,Y){var G=0;if(!navigator.onLine)return G=6;var k=[{loss:0,rtt:0,jbd:1},{loss:0,rtt:1,jbd:0},{loss:0,rtt:.5,jbd:.5},{loss:1,rtt:0,jbd:0},{loss:.8,rtt:0,jbd:.2},{loss:.8,rtt:.2,jbd:0},{loss:.6,rtt:.2,jbd:.2}],M=-1,j=-1,p=-1;if(typeof N=="number"&&N>=0||typeof U=="number"&&U>=0){M=0;var v=!1,P=!1;typeof N=="number"&&N>=0&&(M+=N,v=!0),typeof U=="number"&&U>=0&&(M+=U,P=!0),v&&!P&&(M*=2),P&&!v&&(M*=1.8)}typeof V=="number"&&V>=0&&(p=V),(typeof B=="number"&&B>=0||typeof Y=="number"&&Y>=0)&&(j=0,typeof B=="number"&&B>=0&&(j+=B),typeof Y=="number"&&Y>=0&&(j+=Y));var O;if((O=4*(M!==-1?1:0)+2*(p!==-1?1:0)+(j!==-1?1:0))>0){var E=1.2*M*k[O-1].loss+p/1500*k[O-1].rtt+j/3e3*k[O-1].jbd;G=E<=.1?1:E<=.23?2:E<=.36?3:E<=.49?4:5}else G=0;return G},W.createUUID=function(V,N){var U,B="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Y=[];if(N=N||B.length,V)for(U=0;U<V;U++)Y[U]=B[0|Math.random()*N];else{var G=void 0;for(Y[8]=Y[13]=Y[18]=Y[23]="-",Y[14]="4",U=0;U<36;U++)Y[U]||(G=0|16*Math.random(),Y[U]=B[U==19?3&G|8:G])}return Y.join("")}},233:_e=>{_e.exports=(()=>{"use strict";var W={622:(B,Y,G)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.BrowserUtil=Y.BrowserType=void 0;var k,M=G(101);(function(p){p.IE="IE",p.Chrome="Chrome",p.Safari="Safari",p.Firefox="Firefox",p.Opera="Opera",p.Edge="Edge",p.MicroMessenger="MicroMessenger",p.X5Core="X5Core",p.Quark="Quark",p.QQ="QQ",p.QQBrowser="QQBrowser",p.DingTalk="DingTalk",p.Electron="Electron",p.Sogou="Sogou",p.Vivo="VivoBrowser",p.Oppo="OppoBrowser",p.UC="UCBrowser",p.MI="MiBrowser",p.Lenovo="SLBrowser",p.Maxthon="Maxthon",p.Liebao="Liebao",p.Huawei="Huawei",p.Meizu="MZBrowser",p.Finger="FingerBrowser",p.Samsung="SamsungBrowser",p.WebVeiw="WebVeiw",p.Unknown="unknown"})(k=Y.BrowserType||(Y.BrowserType={}));var j=function(){function p(){}return Object.defineProperty(p,"isBrowser",{get:function(){return typeof document!="undefined"},enumerable:!1,configurable:!0}),Object.defineProperty(p,"domain",{get:function(){return window.location.protocol+window.location.host},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isHttps",{get:function(){return this.isBrowser&&document.location&&(document.location.protocol=="https:"||document.location.host.indexOf("127.0.0.1:")===0||document.location.host.indexOf("localhost:")===0)},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isSupportScreenShare",{get:function(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isChrome",{get:function(){return p._getBrowserInfo(),k.Chrome===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isSafari",{get:function(){return p._getBrowserInfo(),k.Safari===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isIE",{get:function(){return p._getBrowserInfo(),k.IE===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isFirefox",{get:function(){return p._getBrowserInfo(),k.Firefox===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isEdge",{get:function(){return p._getBrowserInfo(),k.Edge===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isSogou",{get:function(){return p._getBrowserInfo(),k.Sogou===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isVivoBroswer",{get:function(){return p._getBrowserInfo(),k.Vivo===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isOppoBrowser",{get:function(){return p._getBrowserInfo(),k.Oppo===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isMiBrowser",{get:function(){return p._getBrowserInfo(),k.MI===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isLenovoBrowser",{get:function(){return p._getBrowserInfo(),k.Lenovo===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isMaxthonBrowser",{get:function(){return p._getBrowserInfo(),k.Maxthon===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isLiebaoBrowser",{get:function(){return p._getBrowserInfo(),k.Liebao===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isHuaweiBrowser",{get:function(){return p._getBrowserInfo(),k.Huawei===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isMZBrowser",{get:function(){return p._getBrowserInfo(),k.Meizu===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isSamsungBrowser",{get:function(){return p._getBrowserInfo(),k.Samsung===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isOpera",{get:function(){return p._getBrowserInfo(),k.Opera===p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isMicroMessenger",{get:function(){return p._getBrowserInfo(),p._browserName===k.MicroMessenger},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isQQ",{get:function(){return p._getBrowserInfo(),k.QQ===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isQQBrowser",{get:function(){return p._getBrowserInfo(),k.QQBrowser===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isX5Core",{get:function(){return p._getBrowserInfo(),p._browserName===k.X5Core},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isUCBrowser",{get:function(){return p._getBrowserInfo(),p._browserName===k.UC},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isQuarkBrowser",{get:function(){return p._getBrowserInfo(),p._browserName===k.Quark},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isFingerBrowser",{get:function(){return p._getBrowserInfo(),p._browserName===k.Finger},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isChromeCore",{get:function(){return p._getBrowserInfo(),p._core==="Chrome"},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isWebView",{get:function(){return p._getBrowserInfo(),p._browserName===k.WebVeiw},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isDingTalk",{get:function(){return p._getBrowserInfo(),p._browserName===k.DingTalk},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isUnknown",{get:function(){return p._getBrowserInfo(),k.Unknown===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"browserName",{get:function(){return p._getBrowserInfo(),p._browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"browserVersion",{get:function(){return p._getBrowserInfo(),p._browserVersion},enumerable:!1,configurable:!0}),Object.defineProperty(p,"browserMainVersion",{get:function(){return p._getBrowserInfo(),p._browserVersion?parseInt(p._browserVersion.split(".")[0],10):0},enumerable:!1,configurable:!0}),Object.defineProperty(p,"browserCoreVersion",{get:function(){return navigator.userAgent.toLowerCase(),M.SystemUtil.isIos||M.SystemUtil.isMacOS,p.browserMainVersion},enumerable:!1,configurable:!0}),Object.defineProperty(p,"isElectron",{get:function(){return p._getBrowserInfo(),k.Electron===p.browserName},enumerable:!1,configurable:!0}),Object.defineProperty(p,"userAgent",{get:function(){var v=navigator.userAgent.toLowerCase(),P=v.indexOf("gecko");if(P>-1){P=v.indexOf(" ",P);var O=(v=v.substring(P+1,v.length)).split(" ");v="";for(var E=0;E<O.length;++E){var w=O[E].split("/");w&&w.length&&(v+=w[0]+" ")}}return v},enumerable:!1,configurable:!0}),p.compareVersion=function(v){if(p._getBrowserInfo(),p._browserVersion){for(var P=p._browserVersion.split("."),O=v.split("."),E=0,w=0,F=0;F<P.length&&F<O.length;++F){if((E=isNaN(parseInt(P[F],10))?0:parseInt(P[F],10))<(w=isNaN(parseInt(O[F],10))?0:parseInt(O[F],10)))return!1;if(E>w)return!0}return!0}return!0},p._getBrowserInfo=function(){if(!p._browserName||!p._browserVersion)if(navigator&&navigator.userAgent){var v=navigator.userAgent.toLowerCase(),P=void 0;(P=v.match(/edg[e|a]?\/([\d.]+)/))||(P=v.match(/edgios\/([\d.]+)/))?p._updateBrowserInfo(k.Edge,v,P[1]):(P=v.match(/rv:([\d.]+)\) like gecko/))||(P=v.match(/msie ([\d.]+)/))?p._updateBrowserInfo(k.IE,v,P[1]):(P=v.match(/vivobrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Vivo,v,P[1]):(P=v.match(/miuibrowser\/([\d.]+)/))?p._updateBrowserInfo(k.MI,v,P[1]):(P=v.match(/samsungbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Samsung,v,P[1]):(P=v.match(/heytapbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Oppo,v,P[1]):(P=v.match(/mzbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Meizu,v,P[1]):(P=v.match(/ucbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.UC,v,P[1]):(P=v.match(/quark\/([\d.]+)/))?p._updateBrowserInfo(k.Quark,v,P[1]):(P=v.match(/slbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Lenovo,v,P[1]):(P=v.match(/lbbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Liebao,v,P[1]):(P=v.match(/fingerbrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Finger,v,P[1]):(P=v.match(/huaweibrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Huawei,v,P[1]):(P=v.match(/maxthon\/([\d.]+)/))?p._updateBrowserInfo(k.Maxthon,v,P[1]):(P=v.match(/firefox\/([\d.]+)/))?p._updateBrowserInfo(k.Firefox,v,P[1]):(P=v.match(/electron\/([\d.]+)/))?p._updateBrowserInfo(k.Electron,v,P[1]):(P=v.match(/chrome\/([\d.]+)/))&&this._isChrome(v)||(P=v.match(/crios\/([\d.]+)/))&&this._isChrome(v)?p._updateBrowserInfo(k.Chrome,v,P[1]):(P=v.match(/metasr\s([\d.]+)/))||(P=v.match(/sogoumobilebrowser\/([\d.]+)/))?p._updateBrowserInfo(k.Sogou,v,P[1]):(P=v.match(/opr.([\d.]+)/))?p._updateBrowserInfo(k.Opera,v,P[1]):(P=v.match(/micromessenger.([\d.]+)/))?p._updateBrowserInfo(k.MicroMessenger,v,P[1]):(P=v.match(/qq\/([\d.]+)/))?p._updateBrowserInfo(k.QQ,v,P[1]):(P=v.match(/m?qqbrowser\/([\d.]+)/))||(P=v.match(/qqbrowserlite\/([\d.]+)/))?p._updateBrowserInfo(k.QQBrowser,v,P[1]):(P=v.match(/dingtalk.([\d.]+)/))?p._updateBrowserInfo(k.DingTalk,v,P[1]):(P=v.match(/tbs\/([\d.]+)/))?p._updateBrowserInfo(k.X5Core,v,P[1]):(P=v.match(/version\/([\d.]+).*safari/))&&this._isSafari(v)&&p._updateBrowserInfo(k.Safari,v,P[1]),p._browserName===k.Unknown&&p._isWebview(v)&&p._updateBrowserInfo(k.WebVeiw,v,"")}else p._browserName=k.Unknown,p._browserVersion="0.0"},p._isChrome=function(v){var P=v.split(/\(|\)/);if(p._core="Chrome",P.length===5){var O=P[4].trim().split(" ");if(O.length===2){if(O[0].indexOf("chrome")>-1&&O[1].indexOf("safari")>-1)return!0}else if(O.length===3){if(O[1].indexOf("mobile")>-1&&O[2].indexOf("safari")>-1&&(O[0].indexOf("chrome")>-1||O[0].indexOf("crios")>-1))return!0}else if(v.indexOf("qianniu")>-1)return!0}return!1},p._isSafari=function(v){var P=v.split(/\(|\)/);if(P.length===5){var O=P[4].trim().split(" ");if(O.length===2){if(O[0].indexOf("version")>-1&&O[1].indexOf("safari")>-1)return!0}else if(O.length===3&&O[0].indexOf("version")>-1&&O[1].indexOf("mobile")>-1&&O[2].indexOf("safari")>-1)return!0}return!1},p._isWebview=function(v){if(v){var P=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),O=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig");return!!v.match(P)&&!v.match(O)}},p._updateBrowserInfo=function(v,P,O){p._browserName=v;var E=null;switch(v){case k.QQBrowser:M.SystemUtil.isIos||M.SystemUtil.isMacOS?(E=P.match(/version\/([\d.]+).*safari/),p._browserVersion=E?E[1]:"0.0"):(E=P.match(/chrome\/([\d.]+)/),p._browserVersion=E?E[1]:"0.0");break;case k.Vivo:case k.Oppo:case k.Meizu:case k.Huawei:case k.Sogou:case k.Samsung:E=P.match(/chrome\/([\d.]+)/),p._browserVersion=E?E[1]:"0.0";break;case k.WebVeiw:M.SystemUtil.isAndroid?(E=P.match(/chrome\/([\d.]+)/),p._browserVersion=E?E[1]:"0.0"):M.SystemUtil.isIos&&(p._browserVersion=M.SystemUtil.systemVersion);break;default:p._browserVersion=O}},p._browserName=k.Unknown,p._browserVersion="",p._core="",p}();Y.BrowserUtil=j},864:(B,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Guid=void 0;var G=function(){function k(){}return k.create=function(M,j){j===void 0&&(j=16);var p,v,P="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),O=[];if(j=j||P.length,M)for(p=0;p<M;p++)O[p]=P[0|Math.random()*j];else for(O[8]=O[13]=O[18]=O[23]="-",O[14]="4",p=0;p<36;p++)O[p]||(v=0|16*Math.random(),O[p]=P[p==19?3&v|8:v]);return O.join("")},k}();Y.Guid=G},442:(B,Y,G)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LocalStorage=void 0;var k=G(864),M=function(){function j(){}return Object.defineProperty(j,"uuid",{get:function(){var p="alirtc_uuid",v=j.get(p);return v||(v=k.Guid.create(32),j.set(p,v)),v},enumerable:!1,configurable:!0}),j.get=function(p){var v="";return window&&window.localStorage&&(v=window.localStorage.getItem(p)||""),v},j.set=function(p,v){p&&window&&window.localStorage&&window.localStorage.setItem(p,v)},j}();Y.LocalStorage=M},72:(B,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.ApiRequest=void 0;var G=function(){function k(){}return k.postBody=function(M,j,p){M=k._getUrl(M,j);var v,P={};return P.headers||(P.headers={}),P.headers.Accept="application/json",P.headers["Content-Type"]="application/json",new Promise(function(O,E){k.requestBody("POST",M,p).then(function(w){return v=w,w.ok?w.json():w.text()}).then(function(w){v.ok?w.code?(w=k._intercept(w),E(w)):O(w.data):E(k._httpErrorMessage(v,w))}).catch(function(w){w=k._httpErrorMessage(w),E(w)})})},k.get=function(M,j,p){var v;return p===void 0&&(p={}),M=k._getUrl(M,j),p.headers||(p.headers={}),p.headers["Content-Type"]="application/json",new Promise(function(P,O){k.request("GET",M,p).then(function(E){return v=E,E.ok?E.json():E.text()}).then(function(E){v.ok?E.code?(E=k._intercept(E),O(E)):P(E.data):O(k._httpErrorMessage(v,E))}).catch(function(E){E=k._httpErrorMessage(E),O(E)})})},k.post=function(M,j,p,v){var P;return v===void 0&&(v={}),M=k._getUrl(M,j),v.headers||(v.headers={}),v.body=p,v.headers.Accept="application/json",v.headers["Content-Type"]="application/json",new Promise(function(O,E){k.request("POST",M,v).then(function(w){return P=w,w.ok?w.json():w.text()}).then(function(w){P.ok?w.code?(w=k._intercept(w),E(w)):O(w.data):E(k._httpErrorMessage(P,w))}).catch(function(w){w=k._httpErrorMessage(w),E(w)})})},k.request=function(M,j,p){M===void 0&&(M="GET");var v=new Headers(p.headers),P=new Request(j,{method:M,headers:v});return fetch(P)},k.requestBody=function(M,j,p){return M===void 0&&(M="GET"),fetch(j,{method:M,body:p,headers:new Headers({"Content-Type":"application/json"})})},k.ajaxPost=function(M,j,p,v){return v===void 0&&(v={}),M=k._getUrl(M,j),v.headers||(v.headers={}),v.headers.Accept="application/json",v.headers["Content-Type"]="application/json",k.ajax("POST",M,p,v)},k.ajax=function(M,j,p,v){M===void 0&&(M="GET"),v===void 0&&(v={});var P=new XMLHttpRequest;return new Promise(function(O,E){P.onreadystatechange=function(){if(P.readyState===4)if(P.status===200){var F=JSON.parse(P.responseText);F.code?(F=k._intercept(F),E(F)):O(F)}else E({message:P.responseText||"\u8BF7\u6C42\u5931\u8D25:"+j})},P.open(M,j,!0);try{if(v.withCredentials&&(P.withCredentials=!0),v.headers)for(var w in v.headers)P.setRequestHeader(w,v.headers[w])}catch(F){return void E(F)}try{P.send(p)}catch(F){E(F)}})},k._getUrl=function(M,j){var p=[];if(j)for(var v in j)p.push(v+"="+j[v]);var P=p.join("&");return(M.indexOf("?")!=-1?M:M+"?")+P},k._httpErrorMessage=function(M,j){return M.message||(M.message="HTTP "+M.status+"("+M.statusText+") : "+j),M},k._intercept=function(M){var j=M.data;return M.code&&((j=j||{}).data=M.data,j.code=M.code,j.description=M.description,j.message="0x"+Number(M.code).toString(16)+", "+M.description,j.tid&&(j.message+=", tid="+j.tid)),j},k}();Y.ApiRequest=G},101:(B,Y)=>{var G,k;Object.defineProperty(Y,"__esModule",{value:!0}),Y.SystemUtil=Y.WindowsType=Y.SystemType=void 0,function(j){j.Unknown="Unknown",j.MacOS="Mac",j.Windows="Windows",j.Android="Android",j.Iphone="iphone",j.Ipad="ipad",j.iOS="iOS",j.Linux="Linux",j.ChromeOS="ChromeOS"}(G=Y.SystemType||(Y.SystemType={})),function(j){j.Windows10="Windows 10",j.Windows7="Windows 7",j.WindowsVista="Windows vista",j.WindowsXP="Windows xp"}(k=Y.WindowsType||(Y.WindowsType={}));var M=function(){function j(){}return Object.defineProperty(j,"isMacOS",{get:function(){return G.MacOS===j.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(j,"isWindows",{get:function(){return j.systemName.indexOf(G.Windows)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(j,"isIos",{get:function(){return G.Iphone===j.systemName||G.Ipad===j.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(j,"isAndroid",{get:function(){return G.Android===j.systemName},enumerable:!1,configurable:!0}),Object.defineProperty(j,"isLinux",{get:function(){return G.Linux===j.systemName||G.Linux===j._platform},enumerable:!1,configurable:!0}),Object.defineProperty(j,"systemName",{get:function(){return j._getSystemInfo(),j._systemName},enumerable:!1,configurable:!0}),Object.defineProperty(j,"systemVersion",{get:function(){return j._getSystemInfo(),j._systemVersion},enumerable:!1,configurable:!0}),Object.defineProperty(j,"platform",{get:function(){return j._getSystemInfo(),j._platform},enumerable:!1,configurable:!0}),Object.defineProperty(j,"isUnknown",{get:function(){return!j.platform||j.platform===G.Unknown},enumerable:!1,configurable:!0}),j.compareVersion=function(p){if(j._getSystemInfo(),j._systemVersion){for(var v=j._systemVersion.split("."),P=p.split("."),O=0,E=0,w=0;w<v.length&&w<P.length;++w){if((O=isNaN(parseInt(v[w],10))?0:parseInt(v[w],10))<(E=isNaN(parseInt(P[w],10))?0:parseInt(P[w],10)))return!1;if(O>E)return!0}return!0}return!0},j._getSystemInfo=function(){if(!j._systemName||!j._systemVersion||!j._platform)if(navigator&&navigator.userAgent){var p=navigator.userAgent.toLowerCase();p.indexOf("ipad")>-1?(j._systemName=G.Ipad,j._platform=G.iOS,j._systemVersion=j._getIosSystemVersion(p)):p.indexOf("iphone")>-1?(j._systemName=G.Iphone,j._platform=G.iOS,j._systemVersion=j._getIosSystemVersion(p)):p.indexOf("android")>-1?(j._platform=G.Android,j._systemName=G.Android,j._systemVersion=j._getAndroidSystemVersion(p)):p.indexOf("win")>-1?p.indexOf("windwos nt 10")>-1||p.indexOf("windows 10")?(j._systemName=k.Windows10,j._platform=G.Windows,j._systemVersion="10"):p.indexOf("windows nt 6.1")>-1||p.indexOf("windows 7")>-1?(j._systemName=k.Windows7,j._platform=G.Windows,j._systemVersion="7"):p.indexOf("windows nt 6.0")>-1||p.indexOf("windows vista")>-1?(j._systemName=k.WindowsVista,j._platform=G.Windows,j._systemVersion="vista"):p.indexOf("widows nt 5.1")>-1||p.indexOf("windows xp")>-1?(j._systemName=k.WindowsXP,j._platform=G.Windows,j._systemVersion="xp"):(j._platform=G.Windows,j._systemName=G.Windows,j._systemVersion="0.0"):p.indexOf("mac")>-1?navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0?(j._systemName=G.Ipad,j._platform=G.iOS,j._systemVersion=j._getIosSystemVersion(p)):(j._platform=G.MacOS,j._systemName=G.MacOS,j._systemVersion=j._getMacSystemVersion(p)):p.indexOf("linux")>-1?(j._platform=G.Linux,j._systemName=G.Linux,j._systemVersion="0.0"):p.indexOf("cros")>-1?(j._platform=G.Linux,j._systemName=G.ChromeOS,j._systemVersion="0.0"):(j._systemName=G.Unknown,j._platform=G.Windows,j._systemVersion="0.0")}else j._systemName=G.Unknown,j._platform=G.Unknown,j._systemVersion="0.0"},j._getIosSystemVersion=function(p){return(p.match(/OS [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")},j._getMacSystemVersion=function(p){return(p.match(/OS X [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")},j._getAndroidSystemVersion=function(p){return p.substr(p.indexOf("android")+8,p.indexOf(";",p.indexOf("android"))-p.indexOf("android")-8)},j._systemName="",j._systemVersion="",j._platform=G.Unknown,j}();Y.SystemUtil=M}},V={};function N(B){if(V[B])return V[B].exports;var Y=V[B]={exports:{}};return W[B](Y,Y.exports,N),Y.exports}var U={};return(()=>{var B=U;Object.defineProperty(B,"__esModule",{value:!0}),B.ApiRequest=B.LocalStorage=B.Guid=B.BrowserUtil=B.SystemUtil=void 0;var Y=N(101);Object.defineProperty(B,"SystemUtil",{enumerable:!0,get:function(){return Y.SystemUtil}});var G=N(622);Object.defineProperty(B,"BrowserUtil",{enumerable:!0,get:function(){return G.BrowserUtil}});var k=N(864);Object.defineProperty(B,"Guid",{enumerable:!0,get:function(){return k.Guid}});var M=N(442);Object.defineProperty(B,"LocalStorage",{enumerable:!0,get:function(){return M.LocalStorage}});var j=N(72);Object.defineProperty(B,"ApiRequest",{enumerable:!0,get:function(){return j.ApiRequest}}),window&&(window.SystemUtil=Y.SystemUtil,window.BrowserUtil=G.BrowserUtil,window.Guid=k.Guid,window.LocalStorage=M.LocalStorage,window.ApiRequest=j.ApiRequest)})(),U})()},9543:(_e,W,V)=>{"use strict";V.r(W),V.d(W,{default:()=>yn});var N={};V.r(N),V.d(N,{fixNegotiationNeeded:()=>ye,shimAddTrackRemoveTrack:()=>te,shimAddTrackRemoveTrackWithNative:()=>$,shimGetDisplayMedia:()=>T,shimGetSendersWithDtmf:()=>se,shimGetStats:()=>ne,shimGetUserMedia:()=>K,shimMediaStream:()=>L,shimOnTrack:()=>x,shimPeerConnection:()=>X,shimSenderReceiverGetStats:()=>de});var U={};V.r(U),V.d(U,{shimGetDisplayMedia:()=>ee,shimGetUserMedia:()=>le,shimPeerConnection:()=>ve,shimReplaceTrack:()=>Ee});var B={};V.r(B),V.d(B,{shimAddTransceiver:()=>At,shimCreateAnswer:()=>cr,shimCreateOffer:()=>Vt,shimGetDisplayMedia:()=>be,shimGetParameters:()=>Pt,shimGetUserMedia:()=>Re,shimOnTrack:()=>We,shimPeerConnection:()=>tt,shimRTCDataChannel:()=>_t,shimReceiverGetStats:()=>dt,shimRemoveStream:()=>vt,shimSenderGetStats:()=>Xe});var Y={};V.r(Y),V.d(Y,{shimAudioContext:()=>Un,shimCallbacksAPI:()=>Qt,shimConstraints:()=>Qr,shimCreateOfferLegacy:()=>Lr,shimGetUserMedia:()=>vr,shimLocalStreamsAPI:()=>Nt,shimRTCIceServerUrls:()=>on,shimRemoteStreamsAPI:()=>Gt,shimTrackEventTransceiver:()=>Rn});var G={};V.r(G),V.d(G,{removeExtmapAllowMixed:()=>Zt,shimAddIceCandidateNullOrEmpty:()=>xt,shimConnectionState:()=>an,shimMaxMessageSize:()=>jn,shimRTCIceCandidate:()=>Qn,shimSendThrowTypeError:()=>Fn});let k=!0,M=!0;function j(ue,Fe,Pe){const De=ue.match(Fe);return De&&De.length>=Pe&&parseInt(De[Pe],10)}function p(ue,Fe,Pe){if(!ue.RTCPeerConnection)return;const De=ue.RTCPeerConnection.prototype,Je=De.addEventListener;De.addEventListener=function(Ge,ut){if(Ge!==Fe)return Je.apply(this,arguments);const at=ht=>{const kt=Pe(ht);kt&&(ut.handleEvent?ut.handleEvent(kt):ut(kt))};return this._eventMap=this._eventMap||{},this._eventMap[Fe]||(this._eventMap[Fe]=new Map),this._eventMap[Fe].set(ut,at),Je.apply(this,[Ge,at])};const qe=De.removeEventListener;De.removeEventListener=function(Ge,ut){if(Ge!==Fe||!this._eventMap||!this._eventMap[Fe])return qe.apply(this,arguments);if(!this._eventMap[Fe].has(ut))return qe.apply(this,arguments);const at=this._eventMap[Fe].get(ut);return this._eventMap[Fe].delete(ut),this._eventMap[Fe].size===0&&delete this._eventMap[Fe],Object.keys(this._eventMap).length===0&&delete this._eventMap,qe.apply(this,[Ge,at])},Object.defineProperty(De,"on"+Fe,{get(){return this["_on"+Fe]},set(Ge){this["_on"+Fe]&&(this.removeEventListener(Fe,this["_on"+Fe]),delete this["_on"+Fe]),Ge&&this.addEventListener(Fe,this["_on"+Fe]=Ge)},enumerable:!0,configurable:!0})}function v(ue){return typeof ue!="boolean"?new Error("Argument type: "+typeof ue+". Please use a boolean."):(k=ue,ue?"adapter.js logging disabled":"adapter.js logging enabled")}function P(ue){return typeof ue!="boolean"?new Error("Argument type: "+typeof ue+". Please use a boolean."):(M=!ue,"adapter.js deprecation warnings "+(ue?"disabled":"enabled"))}function O(){if(typeof window=="object"){if(k)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function E(ue,Fe){M&&console.warn(ue+" is deprecated, please use "+Fe+" instead.")}function w(ue){return Object.prototype.toString.call(ue)==="[object Object]"}function F(ue){return w(ue)?Object.keys(ue).reduce(function(Fe,Pe){const De=w(ue[Pe]),Je=De?F(ue[Pe]):ue[Pe],qe=De&&!Object.keys(Je).length;return Je===void 0||qe?Fe:Object.assign(Fe,{[Pe]:Je})},{}):ue}function q(ue,Fe,Pe){Fe&&!Pe.has(Fe.id)&&(Pe.set(Fe.id,Fe),Object.keys(Fe).forEach(De=>{De.endsWith("Id")?q(ue,ue.get(Fe[De]),Pe):De.endsWith("Ids")&&Fe[De].forEach(Je=>{q(ue,ue.get(Je),Pe)})}))}function ce(ue,Fe,Pe){const De=Pe?"outbound-rtp":"inbound-rtp",Je=new Map;if(Fe===null)return Je;const qe=[];return ue.forEach(Ge=>{Ge.type==="track"&&Ge.trackIdentifier===Fe.id&&qe.push(Ge)}),qe.forEach(Ge=>{ue.forEach(ut=>{ut.type===De&&ut.trackId===Ge.id&&q(ue,ut,Je)})}),Je}const re=O;function K(ue,Fe){const Pe=ue&&ue.navigator;if(!Pe.mediaDevices)return;const De=function(Ge){if(typeof Ge!="object"||Ge.mandatory||Ge.optional)return Ge;const ut={};return Object.keys(Ge).forEach(at=>{if(at==="require"||at==="advanced"||at==="mediaSource")return;const ht=typeof Ge[at]=="object"?Ge[at]:{ideal:Ge[at]};ht.exact!==void 0&&typeof ht.exact=="number"&&(ht.min=ht.max=ht.exact);const kt=function(Lt,lr){return Lt?Lt+lr.charAt(0).toUpperCase()+lr.slice(1):lr==="deviceId"?"sourceId":lr};if(ht.ideal!==void 0){ut.optional=ut.optional||[];let Lt={};typeof ht.ideal=="number"?(Lt[kt("min",at)]=ht.ideal,ut.optional.push(Lt),Lt={},Lt[kt("max",at)]=ht.ideal,ut.optional.push(Lt)):(Lt[kt("",at)]=ht.ideal,ut.optional.push(Lt))}ht.exact!==void 0&&typeof ht.exact!="number"?(ut.mandatory=ut.mandatory||{},ut.mandatory[kt("",at)]=ht.exact):["min","max"].forEach(Lt=>{ht[Lt]!==void 0&&(ut.mandatory=ut.mandatory||{},ut.mandatory[kt(Lt,at)]=ht[Lt])})}),Ge.advanced&&(ut.optional=(ut.optional||[]).concat(Ge.advanced)),ut},Je=function(Ge,ut){if(Fe.version>=61)return ut(Ge);if((Ge=JSON.parse(JSON.stringify(Ge)))&&typeof Ge.audio=="object"){const at=function(ht,kt,Lt){kt in ht&&!(Lt in ht)&&(ht[Lt]=ht[kt],delete ht[kt])};at((Ge=JSON.parse(JSON.stringify(Ge))).audio,"autoGainControl","googAutoGainControl"),at(Ge.audio,"noiseSuppression","googNoiseSuppression"),Ge.audio=De(Ge.audio)}if(Ge&&typeof Ge.video=="object"){let at=Ge.video.facingMode;at=at&&(typeof at=="object"?at:{ideal:at});const ht=Fe.version<66;if(at&&(at.exact==="user"||at.exact==="environment"||at.ideal==="user"||at.ideal==="environment")&&(!Pe.mediaDevices.getSupportedConstraints||!Pe.mediaDevices.getSupportedConstraints().facingMode||ht)){let kt;if(delete Ge.video.facingMode,at.exact==="environment"||at.ideal==="environment"?kt=["back","rear"]:at.exact!=="user"&&at.ideal!=="user"||(kt=["front"]),kt)return Pe.mediaDevices.enumerateDevices().then(Lt=>{let lr=(Lt=Lt.filter(Oi=>Oi.kind==="videoinput")).find(Oi=>kt.some(Qi=>Oi.label.toLowerCase().includes(Qi)));return!lr&&Lt.length&&kt.includes("back")&&(lr=Lt[Lt.length-1]),lr&&(Ge.video.deviceId=at.exact?{exact:lr.deviceId}:{ideal:lr.deviceId}),Ge.video=De(Ge.video),re("chrome: "+JSON.stringify(Ge)),ut(Ge)})}Ge.video=De(Ge.video)}return re("chrome: "+JSON.stringify(Ge)),ut(Ge)},qe=function(Ge){return Fe.version>=64?Ge:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[Ge.name]||Ge.name,message:Ge.message,constraint:Ge.constraint||Ge.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(Pe.getUserMedia=function(Ge,ut,at){Je(Ge,ht=>{Pe.webkitGetUserMedia(ht,ut,kt=>{at&&at(qe(kt))})})}.bind(Pe),Pe.mediaDevices.getUserMedia){const Ge=Pe.mediaDevices.getUserMedia.bind(Pe.mediaDevices);Pe.mediaDevices.getUserMedia=function(ut){return Je(ut,at=>Ge(at).then(ht=>{if(at.audio&&!ht.getAudioTracks().length||at.video&&!ht.getVideoTracks().length)throw ht.getTracks().forEach(kt=>{kt.stop()}),new DOMException("","NotFoundError");return ht},ht=>Promise.reject(qe(ht))))}}}function T(ue,Fe){ue.navigator.mediaDevices&&"getDisplayMedia"in ue.navigator.mediaDevices||ue.navigator.mediaDevices&&(typeof Fe=="function"?ue.navigator.mediaDevices.getDisplayMedia=function(Pe){return Fe(Pe).then(De=>{const Je=Pe.video&&Pe.video.width,qe=Pe.video&&Pe.video.height,Ge=Pe.video&&Pe.video.frameRate;return Pe.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:De,maxFrameRate:Ge||3}},Je&&(Pe.video.mandatory.maxWidth=Je),qe&&(Pe.video.mandatory.maxHeight=qe),ue.navigator.mediaDevices.getUserMedia(Pe)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function L(ue){ue.MediaStream=ue.MediaStream||ue.webkitMediaStream}function x(ue){if(typeof ue=="object"&&ue.RTCPeerConnection&&!("ontrack"in ue.RTCPeerConnection.prototype)){Object.defineProperty(ue.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(Pe){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=Pe)},enumerable:!0,configurable:!0});const Fe=ue.RTCPeerConnection.prototype.setRemoteDescription;ue.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=Pe=>{Pe.stream.addEventListener("addtrack",De=>{let Je;Je=ue.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(Ge=>Ge.track&&Ge.track.id===De.track.id):{track:De.track};const qe=new Event("track");qe.track=De.track,qe.receiver=Je,qe.transceiver={receiver:Je},qe.streams=[Pe.stream],this.dispatchEvent(qe)}),Pe.stream.getTracks().forEach(De=>{let Je;Je=ue.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(Ge=>Ge.track&&Ge.track.id===De.id):{track:De};const qe=new Event("track");qe.track=De,qe.receiver=Je,qe.transceiver={receiver:Je},qe.streams=[Pe.stream],this.dispatchEvent(qe)})},this.addEventListener("addstream",this._ontrackpoly)),Fe.apply(this,arguments)}}else p(ue,"track",Fe=>(Fe.transceiver||Object.defineProperty(Fe,"transceiver",{value:{receiver:Fe.receiver}}),Fe))}function se(ue){if(typeof ue=="object"&&ue.RTCPeerConnection&&!("getSenders"in ue.RTCPeerConnection.prototype)&&"createDTMFSender"in ue.RTCPeerConnection.prototype){const Fe=function(Je,qe){return{track:qe,get dtmf(){return this._dtmf===void 0&&(qe.kind==="audio"?this._dtmf=Je.createDTMFSender(qe):this._dtmf=null),this._dtmf},_pc:Je}};if(!ue.RTCPeerConnection.prototype.getSenders){ue.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const Je=ue.RTCPeerConnection.prototype.addTrack;ue.RTCPeerConnection.prototype.addTrack=function(Ge,ut){let at=Je.apply(this,arguments);return at||(at=Fe(this,Ge),this._senders.push(at)),at};const qe=ue.RTCPeerConnection.prototype.removeTrack;ue.RTCPeerConnection.prototype.removeTrack=function(Ge){qe.apply(this,arguments);const ut=this._senders.indexOf(Ge);ut!==-1&&this._senders.splice(ut,1)}}const Pe=ue.RTCPeerConnection.prototype.addStream;ue.RTCPeerConnection.prototype.addStream=function(Je){this._senders=this._senders||[],Pe.apply(this,[Je]),Je.getTracks().forEach(qe=>{this._senders.push(Fe(this,qe))})};const De=ue.RTCPeerConnection.prototype.removeStream;ue.RTCPeerConnection.prototype.removeStream=function(Je){this._senders=this._senders||[],De.apply(this,[Je]),Je.getTracks().forEach(qe=>{const Ge=this._senders.find(ut=>ut.track===qe);Ge&&this._senders.splice(this._senders.indexOf(Ge),1)})}}else if(typeof ue=="object"&&ue.RTCPeerConnection&&"getSenders"in ue.RTCPeerConnection.prototype&&"createDTMFSender"in ue.RTCPeerConnection.prototype&&ue.RTCRtpSender&&!("dtmf"in ue.RTCRtpSender.prototype)){const Fe=ue.RTCPeerConnection.prototype.getSenders;ue.RTCPeerConnection.prototype.getSenders=function(){const Pe=Fe.apply(this,[]);return Pe.forEach(De=>De._pc=this),Pe},Object.defineProperty(ue.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ne(ue){if(!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection.prototype.getStats;ue.RTCPeerConnection.prototype.getStats=function(){const[Pe,De,Je]=arguments;if(arguments.length>0&&typeof Pe=="function")return Fe.apply(this,arguments);if(Fe.length===0&&(arguments.length===0||typeof Pe!="function"))return Fe.apply(this,[]);const qe=function(ut){const at={};return ut.result().forEach(ht=>{const kt={id:ht.id,timestamp:ht.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[ht.type]||ht.type};ht.names().forEach(Lt=>{kt[Lt]=ht.stat(Lt)}),at[kt.id]=kt}),at},Ge=function(ut){return new Map(Object.keys(ut).map(at=>[at,ut[at]]))};if(arguments.length>=2){const ut=function(at){De(Ge(qe(at)))};return Fe.apply(this,[ut,Pe])}return new Promise((ut,at)=>{Fe.apply(this,[function(ht){ut(Ge(qe(ht)))},at])}).then(De,Je)}}function de(ue){if(!(typeof ue=="object"&&ue.RTCPeerConnection&&ue.RTCRtpSender&&ue.RTCRtpReceiver))return;if(!("getStats"in ue.RTCRtpSender.prototype)){const Pe=ue.RTCPeerConnection.prototype.getSenders;Pe&&(ue.RTCPeerConnection.prototype.getSenders=function(){const Je=Pe.apply(this,[]);return Je.forEach(qe=>qe._pc=this),Je});const De=ue.RTCPeerConnection.prototype.addTrack;De&&(ue.RTCPeerConnection.prototype.addTrack=function(){const Je=De.apply(this,arguments);return Je._pc=this,Je}),ue.RTCRtpSender.prototype.getStats=function(){const Je=this;return this._pc.getStats().then(qe=>ce(qe,Je.track,!0))}}if(!("getStats"in ue.RTCRtpReceiver.prototype)){const Pe=ue.RTCPeerConnection.prototype.getReceivers;Pe&&(ue.RTCPeerConnection.prototype.getReceivers=function(){const De=Pe.apply(this,[]);return De.forEach(Je=>Je._pc=this),De}),p(ue,"track",De=>(De.receiver._pc=De.srcElement,De)),ue.RTCRtpReceiver.prototype.getStats=function(){const De=this;return this._pc.getStats().then(Je=>ce(Je,De.track,!1))}}if(!("getStats"in ue.RTCRtpSender.prototype)||!("getStats"in ue.RTCRtpReceiver.prototype))return;const Fe=ue.RTCPeerConnection.prototype.getStats;ue.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof ue.MediaStreamTrack){const Pe=arguments[0];let De,Je,qe;return this.getSenders().forEach(Ge=>{Ge.track===Pe&&(De?qe=!0:De=Ge)}),this.getReceivers().forEach(Ge=>(Ge.track===Pe&&(Je?qe=!0:Je=Ge),Ge.track===Pe)),qe||De&&Je?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):De?De.getStats():Je?Je.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return Fe.apply(this,arguments)}}function $(ue){ue.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(qe=>this._shimmedLocalStreams[qe][0])};const Fe=ue.RTCPeerConnection.prototype.addTrack;ue.RTCPeerConnection.prototype.addTrack=function(qe,Ge){if(!Ge)return Fe.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const ut=Fe.apply(this,arguments);return this._shimmedLocalStreams[Ge.id]?this._shimmedLocalStreams[Ge.id].indexOf(ut)===-1&&this._shimmedLocalStreams[Ge.id].push(ut):this._shimmedLocalStreams[Ge.id]=[Ge,ut],ut};const Pe=ue.RTCPeerConnection.prototype.addStream;ue.RTCPeerConnection.prototype.addStream=function(qe){this._shimmedLocalStreams=this._shimmedLocalStreams||{},qe.getTracks().forEach(at=>{if(this.getSenders().find(ht=>ht.track===at))throw new DOMException("Track already exists.","InvalidAccessError")});const Ge=this.getSenders();Pe.apply(this,arguments);const ut=this.getSenders().filter(at=>Ge.indexOf(at)===-1);this._shimmedLocalStreams[qe.id]=[qe].concat(ut)};const De=ue.RTCPeerConnection.prototype.removeStream;ue.RTCPeerConnection.prototype.removeStream=function(qe){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[qe.id],De.apply(this,arguments)};const Je=ue.RTCPeerConnection.prototype.removeTrack;ue.RTCPeerConnection.prototype.removeTrack=function(qe){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},qe&&Object.keys(this._shimmedLocalStreams).forEach(Ge=>{const ut=this._shimmedLocalStreams[Ge].indexOf(qe);ut!==-1&&this._shimmedLocalStreams[Ge].splice(ut,1),this._shimmedLocalStreams[Ge].length===1&&delete this._shimmedLocalStreams[Ge]}),Je.apply(this,arguments)}}function te(ue,Fe){if(!ue.RTCPeerConnection)return;if(ue.RTCPeerConnection.prototype.addTrack&&Fe.version>=65)return $(ue);const Pe=ue.RTCPeerConnection.prototype.getLocalStreams;ue.RTCPeerConnection.prototype.getLocalStreams=function(){const at=Pe.apply(this);return this._reverseStreams=this._reverseStreams||{},at.map(ht=>this._reverseStreams[ht.id])};const De=ue.RTCPeerConnection.prototype.addStream;ue.RTCPeerConnection.prototype.addStream=function(at){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},at.getTracks().forEach(ht=>{if(this.getSenders().find(kt=>kt.track===ht))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[at.id]){const ht=new ue.MediaStream(at.getTracks());this._streams[at.id]=ht,this._reverseStreams[ht.id]=at,at=ht}De.apply(this,[at])};const Je=ue.RTCPeerConnection.prototype.removeStream;function qe(at,ht){let kt=ht.sdp;return Object.keys(at._reverseStreams||[]).forEach(Lt=>{const lr=at._reverseStreams[Lt],Oi=at._streams[lr.id];kt=kt.replace(new RegExp(Oi.id,"g"),lr.id)}),new RTCSessionDescription({type:ht.type,sdp:kt})}ue.RTCPeerConnection.prototype.removeStream=function(at){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},Je.apply(this,[this._streams[at.id]||at]),delete this._reverseStreams[this._streams[at.id]?this._streams[at.id].id:at.id],delete this._streams[at.id]},ue.RTCPeerConnection.prototype.addTrack=function(at,ht){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const kt=[].slice.call(arguments,1);if(kt.length!==1||!kt[0].getTracks().find(lr=>lr===at))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(lr=>lr.track===at))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Lt=this._streams[ht.id];if(Lt)Lt.addTrack(at),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const lr=new ue.MediaStream([at]);this._streams[ht.id]=lr,this._reverseStreams[lr.id]=ht,this.addStream(lr)}return this.getSenders().find(lr=>lr.track===at)},["createOffer","createAnswer"].forEach(function(at){const ht=ue.RTCPeerConnection.prototype[at],kt={[at](){const Lt=arguments;return arguments.length&&typeof arguments[0]=="function"?ht.apply(this,[lr=>{const Oi=qe(this,lr);Lt[0].apply(null,[Oi])},lr=>{Lt[1]&&Lt[1].apply(null,lr)},arguments[2]]):ht.apply(this,arguments).then(lr=>qe(this,lr))}};ue.RTCPeerConnection.prototype[at]=kt[at]});const Ge=ue.RTCPeerConnection.prototype.setLocalDescription;ue.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(at,ht){let kt=ht.sdp;return Object.keys(at._reverseStreams||[]).forEach(Lt=>{const lr=at._reverseStreams[Lt],Oi=at._streams[lr.id];kt=kt.replace(new RegExp(lr.id,"g"),Oi.id)}),new RTCSessionDescription({type:ht.type,sdp:kt})}(this,arguments[0]),Ge.apply(this,arguments)):Ge.apply(this,arguments)};const ut=Object.getOwnPropertyDescriptor(ue.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(ue.RTCPeerConnection.prototype,"localDescription",{get(){const at=ut.get.apply(this);return at.type===""?at:qe(this,at)}}),ue.RTCPeerConnection.prototype.removeTrack=function(at){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!at._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(at._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let ht;this._streams=this._streams||{},Object.keys(this._streams).forEach(kt=>{this._streams[kt].getTracks().find(Lt=>at.track===Lt)&&(ht=this._streams[kt])}),ht&&(ht.getTracks().length===1?this.removeStream(this._reverseStreams[ht.id]):ht.removeTrack(at.track),this.dispatchEvent(new Event("negotiationneeded")))}}function X(ue,Fe){!ue.RTCPeerConnection&&ue.webkitRTCPeerConnection&&(ue.RTCPeerConnection=ue.webkitRTCPeerConnection),ue.RTCPeerConnection&&Fe.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(Pe){const De=ue.RTCPeerConnection.prototype[Pe],Je={[Pe](){return arguments[0]=new(Pe==="addIceCandidate"?ue.RTCIceCandidate:ue.RTCSessionDescription)(arguments[0]),De.apply(this,arguments)}};ue.RTCPeerConnection.prototype[Pe]=Je[Pe]})}function ye(ue,Fe){p(ue,"negotiationneeded",Pe=>{const De=Pe.target;if(!(Fe.version<72||De.getConfiguration&&De.getConfiguration().sdpSemantics==="plan-b")||De.signalingState==="stable")return Pe})}var Q=V(6677),z=V.n(Q);function le(ue){const Fe=ue&&ue.navigator,Pe=Fe.mediaDevices.getUserMedia.bind(Fe.mediaDevices);Fe.mediaDevices.getUserMedia=function(De){return Pe(De).catch(Je=>Promise.reject(function(qe){return{name:{PermissionDeniedError:"NotAllowedError"}[qe.name]||qe.name,message:qe.message,constraint:qe.constraint,toString(){return this.name}}}(Je)))}}function ee(ue){"getDisplayMedia"in ue.navigator&&ue.navigator.mediaDevices&&(ue.navigator.mediaDevices&&"getDisplayMedia"in ue.navigator.mediaDevices||(ue.navigator.mediaDevices.getDisplayMedia=ue.navigator.getDisplayMedia.bind(ue.navigator)))}function ve(ue,Fe){if(ue.RTCIceGatherer&&(ue.RTCIceCandidate||(ue.RTCIceCandidate=function(De){return De}),ue.RTCSessionDescription||(ue.RTCSessionDescription=function(De){return De}),Fe.version<15025)){const De=Object.getOwnPropertyDescriptor(ue.MediaStreamTrack.prototype,"enabled");Object.defineProperty(ue.MediaStreamTrack.prototype,"enabled",{set(Je){De.set.call(this,Je);const qe=new Event("enabled");qe.enabled=Je,this.dispatchEvent(qe)}})}ue.RTCRtpSender&&!("dtmf"in ue.RTCRtpSender.prototype)&&Object.defineProperty(ue.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new ue.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),ue.RTCDtmfSender&&!ue.RTCDTMFSender&&(ue.RTCDTMFSender=ue.RTCDtmfSender);const Pe=z()(ue,Fe.version);ue.RTCPeerConnection=function(De){return De&&De.iceServers&&(De.iceServers=function(Je){let qe=!1;return(Je=JSON.parse(JSON.stringify(Je))).filter(Ge=>{if(Ge&&(Ge.urls||Ge.url)){let ut=Ge.urls||Ge.url;Ge.url&&!Ge.urls&&E("RTCIceServer.url","RTCIceServer.urls");const at=typeof ut=="string";return at&&(ut=[ut]),ut=ut.filter(ht=>{if(ht.indexOf("stun:")===0)return!1;const kt=ht.startsWith("turn")&&!ht.startsWith("turn:[")&&ht.includes("transport=udp");return kt&&!qe?(qe=!0,!0):kt&&!qe}),delete Ge.url,Ge.urls=at?ut[0]:ut,!!ut.length}})}(De.iceServers,Fe.version),O("ICE servers after filtering:",De.iceServers)),new Pe(De)},ue.RTCPeerConnection.prototype=Pe.prototype}function Ee(ue){ue.RTCRtpSender&&!("replaceTrack"in ue.RTCRtpSender.prototype)&&(ue.RTCRtpSender.prototype.replaceTrack=ue.RTCRtpSender.prototype.setTrack)}function Re(ue,Fe){const Pe=ue&&ue.navigator,De=ue&&ue.MediaStreamTrack;if(Pe.getUserMedia=function(Je,qe,Ge){E("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),Pe.mediaDevices.getUserMedia(Je).then(qe,Ge)},!(Fe.version>55&&"autoGainControl"in Pe.mediaDevices.getSupportedConstraints())){const Je=function(Ge,ut,at){ut in Ge&&!(at in Ge)&&(Ge[at]=Ge[ut],delete Ge[ut])},qe=Pe.mediaDevices.getUserMedia.bind(Pe.mediaDevices);if(Pe.mediaDevices.getUserMedia=function(Ge){return typeof Ge=="object"&&typeof Ge.audio=="object"&&(Ge=JSON.parse(JSON.stringify(Ge)),Je(Ge.audio,"autoGainControl","mozAutoGainControl"),Je(Ge.audio,"noiseSuppression","mozNoiseSuppression")),qe(Ge)},De&&De.prototype.getSettings){const Ge=De.prototype.getSettings;De.prototype.getSettings=function(){const ut=Ge.apply(this,arguments);return Je(ut,"mozAutoGainControl","autoGainControl"),Je(ut,"mozNoiseSuppression","noiseSuppression"),ut}}if(De&&De.prototype.applyConstraints){const Ge=De.prototype.applyConstraints;De.prototype.applyConstraints=function(ut){return this.kind==="audio"&&typeof ut=="object"&&(ut=JSON.parse(JSON.stringify(ut)),Je(ut,"autoGainControl","mozAutoGainControl"),Je(ut,"noiseSuppression","mozNoiseSuppression")),Ge.apply(this,[ut])}}}}function be(ue,Fe){ue.navigator.mediaDevices&&"getDisplayMedia"in ue.navigator.mediaDevices||ue.navigator.mediaDevices&&(ue.navigator.mediaDevices.getDisplayMedia=function(Pe){if(!Pe||!Pe.video){const De=new DOMException("getDisplayMedia without video constraints is undefined");return De.name="NotFoundError",De.code=8,Promise.reject(De)}return Pe.video===!0?Pe.video={mediaSource:Fe}:Pe.video.mediaSource=Fe,ue.navigator.mediaDevices.getUserMedia(Pe)})}function We(ue){typeof ue=="object"&&ue.RTCTrackEvent&&"receiver"in ue.RTCTrackEvent.prototype&&!("transceiver"in ue.RTCTrackEvent.prototype)&&Object.defineProperty(ue.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tt(ue,Fe){if(typeof ue!="object"||!ue.RTCPeerConnection&&!ue.mozRTCPeerConnection)return;!ue.RTCPeerConnection&&ue.mozRTCPeerConnection&&(ue.RTCPeerConnection=ue.mozRTCPeerConnection),Fe.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(Je){const qe=ue.RTCPeerConnection.prototype[Je],Ge={[Je](){return arguments[0]=new(Je==="addIceCandidate"?ue.RTCIceCandidate:ue.RTCSessionDescription)(arguments[0]),qe.apply(this,arguments)}};ue.RTCPeerConnection.prototype[Je]=Ge[Je]});const Pe={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},De=ue.RTCPeerConnection.prototype.getStats;ue.RTCPeerConnection.prototype.getStats=function(){const[Je,qe,Ge]=arguments;return De.apply(this,[Je||null]).then(ut=>{if(Fe.version<53&&!qe)try{ut.forEach(at=>{at.type=Pe[at.type]||at.type})}catch(at){if(at.name!=="TypeError")throw at;ut.forEach((ht,kt)=>{ut.set(kt,Object.assign({},ht,{type:Pe[ht.type]||ht.type}))})}return ut}).then(qe,Ge)}}function Xe(ue){if(typeof ue!="object"||!ue.RTCPeerConnection||!ue.RTCRtpSender||ue.RTCRtpSender&&"getStats"in ue.RTCRtpSender.prototype)return;const Fe=ue.RTCPeerConnection.prototype.getSenders;Fe&&(ue.RTCPeerConnection.prototype.getSenders=function(){const De=Fe.apply(this,[]);return De.forEach(Je=>Je._pc=this),De});const Pe=ue.RTCPeerConnection.prototype.addTrack;Pe&&(ue.RTCPeerConnection.prototype.addTrack=function(){const De=Pe.apply(this,arguments);return De._pc=this,De}),ue.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function dt(ue){if(typeof ue!="object"||!ue.RTCPeerConnection||!ue.RTCRtpSender||ue.RTCRtpSender&&"getStats"in ue.RTCRtpReceiver.prototype)return;const Fe=ue.RTCPeerConnection.prototype.getReceivers;Fe&&(ue.RTCPeerConnection.prototype.getReceivers=function(){const Pe=Fe.apply(this,[]);return Pe.forEach(De=>De._pc=this),Pe}),p(ue,"track",Pe=>(Pe.receiver._pc=Pe.srcElement,Pe)),ue.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function vt(ue){ue.RTCPeerConnection&&!("removeStream"in ue.RTCPeerConnection.prototype)&&(ue.RTCPeerConnection.prototype.removeStream=function(Fe){E("removeStream","removeTrack"),this.getSenders().forEach(Pe=>{Pe.track&&Fe.getTracks().includes(Pe.track)&&this.removeTrack(Pe)})})}function _t(ue){ue.DataChannel&&!ue.RTCDataChannel&&(ue.RTCDataChannel=ue.DataChannel)}function At(ue){if(typeof ue!="object"||!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection.prototype.addTransceiver;Fe&&(ue.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const Pe=arguments[1],De=Pe&&"sendEncodings"in Pe;De&&Pe.sendEncodings.forEach(qe=>{if("rid"in qe&&!/^[a-z0-9]{0,16}$/i.test(qe.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in qe&&!(parseFloat(qe.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in qe&&!(parseFloat(qe.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const Je=Fe.apply(this,arguments);if(De){const{sender:qe}=Je,Ge=qe.getParameters();(!("encodings"in Ge)||Ge.encodings.length===1&&Object.keys(Ge.encodings[0]).length===0)&&(Ge.encodings=Pe.sendEncodings,qe.sendEncodings=Pe.sendEncodings,this.setParametersPromises.push(qe.setParameters(Ge).then(()=>{delete qe.sendEncodings}).catch(()=>{delete qe.sendEncodings})))}return Je})}function Pt(ue){if(typeof ue!="object"||!ue.RTCRtpSender)return;const Fe=ue.RTCRtpSender.prototype.getParameters;Fe&&(ue.RTCRtpSender.prototype.getParameters=function(){const Pe=Fe.apply(this,arguments);return"encodings"in Pe||(Pe.encodings=[].concat(this.sendEncodings||[{}])),Pe})}function Vt(ue){if(typeof ue!="object"||!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection.prototype.createOffer;ue.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>Fe.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):Fe.apply(this,arguments)}}function cr(ue){if(typeof ue!="object"||!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection.prototype.createAnswer;ue.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>Fe.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):Fe.apply(this,arguments)}}function Nt(ue){if(typeof ue=="object"&&ue.RTCPeerConnection){if("getLocalStreams"in ue.RTCPeerConnection.prototype||(ue.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in ue.RTCPeerConnection.prototype)){const Fe=ue.RTCPeerConnection.prototype.addTrack;ue.RTCPeerConnection.prototype.addStream=function(Pe){this._localStreams||(this._localStreams=[]),this._localStreams.includes(Pe)||this._localStreams.push(Pe),Pe.getAudioTracks().forEach(De=>Fe.call(this,De,Pe)),Pe.getVideoTracks().forEach(De=>Fe.call(this,De,Pe))},ue.RTCPeerConnection.prototype.addTrack=function(Pe,...De){return De&&De.forEach(Je=>{this._localStreams?this._localStreams.includes(Je)||this._localStreams.push(Je):this._localStreams=[Je]}),Fe.apply(this,arguments)}}"removeStream"in ue.RTCPeerConnection.prototype||(ue.RTCPeerConnection.prototype.removeStream=function(Fe){this._localStreams||(this._localStreams=[]);const Pe=this._localStreams.indexOf(Fe);if(Pe===-1)return;this._localStreams.splice(Pe,1);const De=Fe.getTracks();this.getSenders().forEach(Je=>{De.includes(Je.track)&&this.removeTrack(Je)})})}}function Gt(ue){if(typeof ue=="object"&&ue.RTCPeerConnection&&("getRemoteStreams"in ue.RTCPeerConnection.prototype||(ue.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in ue.RTCPeerConnection.prototype))){Object.defineProperty(ue.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(Pe){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=Pe),this.addEventListener("track",this._onaddstreampoly=De=>{De.streams.forEach(Je=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(Je))return;this._remoteStreams.push(Je);const qe=new Event("addstream");qe.stream=Je,this.dispatchEvent(qe)})})}});const Fe=ue.RTCPeerConnection.prototype.setRemoteDescription;ue.RTCPeerConnection.prototype.setRemoteDescription=function(){const Pe=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(De){De.streams.forEach(Je=>{if(Pe._remoteStreams||(Pe._remoteStreams=[]),Pe._remoteStreams.indexOf(Je)>=0)return;Pe._remoteStreams.push(Je);const qe=new Event("addstream");qe.stream=Je,Pe.dispatchEvent(qe)})}),Fe.apply(Pe,arguments)}}}function Qt(ue){if(typeof ue!="object"||!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection.prototype,Pe=Fe.createOffer,De=Fe.createAnswer,Je=Fe.setLocalDescription,qe=Fe.setRemoteDescription,Ge=Fe.addIceCandidate;Fe.createOffer=function(at,ht){const kt=arguments.length>=2?arguments[2]:arguments[0],Lt=Pe.apply(this,[kt]);return ht?(Lt.then(at,ht),Promise.resolve()):Lt},Fe.createAnswer=function(at,ht){const kt=arguments.length>=2?arguments[2]:arguments[0],Lt=De.apply(this,[kt]);return ht?(Lt.then(at,ht),Promise.resolve()):Lt};let ut=function(at,ht,kt){const Lt=Je.apply(this,[at]);return kt?(Lt.then(ht,kt),Promise.resolve()):Lt};Fe.setLocalDescription=ut,ut=function(at,ht,kt){const Lt=qe.apply(this,[at]);return kt?(Lt.then(ht,kt),Promise.resolve()):Lt},Fe.setRemoteDescription=ut,ut=function(at,ht,kt){const Lt=Ge.apply(this,[at]);return kt?(Lt.then(ht,kt),Promise.resolve()):Lt},Fe.addIceCandidate=ut}function vr(ue){const Fe=ue&&ue.navigator;if(Fe.mediaDevices&&Fe.mediaDevices.getUserMedia){const Pe=Fe.mediaDevices,De=Pe.getUserMedia.bind(Pe);Fe.mediaDevices.getUserMedia=Je=>De(Qr(Je))}!Fe.getUserMedia&&Fe.mediaDevices&&Fe.mediaDevices.getUserMedia&&(Fe.getUserMedia=function(Pe,De,Je){Fe.mediaDevices.getUserMedia(Pe).then(De,Je)}.bind(Fe))}function Qr(ue){return ue&&ue.video!==void 0?Object.assign({},ue,{video:F(ue.video)}):ue}function on(ue){if(!ue.RTCPeerConnection)return;const Fe=ue.RTCPeerConnection;ue.RTCPeerConnection=function(Pe,De){if(Pe&&Pe.iceServers){const Je=[];for(let qe=0;qe<Pe.iceServers.length;qe++){let Ge=Pe.iceServers[qe];!Ge.hasOwnProperty("urls")&&Ge.hasOwnProperty("url")?(E("RTCIceServer.url","RTCIceServer.urls"),Ge=JSON.parse(JSON.stringify(Ge)),Ge.urls=Ge.url,delete Ge.url,Je.push(Ge)):Je.push(Pe.iceServers[qe])}Pe.iceServers=Je}return new Fe(Pe,De)},ue.RTCPeerConnection.prototype=Fe.prototype,"generateCertificate"in Fe&&Object.defineProperty(ue.RTCPeerConnection,"generateCertificate",{get:()=>Fe.generateCertificate})}function Rn(ue){typeof ue=="object"&&ue.RTCTrackEvent&&"receiver"in ue.RTCTrackEvent.prototype&&!("transceiver"in ue.RTCTrackEvent.prototype)&&Object.defineProperty(ue.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Lr(ue){const Fe=ue.RTCPeerConnection.prototype.createOffer;ue.RTCPeerConnection.prototype.createOffer=function(Pe){if(Pe){Pe.offerToReceiveAudio!==void 0&&(Pe.offerToReceiveAudio=!!Pe.offerToReceiveAudio);const De=this.getTransceivers().find(qe=>qe.receiver.track.kind==="audio");Pe.offerToReceiveAudio===!1&&De?De.direction==="sendrecv"?De.setDirection?De.setDirection("sendonly"):De.direction="sendonly":De.direction==="recvonly"&&(De.setDirection?De.setDirection("inactive"):De.direction="inactive"):Pe.offerToReceiveAudio!==!0||De||this.addTransceiver("audio"),Pe.offerToReceiveVideo!==void 0&&(Pe.offerToReceiveVideo=!!Pe.offerToReceiveVideo);const Je=this.getTransceivers().find(qe=>qe.receiver.track.kind==="video");Pe.offerToReceiveVideo===!1&&Je?Je.direction==="sendrecv"?Je.setDirection?Je.setDirection("sendonly"):Je.direction="sendonly":Je.direction==="recvonly"&&(Je.setDirection?Je.setDirection("inactive"):Je.direction="inactive"):Pe.offerToReceiveVideo!==!0||Je||this.addTransceiver("video")}return Fe.apply(this,arguments)}}function Un(ue){typeof ue!="object"||ue.AudioContext||(ue.AudioContext=ue.webkitAudioContext)}var Vr=V(7963),Bn=V.n(Vr);function Qn(ue){if(!ue.RTCIceCandidate||ue.RTCIceCandidate&&"foundation"in ue.RTCIceCandidate.prototype)return;const Fe=ue.RTCIceCandidate;ue.RTCIceCandidate=function(Pe){if(typeof Pe=="object"&&Pe.candidate&&Pe.candidate.indexOf("a=")===0&&((Pe=JSON.parse(JSON.stringify(Pe))).candidate=Pe.candidate.substr(2)),Pe.candidate&&Pe.candidate.length){const De=new Fe(Pe),Je=Bn().parseCandidate(Pe.candidate),qe=Object.assign(De,Je);return qe.toJSON=function(){return{candidate:qe.candidate,sdpMid:qe.sdpMid,sdpMLineIndex:qe.sdpMLineIndex,usernameFragment:qe.usernameFragment}},qe}return new Fe(Pe)},ue.RTCIceCandidate.prototype=Fe.prototype,p(ue,"icecandidate",Pe=>(Pe.candidate&&Object.defineProperty(Pe,"candidate",{value:new ue.RTCIceCandidate(Pe.candidate),writable:"false"}),Pe))}function jn(ue,Fe){if(!ue.RTCPeerConnection)return;"sctp"in ue.RTCPeerConnection.prototype||Object.defineProperty(ue.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const Pe=ue.RTCPeerConnection.prototype.setRemoteDescription;ue.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,Fe.browser==="chrome"&&Fe.version>=76){const{sdpSemantics:De}=this.getConfiguration();De==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(De){if(!De||!De.sdp)return!1;const Je=Bn().splitSections(De.sdp);return Je.shift(),Je.some(qe=>{const Ge=Bn().parseMLine(qe);return Ge&&Ge.kind==="application"&&Ge.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const De=function(at){const ht=at.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(ht===null||ht.length<2)return-1;const kt=parseInt(ht[1],10);return kt!=kt?-1:kt}(arguments[0]),Je=function(at){let ht=65536;return Fe.browser==="firefox"&&(ht=Fe.version<57?at===-1?16384:2147483637:Fe.version<60?Fe.version===57?65535:65536:2147483637),ht}(De),qe=function(at,ht){let kt=65536;Fe.browser==="firefox"&&Fe.version===57&&(kt=65535);const Lt=Bn().matchPrefix(at.sdp,"a=max-message-size:");return Lt.length>0?kt=parseInt(Lt[0].substr(19),10):Fe.browser==="firefox"&&ht!==-1&&(kt=2147483637),kt}(arguments[0],De);let Ge;Ge=Je===0&&qe===0?Number.POSITIVE_INFINITY:Je===0||qe===0?Math.max(Je,qe):Math.min(Je,qe);const ut={};Object.defineProperty(ut,"maxMessageSize",{get:()=>Ge}),this._sctp=ut}return Pe.apply(this,arguments)}}function Fn(ue){if(!ue.RTCPeerConnection||!("createDataChannel"in ue.RTCPeerConnection.prototype))return;function Fe(De,Je){const qe=De.send;De.send=function(){const Ge=arguments[0],ut=Ge.length||Ge.size||Ge.byteLength;if(De.readyState==="open"&&Je.sctp&&ut>Je.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+Je.sctp.maxMessageSize+" bytes)");return qe.apply(De,arguments)}}const Pe=ue.RTCPeerConnection.prototype.createDataChannel;ue.RTCPeerConnection.prototype.createDataChannel=function(){const De=Pe.apply(this,arguments);return Fe(De,this),De},p(ue,"datachannel",De=>(Fe(De.channel,De.target),De))}function an(ue){if(!ue.RTCPeerConnection||"connectionState"in ue.RTCPeerConnection.prototype)return;const Fe=ue.RTCPeerConnection.prototype;Object.defineProperty(Fe,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(Fe,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(Pe){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),Pe&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=Pe)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(Pe=>{const De=Fe[Pe];Fe[Pe]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=Je=>{const qe=Je.target;if(qe._lastConnectionState!==qe.connectionState){qe._lastConnectionState=qe.connectionState;const Ge=new Event("connectionstatechange",Je);qe.dispatchEvent(Ge)}return Je},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),De.apply(this,arguments)}})}function Zt(ue,Fe){if(!ue.RTCPeerConnection||Fe.browser==="chrome"&&Fe.version>=71||Fe.browser==="safari"&&Fe.version>=605)return;const Pe=ue.RTCPeerConnection.prototype.setRemoteDescription;ue.RTCPeerConnection.prototype.setRemoteDescription=function(De){if(De&&De.sdp&&De.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const Je=De.sdp.split(`
`).filter(qe=>qe.trim()!=="a=extmap-allow-mixed").join(`
`);ue.RTCSessionDescription&&De instanceof ue.RTCSessionDescription?arguments[0]=new ue.RTCSessionDescription({type:De.type,sdp:Je}):De.sdp=Je}return Pe.apply(this,arguments)}}function xt(ue,Fe){if(!ue.RTCPeerConnection||!ue.RTCPeerConnection.prototype)return;const Pe=ue.RTCPeerConnection.prototype.addIceCandidate;Pe&&Pe.length!==0&&(ue.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(Fe.browser==="chrome"&&Fe.version<78||Fe.browser==="firefox"&&Fe.version<68||Fe.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():Pe.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const yr=function({window:ue}={},Fe={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const Pe=O,De=function(qe){const Ge={browser:null,version:null};if(qe===void 0||!qe.navigator)return Ge.browser="Not a browser.",Ge;const{navigator:ut}=qe;if(ut.mozGetUserMedia)Ge.browser="firefox",Ge.version=j(ut.userAgent,/Firefox\/(\d+)\./,1);else if(ut.webkitGetUserMedia||qe.isSecureContext===!1&&qe.webkitRTCPeerConnection&&!qe.RTCIceGatherer)Ge.browser="chrome",Ge.version=j(ut.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(ut.mediaDevices&&ut.userAgent.match(/Edge\/(\d+).(\d+)$/))Ge.browser="edge",Ge.version=j(ut.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!qe.RTCPeerConnection||!ut.userAgent.match(/AppleWebKit\/(\d+)\./))return Ge.browser="Not a supported browser.",Ge;Ge.browser="safari",Ge.version=j(ut.userAgent,/AppleWebKit\/(\d+)\./,1),Ge.supportsUnifiedPlan=qe.RTCRtpTransceiver&&"currentDirection"in qe.RTCRtpTransceiver.prototype}return Ge}(ue),Je={browserDetails:De,commonShim:G,extractVersion:j,disableLog:v,disableWarnings:P};switch(De.browser){case"chrome":if(!N||!X||!Fe.shimChrome)return Pe("Chrome shim is not included in this adapter release."),Je;if(De.version===null)return Pe("Chrome shim can not determine version, not shimming."),Je;Pe("adapter.js shimming chrome."),Je.browserShim=N,xt(ue,De),K(ue,De),L(ue),X(ue,De),x(ue),te(ue,De),se(ue),ne(ue),de(ue),ye(ue,De),Qn(ue),an(ue),jn(ue,De),Fn(ue),Zt(ue,De);break;case"firefox":if(!B||!tt||!Fe.shimFirefox)return Pe("Firefox shim is not included in this adapter release."),Je;Pe("adapter.js shimming firefox."),Je.browserShim=B,xt(ue,De),Re(ue,De),tt(ue,De),We(ue),vt(ue),Xe(ue),dt(ue),_t(ue),At(ue),Pt(ue),Vt(ue),cr(ue),Qn(ue),an(ue),jn(ue,De),Fn(ue);break;case"edge":if(!U||!ve||!Fe.shimEdge)return Pe("MS edge shim is not included in this adapter release."),Je;Pe("adapter.js shimming edge."),Je.browserShim=U,le(ue),ee(ue),ve(ue,De),Ee(ue),jn(ue,De),Fn(ue);break;case"safari":if(!Y||!Fe.shimSafari)return Pe("Safari shim is not included in this adapter release."),Je;Pe("adapter.js shimming safari."),Je.browserShim=Y,xt(ue,De),on(ue),Lr(ue),Qt(ue),Nt(ue),Gt(ue),Rn(ue),vr(ue),Un(ue),Qn(ue),jn(ue,De),Fn(ue),Zt(ue,De);break;default:Pe("Unsupported browser!")}return Je}({window:typeof window=="undefined"?void 0:window}),yn=yr},6834:(_e,W,V)=>{"use strict";V.r(W),V.d(W,{default:()=>B});var N=V(5512),U=V.n(N);function B(){return U()('/*! aliyun rts sdk - ver2.9.3-beta.0 created:11/27/2024, 4:54:08 PM */(()=>{"use strict";var e={917:(e,r)=>{var t,n,a,o;Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_RETRY_PUBLISH_INTERVAL=r.DEFAULT_RETRY_SUBSCRIBE_INTERVAL=r.DEFAULT_RETRY_PUBLISH_LIMIT=r.DEFAULT_RETRY_SUBSCRIBE_LIMIT=r.EWorkerAction=r.EWorkerSource=r.EConnectStatus=r.TrackType=void 0,function(e){e.AUDIO="audio",e.VIDEO="video"}(t||(r.TrackType=t={})),function(e){e[e.CONNECT_STATUS_DISCONNECTED=0]="CONNECT_STATUS_DISCONNECTED",e[e.CONNECT_STATUS_CONNECTING=1]="CONNECT_STATUS_CONNECTING",e[e.CONNECT_STATUS_CONNECTED=2]="CONNECT_STATUS_CONNECTED",e[e.CONNECT_STATUS_RECONNECTING=3]="CONNECT_STATUS_RECONNECTING"}(n||(r.EConnectStatus=n={})),function(e){e.Sender="sender",e.Receiver="receiver"}(a||(r.EWorkerSource=a={})),function(e){e.Setup="setup",e.InserSEI="insertSEI"}(o||(r.EWorkerAction=o={})),r.DEFAULT_RETRY_SUBSCRIBE_LIMIT=5,r.DEFAULT_RETRY_PUBLISH_LIMIT=5,r.DEFAULT_RETRY_SUBSCRIBE_INTERVAL=2e3,r.DEFAULT_RETRY_PUBLISH_INTERVAL=2e3},594:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.readUUID=r.discardEPB=r.insertEPB=r.SODBtoRBSP=r.convertPayloadSize=r.NALU=r.SEI=r.parseSei=r.insertSei=void 0;r.insertSei=function(e,r,a,o){void 0===a&&(a=5);for(var i=e.data,u=new DataView(i),c=0;;){if(1===u.getUint32(c)){u.getUint8(c+4);var f=new t(r,a,o).buffer,s=new n(f).buffer,T=new ArrayBuffer(s.byteLength+i.byteLength),d=new Uint8Array(T),l=new Uint8Array(s);d.set(l);var E=new Uint8Array(i);d.set(E,s.byteLength),e.data=T,c+=1;break}if((c+=1)+4>=u.byteLength)break}};r.parseSei=function(e){for(var t=[],n=new DataView(e),a=0;;){var o=a,i=n.getUint32(o);if(o+=4,1===i){if(6===(31&n.getUint8(o++))){for(var u=n.getUint8(o++),c=5===u?16:0,f=0;255==n.getUint8(o);)o++,f+=255;if((f+=n.getUint8(o++))>0&&n.byteLength>o+f){var s=new Uint8Array(n.buffer),T="";if(5===u){var d=s.slice(o,o+c);T=(0,r.readUUID)((0,r.discardEPB)(d))}var l=s.slice(o+c,o+f);o+=f,t.push({payloadType:u,uuid:T,data:l.buffer})}}a=o}else a+=1;if(a+4>=n.byteLength)break}return t};var t=function(e,t,n){void 0===t&&(t=5);var a=5===t?16:0,o=e.byteLength+a,i=(0,r.convertPayloadSize)(o),u=i.buffer.byteLength,c=new ArrayBuffer(1+u+a+e.byteLength),f=new Uint8Array(c),s=0;if(f[s++]=t,f.set(i,s),s+=i.byteLength,5===t){n=(n||"00000000-0000-0000-0000-000000000000").replace(/-/g,"");for(var T=0;T<16;T++)f[s+T]=parseInt(n.substr(2*T,2),16);s+=16}var d=new Uint8Array(e);f.set(d,s);var l=(0,r.SODBtoRBSP)(f);this.buffer=l.buffer};r.SEI=t;var n=function(e){var r=new Uint8Array([0,0,0,1]),t=new Uint8Array([6]),n=new ArrayBuffer(r.byteLength+t.byteLength+e.byteLength),a=new Uint8Array(n);a.set(r),a.set(t,r.byteLength),a.set(new Uint8Array(e),r.byteLength+t.byteLength),this.buffer=n};r.NALU=n;r.convertPayloadSize=function(e){if(e<=0)throw new Error("payloadSize must be a positive integer.");for(var r=Math.ceil(e/255),t=new ArrayBuffer(r),n=new DataView(t),a=0;a<r-1;a++)n.setUint8(a,255);return n.setUint8(r-1,e%255&255),new Uint8Array(t)};r.SODBtoRBSP=function(e){for(var t=new Uint8Array(e),n="",a=0;a<t.length;a++)n+=t[a].toString(2).padStart(8,"0");for(n+="1";n.length%8!=0;)n+="0";var o=n.length/8,i=new Uint8Array(o);for(a=0;a<o;a++)i[a]=parseInt(n.slice(8*a,8*a+8),2);return(0,r.insertEPB)(i)};r.insertEPB=function(e){for(var r=[],t=0,n=0;n<e.length;n++)r.push(e[n]),0===e[n]?2===++t&&n<e.length-1&&e[n+1]<=3&&(r.push(3),t=0):t=0;return new Uint8Array(r)};r.discardEPB=function(e){for(var r=e.byteLength,t=[],n=1;n<r-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(n+2),n+=2):n++;if(0===t.length)return e;var a=r-t.length,o=new Uint8Array(a),i=0;for(n=0;n<a;i++,n++)i===t[0]&&(i++,t.shift()),o[n]=e[i];return o};r.readUUID=function(e){if(16!==e.length)throw new Error("UUID must be 16 bytes long.");var r=e.reduce((function(e,r){return e+r.toString(16).padStart(2,"0")}),"");return"".concat(r.slice(0,8),"-").concat(r.slice(8,12),"-").concat(r.slice(12,16),"-").concat(r.slice(16,20),"-").concat(r.slice(20))}},718:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createUUID=r.evaluateNetworkCondition=r.makeCancelable=r.hasVideoTrack=r.hasAudioTrack=r.getVideoTrack=r.getAudioTrack=r.pruneSubUrl=r.getJitterBufferDelayAvg=void 0;r.getJitterBufferDelayAvg=function(e,r){return e&&r?Number(e)/Number(r)*1e3:-1};r.pruneSubUrl=function(e,r){var t=e||"";return t=t.replace("@subaudio=no","").replace("@subvideo=no",""),r&&(t=t.split("?")[0]),t};r.getAudioTrack=function(e){return e.getAudioTracks()[0]};r.getVideoTrack=function(e){return e.getVideoTracks()[0]};r.hasAudioTrack=function(e){return e.getAudioTracks().length>0};r.hasVideoTrack=function(e){return e.getVideoTracks().length>0};r.makeCancelable=function(e){var r=!1;return{promise:new Promise((function(t,n){e.then((function(e){return r?n({isCanceled:!0}):t(e)})),e.catch((function(e){return n(r?{isCanceled:!0}:e)}))})),cancel:function(){r=!0}}};r.evaluateNetworkCondition=function(e,r,t,n,a){var o=0;if(!navigator.onLine)return o=6;var i=[{loss:0,rtt:0,jbd:1},{loss:0,rtt:1,jbd:0},{loss:0,rtt:.5,jbd:.5},{loss:1,rtt:0,jbd:0},{loss:.8,rtt:0,jbd:.2},{loss:.8,rtt:.2,jbd:0},{loss:.6,rtt:.2,jbd:.2}],u=-1,c=-1,f=-1;if("number"==typeof r&&r>=0||"number"==typeof t&&t>=0){u=0;var s=!1,T=!1;"number"==typeof r&&r>=0&&(u+=r,s=!0),"number"==typeof t&&t>=0&&(u+=t,T=!0),s&&!T&&(u*=2),T&&!s&&(u*=1.8)}if("number"==typeof e&&e>=0&&(f=e),"number"==typeof n&&n>=0||"number"==typeof a&&a>=0){c=0;"number"==typeof n&&n>=0&&(c+=n),"number"==typeof a&&a>=0&&(c+=a)}var d;if((d=4*(-1!==u?1:0)+2*(-1!==f?1:0)+(-1!==c?1:0))>0){var l=1.2*u*i[d-1].loss+f/1500*i[d-1].rtt+c/3e3*i[d-1].jbd;o=l<=.1?1:l<=.23?2:l<=.36?3:l<=.49?4:5}else o=0;return o};r.createUUID=function(e,r){var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(r=r||n.length,e)for(t=0;t<e;t++)a[t]=n[0|Math.random()*r];else{var o=void 0;for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",t=0;t<36;t++)a[t]||(o=0|16*Math.random(),a[t]=n[19==t?3&o|8:o])}return a.join("")}}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}var n,a,o,i,u,c,f;a=t(594),o=t(718),i=t(917),u=self,c=function(e,r,t,o){if(e===i.EWorkerSource.Sender){var u=new TransformStream({transform:function(e,r){e.type&&(n&&((0,a.insertSei)(e,n.sei,n.payloadType,n.uuid),void 0===n.repeatCount?n=null:-1!==n.repeatCount&&(n.repeatCount--,n.repeatCount<0&&(n=null))),o&&o(e)),r.enqueue(e)}});r.pipeThrough(u).pipeTo(t)}else e===i.EWorkerSource.Receiver&&(u=new TransformStream({transform:function(e,r){e.type&&o&&o(e),r.enqueue(e)}}),r.pipeThrough(u).pipeTo(t))},f=function(e){var r=e.data.slice(0);u.postMessage({type:"encodedFrame",data:r,frameInfo:{type:e.type,timestamp:e.timestamp}},[r]),r=null},u.RTCTransformEvent&&(u.onrtctransform=function(e){var r=e.transformer,t=r.options.source,n=r.readable,a=r.writable;c(t,n,a,(function(e){t===i.EWorkerSource.Receiver&&f(e)}))}),onmessage=function(e){switch(e.data.operation){case i.EWorkerAction.Setup:r=e.data,t=r.source,a=r.readable,u=r.writable,c(t,a,u,(function(e){t===i.EWorkerSource.Receiver&&f(e)}));break;case i.EWorkerAction.InserSEI:!function(e){(n=e)&&(n.uuid=(0,o.createUUID)().toLowerCase(),n.repeatCount=n.repeatCount||0)}(e.data)}var r,t,a,u}})();',"Worker",void 0,void 0)}},5512:_e=>{"use strict";_e.exports=function(W,V,N,U){var B=self||window;try{try{var Y;try{Y=new B.Blob([W])}catch(j){(Y=new(B.BlobBuilder||B.WebKitBlobBuilder||B.MozBlobBuilder||B.MSBlobBuilder)).append(W),Y=Y.getBlob()}var G=B.URL||B.webkitURL,k=G.createObjectURL(Y),M=new B[V](k,N);return G.revokeObjectURL(k),M}catch(j){return new B[V]("data:application/javascript,".concat(encodeURIComponent(W)),N)}}catch(j){if(!U)throw Error("Inline worker is not supported");return new B[V](U,N)}}},4450:_e=>{var W;W=()=>(()=>{var V={692:Y=>{var G=Y.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(k){return k.encoding?"rtpmap:%d %s/%s/%s":k.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(k){return k.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(k){return k.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(k){return"extmap:%d"+(k.direction?"/%s":"%v")+(k["encrypt-uri"]?" %s":"%v")+" %s"+(k.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(k){return k.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(k){var M="candidate:%s %d %s %d %s %d typ %s";return M+=k.raddr!=null?" raddr %s rport %d":"%v%v",M+=k.tcptype!=null?" tcptype %s":"%v",k.generation!=null&&(M+=" generation %d"),(M+=k["network-id"]!=null?" network-id %d":"%v")+(k["network-cost"]!=null?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(k){var M="ssrc:%d";return k.attribute!=null&&(M+=" %s",k.value!=null&&(M+=":%s")),M}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(k){return k.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(k){return k.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(k){return"imageattr:%s %s %s"+(k.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(k){return"simulcast:%s %s"+(k.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(k){return"ts-refclk:%s"+(k.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(k){var M="mediaclk:";return M+=k.id!=null?"id=%s %s":"%v%s",M+=k.mediaClockValue!=null?"=%s":"",(M+=k.rateNumerator!=null?" rate=%s":"")+(k.rateDenominator!=null?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(G).forEach(function(k){G[k].forEach(function(M){M.reg||(M.reg=/(.*)/),M.format||(M.format="%s")})})},766:(Y,G,k)=>{var M=k(962),j=k(627);G.write=j,G.parse=M.parse,G.parseParams=M.parseParams,G.parseFmtpConfig=M.parseFmtpConfig,G.parsePayloads=M.parsePayloads,G.parseRemoteCandidates=M.parseRemoteCandidates,G.parseImageAttributes=M.parseImageAttributes,G.parseSimulcastStreamList=M.parseSimulcastStreamList},962:(Y,G,k)=>{var M=function(O){return String(Number(O))===O?Number(O):O},j=function(O,E,w){var F=O.name&&O.names;O.push&&!E[O.push]?E[O.push]=[]:F&&!E[O.name]&&(E[O.name]={});var q=O.push?{}:F?E[O.name]:E;(function(ce,re,K,T){if(T&&!K)re[T]=M(ce[1]);else for(var L=0;L<K.length;L+=1)ce[L+1]!=null&&(re[K[L]]=M(ce[L+1]))})(w.match(O.reg),q,O.names,O.name),O.push&&E[O.push].push(q)},p=k(692),v=RegExp.prototype.test.bind(/^([a-z])=(.*)/);G.parse=function(O){var E={},w=[],F=E;return O.split(/(\r\n|\r|\n)/).filter(v).forEach(function(q){var ce=q[0],re=q.slice(2);ce==="m"&&(w.push({rtp:[],fmtp:[]}),F=w[w.length-1]);for(var K=0;K<(p[ce]||[]).length;K+=1){var T=p[ce][K];if(T.reg.test(re))return j(T,F,re)}}),E.media=w,E};var P=function(O,E){var w=E.split(/=(.+)/,2);return w.length===2?O[w[0]]=M(w[1]):w.length===1&&E.length>1&&(O[w[0]]=void 0),O};G.parseParams=function(O){return O.split(/;\s?/).reduce(P,{})},G.parseFmtpConfig=G.parseParams,G.parsePayloads=function(O){return O.toString().split(" ").map(Number)},G.parseRemoteCandidates=function(O){for(var E=[],w=O.split(" ").map(M),F=0;F<w.length;F+=3)E.push({component:w[F],ip:w[F+1],port:w[F+2]});return E},G.parseImageAttributes=function(O){return O.split(" ").map(function(E){return E.substring(1,E.length-1).split(",").reduce(P,{})})},G.parseSimulcastStreamList=function(O){return O.split(";").map(function(E){return E.split(",").map(function(w){var F,q=!1;return w[0]!=="~"?F=M(w):(F=M(w.substring(1,w.length)),q=!0),{scid:F,paused:q}})})}},627:(Y,G,k)=>{var M=k(692),j=/%[sdv%]/g,p=function(E){var w=1,F=arguments,q=F.length;return E.replace(j,function(ce){if(w>=q)return ce;var re=F[w];switch(w+=1,ce){case"%%":return"%";case"%s":return String(re);case"%d":return Number(re);case"%v":return""}})},v=function(E,w,F){var q=[E+"="+(w.format instanceof Function?w.format(w.push?F:F[w.name]):w.format)];if(w.names)for(var ce=0;ce<w.names.length;ce+=1){var re=w.names[ce];w.name?q.push(F[w.name][re]):q.push(F[w.names[ce]])}else q.push(F[w.name]);return p.apply(null,q)},P=["v","o","s","i","u","e","p","c","b","t","r","z","a"],O=["i","c","b","a"];Y.exports=function(E,w){w=w||{},E.version==null&&(E.version=0),E.name==null&&(E.name=" "),E.media.forEach(function(re){re.payloads==null&&(re.payloads="")});var F=w.outerOrder||P,q=w.innerOrder||O,ce=[];return F.forEach(function(re){M[re].forEach(function(K){K.name in E&&E[K.name]!=null?ce.push(v(re,K,E)):K.push in E&&E[K.push]!=null&&E[K.push].forEach(function(T){ce.push(v(re,K,T))})})}),E.media.forEach(function(re){ce.push(v("m",M.m[0],re)),q.forEach(function(K){M[K].forEach(function(T){T.name in re&&re[T.name]!=null?ce.push(v(K,T,re)):T.push in re&&re[T.push]!=null&&re[T.push].forEach(function(L){ce.push(v(K,T,L))})})})}),ce.join(`\r
`)+`\r
`}},776:function(Y,G,k){"use strict";var M,j=this&&this.__extends||(M=function(Q,z){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ee){le.__proto__=ee}||function(le,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(le[ve]=ee[ve])},M(Q,z)},function(Q,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function le(){this.constructor=Q}M(Q,z),Q.prototype=z===null?Object.create(z):(le.prototype=z.prototype,new le)}),p=this&&this.__assign||function(){return p=Object.assign||function(Q){for(var z,le=1,ee=arguments.length;le<ee;le++)for(var ve in z=arguments[le])Object.prototype.hasOwnProperty.call(z,ve)&&(Q[ve]=z[ve]);return Q},p.apply(this,arguments)},v=this&&this.__awaiter||function(Q,z,le,ee){return new(le||(le=Promise))(function(ve,Ee){function Re(tt){try{We(ee.next(tt))}catch(Xe){Ee(Xe)}}function be(tt){try{We(ee.throw(tt))}catch(Xe){Ee(Xe)}}function We(tt){var Xe;tt.done?ve(tt.value):(Xe=tt.value,Xe instanceof le?Xe:new le(function(dt){dt(Xe)})).then(Re,be)}We((ee=ee.apply(Q,z||[])).next())})},P=this&&this.__generator||function(Q,z){var le,ee,ve,Ee,Re={label:0,sent:function(){if(1&ve[0])throw ve[1];return ve[1]},trys:[],ops:[]};return Ee={next:be(0),throw:be(1),return:be(2)},typeof Symbol=="function"&&(Ee[Symbol.iterator]=function(){return this}),Ee;function be(We){return function(tt){return function(Xe){if(le)throw new TypeError("Generator is already executing.");for(;Ee&&(Ee=0,Xe[0]&&(Re=0)),Re;)try{if(le=1,ee&&(ve=2&Xe[0]?ee.return:Xe[0]?ee.throw||((ve=ee.return)&&ve.call(ee),0):ee.next)&&!(ve=ve.call(ee,Xe[1])).done)return ve;switch(ee=0,ve&&(Xe=[2&Xe[0],ve.value]),Xe[0]){case 0:case 1:ve=Xe;break;case 4:return Re.label++,{value:Xe[1],done:!1};case 5:Re.label++,ee=Xe[1],Xe=[0];continue;case 7:Xe=Re.ops.pop(),Re.trys.pop();continue;default:if(!((ve=(ve=Re.trys).length>0&&ve[ve.length-1])||Xe[0]!==6&&Xe[0]!==2)){Re=0;continue}if(Xe[0]===3&&(!ve||Xe[1]>ve[0]&&Xe[1]<ve[3])){Re.label=Xe[1];break}if(Xe[0]===6&&Re.label<ve[1]){Re.label=ve[1],ve=Xe;break}if(ve&&Re.label<ve[2]){Re.label=ve[2],Re.ops.push(Xe);break}ve[2]&&Re.ops.pop(),Re.trys.pop();continue}Xe=z.call(Q,Re)}catch(dt){Xe=[6,dt],ee=0}finally{le=ve=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([We,tt])}}},O=this&&this.__spreadArray||function(Q,z,le){if(le||arguments.length===2)for(var ee,ve=0,Ee=z.length;ve<Ee;ve++)!ee&&ve in z||(ee||(ee=Array.prototype.slice.call(z,0,ve)),ee[ve]=z[ve]);return Q.concat(ee||Array.prototype.slice.call(z))},E=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(G,"__esModule",{value:!0}),G.PeerConnectionCore=G.EDatachannelStatus=void 0;var w=k(887),F=k(248),q=k(237),ce=k(619),re=k(628),K=k(961),T=k(844),L=k(651);Object.defineProperty(G,"EDatachannelStatus",{enumerable:!0,get:function(){return L.EDatachannelStatus}});var x,se=k(854),ne=E(k(885)),de=k(132),$="rts video",te="rts audio";(function(Q){Q.SUB_ADD="subsribe add",Q.SUB_DELETE="subscribe delete",Q.SUB_ACTIVE="subscribe active",Q.SUB_STOP="subscribe stop",Q.PUB_ADD="publish add",Q.PUB_DELETE="publish delete",Q.PUB_REPLACE="publish replace",Q.PUB_STOP="publish stop",Q.DATACHANNEL_SUB_ADD="sub add datachannel",Q.DATACHANNEL_SUB_ACTIVE="sub active datachannel",Q.DATACHANNEL_SUB_STOP="sub delete datachannel",Q.DATACHANNEL_PUB_ADD="pub add datachannel",Q.DATACHANNEL_PUB_STOP="pub delete datachannel"})(x||(x={}));var X=function(Q){function z(le){var ee=Q.call(this)||this;return ee.PCCore=le,ee}return j(z,Q),z.prototype.excuteSignal=function(le,ee,ve,Ee){var Re=this;switch(le){case x.SUB_ADD:this.PCCore.proceedSubscribeAdd(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.SUB_DELETE:this.PCCore.proceedSubscribeDeleteTracks(Ee.configList,Ee.skipError).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.SUB_ACTIVE:break;case x.SUB_STOP:this.PCCore.proceedSubscribeStop(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.PUB_ADD:this.PCCore.proceedPublishAdd(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.PUB_REPLACE:this.PCCore.proceedPublishReplaceTracks(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.PUB_DELETE:this.PCCore.proceedPublishDeleteTracks(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.PUB_STOP:this.PCCore.proceedPublishStop(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.DATACHANNEL_SUB_ADD:this.PCCore.proceedSubscribeAddDatachannel(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.DATACHANNEL_SUB_STOP:this.PCCore.proceedSubscribeStopDatachannel(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.DATACHANNEL_PUB_ADD:this.PCCore.proceedPublishAddDatachannel(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")});break;case x.DATACHANNEL_PUB_STOP:this.PCCore.proceedPublishStopDatachannel(Ee.configList).then(function(be){ee(be)}).catch(function(be){ve(be)}).finally(function(){Re.emit("onSignalDone")})}},z}(ne.default),ye=function(){function Q(z){this.removeTwcc=!1,this.mutex=!1,this.eventQueue=new se.CacheBuffer("signal queue"),this.signalTimer=null,this.rollbackController=new de.PeerConnectionRollbackController(this),this.onInnerSubscribeDelete=function(){},this.receiverCodecPreferences={},this.senderCodecPreferences={},this.removeTrackListener=function(){},this.streamManager=new re.StreamManager,z.pc?(this.pc=z.pc,this.signal=new ce.Signal({pc:z.pc,onDatachannelEvent:z.onDatachannelEvent}),this.onInnerSubscribeDelete=z.onInnerSubscribeDelete||function(){},this.offerSdpHook=z.offerSdpHook,this.answerSdpHook=z.answerSdpHook):console.error("peerconnetion is required")}return Q.prototype.getStreamManager=function(){return this.streamManager},Q.prototype.getSignal=function(){return this.signal},Q.prototype.setPrevOfferSdp=function(z){this.prevOfferSdp=z},Q.prototype.setPrevAnswerSdp=function(z){this.prevAnswerSdp=z},Q.prototype.setStreamManager=function(z){this.streamManager=z},Q.prototype.getTrackIds=function(z){return z.reduce(function(le,ee){return O(O([],le,!0),[ee.id],!1)},[])},Q.prototype.setRemoveTwcc=function(z){this.removeTwcc=z},Q.prototype.setReceiverCodecPreferences=function(z){this.receiverCodecPreferences=p({},z)},Q.prototype.setSenderCodecPreferences=function(z){this.senderCodecPreferences=p({},z)},Q.prototype.subscribeAdd=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.SUB_ADD,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.SUB_ADD,Ee,ee,ve,{configList:z})})},Q.prototype.subscribeDeleteTracks=function(z,le){var ee=this;return new Promise(function(ve,Ee){var Re=new X(ee);if(ee.mutex){var be={type:x.SUB_DELETE,excuter:Re,res:ve,rej:Ee,data:{configList:z,skipError:le}};ee.eventQueue.cache(be)}else ee.atomSignalExec(x.SUB_DELETE,Re,ve,Ee,{configList:z,skipError:le})})},Q.prototype.subscribeStop=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.SUB_STOP,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.SUB_STOP,Ee,ee,ve,{configList:z})})},Q.prototype.publishAdd=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.PUB_ADD,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.PUB_ADD,Ee,ee,ve,{configList:z})})},Q.prototype.publishReplaceTracks=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.PUB_REPLACE,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.PUB_REPLACE,Ee,ee,ve,{configList:z})})},Q.prototype.publishDeleteTracks=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.PUB_DELETE,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.PUB_DELETE,Ee,ee,ve,{configList:z})})},Q.prototype.publishStop=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.PUB_STOP,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.PUB_STOP,Ee,ee,ve,{configList:z})})},Q.prototype.subscribeAddDatachannel=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.DATACHANNEL_SUB_ADD,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.DATACHANNEL_SUB_ADD,Ee,ee,ve,{configList:z})})},Q.prototype.subscribeStopDatachannel=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.DATACHANNEL_SUB_STOP,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.DATACHANNEL_SUB_STOP,Ee,ee,ve,{configList:z})})},Q.prototype.publishAddDatachannel=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.DATACHANNEL_PUB_ADD,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.DATACHANNEL_PUB_ADD,Ee,ee,ve,{configList:z})})},Q.prototype.publishStopDatachannel=function(z){var le=this;return new Promise(function(ee,ve){var Ee=new X(le);if(le.mutex){var Re={type:x.DATACHANNEL_PUB_STOP,excuter:Ee,res:ee,rej:ve,data:{configList:z}};le.eventQueue.cache(Re)}else le.atomSignalExec(x.DATACHANNEL_PUB_STOP,Ee,ee,ve,{configList:z})})},Q.prototype.atomSignalExec=function(z,le,ee,ve,Ee){var Re=this;this.mutex=!0,le.once("onSignalDone",function(){Re.eventQueue.isEmpty()?Re.mutex=!1:setTimeout(function(){var be=Re.eventQueue.getFirst();Re.atomSignalExec(be.type,be.excuter,be.res,be.rej,be.data)})}),le.excuteSignal(z,ee,ve,Ee)},Q.prototype.proceedSubscribeAdd=function(z){return v(this,void 0,void 0,function(){var le,ee,ve,Ee,Re,be,We,tt,Xe=this;return P(this,function(dt){switch(dt.label){case 0:if(this.log("SUB LIST: ",z),le=new Date().getTime(),ee=new Date().getTime(),ve=new Date().getTime(),Ee=this,Re=this.extendUrl(z),be=Re.map(function(vt){var _t=vt.urlData,At=vt.vMsid,Pt=vt.aMsid;if(Xe.streamManager.has(_t.url)){var Vt=Xe.streamManager.get(_t.url),cr=Vt.videoInfoList.map(function(vr){return vr.msid}),Nt=Vt.audioInfoList.map(function(vr){return vr.msid}),Gt=(0,w.intersection)(cr,At),Qt=(0,w.intersection)(Nt,Pt);if(Qt.length||Gt.length)return{url:_t.url,vMsid:Gt,aMsid:Qt}}}).filter(function(vt){return vt}),this.log("DELETE LIST: ",be),!(be!=null&&be.length))return[3,4];dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,this.proceedSubscribeDeleteTracks(be,!0)];case 2:return dt.sent(),this.onInnerSubscribeDelete&&this.onInnerSubscribeDelete(be),[3,4];case 3:throw We=dt.sent(),(tt=We).extraInfo=p(p({},tt.extraInfo),{api:"subscribeAdd",signal_api:"subscribeDeleteTracks",configList:z}),tt;case 4:return le=new Date().getTime(),[2,new Promise(function(vt,_t){return v(Xe,void 0,void 0,function(){function At(){return v(this,void 0,void 0,function(){var Zt,xt;return P(this,function(yr){switch(yr.label){case 0:Ee.removeTrackListener(),Zt=Ee.buildUrlStreamMap(Re),yr.label=1;case 1:return yr.trys.push([1,3,,4]),[4,Ee.subscribeActive(z)];case 2:return yr.sent(),[3,4];case 3:return(xt=yr.sent()).extraInfo=p(p({},xt.extraInfo),{api:"subscribeAdd",signal_api:"subscribeActive"}),Ee.rollbackController.rollback({pcTransceiversRollback:!0,streamManagerRollback:!0}),[2,_t(xt)];case 4:return ee=new Date().getTime(),vt({deleteRspTime:le,subAddRspTime:ve,activeRspTime:ee,streamList:Zt}),[2]}})})}var Pt,Vt,cr,Nt,Gt,Qt,vr,Qr,on,Rn,Lr,Un,Vr,Bn,Qn,jn,Fn,an=this;return P(this,function(Zt){switch(Zt.label){case 0:if(!this.pc)return[2,_t(new K.RtsError(T.ErrorCode.CORE_NO_PC_ERROR,"subscribeAdd: no peerconnection",""))];this.pc.addEventListener("track",At),this.removeTrackListener=function(){var xt;(xt=an.pc)===null||xt===void 0||xt.removeEventListener("track",At)},this.rollbackController.saveStreamManager(this.streamManager),Pt=[],Re.forEach(function(xt){var yr=xt.urlData,yn=xt.vMsid,ue=xt.aMsid;if(an.pc){if(an.streamManager.init(yr.url),yr.subVideo&&!an.streamManager.isMsidSubPubDone(yr.url,{vMsid:yn[0]})){var Fe=an.pc.addTransceiver("video",{direction:"recvonly"});Pt.push({type:"video",msid:yn[0],trans:Fe}),an.streamManager.update(yr.url,{vMsid:yn[0],vTransceiver:Fe}),an.setCodecPreferences(Fe,an.receiverCodecPreferences.video)}if(yr.subAudio&&!an.streamManager.isMsidSubPubDone(yr.url,{aMsid:ue[0]})){var Pe=an.pc.addTransceiver("audio",{direction:"recvonly"});Pt.push({type:"audio",msid:ue[0],trans:Pe}),an.streamManager.update(yr.url,{aMsid:ue[0],aTransceiver:Pe}),an.setCodecPreferences(Pe,an.receiverCodecPreferences.audio)}}}),this.rollbackController.setFakeSdpMedias(Pt,"sub"),Zt.label=1;case 1:return Zt.trys.push([1,3,,4]),[4,this.pc.createOffer()];case 2:return Vt=Zt.sent(),[3,4];case 3:return cr=Zt.sent(),[2,_t(new K.RtsError(T.ErrorCode.DATACHANNEL_CREATE_OFFER_ERROR,"CreateOffer Error: ".concat(cr),"",{api:"subscribeAdd",err:cr}))];case 4:if(Nt=new F.SdpUtil({sdp:Vt.sdp||""}),this.restorePublishedSsrc(Nt),Nt.addNack(),Nt.updateBundle(),Vt=new RTCSessionDescription({type:"offer",sdp:Nt.generate()}),Gt=this.findNewSubPubMids((Vt==null?void 0:Vt.sdp)||"",this.prevOfferSdp||""),this.setPrevOfferSdp(Vt.sdp||""),this.rollbackController.setFakeSdpMids(Gt),Qt=this.avoidMsidConflict(Vt.sdp),this.offerSdpHook)try{Qt=this.offerSdpHook(Qt)}catch(xt){console.log("offerSdpHook error: ",xt)}Zt.label=5;case 5:return Zt.trys.push([5,7,,9]),[4,this.pc.setLocalDescription(new RTCSessionDescription({type:"offer",sdp:Qt}))];case 6:return Zt.sent(),[3,9];case 7:return vr=Zt.sent(),[4,this.rollbackController.rollback({trackListnerRollback:!0,pcTransceiversRollback:!0,streamManagerRollback:!0,runSimulateSignal:!0})];case 8:return Zt.sent(),[2,_t(new K.RtsError(T.ErrorCode.DATACHANNEL_SET_OFFER_ERROR,"SetLocalDescription error: ".concat(vr),"",{api:"subscribeAdd",sdp:Vt}))];case 9:if(Qr=[],on=[],Re.forEach(function(xt){var yr=new F.SdpUtil({sdp:(Vt==null?void 0:Vt.sdp)||""}),yn=[],ue=xt.vMsid.length!==0,Fe=xt.aMsid.length!==0,Pe=!1,De=!1;yr.detail.media.forEach(function(Je){var qe=String(Je.mid);Gt.includes(qe)&&(on.includes(qe)||(Je.type==="video"&&ue&&!Pe?(yn.push(String(Je.mid)),Pe=!0):Je.type==="audio"&&Fe&&!De&&(yn.push(String(Je.mid)),De=!0)))}),on=O(O([],on,!0),yn,!0),yr.keepMedia(yn),Qr.push(yr.generate())}),this.log("ADD LIST: ",Re),this.offerSdpHook)try{Qr=Qr.map(function(xt){return an.offerSdpHook(xt)})}catch(xt){console.log("offerSdpHook error: ",xt)}Zt.label=10;case 10:return Zt.trys.push([10,12,,14]),[4,(Fn=this.signal)===null||Fn===void 0?void 0:Fn.subscribeAdd(Re,Qr,this.streamManager)];case 11:return Rn=Zt.sent(),[3,14];case 12:return Lr=Zt.sent(),[4,this.rollbackController.rollback({trackListnerRollback:!0,pcTransceiversRollback:!0,streamManagerRollback:!0,runSimulateSignal:!0})];case 13:return Zt.sent(),Lr.extraInfo=p({api:"subscribeAdd",signal_api:"subscribeAdd"},Lr.extraInfo),[2,_t(Lr)];case 14:if(Un=[],Rn.streams.forEach(function(xt,yr){an.log("Sub TraceId[".concat(yr,"]: "),xt.traceid);var yn=new F.SdpUtil({sdp:xt.sdp});Un=O(O([],Un,!0),yn.detail.media,!0);var ue=Re.find(function(Fe){return Fe.urlData.url===xt.url});ue&&(ue.traceId=xt.traceid)}),(Vr=new F.SdpUtil({sdp:this.prevAnswerSdp||""})).addOrUpdateMedia(Un),this.alignAnswerMidsWithOffer(Vr),Bn=Vr.generate(),this.setPrevAnswerSdp(Bn),Qn=this.avoidMsidConflict(Bn),this.answerSdpHook)try{Qn=this.answerSdpHook(Qn)}catch(xt){console.log("answerSdpHook error: ",xt)}Zt.label=15;case 15:return Zt.trys.push([15,17,,19]),[4,this.pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:Qn}))];case 16:return Zt.sent(),Re.forEach(function(xt){an.streamManager.markAlreadySubPub(xt.urlData.url,{vMsid:xt.vMsid[0],aMsid:xt.aMsid[0]})}),[3,19];case 17:return jn=Zt.sent(),[4,this.rollbackController.rollback({trackListnerRollback:!0,pcTransceiversRollback:!0,streamManagerRollback:!0})];case 18:return Zt.sent(),[2,_t(new K.RtsError(T.ErrorCode.DATACHANNEL_SET_ANSWER_ERROR,"SetRemoteDescription error: ".concat(jn),"",{api:"subscribeAdd",sdp:Bn}))];case 19:return ve=new Date().getTime(),[2]}})})})]}})})},Q.prototype.subscribeActive=function(z){var le;return v(this,void 0,void 0,function(){return P(this,function(ee){return[2,(le=this.signal)===null||le===void 0?void 0:le.subscribeActive(this.extendUrl(z))]})})},Q.prototype.proceedSubscribeDeleteTracks=function(z,le){var ee,ve,Ee,Re;return v(this,void 0,void 0,function(){var be,We,tt,Xe,dt=this;return P(this,function(vt){switch(vt.label){case 0:z.forEach(function(_t){_t.rawUrl=_t.url,_t.url=dt.streamManager.getOriginUrl(_t.url)}),vt.label=1;case 1:return vt.trys.push([1,3,,4]),[4,(ee=this.signal)===null||ee===void 0?void 0:ee.subscribeDelete(z)];case 2:return vt.sent(),[3,4];case 3:if(be=vt.sent(),We=be,!le||We.errorCode!==T.ErrorCode.DATACHANNEL_RESPONSE_ERROR||!(!((Ee=(ve=We.extraInfo)===null||ve===void 0?void 0:ve.parsedData)===null||Ee===void 0)&&Ee.streams)||((Re=We.extraInfo.parsedData.streams[0])===null||Re===void 0?void 0:Re.res_code)!==404)throw We.extraInfo=p({api:"subscribeDeleteTracks"},We.extraInfo),We;return[3,4];case 4:return tt=[],Xe=z.map(function(_t){var At=_t.url,Pt=_t.vMsid,Vt=_t.aMsid,cr=_t.rawUrl;return v(dt,void 0,void 0,function(){var Nt,Gt,Qt,vr,Qr,on,Rn,Lr;return P(this,function(Un){switch(Un.label){case 0:At=(0,w.pruneSubUrl)(At),this.streamManager.has(At)&&(Pt&&(Qt=this.streamManager.getTransceiver(At,{vMsid:Pt[0]}))&&(Gt=Qt.receiver.track).stop(),Vt&&(vr=this.streamManager.getTransceiver(At,{aMsid:Vt[0]}))&&(Nt=vr.receiver.track).stop()),Un.label=1;case 1:return Un.trys.push([1,3,,4]),[4,this.simulateOfferAnswer()];case 2:return Un.sent(),[3,4];case 3:throw(Qr=Un.sent()).extraInfo=p({api:"subscribeDeleteTracks"},Qr.extraInfo),Qr;case 4:return(on=this.streamManager.getStreamByMsid({url:At,vMsid:Pt==null?void 0:Pt[0],aMsid:Vt==null?void 0:Vt[0]}))&&(Nt&&((Rn=on.mediastream)===null||Rn===void 0||Rn.removeTrack(Nt)),Gt&&((Lr=on.mediastream)===null||Lr===void 0||Lr.removeTrack(Gt))),this.streamManager.pruneStreamList(At),this.streamManager.removeMsid(At,{vMsid:Pt!=null&&Pt.length?this.unifyMsid(Pt,"video"):void 0,aMsid:Vt!=null&&Vt.length?this.unifyMsid(Vt,"audio"):void 0}),tt.push({url:cr||"",stream:on}),[2]}})})}),[4,Promise.all(Xe)];case 5:return vt.sent(),[2,tt]}})})},Q.prototype.proceedSubscribeStop=function(z){var le;return v(this,void 0,void 0,function(){var ee,ve,Ee=this;return P(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,2,,3]),[4,(le=this.signal)===null||le===void 0?void 0:le.subscribeStop(this.extendUrl(z))];case 1:return Re.sent(),[3,3];case 2:throw(ee=Re.sent()).extraInfo=p({api:"subscribeStop"},ee.extraInfo),ee;case 3:return z.forEach(function(be){be.rawUrl=be.url,be.url=Ee.streamManager.getOriginUrl(be.url)}),ve=z.map(function(be){var We=be.url;return be.rawUrl,be.targetStreams,v(Ee,void 0,void 0,function(){var tt;return P(this,function(Xe){switch(Xe.label){case 0:We=(0,w.pruneSubUrl)(We),this.streamManager.getAllTransceivers(We).forEach(function(dt){var vt;(vt=dt==null?void 0:dt.receiver.track)===null||vt===void 0||vt.stop()}),this.streamManager.get(We).streamList.forEach(function(dt){return dt.release()}),this.streamManager.remove(We),Xe.label=1;case 1:return Xe.trys.push([1,3,,4]),[4,this.simulateOfferAnswer()];case 2:return Xe.sent(),[3,4];case 3:throw(tt=Xe.sent()).extraInfo=p({api:"subscribeStop"},tt.extraInfo),tt;case 4:return[2]}})})}),[4,Promise.all(ve)];case 4:return Re.sent(),[2]}})})},Q.prototype.proceedPublishAdd=function(z){var le;return v(this,void 0,void 0,function(){var ee,ve,Ee,Re,be,We,tt,Xe,dt,vt,_t,At,Pt,Vt,cr,Nt,Gt,Qt,vr,Qr,on,Rn,Lr,Un,Vr,Bn,Qn,jn,Fn,an=this;return P(this,function(Zt){switch(Zt.label){case 0:if(z.length>1)throw console.error("Only one stream is supported."),new K.RtsError(T.ErrorCode.CORE_PUBLIST_EXCEED_ERROR,"publishAdd: publishList exceed limit","",{api:"publishAdd"});if(!this.pc)throw new K.RtsError(T.ErrorCode.CORE_NO_PC_ERROR,"publishAdd: no peerconnection","",{api:"publishAdd"});ee=z[0],ve=ee.stream,Ee=this.unifyMsid(ee.aMsid,"audio"),Re=this.unifyMsid(ee.vMsid,"video"),ee.rawUrl=ee.url,ee.url=this.streamManager.getOriginUrl(ee.url),typeof ee.updateSourceStream!="boolean"&&(ee.updateSourceStream=!0),be=ve.videoTrack,We=ve.audioTrack,this.rollbackController.saveStreamManager(this.streamManager),tt=[],Xe=this.streamManager.getStreamByMsid({url:ee.url,vMsid:Re,aMsid:Ee}),this.streamManager.init(ee.url,re.EStreamType.Publish),be&&(dt=this.pc.addTransceiver(ve.videoTrack,{direction:"sendonly"}),this.streamManager.update(ee.url,{vMsid:Re,vTransceiver:dt,stream:ve}),tt.push({type:"video",trans:dt,msid:Re}),this.setCodecPreferences(dt,this.senderCodecPreferences.video)),We&&(dt=this.pc.addTransceiver(ve.audioTrack,{direction:"sendonly"}),this.streamManager.update(ee.url,{aMsid:Ee,aTransceiver:dt,stream:ve}),tt.push({type:"audio",trans:dt,msid:Ee}),this.setCodecPreferences(dt,this.senderCodecPreferences.audio)),this.rollbackController.setFakeSdpMedias(tt,"pub"),Zt.label=1;case 1:return Zt.trys.push([1,3,,4]),[4,this.pc.createOffer()];case 2:return vt=Zt.sent(),[3,4];case 3:throw _t=Zt.sent(),new K.RtsError(T.ErrorCode.DATACHANNEL_CREATE_OFFER_ERROR,"CreateOffer Error: ".concat(_t),"",{api:"publishAdd",err:_t});case 4:if(At=new F.SdpUtil({sdp:vt.sdp||""}),Pt=this.parseMsidString(Re),Vt=this.parseMsidString(Ee),cr=this.findNewSubPubMids(vt.sdp||"",this.prevOfferSdp||""),this.rollbackController.setFakeSdpMids(cr),Pt.stream&&At.detail.msidSemantic&&(At.detail.msidSemantic.token=Pt.stream),Nt=At.detail.media.reduce(function(xt,yr){return yr.direction==="inactive"?O(O([],xt,!0),[String(yr.mid)],!1):xt},[]),At.detail.media.forEach(function(xt){var yr;if(xt.direction!=="recvonly"&&xt.type!=="application"&&cr.includes(String(xt.mid))){var yn=xt.type==="video"?Pt:Vt,ue=an.parseMsidString(xt.msid);ue.stream=yn.stream||ue.stream,ue.track=yn.track||ue.track;var Fe=an.stringifyMsid(ue);xt.msid=Fe,(yr=xt.ssrcs)===null||yr===void 0||yr.forEach(function(Pe){switch(Pe.attribute){case"cname":case"label":Pe.value=yn.track||Pe.value;break;case"msid":Pe.value=Fe;break;case"mslabel":Pe.value=yn.stream||Pe.value}})}}),this.restorePublishedSsrc(At),this.restorePublishMsid(At),At.addNack(),Gt=At.generate(),this.setPrevOfferSdp(Gt),Qt=this.avoidMsidConflict(Gt),this.offerSdpHook)try{Qt=this.offerSdpHook(Qt)}catch(xt){console.log("offerSdoHook error: ",xt)}Zt.label=5;case 5:return Zt.trys.push([5,7,,8]),[4,this.pc.setLocalDescription(new RTCSessionDescription({type:"offer",sdp:Qt}))];case 6:return Zt.sent(),[3,8];case 7:throw vr=Zt.sent(),this.rollbackController.rollback({streamManagerRollback:!0,runSimulateSignal:!0}),new K.RtsError(T.ErrorCode.DATACHANNEL_SET_OFFER_ERROR,"SetLocalDescription error: ".concat(vr),"",{api:"publishAdd",sdp:Gt});case 8:if(At.keepMedia(cr),this.updateTrackInfoList({url:ee.rawUrl,stream:ee.stream,vMsid:Re,aMsid:Ee,sdpMediaList:At.detail.media}),Qt=At.generate(),this.offerSdpHook)try{Qt=this.offerSdpHook(Qt)}catch(xt){console.log("offerSdpHook error: ",xt)}Zt.label=9;case 9:return Zt.trys.push([9,11,,12]),[4,(le=this.signal)===null||le===void 0?void 0:le.publishAdd([ee.url],[Qt],[be?[this.stringifyMsid(Pt)]:[]],[We?[this.stringifyMsid(Vt)]:[]])];case 10:return Qr=Zt.sent(),[3,12];case 11:throw on=Zt.sent(),(Rn=on).extraInfo=p({api:"publishAdd"},Rn.extraInfo),this.rollbackController.rollback({streamManagerRollback:!0,runSimulateSignal:!0}),Rn;case 12:if(Lr=Qr.streams[0],ee.traceId=Lr.traceid,this.log("Pub TraceId: ",ee.traceId),(Un=new F.SdpUtil({sdp:Lr.sdp})).detail.media.forEach(function(xt){xt.type!=="application"&&xt.direction==="sendrecv"&&(xt.direction="recvonly")}),(Vr=new F.SdpUtil({sdp:this.prevAnswerSdp||""})).detail.media.forEach(function(xt){xt.type==="application"&&(delete xt.candidates,delete xt.endOfCandidates)}),Vr.setMediaInactive(Nt),Vr.addOrUpdateMedia(Un.detail.media,{isPublish:!0}),this.alignAnswerMidsWithOffer(Vr),this.removeTwcc&&(Bn=["http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"],Vr.detail.media.forEach(function(xt){var yr;xt.ext=(yr=xt.ext)===null||yr===void 0?void 0:yr.filter(function(yn){return!Bn.includes(yn.uri)})})),Qn=Vr.generate(),this.setPrevAnswerSdp(Qn),jn=this.avoidMsidConflict(Qn),this.answerSdpHook)try{jn=this.answerSdpHook(jn)}catch(xt){console.log("answerSdpHook error: ",xt)}Zt.label=13;case 13:return Zt.trys.push([13,15,,16]),[4,this.pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:jn}))];case 14:return Zt.sent(),this.streamManager.markAlreadySubPub(ee.url,{vMsid:Re,aMsid:Ee,isPub:!0}),[3,16];case 15:throw Fn=Zt.sent(),this.rollbackController.rollback({streamManagerRollback:!0}),new K.RtsError(T.ErrorCode.DATACHANNEL_SET_ANSWER_ERROR,"SetRemoteDescription error: ".concat(Fn),"",{api:"publishAdd",sdp:Qn});case 16:return Xe&&ee.updateSourceStream&&Xe.mergeStream(ve),[2,z.map(function(xt){return{url:xt.rawUrl,trackInfoList:an.streamManager.getAllMediaInfoList(ee.url),traceId:xt.traceId}})]}})})},Q.prototype.proceedPublishDeleteTracks=function(z){var le,ee,ve,Ee,Re,be,We;return v(this,void 0,void 0,function(){var tt,Xe,dt,vt,_t,At,Pt,Vt,cr,Nt,Gt=this;return P(this,function(Qt){switch(Qt.label){case 0:z.forEach(function(vr){vr.rawUrl=vr.url,vr.url=Gt.streamManager.getOriginUrl(vr.url)}),Qt.label=1;case 1:return Qt.trys.push([1,3,,4]),[4,(le=this.signal)===null||le===void 0?void 0:le.publishDelete(z)];case 2:return Qt.sent(),[3,4];case 3:throw(tt=Qt.sent()).extraInfo=p({api:"publishDeleteTracks"},tt.extraInfo),tt;case 4:if(Xe=z[0],dt=(0,w.pruneSubUrl)(Xe.url),typeof Xe.updateSourceStream!="boolean"&&(Xe.updateSourceStream=!0),vt=!1,_t=!1,!this.streamManager.has(dt))return[3,9];!((ee=Xe.vMsid)===null||ee===void 0)&&ee.length&&((At=this.streamManager.getTransceiver(dt,{vMsid:Xe.vMsid[0]}))!=null&&At.sender&&((ve=this.pc)===null||ve===void 0||ve.removeTrack(At==null?void 0:At.sender)),vt=!0),!((Ee=Xe.aMsid)===null||Ee===void 0)&&Ee.length&&((Pt=this.streamManager.getTransceiver(dt,{aMsid:Xe.aMsid[0]}))!=null&&Pt.sender&&((Re=this.pc)===null||Re===void 0||Re.removeTrack(Pt==null?void 0:Pt.sender)),_t=!0),Qt.label=5;case 5:return Qt.trys.push([5,7,,8]),[4,this.simulateOfferAnswer()];case 6:return Qt.sent(),[3,8];case 7:throw(Vt=Qt.sent()).extraInfo=p({api:"publishDeleteTracks"},Vt.extraInfo),Vt;case 8:return(cr=this.streamManager.getStreamByMsid({url:dt,vMsid:(be=Xe.vMsid)===null||be===void 0?void 0:be[0],aMsid:(We=Xe.aMsid)===null||We===void 0?void 0:We[0]}))&&Xe.updateSourceStream&&cr.deleteTracks({video:vt,audio:_t}),this.streamManager.removeMsid(dt,{vMsid:vt?this.unifyMsid(Xe.vMsid,"video"):void 0,aMsid:_t?this.unifyMsid(Xe.aMsid,"audio"):void 0}),this.streamManager.pruneStreamList(dt),Nt=this.streamManager.getAllMediaInfoList(Xe.url),[2,z.map(function(vr){return{url:vr.rawUrl,trackInfoList:Nt}})];case 9:return[2]}})})},Q.prototype.proceedPublishReplaceTracks=function(z){var le,ee,ve,Ee,Re;return v(this,void 0,void 0,function(){var be,We,tt,Xe,dt,vt,_t,At,Pt,Vt,cr=this;return P(this,function(Nt){switch(Nt.label){case 0:if(be=z[0],We=be.stream,tt=be.vMsid,Xe=be.aMsid,be.rawUrl=be.url,be.url=this.streamManager.getOriginUrl(be.url),!this.streamManager.has(be.url))throw new K.RtsError(T.ErrorCode.CORE_PUB_REPLACE_URL_NOT_FOUND,"No stream found for this url: ".concat(be.url),"",{api:"publishReplaceTracks",configList:z});return typeof be.updateSourceStream!="boolean"&&(be.updateSourceStream=!0),dt=We.audioTrack,vt=We.videoTrack,_t=this.streamManager.getAllMediaInfoList(be.url,!0),dt&&(Pt=(le=_t.find(function(Gt){return Gt.type==="audio"&&(!Xe||Gt.msid===Xe)}))===null||le===void 0?void 0:le.transceiver)&&dt.id!==((ve=(ee=Pt.sender)===null||ee===void 0?void 0:ee.track)===null||ve===void 0?void 0:ve.id)?[4,Pt.sender.replaceTrack(dt)]:[3,2];case 1:Nt.sent(),Nt.label=2;case 2:return vt?(At=_t.find(function(Gt){return Gt.type==="video"&&(!tt||Gt.msid===tt)}),(Pt=At==null?void 0:At.transceiver)&&vt.id!==((Re=(Ee=Pt.sender)===null||Ee===void 0?void 0:Ee.track)===null||Re===void 0?void 0:Re.id)?[4,Pt.sender.replaceTrack(vt)]:[3,4]):[3,4];case 3:Nt.sent(),We.isCustomStream||(At.from=We.hasScreen?"screen":"camera"),Nt.label=4;case 4:return(Vt=this.streamManager.getStreamByMsid({url:be.url,vMsid:tt,aMsid:Xe}))&&be.updateSourceStream&&Vt.mergeStream(We),[2,z.map(function(Gt){return{url:Gt.rawUrl,trackInfoList:cr.streamManager.getAllMediaInfoList(be.url)}})]}})})},Q.prototype.proceedPublishStop=function(z){var le;return v(this,void 0,void 0,function(){var ee,ve,Ee=this;return P(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,2,,3]),[4,(le=this.signal)===null||le===void 0?void 0:le.publishStop(z.map(function(be){return Ee.streamManager.getOriginUrl(be.url)}))];case 1:return Re.sent(),[3,3];case 2:throw(ee=Re.sent()).extraInfo=p({api:"publishStop"},ee.extraInfo),ee;case 3:return ve=z.map(function(be){var We=be.url;return v(Ee,void 0,void 0,function(){var tt,Xe=this;return P(this,function(dt){switch(dt.label){case 0:We=(0,w.pruneSubUrl)(We),this.streamManager.getAllTransceivers(We).forEach(function(vt){var _t;vt!=null&&vt.sender&&((_t=Xe.pc)===null||_t===void 0||_t.removeTrack(vt==null?void 0:vt.sender))}),this.streamManager.get(We).streamList.forEach(function(vt){return vt.deleteTracks({video:!0,audio:!0})}),this.streamManager.remove(We),dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,this.simulateOfferAnswer()];case 2:return dt.sent(),[3,4];case 3:throw(tt=dt.sent()).extraInfo=p({api:"publishStop"},tt.extraInfo),tt;case 4:return[2]}})})}),[4,Promise.all(ve)];case 4:return Re.sent(),[2]}})})},Q.prototype.proceedSubscribeAddDatachannel=function(z){return v(this,void 0,void 0,function(){var le=this;return P(this,function(ee){return[2,new Promise(function(ve,Ee){return v(le,void 0,void 0,function(){var Re,be,We,tt,Xe;return P(this,function(dt){switch(dt.label){case 0:return dt.trys.push([0,2,,3]),[4,(tt=this.signal)===null||tt===void 0?void 0:tt.subscribeAddDatachannel(z)];case 1:return dt.sent(),[3,3];case 2:return(Re=dt.sent()).extraInfo=p({api:"subscribeAddDatachannel",signal_api:"subscribeAddDatachannel"},Re.extraInfo),[2,Ee(Re)];case 3:be={},dt.label=4;case 4:return dt.trys.push([4,6,,7]),[4,(Xe=this.signal)===null||Xe===void 0?void 0:Xe.subscribeActiveDatachannel(z)];case 5:return be=dt.sent(),[3,7];case 6:return(We=dt.sent()).extraInfo=p({api:"subscribeAddDatachannel",signal_api:"subscribeActiveDatachannel"},We.extraInfo),[2,Ee(We)];case 7:return ve(be),[2]}})})})]})})},Q.prototype.proceedSubscribeStopDatachannel=function(z){return v(this,void 0,void 0,function(){var le=this;return P(this,function(ee){return[2,new Promise(function(ve,Ee){return v(le,void 0,void 0,function(){var Re,be,We,tt,Xe;return P(this,function(dt){switch(dt.label){case 0:return dt.trys.push([0,2,,3]),[4,(We=this.signal)===null||We===void 0?void 0:We.subscribeStopDatachannel(z)];case 1:return dt.sent(),[3,3];case 2:return Re=dt.sent(),((Xe=(tt=(be=Re).extraInfo.parsedData.streams)===null||tt===void 0?void 0:tt[0])===null||Xe===void 0?void 0:Xe.res_code)===404?[3,3]:(be.extraInfo=p({api:"subscribeStopDatachannel",signal_api:"subscribeStopDatachannel"},be.extraInfo),[2,Ee(Re)]);case 3:return ve(),[2]}})})})]})})},Q.prototype.proceedPublishAddDatachannel=function(z){return v(this,void 0,void 0,function(){var le=this;return P(this,function(ee){return[2,new Promise(function(ve,Ee){return v(le,void 0,void 0,function(){var Re,be,We;return P(this,function(tt){switch(tt.label){case 0:Re={},tt.label=1;case 1:return tt.trys.push([1,3,,4]),[4,(We=this.signal)===null||We===void 0?void 0:We.publishAddDatachannel(z)];case 2:return Re=tt.sent(),[3,4];case 3:return(be=tt.sent()).extraInfo=p({api:"publishAddDatachannel",signal_api:"publishAddDatachannel"},be.extraInfo),[2,Ee(be)];case 4:return ve(Re),[2]}})})})]})})},Q.prototype.proceedPublishStopDatachannel=function(z){return v(this,void 0,void 0,function(){var le=this;return P(this,function(ee){return[2,new Promise(function(ve,Ee){return v(le,void 0,void 0,function(){var Re,be;return P(this,function(We){switch(We.label){case 0:return We.trys.push([0,2,,3]),[4,(be=this.signal)===null||be===void 0?void 0:be.publishStopDatachannel(z)];case 1:return We.sent(),[3,3];case 2:return(Re=We.sent()).extraInfo=p({api:"publishStopDatachannel",signal_api:"publishStopDatachannel"},Re.extraInfo),[2,Ee(Re)];case 3:return ve(),[2]}})})})]})})},Q.prototype.buildUrlStreamMap=function(z){var le=this,ee=[];return z.forEach(function(ve){var Ee=ve.urlData,Re=ve.traceId,be=ve.url,We=ve.vMsid,tt=ve.aMsid,Xe=Ee.url,dt=new MediaStream;le.streamManager.getAllMediaInfoList(Xe,!0).forEach(function(vt){var _t,At;if(vt.type==="video"&&vt.msid===We[0]||vt.type==="audio"&&vt.msid===tt[0]){var Pt=(At=(_t=vt.transceiver)===null||_t===void 0?void 0:_t.receiver)===null||At===void 0?void 0:At.track;Pt&&dt.addTrack(Pt)}}),ee.push({url:be,stream:dt,traceId:Re})}),ee},Q.prototype.extendUrl=function(z){var le=this;return z.map(function(ee){var ve=ee.url,Ee=ee.subAudio,Re=ee.subVideo,be=ee.aMsid,We=ee.vMsid,tt=le.streamManager.getOriginUrl(ve),Xe=new q.UrlData({url:tt,subAudio:Ee,subVideo:Re});return p(p({},ee),{urlData:Xe,aMsid:Xe.subAudio?be||[te]:[],vMsid:Xe.subVideo?We||[$]:[]})})},Q.prototype.parseSdp=function(z){return new F.SdpUtil({sdp:z})},Q.prototype.getTrackInfoList=function(z,le,ee){z===void 0&&(z=[]);var ve=[];return z.forEach(function(Ee){var Re,be,We,tt;if(Ee.type!=="application"){var Xe,dt=Number(Ee.ssrcs&&((Re=Ee.ssrcs[0])===null||Re===void 0?void 0:Re.id))||-1,vt=Ee.rtp.find(function(Nt){var Gt;return["opus","h264"].includes((Gt=Nt.codec)===null||Gt===void 0?void 0:Gt.toLowerCase())}),_t=(vt==null?void 0:vt.codec)||"",At=(vt==null?void 0:vt.payload)||0;le.isCustomStream||Ee.type==="video"&&(Xe=le.hasScreen?"screen":"camera");var Pt=Ee.msid;if(ee!=null&&ee.aMsid||ee!=null&&ee.vMsid){var Vt=(Ee.type==="video"?ee.vMsid:ee.aMsid)||"";Vt!=null&&Vt.trim().includes(" ")||(Pt=(be=Ee.msid)===null||be===void 0?void 0:be.split(" ")[1])}var cr=Ee.type==="video"?(We=le.videoTrack)===null||We===void 0?void 0:We.id:(tt=le.audioTrack)===null||tt===void 0?void 0:tt.id;ve.push({ssrc:dt,codec:_t,type:Ee.type,pt:At,msid:Pt,from:Xe,trackId:cr})}}),ve},Q.prototype.patchSubscribeStreamManagerRecord=function(z,le){var ee=this;this.extendUrl([{url:z,vMsid:le.vMsid,aMsid:le.aMsid}]).forEach(function(ve){var Ee=ve.urlData,Re=ve.vMsid,be=ve.aMsid;if(ee.pc&&(ee.streamManager.remove(Ee.url),ee.streamManager.init(Ee.url),ee.pc.getTransceivers)){var We=ee.pc.getTransceivers()||[];if(Ee.subVideo){var tt=We.find(function(dt){return dt.receiver.track.kind==="video"});ee.streamManager.update(Ee.url,{vMsid:Re[0],vTransceiver:tt,stream:le.stream})}if(Ee.subAudio){var Xe=We.find(function(dt){return dt.receiver.track.kind==="audio"});ee.streamManager.update(Ee.url,{aMsid:be[0],aTransceiver:Xe,stream:le.stream})}}})},Q.prototype.patchPublishStreamManagerRecord=function(z,le){if(this.pc){var ee=le.stream,ve=ee.videoTrack,Ee=ee.audioTrack,Re=this.unifyMsid(le.aMsid,"audio"),be=this.unifyMsid(le.vMsid,"video");if(this.streamManager.init(z,re.EStreamType.Publish),this.pc.getTransceivers){var We=this.pc.getTransceivers()||[];if(ve){var tt=We.find(function(dt){var vt,_t;return((_t=(vt=dt.sender)===null||vt===void 0?void 0:vt.track)===null||_t===void 0?void 0:_t.id)===ve.id});tt&&this.streamManager.update(z,{vMsid:be,vTransceiver:tt,stream:le.stream})}if(Ee){var Xe=We.find(function(dt){var vt,_t;return((_t=(vt=dt.sender)===null||vt===void 0?void 0:vt.track)===null||_t===void 0?void 0:_t.id)===Ee.id});Xe&&this.streamManager.update(z,{aMsid:Re,aTransceiver:Xe,stream:le.stream})}}}},Q.prototype.updateTrackInfoList=function(z){var le=z.url,ee=z.stream,ve=z.vMsid,Ee=z.aMsid,Re=z.sdpMediaList;le||console.error("[updateTrackInfoList] url is required");var be=this.getTrackInfoList(Re,ee,{vMsid:ve,aMsid:Ee}),We=be.find(function(Xe){return Xe.type==="video"}),tt=be.find(function(Xe){return Xe.type==="audio"});return ve&&We&&this.streamManager.updateSdpInfo(le,p({vMsid:ve},We)),Ee&&tt&&this.streamManager.updateSdpInfo(le,p({aMsid:Ee},tt)),be},Q.prototype.unifyMsid=function(z,le){var ee=le==="video"?$:te;return(z==null?void 0:z[0])||ee},Q.prototype.dispose=function(){var z,le;this.pc=void 0,this.prevOfferSdp=void 0,this.prevAnswerSdp=void 0,(z=this.signal)===null||z===void 0||z.dispose(),(le=this.streamManager)===null||le===void 0||le.dispose()},Q.prototype.findNewSubPubMids=function(z,le){var ee=new F.SdpUtil({sdp:z}),ve=new F.SdpUtil({sdp:le}),Ee=ee.detail.media.filter(function(be){return be.direction!=="inactive"}).map(function(be){return be.mid}),Re=ve.detail.media.map(function(be){return be.mid});return this.findDiff(Ee,Re).map(function(be){return String(be)})},Q.prototype.findDiff=function(z,le){return Array.from(new Set(O([],z,!0).filter(function(ee){return!le.includes(ee)})))},Q.prototype.parseMsidString=function(z){var le={stream:"",track:""};if(!z)return le;var ee=z.trim().split(" "),ve=ee[0],Ee=ee[1];return Ee?(le.stream=ve,le.track=Ee):le.track=ve,le},Q.prototype.stringifyMsid=function(z){var le=z.stream,ee=z.track;return"".concat(le).concat(le?" ":"").concat(ee)},Q.prototype.restorePublishedSsrc=function(z){var le=new F.SdpUtil({sdp:this.prevOfferSdp||""}).getPublishSsrcs();z.detail.media.forEach(function(ee){var ve;ee.direction!=="recvonly"&&((ve=ee.ssrcs)===null||ve===void 0||ve.forEach(function(Ee){var Re,be=(Re=le.find(function(We){return We.mid===String(ee.mid)}))===null||Re===void 0?void 0:Re.ssrc;be&&(Ee.id=String(be))}))})},Q.prototype.restorePublishMsid=function(z){var le=this,ee=new F.SdpUtil({sdp:this.prevOfferSdp||""}).getPublishMsids();ee!=null&&ee.length&&z.detail.media.forEach(function(ve){var Ee,Re;if(ve.direction!=="recvonly"){var be=(Ee=ee.find(function(tt){return tt.mid===String(ve.mid)}))===null||Ee===void 0?void 0:Ee.msid;if(!be)return;var We=le.parseMsidString(be);ve.msid=be||ve.msid,(Re=ve.ssrcs)===null||Re===void 0||Re.forEach(function(tt){switch(tt.attribute){case"cname":tt.value=We.track||tt.value;break;case"msid":tt.value=be||tt.value}})}})},Q.prototype.alignAnswerMidsWithOffer=function(z){var le=new F.SdpUtil({sdp:this.prevOfferSdp||""}).detail.media.map(function(Re){return String(Re.mid)}),ee=z.detail.media.map(function(Re){return String(Re.mid)}),ve=this.findDiff(ee,le);z.removeMedia(ve);var Ee=[];le.forEach(function(Re){var be=z.detail.media.find(function(We){return String(We.mid)===Re});be&&Ee.push(be)}),z.detail.media=Ee.filter(function(Re){return Re})},Q.prototype.simulateOfferAnswer=function(z){var le,ee,ve;return v(this,void 0,void 0,function(){var Ee,Re,be,We,tt,Xe,dt,vt,_t,At,Pt,Vt,cr;return P(this,function(Nt){switch(Nt.label){case 0:return Nt.trys.push([0,2,,3]),[4,(le=this.pc)===null||le===void 0?void 0:le.createOffer()];case 1:return Ee=Nt.sent(),Re=new F.SdpUtil({sdp:(Ee==null?void 0:Ee.sdp)||""}),be=Re.detail.media.filter(function(Gt){return Gt.direction==="inactive"}).map(function(Gt){return String(Gt.mid)}),this.restorePublishedSsrc(Re),this.restorePublishMsid(Re),this.prevOfferSdp=Re.generate(),(We=new F.SdpUtil({sdp:this.prevAnswerSdp||""})).setMediaInactive(be),z&&(tt=(0,F.generateFakeMediaSdpAnswer)(z))&&(Xe=new F.SdpUtil({sdp:tt}),dt=O([],Xe.detail.media,!0),We.addOrUpdateMedia(dt),this.alignAnswerMidsWithOffer(We)),vt=We.generate(),this.setPrevAnswerSdp(vt),[3,3];case 2:throw _t=Nt.sent(),new K.RtsError(T.ErrorCode.DATACHANNEL_CREATE_OFFER_ERROR,"CreateOffer error: ".concat(_t),"",{pc:this.pc});case 3:if(At=this.avoidMsidConflict(this.prevOfferSdp),this.offerSdpHook)try{At=this.offerSdpHook(At)}catch(Gt){console.log("offerSdoHook error: ",Gt)}Nt.label=4;case 4:return Nt.trys.push([4,6,,7]),[4,(ee=this.pc)===null||ee===void 0?void 0:ee.setLocalDescription(new RTCSessionDescription({type:"offer",sdp:At}))];case 5:return Nt.sent(),[3,7];case 6:throw Pt=Nt.sent(),new K.RtsError(T.ErrorCode.DATACHANNEL_SET_OFFER_ERROR,"SetLocalDescription error: ".concat(Pt),"",{sdp:this.prevOfferSdp});case 7:if(Nt.trys.push([7,10,,11]),!this.prevAnswerSdp)return[3,9];if(Vt=this.avoidMsidConflict(this.prevAnswerSdp),this.answerSdpHook)try{Vt=this.answerSdpHook(Vt)}catch(Gt){console.log("answerSdpHook error: ",Gt)}return[4,(ve=this.pc)===null||ve===void 0?void 0:ve.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:Vt}))];case 8:Nt.sent(),Nt.label=9;case 9:return[3,11];case 10:throw cr=Nt.sent(),new K.RtsError(T.ErrorCode.DATACHANNEL_SET_ANSWER_ERROR,"SetRemoteDescription error: ".concat(cr),"",{sdp:this.prevAnswerSdp});case 11:return[2]}})})},Q.prototype.avoidMsidConflict=function(z){var le=new F.SdpUtil({sdp:z});return le.mungleMsid(),le.generate()},Q.prototype.setCodecPreferences=function(z,le){if(le)try{z.setCodecPreferences(le)}catch(ee){console.warn("setCodecPreferences error",ee)}},Q.prototype.log=function(){for(var z=[],le=0;le<arguments.length;le++)z[le]=arguments[le];window.RTS_DATACHANNEL_DEBUG&&console.log.apply(console,O(["[PC-Core]"],z,!1))},Q}();G.PeerConnectionCore=ye},651:function(Y,G,k){"use strict";var M,j=this&&this.__extends||(M=function(T,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,se){x.__proto__=se}||function(x,se){for(var ne in se)Object.prototype.hasOwnProperty.call(se,ne)&&(x[ne]=se[ne])},M(T,L)},function(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function x(){this.constructor=T}M(T,L),T.prototype=L===null?Object.create(L):(x.prototype=L.prototype,new x)}),p=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(G,"__esModule",{value:!0}),G.DataChannelCore=G.EDatachannelStatus=void 0;var v,P=k(844),O=k(961),E=k(854),w=p(k(885)),F=p(k(973)),q=p(k(985)),ce=p(k(372));function re(){}(function(T){T[T.DATACHANNEL_STATUS_CLOSE=0]="DATACHANNEL_STATUS_CLOSE",T[T.DATACHANNEL_STATUS_OPEN=1]="DATACHANNEL_STATUS_OPEN"})(v=G.EDatachannelStatus||(G.EDatachannelStatus={}));var K=function(T){function L(x){var se=T.call(this)||this;return se.pendingPromiseMap=new Map,se.mutexSendData=!1,se.timerSendData=null,se.eventQueue=new E.CacheBuffer("send tasks"),se.datachannelList=[],se.pc=x.pc,se.eventHandler=x.onDatachannelEvent||re,se.datachannelList=x.datachannelList||[],se.createDatachannel(x.label),se}return j(L,T),L.prototype.getNextId=function(){var x=0,se=this.datachannelList.reduce(function(ne,de){return de.readyState==="open"?ne+1:(x||(x=de.id),ne)},0);return x||2*(se+1)},L.prototype.createDatachannel=function(x){var se=this,ne={ordered:!0};(q.default.isIos||ce.default.isSafari)&&this.pc.connectionState==="connected"&&(ne.id=this.getNextId()),this.datachannel=this.pc.createDataChannel(x||"GRTN_RTC_DATACHANNEL"+"_".concat(Date.now()),ne),this.datachannel.addEventListener("open",function(){setTimeout(function(){se.eventHandler(v.DATACHANNEL_STATUS_OPEN),se.emit("statusChange",v.DATACHANNEL_STATUS_OPEN)},200)}),this.datachannel.addEventListener("close",function(){se.eventHandler(v.DATACHANNEL_STATUS_CLOSE),se.emit("statusChange",v.DATACHANNEL_STATUS_CLOSE)}),this.datachannel.addEventListener("closing",function(){}),this.datachannel.addEventListener("error",function(de){console.log(">> error",de),se.emit("error",de)}),this.datachannel.addEventListener("bufferedamountlow",function(){}),this.datachannel.addEventListener("message",function(de){se.emit("message",de.data)})},Object.defineProperty(L.prototype,"id",{get:function(){return this.datachannel.id},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"label",{get:function(){return this.datachannel.label},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"readyState",{get:function(){return this.datachannel.readyState},enumerable:!1,configurable:!0}),L.prototype.send=function(x){if(this.datachannel.readyState!=="open")throw new Error("Datachannel(label:".concat(this.datachannel.label,",id:").concat(this.datachannel.id,") is closed."));return this.datachannel.send(x)},L.prototype.sendData=function(x){var se=this;return new Promise(function(ne,de){var $=new F.default(se.datachannel);if(se.mutexSendData){var te={sender:$,res:ne,rej:de,data:x};se.eventQueue.cache(te)}else se.atomSend($,ne,de,x)})},L.prototype.dispose=function(){var x;this.emit("dispose"),this.mutexSendData=!1,this.timerSendData!==null&&clearTimeout(this.timerSendData),this.timerSendData=null,this.eventQueue=new E.CacheBuffer("send tasks"),(x=this.datachannel)===null||x===void 0||x.close()},L.prototype.atomSend=function(x,se,ne,de){var $=this;this.mutexSendData=!0,x.on("onSendDataDone",function(){if($.timerSendData!==null&&clearTimeout($.timerSendData),$.timerSendData=null,$.mutexSendData=!1,!$.eventQueue.isEmpty()){var te=$.eventQueue.getFirst();$.atomSend(te.sender,te.res,te.rej,te.data)}}),this.timerSendData=setTimeout(function(){ne(new O.RtsError(P.ErrorCode.DATACHANNEL_TIMEOUT_ERROR,"request timeout after ".concat(L.REQUEST_TIMEOUT,"ms"),"",de)),$.timerSendData=null,$.mutexSendData=!1,x.emit("onSendDataDone")},L.REQUEST_TIMEOUT),x.sendingProcess(se,ne,de)},L.REQUEST_TIMEOUT=5e3,L}(w.default);G.DataChannelCore=K},973:function(Y,G,k){"use strict";var M,j=this&&this.__extends||(M=function(q,ce){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,K){re.__proto__=K}||function(re,K){for(var T in K)Object.prototype.hasOwnProperty.call(K,T)&&(re[T]=K[T])},M(q,ce)},function(q,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function re(){this.constructor=q}M(q,ce),q.prototype=ce===null?Object.create(ce):(re.prototype=ce.prototype,new re)}),p=this&&this.__spreadArray||function(q,ce,re){if(re||arguments.length===2)for(var K,T=0,L=ce.length;T<L;T++)!K&&T in ce||(K||(K=Array.prototype.slice.call(ce,0,T)),K[T]=ce[T]);return q.concat(K||Array.prototype.slice.call(ce))},v=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(G,"__esModule",{value:!0}),G.EDatachannelSignalResCode=void 0;var P,O=k(844),E=k(961),w=v(k(885));(function(q){q[q.NGX_RTC_PUBLISH_ALREADY=402]="NGX_RTC_PUBLISH_ALREADY",q[q.NGX_RTC_REQUEST_FORBIDDEN=403]="NGX_RTC_REQUEST_FORBIDDEN",q[q.NGX_RTC_STREAM_NO_FOUND=404]="NGX_RTC_STREAM_NO_FOUND",q[q.NGX_RTC_SUBSCRIBE_ALREADY=410]="NGX_RTC_SUBSCRIBE_ALREADY",q[q.NGX_RTC_NORMAL_CLOSED=200]="NGX_RTC_NORMAL_CLOSED",q[q.NGX_RTC_LIMITED=508]="NGX_RTC_LIMITED",q[q.NGX_RTC_INTERNAL_SERVER_ERROR=500]="NGX_RTC_INTERNAL_SERVER_ERROR",q[q.NGX_RTC_BAD_REQUEST=400]="NGX_RTC_BAD_REQUEST",q[q.NGX_RTC_NEED_RETRY=213]="NGX_RTC_NEED_RETRY"})(P=G.EDatachannelSignalResCode||(G.EDatachannelSignalResCode={}));var F=function(q){function ce(re){var K=q.call(this)||this;return K.datachannel=re,K}return j(ce,q),ce.prototype.sendingProcess=function(re,K,T){var L,x=this,se=performance.now();this.datachannel.onmessage=function(ne){try{var de=JSON.parse(ne.data),$=x.checkResponse(de);if(x.log("<<< Received:","".concat(Math.ceil(performance.now()-se),"ms"),de),$.pass)re(de);else{if($.code===P.NGX_RTC_NEED_RETRY)return void setTimeout(function(){x.log(">>> Send:",T),x.datachannel.send(JSON.stringify(T))},200);K(new E.RtsError(O.ErrorCode.DATACHANNEL_RESPONSE_ERROR,"[code]".concat($.code,"; [msg]").concat($.msg),$.traceId,{parsedData:de}))}}catch(te){K(new E.RtsError(O.ErrorCode.DATACHANNEL_PARSE_ERROR,"datachannel message parse error","",{data:ne.data,err:te}))}x.emit("onSendDataDone")};try{this.log(">>> Sent:","".concat(T.type,"-").concat(!((L=T.streams)===null||L===void 0)&&L.length?T.streams[0].method:"-"),T)}catch(ne){}this.datachannel.send(JSON.stringify(T))},ce.prototype.checkResponse=function(re){var K={pass:!0,code:0,msg:"",traceId:""};re.recode!==0&&(K.pass=!1,K.code=re.recode,K.msg=re.msg);var T=re.streams;return T&&T.length>0&&T.forEach(function(L){L.res_code!==200&&(K.pass=!1,K.code=L.res_code,K.msg=L.res_msg,K.traceId=L.traceid)}),K},ce.prototype.log=function(){for(var re=[],K=0;K<arguments.length;K++)re[K]=arguments[K];window.RTS_DATACHANNEL_DEBUG&&console.log.apply(console,p(["".concat(this.now()," [datachannel|").concat(this.datachannel.label,"|").concat(this.datachannel.id,"]")],re,!1))},ce.prototype.now=function(){var re=new Date;return"".concat(re.getHours(),":").concat(re.getMinutes(),":").concat(re.getSeconds(),".").concat(String(re.getMilliseconds()).padStart(3,"0"))},ce}(w.default);G.default=F},844:(Y,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ErrorCode=void 0,function(k){k[k.DATACHANNEL_SIGNAL_ERROR=15e3]="DATACHANNEL_SIGNAL_ERROR",k[k.DATACHANNEL_SET_OFFER_ERROR=15001]="DATACHANNEL_SET_OFFER_ERROR",k[k.DATACHANNEL_SET_ANSWER_ERROR=15002]="DATACHANNEL_SET_ANSWER_ERROR",k[k.DATACHANNEL_CREATE_OFFER_ERROR=15003]="DATACHANNEL_CREATE_OFFER_ERROR",k[k.DATACHANNEL_RESPONSE_ERROR=15004]="DATACHANNEL_RESPONSE_ERROR",k[k.DATACHANNEL_PARSE_ERROR=15005]="DATACHANNEL_PARSE_ERROR",k[k.DATACHANNEL_TIMEOUT_ERROR=15006]="DATACHANNEL_TIMEOUT_ERROR",k[k.CORE_NO_PC_ERROR=15007]="CORE_NO_PC_ERROR",k[k.CORE_PUBLIST_EXCEED_ERROR=15008]="CORE_PUBLIST_EXCEED_ERROR",k[k.CORE_PUB_REPLACE_URL_NOT_FOUND=15009]="CORE_PUB_REPLACE_URL_NOT_FOUND",k[k.CORE_TRANSCEIVERS_NOT_FOUND=15010]="CORE_TRANSCEIVERS_NOT_FOUND"}(G.ErrorCode||(G.ErrorCode={}))},961:(Y,G,k)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.RtsError=void 0;var M=k(844);G.RtsError=function(j,p,v,P){this.errorCode=j,this.errorCodeName=M.ErrorCode[j],this.message=p,this.traceId=v,P&&(this.extraInfo=P)}},854:(Y,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.CacheBuffer=void 0;var k=function(){function M(j){this.data=[],this.tag=j||"unknown",this.maxBufferLength=90}return M.prototype.setMaxCapacity=function(j){this.maxBufferLength=90,j>=0&&(this.maxBufferLength=j),this.maxBufferLength>200&&(this.maxBufferLength=200)},M.prototype.cache=function(j){this.data.length>this.maxBufferLength&&(this.data.shift(),console.log(this.tag+" CACHE: Reach Max Capacity")),this.data.push(j)},M.prototype.getFirst=function(){return this.data.shift()},M.prototype.isEmpty=function(){return this.data.length<=0},M}();G.CacheBuffer=k},885:(Y,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});var k=function(){function M(){this._eventMap={}}return M.prototype.listeners=function(j){return this._eventMap[j]||[]},M.prototype.emit=function(j){for(var p=this,v=[],P=1;P<arguments.length;P++)v[P-1]=arguments[P];var O=this._eventMap[j];return!!Array.isArray(O)&&(O.forEach(function(E){return E.apply(p,v)}),!0)},M.prototype.off=function(j,p){var v=this._eventMap[j];return Array.isArray(v)&&(this._eventMap[j]=v.filter(function(P){return P!==p})),this},M.prototype.removeAllListeners=function(j){return j===void 0?this._eventMap={}:this._eventMap[j]&&(this._eventMap[j]=[]),this},M.prototype.on=function(j,p){return this._eventMap[j]?this._eventMap[j].push(p):this._eventMap[j]=[p],this},M.prototype.once=function(j,p){var v=this,P=function(){for(var O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];v.off(j,P),p.apply(v,O)};return this.on(j,P),this},M}();G.default=k},887:(Y,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.intersection=G.pruneSubUrl=G.parseUrlSubParams=void 0,G.parseUrlSubParams=function(k){var M={subVideo:!0,subAudio:!0};return k&&(k.includes("@subvideo=no")&&(M.subVideo=!1),k.includes("@subaudio=no")&&(M.subAudio=!1)),M},G.pruneSubUrl=function(k,M){var j=k||"";return j=j.replace("@subaudio=no","").replace("@subvideo=no",""),M&&(j=j.split("?")[0]),j},G.intersection=function(k,M){return k.filter(function(j){return M.includes(j)})}},248:function(Y,G,k){"use strict";var M=this&&this.__assign||function(){return M=Object.assign||function(P){for(var O,E=1,w=arguments.length;E<w;E++)for(var F in O=arguments[E])Object.prototype.hasOwnProperty.call(O,F)&&(P[F]=O[F]);return P},M.apply(this,arguments)},j=this&&this.__spreadArray||function(P,O,E){if(E||arguments.length===2)for(var w,F=0,q=O.length;F<q;F++)!w&&F in O||(w||(w=Array.prototype.slice.call(O,0,F)),w[F]=O[F]);return P.concat(w||Array.prototype.slice.call(O))};Object.defineProperty(G,"__esModule",{value:!0}),G.generateFakeMediaSdpAnswer=G.SdpUtil=void 0;var p=k(766),v=function(){function P(O){if(this.rawSdp=O.sdp,!O.sdp)throw new Error("No sdp to parse");this.sdpDetail=this.parse()}return Object.defineProperty(P.prototype,"detail",{get:function(){return this.sdpDetail},enumerable:!1,configurable:!0}),P.prototype.removeMedia=function(O){return this.removeMediaInner(O)},P.prototype.keepMedia=function(O){return this.removeMediaInner(O,{revert:!0})},P.prototype.removeMediaInner=function(O,E){E===void 0&&(E={revert:!1}),O.length&&this.sdpDetail.media&&this.sdpDetail.media.length&&(E.revert?this.sdpDetail.media=this.sdpDetail.media.filter(function(w){return O.includes(String(w.mid)||"")}):this.sdpDetail.media=this.sdpDetail.media.filter(function(w){return!O.includes(String(w.mid)||"")}),this.updateBundle())},P.prototype.addOrUpdateMedia=function(O,E){E===void 0&&(E={}),O=O.map(function(F){return M(M({},F),{setup:"passive"})});var w=[];this.sdpDetail.media=this.sdpDetail.media.map(function(F){var q=O.find(function(K){return K.mid===F.mid});if(q){w.push(F.mid);var ce=q,re=F;return E.isPublish&&(ce.ssrcs=re.ssrcs,ce.ssrcGroups=re.ssrcGroups),q}return F}),this.sdpDetail.media=j(j([],this.sdpDetail.media,!0),O.filter(function(F){return!w.includes(F.mid)}),!0),this.updateBundle()},P.prototype.mungleMsid=function(){this.sdpDetail.media.forEach(function(O){if(O.msid){var E="";O.msid=O.msid.split(" ").map(function(w,F){return F===1?(E=w,w+"_"+O.mid):w}).join(" "),E&&O.ssrcs&&O.ssrcs.forEach(function(w){w.value&&(w.value=w.value.replace(E,E+"_"+O.mid))})}})},P.prototype.addMedia=function(O){var E;O=O.map(function(q){return M(M({},q),{setup:"passive"})}),this.sdpDetail.media=j(j([],this.sdpDetail.media,!0),O,!0);var w=O.reduce(function(q,ce){return q+" "+ce.mid},""),F=(E=this.sdpDetail.groups)===null||E===void 0?void 0:E.find(function(q){return q.type==="BUNDLE"});F&&(F.mids+="".concat(w))},P.prototype.setMediaInactive=function(O){this.sdpDetail.media.forEach(function(E){O.includes(String(E.mid))&&(E.direction="inactive")}),this.updateBundle()},P.prototype.getPublishSsrcs=function(){var O=[];return this.sdpDetail.media.forEach(function(E){E.direction!=="recvonly"&&E.ssrcs&&O.push({type:E.type,ssrc:E.ssrcs[0].id||"ERR_NOT_FOUND",mid:String(E.mid)})}),O},P.prototype.getPublishMsids=function(){var O=[];return this.sdpDetail.media.forEach(function(E){E.direction!=="recvonly"&&E.msid&&O.push({type:E.type,msid:E.msid,mid:String(E.mid)})}),O},P.prototype.generate=function(){return(0,p.write)(this.sdpDetail)},P.prototype.updateBundle=function(){var O,E=(O=this.sdpDetail.groups)===null||O===void 0?void 0:O.find(function(w){return w.type==="BUNDLE"});E&&(E.mids=this.sdpDetail.media.reduce(function(w,F){return w+F.mid+" "},"").trim())},P.prototype.addNack=function(){this.sdpDetail.media.forEach(function(O){var E,w,F;if(O.type==="audio"){if(!((E=O.rtcpFb)===null||E===void 0)&&E.some(function(ce){return ce.type==="nack"}))return;var q=(w=O.rtp.find(function(ce){return ce.codec==="opus"}))===null||w===void 0?void 0:w.payload;q&&((F=O.rtcpFb)===null||F===void 0||F.push({payload:q,type:"nack"}))}})},P.prototype.parse=function(){var O=(0,p.parse)(this.rawSdp);return this.patchMsid(O)},P.prototype.getMids=function(O){return O!=null&&O.length?O.reduce(function(E,w){return j(j([],E,!0),[String(w.mid)],!1)},[]):[]},P.prototype.patchMsid=function(O){return O.media.forEach(function(E){var w,F;E.type==="application"||E.msid||(E.msid=(F=(w=E.ssrcs)===null||w===void 0?void 0:w.find(function(q){return q.attribute==="msid"}))===null||F===void 0?void 0:F.value)}),O},P}();G.SdpUtil=v,G.generateFakeMediaSdpAnswer=function(P){if(!P.mids.length||!P.medias.length||P.mids.length!==P.medias.length)return"";var O=`v=0
o=- 1710852399 2 IN IP4 127.0.0.1
s=-
t=0 0
a=group:BUNDLE`,E=`
a=end-of-candidates`;P.mids.forEach(function(F){O+=" ".concat(F)});var w=function(){for(var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",q="",ce=0;ce<24;ce++)q+=F.charAt(Math.floor(62*Math.random()));return q}();return P.medias.forEach(function(F,q){if(F.type==="video"){var ce=(1e4*Math.random()).toFixed(0),re=F.msid||"rts video";O+=`
m=video 9 UDP/TLS/RTP/SAVPF 106 107
c=IN IP4 0.0.0.0
a=rtcp:9 IN IP4 0.0.0.0
a=ice-ufrag:ZmFrZV90b2tlbg==
a=ice-pwd:`.concat(w,`
a=ice-options:ice-lite
a=fingerprint:SHA-256 C3:E2:CD:1F:B8:E4:DA:77:D1:D2:36:F3:72:EA:83:CA:7A:F2:3B:26:07:C6:E0:3D:96:44:57:59:14:DE:F0:A4
a=setup:passive
a=sendonly
a=mid:`).concat(P.mids[q],`
a=rtcp-mux
a=rtpmap:106 H264/90000
a=fmtp:106 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f;sps-pps-idr-in-keyframe=1
a=rtcp-fb:106 goog-remb
a=rtcp-fb:106 transport-cc
a=rtcp-fb:106 ccm fir
a=rtcp-fb:106 nack
a=rtcp-fb:106 nack pli
a=rtpmap:107 rtx/90000
a=fmtp:107 apt=106
a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01
a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time
a=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay`);var K=`
a=ssrc:`.concat(ce,` cname:defaultcname
a=ssrc:`).concat(ce," msid:").concat(re,`
a=ssrc:`).concat(ce,` mslabel:rts
a=ssrc:`).concat(ce," label:video");P.direction==="sub"&&(O+=K),O+=E}else F.type==="audio"&&(ce=(1e4*Math.random()).toFixed(0),re=F.msid||"rts audio",O+=`
m=audio 9 UDP/TLS/RTP/SAVPF 111
c=IN IP4 0.0.0.0
a=rtcp:9 IN IP4 0.0.0.0
a=ice-ufrag:ZmFrZV90b2tlbg==
a=ice-pwd:`.concat(w,`
a=ice-options:ice-lite
a=fingerprint:SHA-256 C3:E2:CD:1F:B8:E4:DA:77:D1:D2:36:F3:72:EA:83:CA:7A:F2:3B:26:07:C6:E0:3D:96:44:57:59:14:DE:F0:A4
a=setup:passive
a=sendonly
a=mid:`).concat(P.mids[q],`
a=rtcp-mux
a=rtpmap:111 opus/48000/2
a=fmtp:111 minptime=10;stereo=1;useinbandfec=1
a=rtcp-fb:111 transport-cc
a=rtcp-fb:111 nack
a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01
a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time`),K=`
a=ssrc:`.concat(ce,` cname:defaultcname
a=ssrc:`).concat(ce," msid:").concat(re,`
a=ssrc:`).concat(ce,` mslabel:rts
a=ssrc:`).concat(ce," label:audio"),P.direction==="sub"&&(O+=K),O+=E)}),O}},237:(Y,G,k)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.UrlData=void 0;var M=k(887),j=function(){function p(v){var P=(0,M.parseUrlSubParams)(v.url);this.data={url:v.url,subAudio:P.subAudio,subVideo:P.subVideo},typeof v.subAudio=="boolean"&&(this.data.subAudio=v.subAudio),typeof v.subVideo=="boolean"&&(this.data.subVideo=v.subVideo)}return Object.defineProperty(p.prototype,"subVideo",{get:function(){return this.data.subVideo},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"subAudio",{get:function(){return this.data.subAudio},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"url",{get:function(){return(0,M.pruneSubUrl)(this.data.url)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"originalUrl",{get:function(){return this.data.url},enumerable:!1,configurable:!0}),p}();G.UrlData=j},619:function(Y,G,k){"use strict";var M=this&&this.__assign||function(){return M=Object.assign||function(ce){for(var re,K=1,T=arguments.length;K<T;K++)for(var L in re=arguments[K])Object.prototype.hasOwnProperty.call(re,L)&&(ce[L]=re[L]);return ce},M.apply(this,arguments)},j=this&&this.__awaiter||function(ce,re,K,T){return new(K||(K=Promise))(function(L,x){function se($){try{de(T.next($))}catch(te){x(te)}}function ne($){try{de(T.throw($))}catch(te){x(te)}}function de($){var te;$.done?L($.value):(te=$.value,te instanceof K?te:new K(function(X){X(te)})).then(se,ne)}de((T=T.apply(ce,re||[])).next())})},p=this&&this.__generator||function(ce,re){var K,T,L,x,se={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return x={next:ne(0),throw:ne(1),return:ne(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function ne(de){return function($){return function(te){if(K)throw new TypeError("Generator is already executing.");for(;x&&(x=0,te[0]&&(se=0)),se;)try{if(K=1,T&&(L=2&te[0]?T.return:te[0]?T.throw||((L=T.return)&&L.call(T),0):T.next)&&!(L=L.call(T,te[1])).done)return L;switch(T=0,L&&(te=[2&te[0],L.value]),te[0]){case 0:case 1:L=te;break;case 4:return se.label++,{value:te[1],done:!1};case 5:se.label++,T=te[1],te=[0];continue;case 7:te=se.ops.pop(),se.trys.pop();continue;default:if(!((L=(L=se.trys).length>0&&L[L.length-1])||te[0]!==6&&te[0]!==2)){se=0;continue}if(te[0]===3&&(!L||te[1]>L[0]&&te[1]<L[3])){se.label=te[1];break}if(te[0]===6&&se.label<L[1]){se.label=L[1],L=te;break}if(L&&se.label<L[2]){se.label=L[2],se.ops.push(te);break}L[2]&&se.ops.pop(),se.trys.pop();continue}te=re.call(ce,se)}catch(X){te=[6,X],T=0}finally{K=L=0}if(5&te[0])throw te[1];return{value:te[0]?te[1]:void 0,done:!0}}([de,$])}}},v=this&&this.__spreadArray||function(ce,re,K){if(K||arguments.length===2)for(var T,L=0,x=re.length;L<x;L++)!T&&L in re||(T||(T=Array.prototype.slice.call(re,0,L)),T[L]=re[L]);return ce.concat(T||Array.prototype.slice.call(re))};Object.defineProperty(G,"__esModule",{value:!0}),G.Signal=void 0;var P,O,E,w=k(651),F=k(887);(function(ce){ce.Sub="sub",ce.Pub="pub"})(P||(P={})),function(ce){ce.Add="add",ce.Active="active",ce.Stop="stop",ce.Delete="delete"}(O||(O={})),function(ce){ce.Audio="audio",ce.Video="video",ce.Data="data"}(E||(E={}));var q=function(){function ce(re){this.latestMsgId=0,this.latestSubAddMsgId=0,this.pc=re.pc,this.datachannel=new w.DataChannelCore({pc:this.pc,onDatachannelEvent:re.onDatachannelEvent})}return ce.prototype.getDatachannelCore=function(){return this.datachannel},ce.prototype.subscribeAdd=function(re,K,T){var L;return j(this,void 0,void 0,function(){var x;return p(this,function(se){switch(se.label){case 0:return x=M(M({},this.baseParams({type:P.Sub,method:O.Add})),{streams:re.map(function(ne,de){var $=ne.urlData,te=[];return $.subAudio&&!T.isMsidSubPubDone($.url,{aMsid:ne.aMsid[0]})&&te.push({type:E.Audio,name:ne.aMsid[0]}),$.subVideo&&!T.isMsidSubPubDone($.url,{vMsid:ne.vMsid[0]})&&te.push({type:E.Video,name:ne.vMsid[0]}),{method:O.Add,url:$.url,msid:te,sdp:K[de],ttl:300}})}),[4,(L=this.datachannel)===null||L===void 0?void 0:L.sendData(x)];case 1:return[2,se.sent()]}})})},ce.prototype.subscribeActive=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams({type:P.Sub,method:O.Active})),{streams:re.map(function(x){var se=x.urlData;return{method:O.Active,url:se.url}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return L.sent(),[2]}})})},ce.prototype.subscribeDelete=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams()),{streams:re.map(function(x){var se=x.url,ne=x.aMsid,de=x.vMsid,$=[];return ne!=null&&ne.length&&($=v(v([],$,!0),ne.map(function(te){return{name:te}}),!0)),de!=null&&de.length&&($=v(v([],$,!0),de.map(function(te){return{name:te}}),!0)),{method:O.Delete,url:(0,F.pruneSubUrl)(se),msid:$}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.subscribeStop=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams()),{streams:re.map(function(x){var se=x.urlData;return{method:O.Stop,url:se.url}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.subscribeAddDatachannel=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams({type:P.Sub,method:O.Add})),{streams:re.map(function(x){var se=x.url,ne=x.msid;return{method:O.Add,url:se,msid:[{type:E.Data,name:ne}]}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.subscribeActiveDatachannel=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams({type:P.Sub,method:O.Active})),{streams:re.map(function(x){var se=x.url,ne=x.datachannelId,de=x.msid;return{method:O.Active,url:se,msid:[{type:E.Data,name:de,channel:ne}]}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.subscribeStopDatachannel=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams()),{streams:re.map(function(x){var se=x.url;return{method:O.Stop,url:se}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.publishAdd=function(re,K,T,L){var x;return j(this,void 0,void 0,function(){var se;return p(this,function(ne){return se=M(M({},this.baseParams({type:P.Pub})),{streams:re.map(function(de,$){var te=T[$],X=L[$],ye=[];return te.length&&ye.push({type:"video",name:te[0].trim()}),X.length&&ye.push({type:"audio",name:X[0].trim()}),{method:O.Add,url:de,msid:ye,sdp:K[$]}})}),[2,(x=this.datachannel)===null||x===void 0?void 0:x.sendData(se)]})})},ce.prototype.publishDelete=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){return T=M(M({},this.baseParams({type:P.Pub})),{streams:re.map(function(x){var se=x.url,ne=x.aMsid,de=x.vMsid,$=[];return ne!=null&&ne.length&&($=v(v([],$,!0),ne.map(function(te){return{name:te}}),!0)),de!=null&&de.length&&($=v(v([],$,!0),de.map(function(te){return{name:te}}),!0)),{method:O.Delete,url:(0,F.pruneSubUrl)(se),msid:$}})}),[2,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)]})})},ce.prototype.publishStop=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){return T=M(M({},this.baseParams({type:P.Pub})),{streams:re.map(function(x){return{method:O.Stop,url:x}})}),[2,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)]})})},ce.prototype.publishAddDatachannel=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams({type:P.Pub,method:O.Add})),{streams:re.map(function(x){var se=x.url,ne=x.datachannelId,de=x.msid;return{method:O.Add,url:se,msid:[{type:E.Data,name:de,channel:ne}]}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.publishStopDatachannel=function(re){var K;return j(this,void 0,void 0,function(){var T;return p(this,function(L){switch(L.label){case 0:return T=M(M({},this.baseParams({type:P.Pub})),{streams:re.map(function(x){var se=x.url;return{method:O.Stop,url:se}})}),[4,(K=this.datachannel)===null||K===void 0?void 0:K.sendData(T)];case 1:return[2,L.sent()]}})})},ce.prototype.dispose=function(){this.datachannel.dispose()},ce.prototype.baseParams=function(re){re===void 0&&(re={type:P.Sub});var K=0;return re.type===P.Sub&&re.method===O.Add?(K=++this.latestMsgId,this.latestSubAddMsgId=this.latestMsgId):K=re.type===P.Sub&&re.method===O.Active?this.latestSubAddMsgId:++this.latestMsgId,{msg_id:K,version:2,type:re.type}},ce}();G.Signal=q},132:function(Y,G){"use strict";var k=this&&this.__awaiter||function(v,P,O,E){return new(O||(O=Promise))(function(w,F){function q(K){try{re(E.next(K))}catch(T){F(T)}}function ce(K){try{re(E.throw(K))}catch(T){F(T)}}function re(K){var T;K.done?w(K.value):(T=K.value,T instanceof O?T:new O(function(L){L(T)})).then(q,ce)}re((E=E.apply(v,P||[])).next())})},M=this&&this.__generator||function(v,P){var O,E,w,F,q={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return F={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function ce(re){return function(K){return function(T){if(O)throw new TypeError("Generator is already executing.");for(;F&&(F=0,T[0]&&(q=0)),q;)try{if(O=1,E&&(w=2&T[0]?E.return:T[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,T[1])).done)return w;switch(E=0,w&&(T=[2&T[0],w.value]),T[0]){case 0:case 1:w=T;break;case 4:return q.label++,{value:T[1],done:!1};case 5:q.label++,E=T[1],T=[0];continue;case 7:T=q.ops.pop(),q.trys.pop();continue;default:if(!((w=(w=q.trys).length>0&&w[w.length-1])||T[0]!==6&&T[0]!==2)){q=0;continue}if(T[0]===3&&(!w||T[1]>w[0]&&T[1]<w[3])){q.label=T[1];break}if(T[0]===6&&q.label<w[1]){q.label=w[1],w=T;break}if(w&&q.label<w[2]){q.label=w[2],q.ops.push(T);break}w[2]&&q.ops.pop(),q.trys.pop();continue}T=P.call(v,q)}catch(L){T=[6,L],E=0}finally{O=w=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([re,K])}}},j=this&&this.__spreadArray||function(v,P,O){if(O||arguments.length===2)for(var E,w=0,F=P.length;w<F;w++)!E&&w in P||(E||(E=Array.prototype.slice.call(P,0,w)),E[w]=P[w]);return v.concat(E||Array.prototype.slice.call(P))};Object.defineProperty(G,"__esModule",{value:!0}),G.PeerConnectionRollbackController=void 0;var p=function(){function v(P){this.fakeSdpParams={direction:"sub",mids:[],medias:[]},this.pcCore=P}return v.prototype.setFakeSdpMids=function(P){this.fakeSdpParams.mids=P},v.prototype.setFakeSdpMedias=function(P,O){this.fakeSdpParams.medias=P,this.fakeSdpParams.direction=O},v.prototype.saveStreamManager=function(P){this.streamManager=P,this.streamManagerBackup=this.streamManager.doBackup()},v.prototype.rollback=function(P){return k(this,void 0,void 0,function(){var O;return M(this,function(E){switch(E.label){case 0:if(P!=null&&P.trackListnerRollback&&(this.pcCore.removeTrackListener(),this.log("Sub Track Listener Removed")),(P==null?void 0:P.streamManagerRollback)&&this.streamManagerBackup){this.pcCore.setStreamManager(this.streamManagerBackup);try{this.log("Stream Manager Restored",JSON.parse(JSON.stringify(this.streamManager)))}catch(w){}}if(P!=null&&P.pcTransceiversRollback&&(this.fakeSdpParams.medias.forEach(function(w){var F;(F=w.trans)===null||F===void 0||F.receiver.track.stop()}),this.log("Sub Track(s) Stopped",this.fakeSdpParams.medias)),!(P!=null&&P.runSimulateSignal))return[3,4];this.log("SDP Simulating...",this.fakeSdpParams),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.pcCore.simulateOfferAnswer(this.fakeSdpParams)];case 2:return E.sent(),this.log("SDP Simulation Done"),[3,4];case 3:return O=E.sent(),this.log("SDP Simulation Failed",O),[3,4];case 4:return[2]}})})},v.prototype.log=function(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];window.RTS_DATACHANNEL_DEBUG&&console.log.apply(console,j(["[PC-Core-Rollback]"],P,!1))},v}();G.PeerConnectionRollbackController=p},628:function(Y,G,k){"use strict";var M=this&&this.__assign||function(){return M=Object.assign||function(O){for(var E,w=1,F=arguments.length;w<F;w++)for(var q in E=arguments[w])Object.prototype.hasOwnProperty.call(E,q)&&(O[q]=E[q]);return O},M.apply(this,arguments)},j=this&&this.__spreadArray||function(O,E,w){if(w||arguments.length===2)for(var F,q=0,ce=E.length;q<ce;q++)!F&&q in E||(F||(F=Array.prototype.slice.call(E,0,q)),F[q]=E[q]);return O.concat(F||Array.prototype.slice.call(E))};Object.defineProperty(G,"__esModule",{value:!0}),G.StreamManager=G.EStreamType=void 0;var p,v=k(887);(function(O){O.Subscribe="sub",O.Publish="pub"})(p=G.EStreamType||(G.EStreamType={}));var P=function(){function O(E){this.streamMap={}}return O.prototype.doBackup=function(){var E,w,F,q=new O;q.streamMap={};var ce=function(T){var L=re.streamMap[T];if(L){var x=[],se=[],ne=[];(E=L.streamList)===null||E===void 0||E.forEach(function($){x.push($)}),(w=L.videoInfoList)===null||w===void 0||w.forEach(function($){var te={msid:$.msid,ssrc:$.ssrc,transceiver:$.transceiver,subDone:$.subDone,pubDone:$.pubDone,streamId:$.streamId,codec:$.codec,pt:$.pt,from:$.from,type:$.type};se.push(te)}),(F=L.audioInfoList)===null||F===void 0||F.forEach(function($){$.msid,$.ssrc,$.transceiver,$.subDone,$.pubDone,$.streamId,$.codec,$.pt,$.from,$.type,ne.push($)});var de={type:L.type,streamList:x,videoInfoList:se,audioInfoList:ne,originUrl:L.originUrl};q.streamMap[T]=de}},re=this;for(var K in this.streamMap)ce(K);return q},O.prototype.init=function(E,w){w===void 0&&(w=p.Subscribe);var F=(0,v.pruneSubUrl)(E);E=(0,v.pruneSubUrl)(E,!0),this.has(E)||(this.streamMap[E]={type:w,videoInfoList:[],audioInfoList:[],streamList:[],originUrl:F})},O.prototype.remove=function(E){delete this.streamMap[(0,v.pruneSubUrl)(E,!0)]},O.prototype.update=function(E,w){var F=this.get(E);if(!F)throw new Error("No url found");if(w.aMsid){var q=F.audioInfoList.find(function(re){return re.msid===w.aMsid})||this.createMediaItem(w.aMsid,"audio");w.aTransceiver&&(q.transceiver=w.aTransceiver),w.stream&&(q.streamId=w.stream.id),this.updateMediaInfoList(q,F.audioInfoList)}if(w.vMsid){var ce=F.videoInfoList.find(function(re){return re.msid===w.vMsid})||this.createMediaItem(w.vMsid,"video");w.vTransceiver&&(ce.transceiver=w.vTransceiver),w.stream&&(ce.streamId=w.stream.id),this.updateMediaInfoList(ce,F.videoInfoList)}w.stream&&(F.streamList.some(function(re){return re.id===w.stream.id})||(F.streamList=j(j([],F.streamList,!0),[w.stream],!1)))},O.prototype.pruneStreamList=function(E){var w=this.get(E);w&&(w.streamList=w.streamList.filter(function(F){var q;return((q=F.mediaStream)===null||q===void 0?void 0:q.getTracks().length)>0}))},O.prototype.updateSdpInfo=function(E,w){var F,q=this.get(E);if(!q)throw new Error("No url found");if(w.aMsid?F=q.audioInfoList.find(function(ce){return ce.msid===w.aMsid}):w.vMsid&&(F=q.videoInfoList.find(function(ce){return ce.msid===w.vMsid})),!F)throw new Error("No target media found");F.ssrc=w.ssrc,F.codec=w.codec,F.pt=w.pt,F.from=w.from},O.prototype.get=function(E){return this.streamMap[(0,v.pruneSubUrl)(E,!0)]},O.prototype.has=function(E){return!!this.get(E)},O.prototype.removeMsid=function(E,w){E=(0,v.pruneSubUrl)(E,!0);var F=this.get(E);F&&(w.vMsid&&(F.videoInfoList=F.videoInfoList.filter(function(q){return q.msid!==w.vMsid})),w.aMsid&&(F.audioInfoList=F.audioInfoList.filter(function(q){return q.msid!==w.aMsid})))},O.prototype.getMids=function(E,w){w===void 0&&(w={filterSubDone:!1}),E=(0,v.pruneSubUrl)(E,!0);var F=this.streamMap[E];return F?j(j([],F.audioInfoList.reduce(function(q,ce){return ce.transceiver&&(!w.filterSubDone||w.filterSubDone&&!ce.subDone)?j(j([],q,!0),[String(ce.transceiver.mid)],!1):q},[]),!0),F.videoInfoList.reduce(function(q,ce){return ce.transceiver&&(!w.filterSubDone||w.filterSubDone&&!ce.subDone)?j(j([],q,!0),[String(ce.transceiver.mid)],!1):q},[]),!0):[]},O.prototype.getAllTransceivers=function(E){if(!E)return[];E=(0,v.pruneSubUrl)(E,!0);var w=this.get(E);return w?j(j([],w.videoInfoList.map(function(F){return F.transceiver}),!0),w.audioInfoList.map(function(F){return F.transceiver}),!0):[]},O.prototype.getTransceiver=function(E,w){if(w===void 0&&(w={}),E){E=(0,v.pruneSubUrl)(E,!0);var F=w.vMsid,q=w.aMsid,ce=this.get(E);if(ce){var re;if(F)return(re=ce.videoInfoList.find(function(K){return K.msid===F}))==null?void 0:re.transceiver;if(q)return(re=ce.audioInfoList.find(function(K){return K.msid===q}))==null?void 0:re.transceiver}}},O.prototype.getStreamByMsid=function(E){var w,F,q=this.get(E.url);if(q){if(E.vMsid){var ce=(w=q.videoInfoList.find(function(K){return K.msid===E.vMsid}))===null||w===void 0?void 0:w.streamId;return q.streamList.find(function(K){return K.id===ce})}if(E.aMsid){var re=(F=q.audioInfoList.find(function(K){return K.msid===E.aMsid}))===null||F===void 0?void 0:F.streamId;return q.streamList.find(function(K){return K.id===re})}return q.streamList[0]}},O.prototype.hasTransceiver=function(E,w){return w===void 0&&(w={}),!!this.getTransceiver(E,w)},O.prototype.removeTransceiver=function(E,w){E=(0,v.pruneSubUrl)(E,!0);var F,q=this.get(E);q&&(w.vMsid&&(F=q.videoInfoList.find(function(ce){return ce.msid===w.vMsid}))&&(F.transceiver=void 0),w.aMsid&&(F=q.audioInfoList.find(function(ce){return ce.msid===w.aMsid}))&&(F.transceiver=void 0))},O.prototype.markAlreadySubPub=function(E,w){w===void 0&&(w={}),E=(0,v.pruneSubUrl)(E,!0);var F,q=this.streamMap[E];q&&(w.vMsid&&(F=q.videoInfoList.find(function(ce){return ce.msid===w.vMsid}))&&(F[w.isPub?"pubDone":"subDone"]=!w.reset),w.aMsid&&(F=q.audioInfoList.find(function(ce){return ce.msid===w.aMsid}))&&(F[w.isPub?"pubDone":"subDone"]=!w.reset))},O.prototype.isMsidSubPubDone=function(E,w){w===void 0&&(w={}),E=(0,v.pruneSubUrl)(E,!0);var F=this.streamMap[E];if(!F)return!1;if(w.vMsid){var q=F.videoInfoList.find(function(ce){return ce.msid===w.vMsid});return w.isPub?q==null?void 0:q.pubDone:q==null?void 0:q.subDone}return w.aMsid?(q=F.audioInfoList.find(function(ce){return ce.msid===w.aMsid}),w.isPub?q==null?void 0:q.pubDone:q==null?void 0:q.subDone):void 0},O.prototype.getAllMediaInfoList=function(E,w){var F=this.get(E);return F?j(j([],F.audioInfoList.map(function(q){var ce,re,K,T,L=q.type,x=q.msid,se=q.ssrc,ne=q.pt,de=q.codec,$=q.from,te=q.transceiver,X={type:L,msid:x,ssrc:se,pt:ne,codec:de,from:$,trackId:F.type===p.Subscribe?(re=(ce=te==null?void 0:te.receiver)===null||ce===void 0?void 0:ce.track)===null||re===void 0?void 0:re.id:(T=(K=te==null?void 0:te.sender)===null||K===void 0?void 0:K.track)===null||T===void 0?void 0:T.id};return w?M(M({},X),{transceiver:te}):X}),!0),F.videoInfoList.map(function(q){var ce,re,K,T,L=q.type,x=q.msid,se=q.ssrc,ne=q.pt,de=q.codec,$=q.from,te=q.transceiver,X={type:L,msid:x,ssrc:se,pt:ne,codec:de,from:$,trackId:F.type===p.Subscribe?(re=(ce=te==null?void 0:te.receiver)===null||ce===void 0?void 0:ce.track)===null||re===void 0?void 0:re.id:(T=(K=te==null?void 0:te.sender)===null||K===void 0?void 0:K.track)===null||T===void 0?void 0:T.id};return w?M(M({},X),{transceiver:te}):X}),!0):[]},O.prototype.getOriginUrl=function(E){var w=(0,v.pruneSubUrl)(E,!0),F=this.get(w);return F?F.originUrl:E},O.prototype.getAllTrackPairList=function(E){var w,F,q,ce,re=[];for(var K in this.streamMap){var T=this.streamMap[K];if(T.type===E)for(var L=Math.max(T.audioInfoList.length,T.videoInfoList.length),x=0;x<L;x++){var se={url:K,originUrl:T.originUrl};x<T.audioInfoList.length&&(se.aTransceiver=E===p.Subscribe?(w=T.audioInfoList[x].transceiver)===null||w===void 0?void 0:w.receiver:(F=T.audioInfoList[x].transceiver)===null||F===void 0?void 0:F.sender,se.aMsid=T.audioInfoList[x].msid),x<T.videoInfoList.length&&(se.vTransceiver=E===p.Subscribe?(q=T.videoInfoList[x].transceiver)===null||q===void 0?void 0:q.receiver:(ce=T.videoInfoList[x].transceiver)===null||ce===void 0?void 0:ce.sender,se.vMsid=T.videoInfoList[x].msid),re.push(se)}}return re},O.prototype.getSender=function(E,w,F){var q,ce,re=void 0,K=this.getAllMediaInfoList(E,!0);return F?K.forEach(function(T){var L,x,se,ne=(x=(L=T.transceiver)===null||L===void 0?void 0:L.sender)===null||x===void 0?void 0:x.track;(ne==null?void 0:ne.kind)===w&&T.msid===F&&(re=(se=T.transceiver)===null||se===void 0?void 0:se.sender)}):re=(ce=(q=K==null?void 0:K.find(function(T){var L,x,se;return((se=(x=(L=T.transceiver)===null||L===void 0?void 0:L.sender)===null||x===void 0?void 0:x.track)===null||se===void 0?void 0:se.kind)===w}))===null||q===void 0?void 0:q.transceiver)===null||ce===void 0?void 0:ce.sender,re},O.prototype.getReceiver=function(E,w,F){var q,ce,re=void 0,K=this.getAllMediaInfoList(E,!0);return F?K.forEach(function(T){var L,x,se,ne=(x=(L=T.transceiver)===null||L===void 0?void 0:L.receiver)===null||x===void 0?void 0:x.track;(ne==null?void 0:ne.kind)===w&&T.msid===F&&(re=(se=T.transceiver)===null||se===void 0?void 0:se.receiver)}):re=(ce=(q=K==null?void 0:K.find(function(T){var L,x,se;return((se=(x=(L=T.transceiver)===null||L===void 0?void 0:L.receiver)===null||x===void 0?void 0:x.track)===null||se===void 0?void 0:se.kind)===w}))===null||q===void 0?void 0:q.transceiver)===null||ce===void 0?void 0:ce.receiver,re},O.prototype.dispose=function(){this.streamMap={}},O.prototype.updateMediaInfoList=function(E,w){var F=w.findIndex(function(q){return q.msid===E.msid});F!==-1?w.splice(F,1,E):w.push(E)},O.prototype.findMediaItemByMsid=function(E,w){return w.find(function(F){return F.msid===E})},O.prototype.createMediaItem=function(E,w){return{msid:E,ssrc:void 0,transceiver:void 0,subDone:!1,pubDone:!1,type:w,streamId:void 0}},O}();G.StreamManager=P},372:Y=>{"use strict";Y.exports=window.BrowserUtil},985:Y=>{"use strict";Y.exports=window.SystemUtil}},N={};function U(Y){var G=N[Y];if(G!==void 0)return G.exports;var k=N[Y]={exports:{}};return V[Y].call(k.exports,k,k.exports,U),k.exports}var B={};return(()=>{"use strict";var Y=B;Object.defineProperty(Y,"__esModule",{value:!0}),Y.DataChannelCore=Y.EDatachannelStatus=Y.PeerConnectionCore=void 0;var G=U(776);Object.defineProperty(Y,"PeerConnectionCore",{enumerable:!0,get:function(){return G.PeerConnectionCore}}),Object.defineProperty(Y,"EDatachannelStatus",{enumerable:!0,get:function(){return G.EDatachannelStatus}});var k=U(651);Object.defineProperty(Y,"DataChannelCore",{enumerable:!0,get:function(){return k.DataChannelCore}})})(),B})(),_e.exports=W()},2632:(_e,W,V)=>{"use strict";V.r(W),V.d(W,{default:()=>p});function N(v,P,O){Object.defineProperty(v,P,{writable:!0,enumerable:!0,configurable:!0,value:O})}Array(32);var U,B,Y,G;class k{constructor(P){var O,E;this.timer=null,this.time=10,this.count=10,this.arr=[],this.time=(O=P.time)!=null?O:10,this.count=(E=P.count)!=null?E:10,P.host.startsWith("http://")||P.host.startsWith("https://")?this.url=P.host+"/logstores/"+P.logstore+"/track":this.url="https://"+P.project+"."+P.host+"/logstores/"+P.logstore+"/track",this.opt=P,P.installUnloadHook&&typeof P.installUnloadHook=="function"&&P.installUnloadHook(()=>{this.sendImmediateInner()})}assemblePayload(P=this.arr){const O={__logs__:P};return this.opt.tags&&(O.__tags__=this.opt.tags),this.opt.topic&&(O.__topic__=this.opt.topic),this.opt.source&&(O.__source__=this.opt.source),JSON.stringify(O)}platformSend(){if(this.opt.sendPayload&&typeof this.opt.sendPayload=="function"){const P=this.assemblePayload();this.opt.sendPayload(this.url,P)}}transString(P){let O={};for(let E in P)typeof P[E]=="object"?O[E]=JSON.stringify(P[E]):O[E]=String(P[E]);return O}sendImmediateInner(){this.arr&&this.arr.length>0&&(this.platformSend(),this.timer!=null&&(clearTimeout(this.timer),this.timer=null),this.arr=[])}sendInner(){if(this.timer)this.arr.length>=this.count&&(clearTimeout(this.timer),this.timer=null,this.sendImmediateInner());else{const P=this;this.arr.length>=this.count||this.time<=0?this.sendImmediateInner():this.timer=setTimeout(function(){P.sendImmediateInner()},1e3*this.time)}}send(P){const O=this.transString(P);this.arr.push(O),this.sendInner()}sendImmediate(P){const O=this.transString(P);this.arr.push(O),this.sendImmediateInner()}sendBatchLogs(P){const O=P.map(E=>this.transString(E));this.arr.push(...O),this.sendInner()}sendBatchLogsImmediate(P){const O=P.map(E=>this.transString(E));this.arr.push(...O),this.sendImmediateInner()}}function M(v,P){const O=new window.XMLHttpRequest;O.open("POST",`${v}?APIVersion=0.6.0`,!0),O.send(P)}function j(v,P){try{if(P.length>=32768)return void M(v,P);(function(O,E){return!(!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(`${O}?APIVersion=0.6.0`,E)})(v,P)||M(v,P)}catch(O){window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+O),console.error("Failed log data:",v))}}class p extends k{constructor(P){super(Object.assign({},P,{installUnloadHook:O=>{window.addEventListener("beforeunload",()=>{O()})},sendPayload:(O,E)=>{j(O,E)}}))}}U=window,B="SLS_Tracker",Y=p,G?G(()=>{N(U,B,Y)}):N(U,B,Y)},4198:_e=>{"use strict";_e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},ke={};function Ve(_e){var W=ke[_e];if(W!==void 0)return W.exports;var V=ke[_e]={exports:{}};return st[_e].call(V.exports,V,V.exports,Ve),V.exports}return Ve.n=_e=>{var W=_e&&_e.__esModule?()=>_e.default:()=>_e;return Ve.d(W,{a:W}),W},Ve.d=(_e,W)=>{for(var V in W)Ve.o(W,V)&&!Ve.o(_e,V)&&Object.defineProperty(_e,V,{enumerable:!0,get:W[V]})},Ve.o=(_e,W)=>Object.prototype.hasOwnProperty.call(_e,W),Ve.r=_e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})},Ve(8156)})())},37:function(S,Me,xe){"use strict";var rt=xe(4836).default;Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var st=rt(xe(5584)),ke=Me.default=st.default},5584:function(S,Me,xe){"use strict";var rt=xe(4836).default;Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var st=rt(xe(5369)),ke=rt(xe(5704));const Ve={lang:Object.assign({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},st.default),timePickerLocale:Object.assign({},ke.default)};Ve.lang.ok="\u786E\u5B9A";var _e=Me.default=Ve},2925:function(S,Me,xe){"use strict";var rt,st=xe(4836).default;rt={value:!0},Me.Z=void 0;var ke=st(xe(4219)),Ve=st(xe(37)),_e=st(xe(5584)),W=st(xe(5704));const V="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",N={locale:"zh-cn",Pagination:ke.default,DatePicker:_e.default,TimePicker:W.default,Calendar:Ve.default,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",emptyText:"\u6682\u65E0\u6570\u636E",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Tour:{Next:"\u4E0B\u4E00\u6B65",Previous:"\u4E0A\u4E00\u6B65",Finish:"\u7ED3\u675F\u5BFC\u89C8"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",deselectAll:"\u53D6\u6D88\u5168\u9009",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:V,method:V,array:V,object:V,number:V,date:V,boolean:V,integer:V,float:V,regexp:V,email:V,url:V,hex:V},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0",scanned:"\u5DF2\u626B\u63CF"},ColorPicker:{presetEmpty:"\u6682\u65E0",transparent:"\u65E0\u8272",singleColor:"\u5355\u8272",gradientColor:"\u6E10\u53D8\u8272"}};var U=Me.Z=N},5704:function(S,Me){"use strict";Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;const xe={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]};var rt=Me.default=xe},6729:function(S){"use strict";var Me=Object.prototype.hasOwnProperty,xe="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(xe=!1));function st(W,V,N){this.fn=W,this.context=V,this.once=N||!1}function ke(W,V,N,U,B){if(typeof N!="function")throw new TypeError("The listener must be a function");var Y=new st(N,U||W,B),G=xe?xe+V:V;return W._events[G]?W._events[G].fn?W._events[G]=[W._events[G],Y]:W._events[G].push(Y):(W._events[G]=Y,W._eventsCount++),W}function Ve(W,V){--W._eventsCount===0?W._events=new rt:delete W._events[V]}function _e(){this._events=new rt,this._eventsCount=0}_e.prototype.eventNames=function(){var V=[],N,U;if(this._eventsCount===0)return V;for(U in N=this._events)Me.call(N,U)&&V.push(xe?U.slice(1):U);return Object.getOwnPropertySymbols?V.concat(Object.getOwnPropertySymbols(N)):V},_e.prototype.listeners=function(V){var N=xe?xe+V:V,U=this._events[N];if(!U)return[];if(U.fn)return[U.fn];for(var B=0,Y=U.length,G=new Array(Y);B<Y;B++)G[B]=U[B].fn;return G},_e.prototype.listenerCount=function(V){var N=xe?xe+V:V,U=this._events[N];return U?U.fn?1:U.length:0},_e.prototype.emit=function(V,N,U,B,Y,G){var k=xe?xe+V:V;if(!this._events[k])return!1;var M=this._events[k],j=arguments.length,p,v;if(M.fn){switch(M.once&&this.removeListener(V,M.fn,void 0,!0),j){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,N),!0;case 3:return M.fn.call(M.context,N,U),!0;case 4:return M.fn.call(M.context,N,U,B),!0;case 5:return M.fn.call(M.context,N,U,B,Y),!0;case 6:return M.fn.call(M.context,N,U,B,Y,G),!0}for(v=1,p=new Array(j-1);v<j;v++)p[v-1]=arguments[v];M.fn.apply(M.context,p)}else{var P=M.length,O;for(v=0;v<P;v++)switch(M[v].once&&this.removeListener(V,M[v].fn,void 0,!0),j){case 1:M[v].fn.call(M[v].context);break;case 2:M[v].fn.call(M[v].context,N);break;case 3:M[v].fn.call(M[v].context,N,U);break;case 4:M[v].fn.call(M[v].context,N,U,B);break;default:if(!p)for(O=1,p=new Array(j-1);O<j;O++)p[O-1]=arguments[O];M[v].fn.apply(M[v].context,p)}}return!0},_e.prototype.on=function(V,N,U){return ke(this,V,N,U,!1)},_e.prototype.once=function(V,N,U){return ke(this,V,N,U,!0)},_e.prototype.removeListener=function(V,N,U,B){var Y=xe?xe+V:V;if(!this._events[Y])return this;if(!N)return Ve(this,Y),this;var G=this._events[Y];if(G.fn)G.fn===N&&(!B||G.once)&&(!U||G.context===U)&&Ve(this,Y);else{for(var k=0,M=[],j=G.length;k<j;k++)(G[k].fn!==N||B&&!G[k].once||U&&G[k].context!==U)&&M.push(G[k]);M.length?this._events[Y]=M.length===1?M[0]:M:Ve(this,Y)}return this},_e.prototype.removeAllListeners=function(V){var N;return V?(N=xe?xe+V:V,this._events[N]&&Ve(this,N)):(this._events=new rt,this._eventsCount=0),this},_e.prototype.off=_e.prototype.removeListener,_e.prototype.addListener=_e.prototype.on,_e.prefixed=xe,_e.EventEmitter=_e,S.exports=_e},4155:function(S){var Me=S.exports={},xe,rt;function st(){throw new Error("setTimeout has not been defined")}function ke(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xe=setTimeout:xe=st}catch(M){xe=st}try{typeof clearTimeout=="function"?rt=clearTimeout:rt=ke}catch(M){rt=ke}})();function Ve(M){if(xe===setTimeout)return setTimeout(M,0);if((xe===st||!xe)&&setTimeout)return xe=setTimeout,setTimeout(M,0);try{return xe(M,0)}catch(j){try{return xe.call(null,M,0)}catch(p){return xe.call(this,M,0)}}}function _e(M){if(rt===clearTimeout)return clearTimeout(M);if((rt===ke||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(M);try{return rt(M)}catch(j){try{return rt.call(null,M)}catch(p){return rt.call(this,M)}}}var W=[],V=!1,N,U=-1;function B(){!V||!N||(V=!1,N.length?W=N.concat(W):U=-1,W.length&&Y())}function Y(){if(!V){var M=Ve(B);V=!0;for(var j=W.length;j;){for(N=W,W=[];++U<j;)N&&N[U].run();U=-1,j=W.length}N=null,V=!1,_e(M)}}Me.nextTick=function(M){var j=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)j[p-1]=arguments[p];W.push(new G(M,j)),W.length===1&&!V&&Ve(Y)};function G(M,j){this.fun=M,this.array=j}G.prototype.run=function(){this.fun.apply(null,this.array)},Me.title="browser",Me.browser=!0,Me.env={},Me.argv=[],Me.version="",Me.versions={};function k(){}Me.on=k,Me.addListener=k,Me.once=k,Me.off=k,Me.removeListener=k,Me.removeAllListeners=k,Me.emit=k,Me.prependListener=k,Me.prependOnceListener=k,Me.listeners=function(M){return[]},Me.binding=function(M){throw new Error("process.binding is not supported")},Me.cwd=function(){return"/"},Me.chdir=function(M){throw new Error("process.chdir is not supported")},Me.umask=function(){return 0}},4219:function(S,Me){"use strict";Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var xe={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},rt=Me.default=xe},6114:function(S,Me){"use strict";Object.defineProperty(Me,"__esModule",{value:!0}),Me.commonLocale=void 0;var xe=Me.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}},5369:function(S,Me,xe){"use strict";var rt=xe(4836).default;Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var st=rt(xe(2122)),ke=xe(6114),Ve=(0,st.default)((0,st.default)({},ke.commonLocale),{},{locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA",yearFormat:"YYYY\u5E74",cellDateFormat:"D",monthBeforeYear:!1}),_e=Me.default=Ve},4448:function(S,Me,xe){"use strict";var rt=xe(7294),st=xe(3840);function ke(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ve=new Set,_e={};function W(o,s){V(o,s),V(o+"Capture",s)}function V(o,s){for(_e[o]=s,o=0;o<s.length;o++)Ve.add(s[o])}var N=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),U=Object.prototype.hasOwnProperty,B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y={},G={};function k(o){return U.call(G,o)?!0:U.call(Y,o)?!1:B.test(o)?G[o]=!0:(Y[o]=!0,!1)}function M(o,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function j(o,s,f,g){if(s===null||typeof s=="undefined"||M(o,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function p(o,s,f,g,I,J,pe){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=I,this.mustUseProperty=f,this.propertyName=o,this.type=s,this.sanitizeURL=J,this.removeEmptyString=pe}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){v[o]=new p(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];v[s]=new p(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){v[o]=new p(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){v[o]=new p(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){v[o]=new p(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){v[o]=new p(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){v[o]=new p(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){v[o]=new p(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){v[o]=new p(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(P,O);v[s]=new p(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(P,O);v[s]=new p(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(P,O);v[s]=new p(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){v[o]=new p(o,1,!1,o.toLowerCase(),null,!1,!1)}),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){v[o]=new p(o,1,!1,o.toLowerCase(),null,!0,!0)});function E(o,s,f,g){var I=v.hasOwnProperty(s)?v[s]:null;(I!==null?I.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,f,I,g)&&(f=null),g||I===null?k(s)&&(f===null?o.removeAttribute(s):o.setAttribute(s,""+f)):I.mustUseProperty?o[I.propertyName]=f===null?I.type===3?!1:"":f:(s=I.attributeName,g=I.attributeNamespace,f===null?o.removeAttribute(s):(I=I.type,f=I===3||I===4&&f===!0?"":""+f,g?o.setAttributeNS(g,s,f):o.setAttribute(s,f))))}var w=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),q=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),$=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var te=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var X=Symbol.iterator;function ye(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Object.assign,z;function le(o){if(z===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+o}var ee=!1;function ve(o,s){if(!o||ee)return"";ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(it){var g=it}Reflect.construct(o,[],s)}else{try{s.call()}catch(it){g=it}o.call(s.prototype)}else{try{throw Error()}catch(it){g=it}o()}}catch(it){if(it&&g&&typeof it.stack=="string"){for(var I=it.stack.split(`
`),J=g.stack.split(`
`),pe=I.length-1,we=J.length-1;1<=pe&&0<=we&&I[pe]!==J[we];)we--;for(;1<=pe&&0<=we;pe--,we--)if(I[pe]!==J[we]){if(pe!==1||we!==1)do if(pe--,we--,0>we||I[pe]!==J[we]){var je=`
`+I[pe].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=pe&&0<=we);break}}}finally{ee=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?le(o):""}function Ee(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=ve(o.type,!1),o;case 11:return o=ve(o.type.render,!1),o;case 1:return o=ve(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ce:return"Fragment";case q:return"Portal";case K:return"Profiler";case re:return"StrictMode";case se:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case T:return(o._context.displayName||"Context")+".Provider";case x:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case de:return s=o.displayName||null,s!==null?s:Re(o.type)||"Memo";case $:s=o._payload,o=o._init;try{return Re(o(s))}catch(f){}}return null}function be(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(s);case 8:return s===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function We(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function tt(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xe(o){var s=tt(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),g=""+o[s];if(!o.hasOwnProperty(s)&&typeof f!="undefined"&&typeof f.get=="function"&&typeof f.set=="function"){var I=f.get,J=f.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return I.call(this)},set:function(pe){g=""+pe,J.call(this,pe)}}),Object.defineProperty(o,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(pe){g=""+pe},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function dt(o){o._valueTracker||(o._valueTracker=Xe(o))}function vt(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return o&&(g=tt(o)?o.checked?"true":"false":o.value),o=g,o!==f?(s.setValue(o),!0):!1}function _t(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(s){return o.body}}function At(o,s){var f=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f!=null?f:o._wrapperState.initialChecked})}function Pt(o,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=We(s.value!=null?s.value:f),o._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Vt(o,s){s=s.checked,s!=null&&E(o,"checked",s,!1)}function cr(o,s){Vt(o,s);var f=We(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?Gt(o,s.type,f):s.hasOwnProperty("defaultValue")&&Gt(o,s.type,We(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function Nt(o,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,f||s===o.value||(o.value=s),o.defaultValue=s}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Gt(o,s,f){(s!=="number"||_t(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Qt=Array.isArray;function vr(o,s,f,g){if(o=o.options,s){s={};for(var I=0;I<f.length;I++)s["$"+f[I]]=!0;for(f=0;f<o.length;f++)I=s.hasOwnProperty("$"+o[f].value),o[f].selected!==I&&(o[f].selected=I),I&&g&&(o[f].defaultSelected=!0)}else{for(f=""+We(f),s=null,I=0;I<o.length;I++){if(o[I].value===f){o[I].selected=!0,g&&(o[I].defaultSelected=!0);return}s!==null||o[I].disabled||(s=o[I])}s!==null&&(s.selected=!0)}}function Qr(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function on(o,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(ke(92));if(Qt(f)){if(1<f.length)throw Error(ke(93));f=f[0]}s=f}s==null&&(s=""),f=s}o._wrapperState={initialValue:We(f)}}function Rn(o,s){var f=We(s.value),g=We(s.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),s.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),g!=null&&(o.defaultValue=""+g)}function Lr(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function Un(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vr(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?Un(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Bn,Qn=function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(s,f,g,I){MSApp.execUnsafeLocalFunction(function(){return o(s,f,g,I)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Bn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function jn(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(o){an.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),Fn[s]=Fn[o]})});function Zt(o,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Fn.hasOwnProperty(o)&&Fn[o]?(""+s).trim():s+"px"}function xt(o,s){o=o.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,I=Zt(f,s[f],g);f==="float"&&(f="cssFloat"),g?o.setProperty(f,I):o[f]=I}}var yr=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(o,s){if(s){if(yr[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ke(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ke(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ke(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ke(62))}}function ue(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fe=null;function Pe(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var De=null,Je=null,qe=null;function Ge(o){if(o=bs(o)){if(typeof De!="function")throw Error(ke(280));var s=o.stateNode;s&&(s=$i(s),De(o.stateNode,o.type,s))}}function ut(o){Je?qe?qe.push(o):qe=[o]:Je=o}function at(){if(Je){var o=Je,s=qe;if(qe=Je=null,Ge(o),s)for(o=0;o<s.length;o++)Ge(s[o])}}function ht(o,s){return o(s)}function kt(){}var Lt=!1;function lr(o,s,f){if(Lt)return o(s,f);Lt=!0;try{return ht(o,s,f)}finally{Lt=!1,(Je!==null||qe!==null)&&(kt(),at())}}function Oi(o,s){var f=o.stateNode;if(f===null)return null;var g=$i(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(ke(231,s,typeof f));return f}var Qi=!1;if(N)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch(o){Qi=!1}function sf(o,s,f,g,I,J,pe,we,je){var it=Array.prototype.slice.call(arguments,3);try{s.apply(f,it)}catch(mt){this.onError(mt)}}var Jc=!1,fs=null,Yc=!1,Rp=null,cS={onError:function(o){Jc=!0,fs=o}};function lS(o,s,f,g,I,J,pe,we,je){Jc=!1,fs=null,sf.apply(cS,arguments)}function uS(o,s,f,g,I,J,pe,we,je){if(lS.apply(this,arguments),Jc){if(Jc){var it=fs;Jc=!1,fs=null}else throw Error(ke(198));Yc||(Yc=!0,Rp=it)}}function Qs(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function wp(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function pu(o){if(Qs(o)!==o)throw Error(ke(188))}function Tp(o){var s=o.alternate;if(!s){if(s=Qs(o),s===null)throw Error(ke(188));return s!==o?null:o}for(var f=o,g=s;;){var I=f.return;if(I===null)break;var J=I.alternate;if(J===null){if(g=I.return,g!==null){f=g;continue}break}if(I.child===J.child){for(J=I.child;J;){if(J===f)return pu(I),o;if(J===g)return pu(I),s;J=J.sibling}throw Error(ke(188))}if(f.return!==g.return)f=I,g=J;else{for(var pe=!1,we=I.child;we;){if(we===f){pe=!0,f=I,g=J;break}if(we===g){pe=!0,g=I,f=J;break}we=we.sibling}if(!pe){for(we=J.child;we;){if(we===f){pe=!0,f=J,g=I;break}if(we===g){pe=!0,g=J,f=I;break}we=we.sibling}if(!pe)throw Error(ke(189))}}if(f.alternate!==g)throw Error(ke(190))}if(f.tag!==3)throw Error(ke(188));return f.stateNode.current===f?o:s}function cf(o){return o=Tp(o),o!==null?mu(o):null}function mu(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=mu(o);if(s!==null)return s;o=o.sibling}return null}var gu=st.unstable_scheduleCallback,Ap=st.unstable_cancelCallback,lf=st.unstable_shouldYield,rv=st.unstable_requestPaint,wn=st.unstable_now,Xc=st.unstable_getCurrentPriorityLevel,vu=st.unstable_ImmediatePriority,Uo=st.unstable_UserBlockingPriority,Zs=st.unstable_NormalPriority,uf=st.unstable_LowPriority,yu=st.unstable_IdlePriority,df=null,Zi=null;function nv(o){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(df,o,void 0,(o.current.flags&128)===128)}catch(s){}}var Fi=Math.clz32?Math.clz32:er,iv=Math.log,ff=Math.LN2;function er(o){return o>>>=0,o===0?32:31-(iv(o)/ff|0)|0}var hs=64,ps=4194304;function Qc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Zc(o,s){var f=o.pendingLanes;if(f===0)return 0;var g=0,I=o.suspendedLanes,J=o.pingedLanes,pe=f&268435455;if(pe!==0){var we=pe&~I;we!==0?g=Qc(we):(J&=pe,J!==0&&(g=Qc(J)))}else pe=f&~I,pe!==0?g=Qc(pe):J!==0&&(g=Qc(J));if(g===0)return 0;if(s!==0&&s!==g&&!(s&I)&&(I=g&-g,J=s&-s,I>=J||I===16&&(J&4194240)!==0))return s;if(g&4&&(g|=f&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=g;0<s;)f=31-Fi(s),I=1<<f,g|=o[f],s&=~I;return g}function Pp(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(o,s){for(var f=o.suspendedLanes,g=o.pingedLanes,I=o.expirationTimes,J=o.pendingLanes;0<J;){var pe=31-Fi(J),we=1<<pe,je=I[pe];je===-1?(!(we&f)||we&g)&&(I[pe]=Pp(we,s)):je<=s&&(o.expiredLanes|=we),J&=~we}}function Su(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function bi(){var o=hs;return hs<<=1,!(hs&4194240)&&(hs=64),o}function hf(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function ec(o,s,f){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-Fi(s),o[s]=f}function ov(o,s){var f=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<f;){var I=31-Fi(f),J=1<<I;s[I]=0,g[I]=-1,o[I]=-1,f&=~J}}function pf(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var g=31-Fi(f),I=1<<g;I&s|o[g]&s&&(o[g]|=s),f&=~I}}var Hr=0;function Ip(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Op,mf,xp,Mp,Np,gf=!1,bu=[],ms=null,Ma=null,gs=null,Eu=new Map,vs=new Map,Na=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Da(o,s){switch(o){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(s.pointerId)}}function el(o,s,f,g,I,J){return o===null||o.nativeEvent!==J?(o={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:J,targetContainers:[I]},s!==null&&(s=bs(s),s!==null&&mf(s)),o):(o.eventSystemFlags|=g,s=o.targetContainers,I!==null&&s.indexOf(I)===-1&&s.push(I),o)}function sv(o,s,f,g,I){switch(s){case"focusin":return ms=el(ms,o,s,f,g,I),!0;case"dragenter":return Ma=el(Ma,o,s,f,g,I),!0;case"mouseover":return gs=el(gs,o,s,f,g,I),!0;case"pointerover":var J=I.pointerId;return Eu.set(J,el(Eu.get(J)||null,o,s,f,g,I)),!0;case"gotpointercapture":return J=I.pointerId,vs.set(J,el(vs.get(J)||null,o,s,f,g,I)),!0}return!1}function Dp(o){var s=fa(o.target);if(s!==null){var f=Qs(s);if(f!==null){if(s=f.tag,s===13){if(s=wp(f),s!==null){o.blockedOn=s,Np(o.priority,function(){xp(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cu(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=Ru(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);Fe=g,f.target.dispatchEvent(g),Fe=null}else return s=bs(f),s!==null&&mf(s),o.blockedOn=f,!1;s.shift()}return!0}function Lp(o,s,f){Cu(o)&&f.delete(s)}function Vp(){gf=!1,ms!==null&&Cu(ms)&&(ms=null),Ma!==null&&Cu(Ma)&&(Ma=null),gs!==null&&Cu(gs)&&(gs=null),Eu.forEach(Lp),vs.forEach(Lp)}function tl(o,s){o.blockedOn===s&&(o.blockedOn=null,gf||(gf=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Vp)))}function rl(o){function s(I){return tl(I,o)}if(0<bu.length){tl(bu[0],o);for(var f=1;f<bu.length;f++){var g=bu[f];g.blockedOn===o&&(g.blockedOn=null)}}for(ms!==null&&tl(ms,o),Ma!==null&&tl(Ma,o),gs!==null&&tl(gs,o),Eu.forEach(s),vs.forEach(s),f=0;f<Na.length;f++)g=Na[f],g.blockedOn===o&&(g.blockedOn=null);for(;0<Na.length&&(f=Na[0],f.blockedOn===null);)Dp(f),f.blockedOn===null&&Na.shift()}var br=w.ReactCurrentBatchConfig,_u=!0;function cv(o,s,f,g){var I=Hr,J=br.transition;br.transition=null;try{Hr=1,Up(o,s,f,g)}finally{Hr=I,br.transition=J}}function dS(o,s,f,g){var I=Hr,J=br.transition;br.transition=null;try{Hr=4,Up(o,s,f,g)}finally{Hr=I,br.transition=J}}function Up(o,s,f,g){if(_u){var I=Ru(o,s,f,g);if(I===null)Vf(o,s,g,vf,f),Da(o,g);else if(sv(I,o,s,f,g))g.stopPropagation();else if(Da(o,g),s&4&&-1<av.indexOf(o)){for(;I!==null;){var J=bs(I);if(J!==null&&Op(J),J=Ru(o,s,f,g),J===null&&Vf(o,s,g,vf,f),J===I)break;I=J}I!==null&&g.stopPropagation()}else Vf(o,s,g,null,f)}}var vf=null;function Ru(o,s,f,g){if(vf=null,o=Pe(g),o=fa(o),o!==null)if(s=Qs(o),s===null)o=null;else if(f=s.tag,f===13){if(o=wp(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return vf=o,null}function yf(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xc()){case vu:return 1;case Uo:return 4;case Zs:case uf:return 16;case yu:return 536870912;default:return 16}default:return 16}}var sa=null,Bp=null,Sf=null;function jp(){if(Sf)return Sf;var o,s=Bp,f=s.length,g,I="value"in sa?sa.value:sa.textContent,J=I.length;for(o=0;o<f&&s[o]===I[o];o++);var pe=f-o;for(g=1;g<=pe&&s[f-g]===I[J-g];g++);return Sf=I.slice(o,1<g?1-g:void 0)}function bf(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Ef(){return!0}function lv(){return!1}function eo(o){function s(f,g,I,J,pe){this._reactName=f,this._targetInst=I,this.type=g,this.nativeEvent=J,this.target=pe,this.currentTarget=null;for(var we in o)o.hasOwnProperty(we)&&(f=o[we],this[we]=f?f(J):J[we]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Ef:lv,this.isPropagationStopped=lv,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),s}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=eo(nl),wu=Q({},nl,{view:0,detail:0}),fS=eo(wu),Fp,_f,Tu,il=Q({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Tu&&(Tu&&o.type==="mousemove"?(Fp=o.screenX-Tu.screenX,_f=o.screenY-Tu.screenY):_f=Fp=0,Tu=o),Fp)},movementY:function(o){return"movementY"in o?o.movementY:_f}}),Au=eo(il),hS=Q({},il,{dataTransfer:0}),pS=eo(hS),$p=Q({},wu,{relatedTarget:0}),Rf=eo($p),Pu=Q({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=eo(Pu),Bo=Q({},nl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tc=eo(Bo),jo=Q({},nl,{data:0}),Hp=eo(jo),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wf(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=gS[o])?!!s[o]:!1}function Tf(){return wf}var Iu=Q({},wu,{key:function(o){if(o.key){var s=ku[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=bf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(o){return o.type==="keypress"?bf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?bf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rc=eo(Iu),zp=Q({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=eo(zp),Sn=Q({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),nc=eo(Sn),Ou=Q({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=eo(Ou),vS=Q({},il,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=eo(vS),hv=[9,13,27,32],Mi=N&&"CompositionEvent"in window,to=null;N&&"documentMode"in document&&(to=document.documentMode);var xu=N&&"TextEvent"in window&&!to,ol=N&&(!Mi||to&&8<to&&11>=to),ys=" ",Af=!1;function Pf(o,s){switch(o){case"keyup":return hv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sl=!1;function pv(o,s){switch(o){case"compositionend":return al(s);case"keypress":return s.which!==32?null:(Af=!0,ys);case"textInput":return o=s.data,o===ys&&Af?null:o;default:return null}}function mv(o,s){if(sl)return o==="compositionend"||!Mi&&Pf(o,s)?(o=jp(),Sf=Bp=sa=null,sl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ol&&s.locale!=="ko"?null:s.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!gv[o.type]:s==="textarea"}function Wp(o,s,f,g){ut(g),s=ac(s,"onChange"),0<s.length&&(f=new Cf("onChange","change",null,f,g),o.push({event:f,listeners:s}))}var ic=null,cl=null;function Nu(o){em(o,0)}function ll(o){var s=dc(o);if(vt(s))return o}function vv(o,s){if(o==="change")return s}var kf=!1;if(N){var Gp;if(N){var Kp="oninput"in document;if(!Kp){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),Kp=typeof yv.oninput=="function"}Gp=Kp}else Gp=!1;kf=Gp&&(!document.documentMode||9<document.documentMode)}function Sv(){ic&&(ic.detachEvent("onpropertychange",bv),cl=ic=null)}function bv(o){if(o.propertyName==="value"&&ll(cl)){var s=[];Wp(s,cl,o,Pe(o)),lr(Nu,s)}}function Ev(o,s,f){o==="focusin"?(Sv(),ic=s,cl=f,ic.attachEvent("onpropertychange",bv)):o==="focusout"&&Sv()}function Cv(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ll(cl)}function yS(o,s){if(o==="click")return ll(s)}function SS(o,s){if(o==="input"||o==="change")return ll(s)}function bS(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Fo=typeof Object.is=="function"?Object.is:bS;function Du(o,s){if(Fo(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var I=f[g];if(!U.call(s,I)||!Fo(o[I],s[I]))return!1}return!0}function _v(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Rv(o,s){var f=_v(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=s&&g>=s)return{node:f,offset:s-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=_v(f)}}function wv(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?wv(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function If(){for(var o=window,s=_t();s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch(g){f=!1}if(f)o=s.contentWindow;else break;s=_t(o.document)}return s}function Lu(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function ES(o){var s=If(),f=o.focusedElem,g=o.selectionRange;if(s!==f&&f&&f.ownerDocument&&wv(f.ownerDocument.documentElement,f)){if(g!==null&&Lu(f)){if(s=g.start,o=g.end,o===void 0&&(o=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(o,f.value.length);else if(o=(s=f.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var I=f.textContent.length,J=Math.min(g.start,I);g=g.end===void 0?J:Math.min(g.end,I),!o.extend&&J>g&&(I=g,g=J,J=I),I=Rv(f,J);var pe=Rv(f,g);I&&pe&&(o.rangeCount!==1||o.anchorNode!==I.node||o.anchorOffset!==I.offset||o.focusNode!==pe.node||o.focusOffset!==pe.offset)&&(s=s.createRange(),s.setStart(I.node,I.offset),o.removeAllRanges(),J>g?(o.addRange(s),o.extend(pe.node,pe.offset)):(s.setEnd(pe.node,pe.offset),o.addRange(s)))}}for(s=[],o=f;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)o=s[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var La=N&&"documentMode"in document&&11>=document.documentMode,Va=null,qp=null,ul=null,Of=!1;function Jp(o,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Of||Va==null||Va!==_t(g)||(g=Va,"selectionStart"in g&&Lu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ul&&Du(ul,g)||(ul=g,g=ac(qp,"onSelect"),0<g.length&&(s=new Cf("onSelect","select",null,s,f),o.push({event:s,listeners:g}),s.target=Va)))}function Vu(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var Ss={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},oc={},Yp={};N&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function dl(o){if(oc[o])return oc[o];if(!Ss[o])return o;var s=Ss[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in Yp)return oc[o]=s[f];return o}var Xp=dl("animationend"),xf=dl("animationiteration"),Qp=dl("animationstart"),Mf=dl("transitionend"),Uu=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(o,s){Uu.set(o,s),W(s,[o])}for(var Nf=0;Nf<Zp.length;Nf++){var Df=Zp[Nf],Tv=Df.toLowerCase(),fl=Df[0].toUpperCase()+Df.slice(1);ca(Tv,"on"+fl)}ca(Xp,"onAnimationEnd"),ca(xf,"onAnimationIteration"),ca(Qp,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(Mf,"onTransitionEnd"),V("onMouseEnter",["mouseout","mouseover"]),V("onMouseLeave",["mouseout","mouseover"]),V("onPointerEnter",["pointerout","pointerover"]),V("onPointerLeave",["pointerout","pointerover"]),W("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),W("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),W("onBeforeInput",["compositionend","keypress","textInput","paste"]),W("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),W("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Pv(o,s,f){var g=o.type||"unknown-event";o.currentTarget=f,uS(g,s,void 0,o),o.currentTarget=null}function em(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],I=g.event;g=g.listeners;e:{var J=void 0;if(s)for(var pe=g.length-1;0<=pe;pe--){var we=g[pe],je=we.instance,it=we.currentTarget;if(we=we.listener,je!==J&&I.isPropagationStopped())break e;Pv(I,we,it),J=je}else for(pe=0;pe<g.length;pe++){if(we=g[pe],je=we.instance,it=we.currentTarget,we=we.listener,je!==J&&I.isPropagationStopped())break e;Pv(I,we,it),J=je}}}if(Yc)throw o=Rp,Yc=!1,Rp=null,o}function ir(o,s){var f=s[ju];f===void 0&&(f=s[ju]=new Set);var g=o+"__bubble";f.has(g)||(ml(s,o,2,!1),f.add(g))}function Lf(o,s,f){var g=0;s&&(g|=4),ml(f,o,g,s)}var la="_reactListening"+Math.random().toString(36).slice(2);function pl(o){if(!o[la]){o[la]=!0,Ve.forEach(function(f){f!=="selectionchange"&&(Av.has(f)||Lf(f,!1,o),Lf(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[la]||(s[la]=!0,Lf("selectionchange",!1,s))}}function ml(o,s,f,g){switch(yf(s)){case 1:var I=cv;break;case 4:I=dS;break;default:I=Up}f=I.bind(null,s,f,o),I=void 0,!Qi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(I=!0),g?I!==void 0?o.addEventListener(s,f,{capture:!0,passive:I}):o.addEventListener(s,f,!0):I!==void 0?o.addEventListener(s,f,{passive:I}):o.addEventListener(s,f,!1)}function Vf(o,s,f,g,I){var J=g;if(!(s&1)&&!(s&2)&&g!==null)e:for(;;){if(g===null)return;var pe=g.tag;if(pe===3||pe===4){var we=g.stateNode.containerInfo;if(we===I||we.nodeType===8&&we.parentNode===I)break;if(pe===4)for(pe=g.return;pe!==null;){var je=pe.tag;if((je===3||je===4)&&(je=pe.stateNode.containerInfo,je===I||je.nodeType===8&&je.parentNode===I))return;pe=pe.return}for(;we!==null;){if(pe=fa(we),pe===null)return;if(je=pe.tag,je===5||je===6){g=J=pe;continue e}we=we.parentNode}}g=g.return}lr(function(){var it=J,mt=Pe(f),gt=[];e:{var pt=Uu.get(o);if(pt!==void 0){var Mt=Cf,Bt=o;switch(o){case"keypress":if(bf(f)===0)break e;case"keydown":case"keyup":Mt=rc;break;case"focusin":Bt="focus",Mt=Rf;break;case"focusout":Bt="blur",Mt=Rf;break;case"beforeblur":case"afterblur":Mt=Rf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=pS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=nc;break;case Xp:case xf:case Qp:Mt=uv;break;case Mf:Mt=dv;break;case"scroll":Mt=fS;break;case"wheel":Mt=fv;break;case"copy":case"cut":case"paste":Mt=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=xi}var Ft=(s&4)!==0,Dn=!Ft&&o==="scroll",Qe=Ft?pt!==null?pt+"Capture":null:pt;Ft=[];for(var He=it,nt;He!==null;){nt=He;var Ct=nt.stateNode;if(nt.tag===5&&Ct!==null&&(nt=Ct,Qe!==null&&(Ct=Oi(He,Qe),Ct!=null&&Ft.push(gl(He,Ct,nt)))),Dn)break;He=He.return}0<Ft.length&&(pt=new Mt(pt,Bt,null,f,mt),gt.push({event:pt,listeners:Ft}))}}if(!(s&7)){e:{if(pt=o==="mouseover"||o==="pointerover",Mt=o==="mouseout"||o==="pointerout",pt&&f!==Fe&&(Bt=f.relatedTarget||f.fromElement)&&(fa(Bt)||Bt[da]))break e;if((Mt||pt)&&(pt=mt.window===mt?mt:(pt=mt.ownerDocument)?pt.defaultView||pt.parentWindow:window,Mt?(Bt=f.relatedTarget||f.toElement,Mt=it,Bt=Bt?fa(Bt):null,Bt!==null&&(Dn=Qs(Bt),Bt!==Dn||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Mt=null,Bt=it),Mt!==Bt)){if(Ft=Au,Ct="onMouseLeave",Qe="onMouseEnter",He="mouse",(o==="pointerout"||o==="pointerover")&&(Ft=xi,Ct="onPointerLeave",Qe="onPointerEnter",He="pointer"),Dn=Mt==null?pt:dc(Mt),nt=Bt==null?pt:dc(Bt),pt=new Ft(Ct,He+"leave",Mt,f,mt),pt.target=Dn,pt.relatedTarget=nt,Ct=null,fa(mt)===it&&(Ft=new Ft(Qe,He+"enter",Bt,f,mt),Ft.target=nt,Ft.relatedTarget=Dn,Ct=Ft),Dn=Ct,Mt&&Bt)t:{for(Ft=Mt,Qe=Bt,He=0,nt=Ft;nt;nt=sc(nt))He++;for(nt=0,Ct=Qe;Ct;Ct=sc(Ct))nt++;for(;0<He-nt;)Ft=sc(Ft),He--;for(;0<nt-He;)Qe=sc(Qe),nt--;for(;He--;){if(Ft===Qe||Qe!==null&&Ft===Qe.alternate)break t;Ft=sc(Ft),Qe=sc(Qe)}Ft=null}else Ft=null;Mt!==null&&kv(gt,pt,Mt,Ft,!1),Bt!==null&&Dn!==null&&kv(gt,Dn,Bt,Ft,!0)}}e:{if(pt=it?dc(it):window,Mt=pt.nodeName&&pt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&pt.type==="file")var $t=vv;else if(Mu(pt))if(kf)$t=SS;else{$t=Cv;var qt=Ev}else(Mt=pt.nodeName)&&Mt.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&($t=yS);if($t&&($t=$t(o,it))){Wp(gt,$t,f,mt);break e}qt&&qt(o,pt,it),o==="focusout"&&(qt=pt._wrapperState)&&qt.controlled&&pt.type==="number"&&Gt(pt,"number",pt.value)}switch(qt=it?dc(it):window,o){case"focusin":(Mu(qt)||qt.contentEditable==="true")&&(Va=qt,qp=it,ul=null);break;case"focusout":ul=qp=Va=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Jp(gt,f,mt);break;case"selectionchange":if(La)break;case"keydown":case"keyup":Jp(gt,f,mt)}var Jt;if(Mi)e:{switch(o){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else sl?Pf(o,f)&&(rr="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(rr="onCompositionStart");rr&&(ol&&f.locale!=="ko"&&(sl||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&sl&&(Jt=jp()):(sa=mt,Bp="value"in sa?sa.value:sa.textContent,sl=!0)),qt=ac(it,rr),0<qt.length&&(rr=new Hp(rr,o,null,f,mt),gt.push({event:rr,listeners:qt}),Jt?rr.data=Jt:(Jt=al(f),Jt!==null&&(rr.data=Jt)))),(Jt=xu?pv(o,f):mv(o,f))&&(it=ac(it,"onBeforeInput"),0<it.length&&(mt=new Hp("onBeforeInput","beforeinput",null,f,mt),gt.push({event:mt,listeners:it}),mt.data=Jt))}em(gt,s)})}function gl(o,s,f){return{instance:o,listener:s,currentTarget:f}}function ac(o,s){for(var f=s+"Capture",g=[];o!==null;){var I=o,J=I.stateNode;I.tag===5&&J!==null&&(I=J,J=Oi(o,f),J!=null&&g.unshift(gl(o,J,I)),J=Oi(o,s),J!=null&&g.push(gl(o,J,I))),o=o.return}return g}function sc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function kv(o,s,f,g,I){for(var J=s._reactName,pe=[];f!==null&&f!==g;){var we=f,je=we.alternate,it=we.stateNode;if(je!==null&&je===g)break;we.tag===5&&it!==null&&(we=it,I?(je=Oi(f,J),je!=null&&pe.unshift(gl(f,je,we))):I||(je=Oi(f,J),je!=null&&pe.push(gl(f,je,we)))),f=f.return}pe.length!==0&&o.push({event:s,listeners:pe})}var CS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function mr(o){return(typeof o=="string"?o:""+o).replace(CS,`
`).replace(_S,"")}function Ua(o,s,f){if(s=mr(s),mr(o)!==s&&f)throw Error(ke(425))}function ro(){}var ua=null,cc=null;function Bu(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,tm=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf!="undefined"?function(o){return Uf.resolve(null).then(o).catch(Ov)}:$o;function Ov(o){setTimeout(function(){throw o})}function vl(o,s){var f=s,g=0;do{var I=f.nextSibling;if(o.removeChild(f),I&&I.nodeType===8)if(f=I.data,f==="/$"){if(g===0){o.removeChild(I),rl(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=I}while(f);rl(s)}function Ba(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function rm(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return o;s--}else f==="/$"&&s++}o=o.previousSibling}return null}var lc=Math.random().toString(36).slice(2),Ho="__reactFiber$"+lc,yl="__reactProps$"+lc,da="__reactContainer$"+lc,ju="__reactEvents$"+lc,Ni="__reactListeners$"+lc,uc="__reactHandles$"+lc;function fa(o){var s=o[Ho];if(s)return s;for(var f=o.parentNode;f;){if(s=f[da]||f[Ho]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=rm(o);o!==null;){if(f=o[Ho])return f;o=rm(o)}return s}o=f,f=o.parentNode}return null}function bs(o){return o=o[Ho]||o[da],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function dc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(ke(33))}function $i(o){return o[yl]||null}var Fu=[],ai=-1;function ja(o){return{current:o}}function sn(o){0>ai||(o.current=Fu[ai],Fu[ai]=null,ai--)}function cn(o,s){ai++,Fu[ai]=o.current,o.current=s}var Hi={},si=ja(Hi),Ei=ja(!1),Fa=Hi;function $a(o,s){var f=o.type.contextTypes;if(!f)return Hi;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var I={},J;for(J in f)I[J]=s[J];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=I),I}function Zr(o){return o=o.childContextTypes,o!=null}function Sl(){sn(Ei),sn(si)}function xv(o,s,f){if(si.current!==Hi)throw Error(ke(168));cn(si,s),cn(Ei,f)}function nm(o,s,f){var g=o.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var I in g)if(!(I in s))throw Error(ke(108,be(o)||"Unknown",I));return Q({},f,g)}function $u(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Hi,Fa=si.current,cn(si,o),cn(Ei,Ei.current),!0}function im(o,s,f){var g=o.stateNode;if(!g)throw Error(ke(169));f?(o=nm(o,s,Fa),g.__reactInternalMemoizedMergedChildContext=o,sn(Ei),sn(si),cn(si,o)):sn(Ei),cn(Ei,f)}var ha=null,bl=!1,Bf=!1;function om(o){ha===null?ha=[o]:ha.push(o)}function Mv(o){bl=!0,om(o)}function Ha(){if(!Bf&&ha!==null){Bf=!0;var o=0,s=Hr;try{var f=ha;for(Hr=1;o<f.length;o++){var g=f[o];do g=g(!0);while(g!==null)}ha=null,bl=!1}catch(I){throw ha!==null&&(ha=ha.slice(o+1)),gu(vu,Ha),I}finally{Hr=s,Bf=!1}}return null}var Es=[],fc=0,Hu=null,zu=0,no=[],io=0,Cs=null,za=1,ci="";function Wa(o,s){Es[fc++]=zu,Es[fc++]=Hu,Hu=o,zu=s}function am(o,s,f){no[io++]=za,no[io++]=ci,no[io++]=Cs,Cs=o;var g=za;o=ci;var I=32-Fi(g)-1;g&=~(1<<I),f+=1;var J=32-Fi(s)+I;if(30<J){var pe=I-I%5;J=(g&(1<<pe)-1).toString(32),g>>=pe,I-=pe,za=1<<32-Fi(s)+I|f<<I|g,ci=J+o}else za=1<<J|f<<I|g,ci=o}function jf(o){o.return!==null&&(Wa(o,1),am(o,1,0))}function Ff(o){for(;o===Hu;)Hu=Es[--fc],Es[fc]=null,zu=Es[--fc],Es[fc]=null;for(;o===Cs;)Cs=no[--io],no[io]=null,ci=no[--io],no[io]=null,za=no[--io],no[io]=null}var Ci=null,li=null,un=!1,zo=null;function sm(o,s){var f=ho(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=o,s=o.deletions,s===null?(o.deletions=[f],o.flags|=16):s.push(f)}function cm(o,s){switch(o.tag){case 5:var f=o.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,Ci=o,li=Ba(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,Ci=o,li=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Cs!==null?{id:za,overflow:ci}:null,o.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=ho(18,null,null,0),f.stateNode=s,f.return=o,o.child=f,Ci=o,li=null,!0):!1;default:return!1}}function xn(o){return(o.mode&1)!==0&&(o.flags&128)===0}function El(o){if(un){var s=li;if(s){var f=s;if(!cm(o,s)){if(xn(o))throw Error(ke(418));s=Ba(f.nextSibling);var g=Ci;s&&cm(o,s)?sm(g,f):(o.flags=o.flags&-4097|2,un=!1,Ci=o)}}else{if(xn(o))throw Error(ke(418));o.flags=o.flags&-4097|2,un=!1,Ci=o}}}function $f(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ci=o}function Ga(o){if(o!==Ci)return!1;if(!un)return $f(o),un=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!Bu(o.type,o.memoizedProps)),s&&(s=li)){if(xn(o))throw mn(),Error(ke(418));for(;s;)sm(o,s),s=Ba(s.nextSibling)}if($f(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ke(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(s===0){li=Ba(o.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}o=o.nextSibling}li=null}}else li=Ci?Ba(o.stateNode.nextSibling):null;return!0}function mn(){for(var o=li;o;)o=Ba(o.nextSibling)}function pa(){li=Ci=null,un=!1}function Wu(o){zo===null?zo=[o]:zo.push(o)}var Nv=w.ReactCurrentBatchConfig;function Cl(o,s,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(ke(309));var g=f.stateNode}if(!g)throw Error(ke(147,o));var I=g,J=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===J?s.ref:(s=function(pe){var we=I.refs;pe===null?delete we[J]:we[J]=pe},s._stringRef=J,s)}if(typeof o!="string")throw Error(ke(284));if(!f._owner)throw Error(ke(290,o))}return o}function Gu(o,s){throw o=Object.prototype.toString.call(s),Error(ke(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Hf(o){var s=o._init;return s(o._payload)}function zf(o){function s(Qe,He){if(o){var nt=Qe.deletions;nt===null?(Qe.deletions=[He],Qe.flags|=16):nt.push(He)}}function f(Qe,He){if(!o)return null;for(;He!==null;)s(Qe,He),He=He.sibling;return null}function g(Qe,He){for(Qe=new Map;He!==null;)He.key!==null?Qe.set(He.key,He):Qe.set(He.index,He),He=He.sibling;return Qe}function I(Qe,He){return Qe=_a(Qe,He),Qe.index=0,Qe.sibling=null,Qe}function J(Qe,He,nt){return Qe.index=nt,o?(nt=Qe.alternate,nt!==null?(nt=nt.index,nt<He?(Qe.flags|=2,He):nt):(Qe.flags|=2,He)):(Qe.flags|=1048576,He)}function pe(Qe){return o&&Qe.alternate===null&&(Qe.flags|=2),Qe}function we(Qe,He,nt,Ct){return He===null||He.tag!==6?(He=Ra(nt,Qe.mode,Ct),He.return=Qe,He):(He=I(He,nt),He.return=Qe,He)}function je(Qe,He,nt,Ct){var $t=nt.type;return $t===ce?mt(Qe,He,nt.props.children,Ct,nt.key):He!==null&&(He.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Hf($t)===He.type)?(Ct=I(He,nt.props),Ct.ref=Cl(Qe,He,nt),Ct.return=Qe,Ct):(Ct=Cd(nt.type,nt.key,nt.props,null,Qe.mode,Ct),Ct.ref=Cl(Qe,He,nt),Ct.return=Qe,Ct)}function it(Qe,He,nt,Ct){return He===null||He.tag!==4||He.stateNode.containerInfo!==nt.containerInfo||He.stateNode.implementation!==nt.implementation?(He=xh(nt,Qe.mode,Ct),He.return=Qe,He):(He=I(He,nt.children||[]),He.return=Qe,He)}function mt(Qe,He,nt,Ct,$t){return He===null||He.tag!==7?(He=Bs(nt,Qe.mode,Ct,$t),He.return=Qe,He):(He=I(He,nt),He.return=Qe,He)}function gt(Qe,He,nt){if(typeof He=="string"&&He!==""||typeof He=="number")return He=Ra(""+He,Qe.mode,nt),He.return=Qe,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case F:return nt=Cd(He.type,He.key,He.props,null,Qe.mode,nt),nt.ref=Cl(Qe,null,He),nt.return=Qe,nt;case q:return He=xh(He,Qe.mode,nt),He.return=Qe,He;case $:var Ct=He._init;return gt(Qe,Ct(He._payload),nt)}if(Qt(He)||ye(He))return He=Bs(He,Qe.mode,nt,null),He.return=Qe,He;Gu(Qe,He)}return null}function pt(Qe,He,nt,Ct){var $t=He!==null?He.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return $t!==null?null:we(Qe,He,""+nt,Ct);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case F:return nt.key===$t?je(Qe,He,nt,Ct):null;case q:return nt.key===$t?it(Qe,He,nt,Ct):null;case $:return $t=nt._init,pt(Qe,He,$t(nt._payload),Ct)}if(Qt(nt)||ye(nt))return $t!==null?null:mt(Qe,He,nt,Ct,null);Gu(Qe,nt)}return null}function Mt(Qe,He,nt,Ct,$t){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Qe=Qe.get(nt)||null,we(He,Qe,""+Ct,$t);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case F:return Qe=Qe.get(Ct.key===null?nt:Ct.key)||null,je(He,Qe,Ct,$t);case q:return Qe=Qe.get(Ct.key===null?nt:Ct.key)||null,it(He,Qe,Ct,$t);case $:var qt=Ct._init;return Mt(Qe,He,nt,qt(Ct._payload),$t)}if(Qt(Ct)||ye(Ct))return Qe=Qe.get(nt)||null,mt(He,Qe,Ct,$t,null);Gu(He,Ct)}return null}function Bt(Qe,He,nt,Ct){for(var $t=null,qt=null,Jt=He,rr=He=0,Ln=null;Jt!==null&&rr<nt.length;rr++){Jt.index>rr?(Ln=Jt,Jt=null):Ln=Jt.sibling;var Ir=pt(Qe,Jt,nt[rr],Ct);if(Ir===null){Jt===null&&(Jt=Ln);break}o&&Jt&&Ir.alternate===null&&s(Qe,Jt),He=J(Ir,He,rr),qt===null?$t=Ir:qt.sibling=Ir,qt=Ir,Jt=Ln}if(rr===nt.length)return f(Qe,Jt),un&&Wa(Qe,rr),$t;if(Jt===null){for(;rr<nt.length;rr++)Jt=gt(Qe,nt[rr],Ct),Jt!==null&&(He=J(Jt,He,rr),qt===null?$t=Jt:qt.sibling=Jt,qt=Jt);return un&&Wa(Qe,rr),$t}for(Jt=g(Qe,Jt);rr<nt.length;rr++)Ln=Mt(Jt,Qe,rr,nt[rr],Ct),Ln!==null&&(o&&Ln.alternate!==null&&Jt.delete(Ln.key===null?rr:Ln.key),He=J(Ln,He,rr),qt===null?$t=Ln:qt.sibling=Ln,qt=Ln);return o&&Jt.forEach(function(wa){return s(Qe,wa)}),un&&Wa(Qe,rr),$t}function Ft(Qe,He,nt,Ct){var $t=ye(nt);if(typeof $t!="function")throw Error(ke(150));if(nt=$t.call(nt),nt==null)throw Error(ke(151));for(var qt=$t=null,Jt=He,rr=He=0,Ln=null,Ir=nt.next();Jt!==null&&!Ir.done;rr++,Ir=nt.next()){Jt.index>rr?(Ln=Jt,Jt=null):Ln=Jt.sibling;var wa=pt(Qe,Jt,Ir.value,Ct);if(wa===null){Jt===null&&(Jt=Ln);break}o&&Jt&&wa.alternate===null&&s(Qe,Jt),He=J(wa,He,rr),qt===null?$t=wa:qt.sibling=wa,qt=wa,Jt=Ln}if(Ir.done)return f(Qe,Jt),un&&Wa(Qe,rr),$t;if(Jt===null){for(;!Ir.done;rr++,Ir=nt.next())Ir=gt(Qe,Ir.value,Ct),Ir!==null&&(He=J(Ir,He,rr),qt===null?$t=Ir:qt.sibling=Ir,qt=Ir);return un&&Wa(Qe,rr),$t}for(Jt=g(Qe,Jt);!Ir.done;rr++,Ir=nt.next())Ir=Mt(Jt,Qe,rr,Ir.value,Ct),Ir!==null&&(o&&Ir.alternate!==null&&Jt.delete(Ir.key===null?rr:Ir.key),He=J(Ir,He,rr),qt===null?$t=Ir:qt.sibling=Ir,qt=Ir);return o&&Jt.forEach(function(kS){return s(Qe,kS)}),un&&Wa(Qe,rr),$t}function Dn(Qe,He,nt,Ct){if(typeof nt=="object"&&nt!==null&&nt.type===ce&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case F:e:{for(var $t=nt.key,qt=He;qt!==null;){if(qt.key===$t){if($t=nt.type,$t===ce){if(qt.tag===7){f(Qe,qt.sibling),He=I(qt,nt.props.children),He.return=Qe,Qe=He;break e}}else if(qt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Hf($t)===qt.type){f(Qe,qt.sibling),He=I(qt,nt.props),He.ref=Cl(Qe,qt,nt),He.return=Qe,Qe=He;break e}f(Qe,qt);break}else s(Qe,qt);qt=qt.sibling}nt.type===ce?(He=Bs(nt.props.children,Qe.mode,Ct,nt.key),He.return=Qe,Qe=He):(Ct=Cd(nt.type,nt.key,nt.props,null,Qe.mode,Ct),Ct.ref=Cl(Qe,He,nt),Ct.return=Qe,Qe=Ct)}return pe(Qe);case q:e:{for(qt=nt.key;He!==null;){if(He.key===qt)if(He.tag===4&&He.stateNode.containerInfo===nt.containerInfo&&He.stateNode.implementation===nt.implementation){f(Qe,He.sibling),He=I(He,nt.children||[]),He.return=Qe,Qe=He;break e}else{f(Qe,He);break}else s(Qe,He);He=He.sibling}He=xh(nt,Qe.mode,Ct),He.return=Qe,Qe=He}return pe(Qe);case $:return qt=nt._init,Dn(Qe,He,qt(nt._payload),Ct)}if(Qt(nt))return Bt(Qe,He,nt,Ct);if(ye(nt))return Ft(Qe,He,nt,Ct);Gu(Qe,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,He!==null&&He.tag===6?(f(Qe,He.sibling),He=I(He,nt),He.return=Qe,Qe=He):(f(Qe,He),He=Ra(nt,Qe.mode,Ct),He.return=Qe,Qe=He),pe(Qe)):f(Qe,He)}return Dn}var hc=zf(!0),Wf=zf(!1),_l=ja(null),Rl=null,Wo=null,wl=null;function Tl(){wl=Wo=Rl=null}function Al(o){var s=_l.current;sn(_l),o._currentValue=s}function Pl(o,s,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),o===f)break;o=o.return}}function Ka(o,s){Rl=o,wl=Wo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(Vi=!0),o.firstContext=null)}function Di(o){var s=o._currentValue;if(wl!==o)if(o={context:o,memoizedValue:s,next:null},Wo===null){if(Rl===null)throw Error(ke(308));Wo=o,Rl.dependencies={lanes:0,firstContext:o}}else Wo=Wo.next=o;return s}var ma=null;function kl(o){ma===null?ma=[o]:ma.push(o)}function Ku(o,s,f,g){var I=s.interleaved;return I===null?(f.next=f,kl(s)):(f.next=I.next,I.next=f),s.interleaved=f,oo(o,g)}function oo(o,s){o.lanes|=s;var f=o.alternate;for(f!==null&&(f.lanes|=s),f=o,o=o.return;o!==null;)o.childLanes|=s,f=o.alternate,f!==null&&(f.childLanes|=s),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Go=!1;function Il(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ro(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function _s(o,s,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,kr&2){var I=g.pending;return I===null?s.next=s:(s.next=I.next,I.next=s),g.pending=s,oo(o,f)}return I=g.interleaved,I===null?(s.next=s,kl(g)):(s.next=I.next,I.next=s),g.interleaved=s,oo(o,f)}function pc(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=o.pendingLanes,f|=g,s.lanes=f,pf(o,f)}}function Ju(o,s){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var I=null,J=null;if(f=f.firstBaseUpdate,f!==null){do{var pe={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};J===null?I=J=pe:J=J.next=pe,f=f.next}while(f!==null);J===null?I=J=s:J=J.next=s}else I=J=s;f={baseState:g.baseState,firstBaseUpdate:I,lastBaseUpdate:J,shared:g.shared,effects:g.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}function mc(o,s,f,g){var I=o.updateQueue;Go=!1;var J=I.firstBaseUpdate,pe=I.lastBaseUpdate,we=I.shared.pending;if(we!==null){I.shared.pending=null;var je=we,it=je.next;je.next=null,pe===null?J=it:pe.next=it,pe=je;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,we=mt.lastBaseUpdate,we!==pe&&(we===null?mt.firstBaseUpdate=it:we.next=it,mt.lastBaseUpdate=je))}if(J!==null){var gt=I.baseState;pe=0,mt=it=je=null,we=J;do{var pt=we.lane,Mt=we.eventTime;if((g&pt)===pt){mt!==null&&(mt=mt.next={eventTime:Mt,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Bt=o,Ft=we;switch(pt=s,Mt=f,Ft.tag){case 1:if(Bt=Ft.payload,typeof Bt=="function"){gt=Bt.call(Mt,gt,pt);break e}gt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Ft.payload,pt=typeof Bt=="function"?Bt.call(Mt,gt,pt):Bt,pt==null)break e;gt=Q({},gt,pt);break e;case 2:Go=!0}}we.callback!==null&&we.lane!==0&&(o.flags|=64,pt=I.effects,pt===null?I.effects=[we]:pt.push(we))}else Mt={eventTime:Mt,lane:pt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},mt===null?(it=mt=Mt,je=gt):mt=mt.next=Mt,pe|=pt;if(we=we.next,we===null){if(we=I.shared.pending,we===null)break;pt=we,we=pt.next,pt.next=null,I.lastBaseUpdate=pt,I.shared.pending=null}}while(!0);if(mt===null&&(je=gt),I.baseState=je,I.firstBaseUpdate=it,I.lastBaseUpdate=mt,s=I.shared.interleaved,s!==null){I=s;do pe|=I.lane,I=I.next;while(I!==s)}else J===null&&(I.shared.lanes=0);ba|=pe,o.lanes=pe,o.memoizedState=gt}}function Yu(o,s,f){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var g=o[s],I=g.callback;if(I!==null){if(g.callback=null,g=f,typeof I!="function")throw Error(ke(191,I));I.call(g)}}}var Rs={},ao=ja(Rs),ws=ja(Rs),Ts=ja(Rs);function ga(o){if(o===Rs)throw Error(ke(174));return o}function Ol(o,s){switch(cn(Ts,s),cn(ws,o),cn(ao,Rs),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Vr(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=Vr(s,o)}sn(ao),cn(ao,s)}function qa(){sn(ao),sn(ws),sn(Ts)}function Xu(o){ga(Ts.current);var s=ga(ao.current),f=Vr(s,o.type);s!==f&&(cn(ws,o),cn(ao,f))}function xl(o){ws.current===o&&(sn(ao),sn(ws))}var dn=ja(0);function Gf(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qu=[];function lm(){for(var o=0;o<Qu.length;o++)Qu[o]._workInProgressVersionPrimary=null;Qu.length=0}var Ja=w.ReactCurrentDispatcher,Kf=w.ReactCurrentBatchConfig,gc=0,bn=null,$n=null,Zn=null,Zu=!1,Ya=!1,Ml=0,RS=0;function ui(){throw Error(ke(321))}function qf(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!Fo(o[f],s[f]))return!1;return!0}function Li(o,s,f,g,I,J){if(gc=J,bn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ja.current=o===null||o.memoizedState===null?Dv:ym,o=f(g,I),Ya){J=0;do{if(Ya=!1,Ml=0,25<=J)throw Error(ke(301));J+=1,Zn=$n=null,s.updateQueue=null,Ja.current=Lv,o=f(g,I)}while(Ya)}if(Ja.current=Ps,s=$n!==null&&$n.next!==null,gc=0,Zn=$n=bn=null,Zu=!1,s)throw Error(ke(300));return o}function As(){var o=Ml!==0;return Ml=0,o}function Ko(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?bn.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function so(){if($n===null){var o=bn.alternate;o=o!==null?o.memoizedState:null}else o=$n.next;var s=Zn===null?bn.memoizedState:Zn.next;if(s!==null)Zn=s,$n=o;else{if(o===null)throw Error(ke(310));$n=o,o={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Zn===null?bn.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Nl(o,s){return typeof s=="function"?s(o):s}function ed(o){var s=so(),f=s.queue;if(f===null)throw Error(ke(311));f.lastRenderedReducer=o;var g=$n,I=g.baseQueue,J=f.pending;if(J!==null){if(I!==null){var pe=I.next;I.next=J.next,J.next=pe}g.baseQueue=I=J,f.pending=null}if(I!==null){J=I.next,g=g.baseState;var we=pe=null,je=null,it=J;do{var mt=it.lane;if((gc&mt)===mt)je!==null&&(je=je.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),g=it.hasEagerState?it.eagerState:o(g,it.action);else{var gt={lane:mt,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};je===null?(we=je=gt,pe=g):je=je.next=gt,bn.lanes|=mt,ba|=mt}it=it.next}while(it!==null&&it!==J);je===null?pe=g:je.next=we,Fo(g,s.memoizedState)||(Vi=!0),s.memoizedState=g,s.baseState=pe,s.baseQueue=je,f.lastRenderedState=g}if(o=f.interleaved,o!==null){I=o;do J=I.lane,bn.lanes|=J,ba|=J,I=I.next;while(I!==o)}else I===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Dl(o){var s=so(),f=s.queue;if(f===null)throw Error(ke(311));f.lastRenderedReducer=o;var g=f.dispatch,I=f.pending,J=s.memoizedState;if(I!==null){f.pending=null;var pe=I=I.next;do J=o(J,pe.action),pe=pe.next;while(pe!==I);Fo(J,s.memoizedState)||(Vi=!0),s.memoizedState=J,s.baseQueue===null&&(s.baseState=J),f.lastRenderedState=J}return[J,g]}function Jf(){}function td(o,s){var f=bn,g=so(),I=s(),J=!Fo(g.memoizedState,I);if(J&&(g.memoizedState=I,Vi=!0),g=g.queue,Zf(dm.bind(null,f,g,o),[o]),g.getSnapshot!==s||J||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,Vl(9,Ll.bind(null,f,g,I,s),void 0,null),ei===null)throw Error(ke(349));gc&30||um(f,s,I)}return I}function um(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=bn.updateQueue,s===null?(s={lastEffect:null,stores:null},bn.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function Ll(o,s,f,g){s.value=f,s.getSnapshot=g,Yf(s)&&Xf(o)}function dm(o,s,f){return f(function(){Yf(s)&&Xf(o)})}function Yf(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!Fo(o,f)}catch(g){return!0}}function Xf(o){var s=oo(o,1);s!==null&&fo(s,o,1,-1)}function Qf(o){var s=Ko();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:o},s.queue=o,o=o.dispatch=Bl.bind(null,bn,o),[s.memoizedState,o]}function Vl(o,s,f,g){return o={tag:o,create:s,destroy:f,deps:g,next:null},s=bn.updateQueue,s===null?(s={lastEffect:null,stores:null},bn.updateQueue=s,s.lastEffect=o.next=o):(f=s.lastEffect,f===null?s.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,s.lastEffect=o)),o}function fm(){return so().memoizedState}function Ul(o,s,f,g){var I=Ko();bn.flags|=o,I.memoizedState=Vl(1|s,f,void 0,g===void 0?null:g)}function zi(o,s,f,g){var I=so();g=g===void 0?null:g;var J=void 0;if($n!==null){var pe=$n.memoizedState;if(J=pe.destroy,g!==null&&qf(g,pe.deps)){I.memoizedState=Vl(s,f,J,g);return}}bn.flags|=o,I.memoizedState=Vl(1|s,f,J,g)}function co(o,s){return Ul(8390656,8,o,s)}function Zf(o,s){return zi(2048,8,o,s)}function eh(o,s){return zi(4,2,o,s)}function hm(o,s){return zi(4,4,o,s)}function pm(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function th(o,s,f){return f=f!=null?f.concat([o]):null,zi(4,4,pm.bind(null,s,o),f)}function rd(){}function rh(o,s){var f=so();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&qf(s,g[1])?g[0]:(f.memoizedState=[o,s],o)}function nd(o,s){var f=so();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&qf(s,g[1])?g[0]:(o=o(),f.memoizedState=[o,s],o)}function nh(o,s,f){return gc&21?(Fo(f,s)||(f=bi(),bn.lanes|=f,ba|=f,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,Vi=!0),o.memoizedState=f)}function mm(o,s){var f=Hr;Hr=f!==0&&4>f?f:4,o(!0);var g=Kf.transition;Kf.transition={};try{o(!1),s()}finally{Hr=f,Kf.transition=g}}function va(){return so().memoizedState}function ih(o,s,f){var g=Jo(o);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},gm(o))vc(s,f);else if(f=Ku(o,s,f,g),f!==null){var I=mi();fo(f,o,g,I),vm(f,s,g)}}function Bl(o,s,f){var g=Jo(o),I={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(gm(o))vc(s,I);else{var J=o.alternate;if(o.lanes===0&&(J===null||J.lanes===0)&&(J=s.lastRenderedReducer,J!==null))try{var pe=s.lastRenderedState,we=J(pe,f);if(I.hasEagerState=!0,I.eagerState=we,Fo(we,pe)){var je=s.interleaved;je===null?(I.next=I,kl(s)):(I.next=je.next,je.next=I),s.interleaved=I;return}}catch(it){}finally{}f=Ku(o,s,I,g),f!==null&&(I=mi(),fo(f,o,g,I),vm(f,s,g))}}function gm(o){var s=o.alternate;return o===bn||s!==null&&s===bn}function vc(o,s){Ya=Zu=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function vm(o,s,f){if(f&4194240){var g=s.lanes;g&=o.pendingLanes,f|=g,s.lanes=f,pf(o,f)}}var Ps={readContext:Di,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},Dv={readContext:Di,useCallback:function(o,s){return Ko().memoizedState=[o,s===void 0?null:s],o},useContext:Di,useEffect:co,useImperativeHandle:function(o,s,f){return f=f!=null?f.concat([o]):null,Ul(4194308,4,pm.bind(null,s,o),f)},useLayoutEffect:function(o,s){return Ul(4194308,4,o,s)},useInsertionEffect:function(o,s){return Ul(4,2,o,s)},useMemo:function(o,s){var f=Ko();return s=s===void 0?null:s,o=o(),f.memoizedState=[o,s],o},useReducer:function(o,s,f){var g=Ko();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},g.queue=o,o=o.dispatch=ih.bind(null,bn,o),[g.memoizedState,o]},useRef:function(o){var s=Ko();return o={current:o},s.memoizedState=o},useState:Qf,useDebugValue:rd,useDeferredValue:function(o){return Ko().memoizedState=o},useTransition:function(){var o=Qf(!1),s=o[0];return o=mm.bind(null,o[1]),Ko().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,f){var g=bn,I=Ko();if(un){if(f===void 0)throw Error(ke(407));f=f()}else{if(f=s(),ei===null)throw Error(ke(349));gc&30||um(g,s,f)}I.memoizedState=f;var J={value:f,getSnapshot:s};return I.queue=J,co(dm.bind(null,g,J,o),[o]),g.flags|=2048,Vl(9,Ll.bind(null,g,J,f,s),void 0,null),f},useId:function(){var o=Ko(),s=ei.identifierPrefix;if(un){var f=ci,g=za;f=(g&~(1<<32-Fi(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=Ml++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=RS++,s=":"+s+"r"+f.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},ym={readContext:Di,useCallback:rh,useContext:Di,useEffect:Zf,useImperativeHandle:th,useInsertionEffect:eh,useLayoutEffect:hm,useMemo:nd,useReducer:ed,useRef:fm,useState:function(){return ed(Nl)},useDebugValue:rd,useDeferredValue:function(o){var s=so();return nh(s,$n.memoizedState,o)},useTransition:function(){var o=ed(Nl)[0],s=so().memoizedState;return[o,s]},useMutableSource:Jf,useSyncExternalStore:td,useId:va,unstable_isNewReconciler:!1},Lv={readContext:Di,useCallback:rh,useContext:Di,useEffect:Zf,useImperativeHandle:th,useInsertionEffect:eh,useLayoutEffect:hm,useMemo:nd,useReducer:Dl,useRef:fm,useState:function(){return Dl(Nl)},useDebugValue:rd,useDeferredValue:function(o){var s=so();return $n===null?s.memoizedState=o:nh(s,$n.memoizedState,o)},useTransition:function(){var o=Dl(Nl)[0],s=so().memoizedState;return[o,s]},useMutableSource:Jf,useSyncExternalStore:td,useId:va,unstable_isNewReconciler:!1};function wo(o,s){if(o&&o.defaultProps){s=Q({},s),o=o.defaultProps;for(var f in o)s[f]===void 0&&(s[f]=o[f]);return s}return s}function oh(o,s,f,g){s=o.memoizedState,f=f(g,s),f=f==null?s:Q({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var id={isMounted:function(o){return(o=o._reactInternals)?Qs(o)===o:!1},enqueueSetState:function(o,s,f){o=o._reactInternals;var g=mi(),I=Jo(o),J=Ro(g,I);J.payload=s,f!=null&&(J.callback=f),s=_s(o,J,I),s!==null&&(fo(s,o,I,g),pc(s,o,I))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var g=mi(),I=Jo(o),J=Ro(g,I);J.tag=1,J.payload=s,f!=null&&(J.callback=f),s=_s(o,J,I),s!==null&&(fo(s,o,I,g),pc(s,o,I))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=mi(),g=Jo(o),I=Ro(f,g);I.tag=2,s!=null&&(I.callback=s),s=_s(o,I,g),s!==null&&(fo(s,o,g,f),pc(s,o,g))}};function ya(o,s,f,g,I,J,pe){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,J,pe):s.prototype&&s.prototype.isPureReactComponent?!Du(f,g)||!Du(I,J):!0}function jl(o,s,f){var g=!1,I=Hi,J=s.contextType;return typeof J=="object"&&J!==null?J=Di(J):(I=Zr(s)?Fa:si.current,g=s.contextTypes,J=(g=g!=null)?$a(o,I):Hi),s=new s(f,J),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=id,o.stateNode=s,s._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=I,o.__reactInternalMemoizedMaskedChildContext=J),s}function Fl(o,s,f,g){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==o&&id.enqueueReplaceState(s,s.state,null)}function yc(o,s,f,g){var I=o.stateNode;I.props=f,I.state=o.memoizedState,I.refs={},Il(o);var J=s.contextType;typeof J=="object"&&J!==null?I.context=Di(J):(J=Zr(s)?Fa:si.current,I.context=$a(o,J)),I.state=o.memoizedState,J=s.getDerivedStateFromProps,typeof J=="function"&&(oh(o,s,J,f),I.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(s=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),s!==I.state&&id.enqueueReplaceState(I,I.state,null),mc(o,f,I,g),I.state=o.memoizedState),typeof I.componentDidMount=="function"&&(o.flags|=4194308)}function ks(o,s){try{var f="",g=s;do f+=Ee(g),g=g.return;while(g);var I=f}catch(J){I=`
Error generating stack: `+J.message+`
`+J.stack}return{value:o,source:s,stack:I,digest:null}}function Wi(o,s,f){return{value:o,source:null,stack:f!=null?f:null,digest:s!=null?s:null}}function Xa(o,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var Sc=typeof WeakMap=="function"?WeakMap:Map;function od(o,s,f){f=Ro(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){vd||(vd=!0,Th=g),Xa(o,s)},f}function ah(o,s,f){f=Ro(-1,f),f.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var I=s.value;f.payload=function(){return g(I)},f.callback=function(){Xa(o,s)}}var J=o.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(f.callback=function(){Xa(o,s),typeof g!="function"&&(es===null?es=new Set([this]):es.add(this));var pe=s.stack;this.componentDidCatch(s.value,{componentStack:pe!==null?pe:""})}),f}function sh(o,s,f){var g=o.pingCache;if(g===null){g=o.pingCache=new Sc;var I=new Set;g.set(s,I)}else I=g.get(s),I===void 0&&(I=new Set,g.set(s,I));I.has(f)||(I.add(f),o=Bm.bind(null,o,s,f),s.then(o,o))}function Sm(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function bm(o,s,f,g,I){return o.mode&1?(o.flags|=65536,o.lanes=I,o):(o===s?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=Ro(-1,1),s.tag=2,_s(f,s,1))),f.lanes|=1),o)}var Em=w.ReactCurrentOwner,Vi=!1;function Gn(o,s,f,g){s.child=o===null?Wf(s,null,f,g):hc(s,o.child,f,g)}function ch(o,s,f,g,I){f=f.render;var J=s.ref;return Ka(s,I),g=Li(o,s,f,g,J,I),f=As(),o!==null&&!Vi?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~I,To(o,s,I)):(un&&f&&jf(s),s.flags|=1,Gn(o,s,g,I),s.child)}function lh(o,s,f,g,I){if(o===null){var J=f.type;return typeof J=="function"&&!kc(J)&&J.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=J,uh(o,s,J,g,I)):(o=Cd(f.type,null,g,s,s.mode,I),o.ref=s.ref,o.return=s,s.child=o)}if(J=o.child,!(o.lanes&I)){var pe=J.memoizedProps;if(f=f.compare,f=f!==null?f:Du,f(pe,g)&&o.ref===s.ref)return To(o,s,I)}return s.flags|=1,o=_a(J,g),o.ref=s.ref,o.return=s,s.child=o}function uh(o,s,f,g,I){if(o!==null){var J=o.memoizedProps;if(Du(J,g)&&o.ref===s.ref)if(Vi=!1,s.pendingProps=g=J,(o.lanes&I)!==0)o.flags&131072&&(Vi=!0);else return s.lanes=o.lanes,To(o,s,I)}return ad(o,s,f,g,I)}function dh(o,s,f){var g=s.pendingProps,I=g.children,J=o!==null?o.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Za,Ui),Ui|=f;else{if(!(f&1073741824))return o=J!==null?J.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,cn(Za,Ui),Ui|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=J!==null?J.baseLanes:f,cn(Za,Ui),Ui|=g}else J!==null?(g=J.baseLanes|f,s.memoizedState=null):g=f,cn(Za,Ui),Ui|=g;return Gn(o,s,I,f),s.child}function fh(o,s){var f=s.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function ad(o,s,f,g,I){var J=Zr(f)?Fa:si.current;return J=$a(s,J),Ka(s,I),f=Li(o,s,f,g,J,I),g=As(),o!==null&&!Vi?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~I,To(o,s,I)):(un&&g&&jf(s),s.flags|=1,Gn(o,s,f,I),s.child)}function hh(o,s,f,g,I){if(Zr(f)){var J=!0;$u(s)}else J=!1;if(Ka(s,I),s.stateNode===null)$l(o,s),jl(s,f,g),yc(s,f,g,I),g=!0;else if(o===null){var pe=s.stateNode,we=s.memoizedProps;pe.props=we;var je=pe.context,it=f.contextType;typeof it=="object"&&it!==null?it=Di(it):(it=Zr(f)?Fa:si.current,it=$a(s,it));var mt=f.getDerivedStateFromProps,gt=typeof mt=="function"||typeof pe.getSnapshotBeforeUpdate=="function";gt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(we!==g||je!==it)&&Fl(s,pe,g,it),Go=!1;var pt=s.memoizedState;pe.state=pt,mc(s,g,pe,I),je=s.memoizedState,we!==g||pt!==je||Ei.current||Go?(typeof mt=="function"&&(oh(s,f,mt,g),je=s.memoizedState),(we=Go||ya(s,f,we,g,pt,je,it))?(gt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(s.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=je),pe.props=g,pe.state=je,pe.context=it,g=we):(typeof pe.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{pe=s.stateNode,qu(o,s),we=s.memoizedProps,it=s.type===s.elementType?we:wo(s.type,we),pe.props=it,gt=s.pendingProps,pt=pe.context,je=f.contextType,typeof je=="object"&&je!==null?je=Di(je):(je=Zr(f)?Fa:si.current,je=$a(s,je));var Mt=f.getDerivedStateFromProps;(mt=typeof Mt=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(we!==gt||pt!==je)&&Fl(s,pe,g,je),Go=!1,pt=s.memoizedState,pe.state=pt,mc(s,g,pe,I);var Bt=s.memoizedState;we!==gt||pt!==Bt||Ei.current||Go?(typeof Mt=="function"&&(oh(s,f,Mt,g),Bt=s.memoizedState),(it=Go||ya(s,f,it,g,pt,Bt,je)||!1)?(mt||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(g,Bt,je),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(g,Bt,je)),typeof pe.componentDidUpdate=="function"&&(s.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof pe.componentDidUpdate!="function"||we===o.memoizedProps&&pt===o.memoizedState||(s.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||we===o.memoizedProps&&pt===o.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Bt),pe.props=g,pe.state=Bt,pe.context=je,g=it):(typeof pe.componentDidUpdate!="function"||we===o.memoizedProps&&pt===o.memoizedState||(s.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||we===o.memoizedProps&&pt===o.memoizedState||(s.flags|=1024),g=!1)}return ph(o,s,f,g,J,I)}function ph(o,s,f,g,I,J){fh(o,s);var pe=(s.flags&128)!==0;if(!g&&!pe)return I&&im(s,f,!1),To(o,s,J);g=s.stateNode,Em.current=s;var we=pe&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,o!==null&&pe?(s.child=hc(s,o.child,null,J),s.child=hc(s,null,we,J)):Gn(o,s,we,J),s.memoizedState=g.state,I&&im(s,f,!0),s.child}function Cm(o){var s=o.stateNode;s.pendingContext?xv(o,s.pendingContext,s.pendingContext!==s.context):s.context&&xv(o,s.context,!1),Ol(o,s.containerInfo)}function mh(o,s,f,g,I){return pa(),Wu(I),s.flags|=256,Gn(o,s,f,g),s.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(o){return{baseLanes:o,cachePool:null,transitions:null}}function _m(o,s,f){var g=s.pendingProps,I=dn.current,J=!1,pe=(s.flags&128)!==0,we;if((we=pe)||(we=o!==null&&o.memoizedState===null?!1:(I&2)!==0),we?(J=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(I|=1),cn(dn,I&1),o===null)return El(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(pe=g.children,o=g.fallback,J?(g=s.mode,J=s.child,pe={mode:"hidden",children:pe},!(g&1)&&J!==null?(J.childLanes=0,J.pendingProps=pe):J=js(pe,g,0,null),o=Bs(o,g,f,null),J.return=s,o.return=s,J.sibling=o,s.child=J,s.child.memoizedState=vh(f),s.memoizedState=gh,o):sd(s,pe));if(I=o.memoizedState,I!==null&&(we=I.dehydrated,we!==null))return Rm(o,s,pe,g,we,I,f);if(J){J=g.fallback,pe=s.mode,I=o.child,we=I.sibling;var je={mode:"hidden",children:g.children};return!(pe&1)&&s.child!==I?(g=s.child,g.childLanes=0,g.pendingProps=je,s.deletions=null):(g=_a(I,je),g.subtreeFlags=I.subtreeFlags&14680064),we!==null?J=_a(we,J):(J=Bs(J,pe,f,null),J.flags|=2),J.return=s,g.return=s,g.sibling=J,s.child=g,g=J,J=s.child,pe=o.child.memoizedState,pe=pe===null?vh(f):{baseLanes:pe.baseLanes|f,cachePool:null,transitions:pe.transitions},J.memoizedState=pe,J.childLanes=o.childLanes&~f,s.memoizedState=gh,g}return J=o.child,o=J.sibling,g=_a(J,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=f),g.return=s,g.sibling=null,o!==null&&(f=s.deletions,f===null?(s.deletions=[o],s.flags|=16):f.push(o)),s.child=g,s.memoizedState=null,g}function sd(o,s){return s=js({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function cd(o,s,f,g){return g!==null&&Wu(g),hc(s,o.child,null,f),o=sd(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function Rm(o,s,f,g,I,J,pe){if(f)return s.flags&256?(s.flags&=-257,g=Wi(Error(ke(422))),cd(o,s,pe,g)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(J=g.fallback,I=s.mode,g=js({mode:"visible",children:g.children},I,0,null),J=Bs(J,I,pe,null),J.flags|=2,g.return=s,J.return=s,g.sibling=J,s.child=g,s.mode&1&&hc(s,o.child,null,pe),s.child.memoizedState=vh(pe),s.memoizedState=gh,J);if(!(s.mode&1))return cd(o,s,pe,null);if(I.data==="$!"){if(g=I.nextSibling&&I.nextSibling.dataset,g)var we=g.dgst;return g=we,J=Error(ke(419)),g=Wi(J,g,void 0),cd(o,s,pe,g)}if(we=(pe&o.childLanes)!==0,Vi||we){if(g=ei,g!==null){switch(pe&-pe){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=I&(g.suspendedLanes|pe)?0:I,I!==0&&I!==J.retryLane&&(J.retryLane=I,oo(o,I),fo(g,o,I,-1))}return Ih(),g=Wi(Error(ke(421))),cd(o,s,pe,g)}return I.data==="$?"?(s.flags|=128,s.child=o.child,s=Wv.bind(null,o),I._reactRetry=s,null):(o=J.treeContext,li=Ba(I.nextSibling),Ci=s,un=!0,zo=null,o!==null&&(no[io++]=za,no[io++]=ci,no[io++]=Cs,za=o.id,ci=o.overflow,Cs=s),s=sd(s,g.children),s.flags|=4096,s)}function wm(o,s,f){o.lanes|=s;var g=o.alternate;g!==null&&(g.lanes|=s),Pl(o.return,s,f)}function yh(o,s,f,g,I){var J=o.memoizedState;J===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:I}:(J.isBackwards=s,J.rendering=null,J.renderingStartTime=0,J.last=g,J.tail=f,J.tailMode=I)}function Tm(o,s,f){var g=s.pendingProps,I=g.revealOrder,J=g.tail;if(Gn(o,s,g.children,f),g=dn.current,g&2)g=g&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wm(o,f,s);else if(o.tag===19)wm(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(cn(dn,g),!(s.mode&1))s.memoizedState=null;else switch(I){case"forwards":for(f=s.child,I=null;f!==null;)o=f.alternate,o!==null&&Gf(o)===null&&(I=f),f=f.sibling;f=I,f===null?(I=s.child,s.child=null):(I=f.sibling,f.sibling=null),yh(s,!1,I,f,J);break;case"backwards":for(f=null,I=s.child,s.child=null;I!==null;){if(o=I.alternate,o!==null&&Gf(o)===null){s.child=I;break}o=I.sibling,I.sibling=f,f=I,I=o}yh(s,!0,f,null,J);break;case"together":yh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $l(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function To(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),ba|=s.lanes,!(f&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(ke(153));if(s.child!==null){for(o=s.child,f=_a(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=_a(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function Sh(o,s,f){switch(s.tag){case 3:Cm(s),pa();break;case 5:Xu(s);break;case 1:Zr(s.type)&&$u(s);break;case 4:Ol(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,I=s.memoizedProps.value;cn(_l,g._currentValue),g._currentValue=I;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(cn(dn,dn.current&1),s.flags|=128,null):f&s.child.childLanes?_m(o,s,f):(cn(dn,dn.current&1),o=To(o,s,f),o!==null?o.sibling:null);cn(dn,dn.current&1);break;case 19:if(g=(f&s.childLanes)!==0,o.flags&128){if(g)return Tm(o,s,f);s.flags|=128}if(I=s.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),cn(dn,dn.current),g)break;return null;case 22:case 23:return s.lanes=0,dh(o,s,f)}return To(o,s,f)}var ld,Hl,Am,ud;ld=function(o,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Hl=function(){},Am=function(o,s,f,g){var I=o.memoizedProps;if(I!==g){o=s.stateNode,ga(ao.current);var J=null;switch(f){case"input":I=At(o,I),g=At(o,g),J=[];break;case"select":I=Q({},I,{value:void 0}),g=Q({},g,{value:void 0}),J=[];break;case"textarea":I=Qr(o,I),g=Qr(o,g),J=[];break;default:typeof I.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=ro)}yn(f,g);var pe;f=null;for(it in I)if(!g.hasOwnProperty(it)&&I.hasOwnProperty(it)&&I[it]!=null)if(it==="style"){var we=I[it];for(pe in we)we.hasOwnProperty(pe)&&(f||(f={}),f[pe]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(_e.hasOwnProperty(it)?J||(J=[]):(J=J||[]).push(it,null));for(it in g){var je=g[it];if(we=I!=null?I[it]:void 0,g.hasOwnProperty(it)&&je!==we&&(je!=null||we!=null))if(it==="style")if(we){for(pe in we)!we.hasOwnProperty(pe)||je&&je.hasOwnProperty(pe)||(f||(f={}),f[pe]="");for(pe in je)je.hasOwnProperty(pe)&&we[pe]!==je[pe]&&(f||(f={}),f[pe]=je[pe])}else f||(J||(J=[]),J.push(it,f)),f=je;else it==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,we=we?we.__html:void 0,je!=null&&we!==je&&(J=J||[]).push(it,je)):it==="children"?typeof je!="string"&&typeof je!="number"||(J=J||[]).push(it,""+je):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(_e.hasOwnProperty(it)?(je!=null&&it==="onScroll"&&ir("scroll",o),J||we===je||(J=[])):(J=J||[]).push(it,je))}f&&(J=J||[]).push("style",f);var it=J;(s.updateQueue=it)&&(s.flags|=4)}},ud=function(o,s,f,g){f!==g&&(s.flags|=4)};function zl(o,s){if(!un)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function di(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(s)for(var I=o.child;I!==null;)f|=I.lanes|I.childLanes,g|=I.subtreeFlags&14680064,g|=I.flags&14680064,I.return=o,I=I.sibling;else for(I=o.child;I!==null;)f|=I.lanes|I.childLanes,g|=I.subtreeFlags,g|=I.flags,I.return=o,I=I.sibling;return o.subtreeFlags|=g,o.childLanes=f,s}function Vv(o,s,f){var g=s.pendingProps;switch(Ff(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(s),null;case 1:return Zr(s.type)&&Sl(),di(s),null;case 3:return g=s.stateNode,qa(),sn(Ei),sn(si),lm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Ga(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zo!==null&&(kh(zo),zo=null))),Hl(o,s),di(s),null;case 5:xl(s);var I=ga(Ts.current);if(f=s.type,o!==null&&s.stateNode!=null)Am(o,s,f,g,I),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(ke(166));return di(s),null}if(o=ga(ao.current),Ga(s)){g=s.stateNode,f=s.type;var J=s.memoizedProps;switch(g[Ho]=s,g[yl]=J,o=(s.mode&1)!==0,f){case"dialog":ir("cancel",g),ir("close",g);break;case"iframe":case"object":case"embed":ir("load",g);break;case"video":case"audio":for(I=0;I<hl.length;I++)ir(hl[I],g);break;case"source":ir("error",g);break;case"img":case"image":case"link":ir("error",g),ir("load",g);break;case"details":ir("toggle",g);break;case"input":Pt(g,J),ir("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!J.multiple},ir("invalid",g);break;case"textarea":on(g,J),ir("invalid",g)}yn(f,J),I=null;for(var pe in J)if(J.hasOwnProperty(pe)){var we=J[pe];pe==="children"?typeof we=="string"?g.textContent!==we&&(J.suppressHydrationWarning!==!0&&Ua(g.textContent,we,o),I=["children",we]):typeof we=="number"&&g.textContent!==""+we&&(J.suppressHydrationWarning!==!0&&Ua(g.textContent,we,o),I=["children",""+we]):_e.hasOwnProperty(pe)&&we!=null&&pe==="onScroll"&&ir("scroll",g)}switch(f){case"input":dt(g),Nt(g,J,!0);break;case"textarea":dt(g),Lr(g);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(g.onclick=ro)}g=I,s.updateQueue=g,g!==null&&(s.flags|=4)}else{pe=I.nodeType===9?I:I.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Un(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=pe.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=pe.createElement(f,{is:g.is}):(o=pe.createElement(f),f==="select"&&(pe=o,g.multiple?pe.multiple=!0:g.size&&(pe.size=g.size))):o=pe.createElementNS(o,f),o[Ho]=s,o[yl]=g,ld(o,s,!1,!1),s.stateNode=o;e:{switch(pe=ue(f,g),f){case"dialog":ir("cancel",o),ir("close",o),I=g;break;case"iframe":case"object":case"embed":ir("load",o),I=g;break;case"video":case"audio":for(I=0;I<hl.length;I++)ir(hl[I],o);I=g;break;case"source":ir("error",o),I=g;break;case"img":case"image":case"link":ir("error",o),ir("load",o),I=g;break;case"details":ir("toggle",o),I=g;break;case"input":Pt(o,g),I=At(o,g),ir("invalid",o);break;case"option":I=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},I=Q({},g,{value:void 0}),ir("invalid",o);break;case"textarea":on(o,g),I=Qr(o,g),ir("invalid",o);break;default:I=g}yn(f,I),we=I;for(J in we)if(we.hasOwnProperty(J)){var je=we[J];J==="style"?xt(o,je):J==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Qn(o,je)):J==="children"?typeof je=="string"?(f!=="textarea"||je!=="")&&jn(o,je):typeof je=="number"&&jn(o,""+je):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(_e.hasOwnProperty(J)?je!=null&&J==="onScroll"&&ir("scroll",o):je!=null&&E(o,J,je,pe))}switch(f){case"input":dt(o),Nt(o,g,!1);break;case"textarea":dt(o),Lr(o);break;case"option":g.value!=null&&o.setAttribute("value",""+We(g.value));break;case"select":o.multiple=!!g.multiple,J=g.value,J!=null?vr(o,!!g.multiple,J,!1):g.defaultValue!=null&&vr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof I.onClick=="function"&&(o.onclick=ro)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return di(s),null;case 6:if(o&&s.stateNode!=null)ud(o,s,o.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(ke(166));if(f=ga(Ts.current),ga(ao.current),Ga(s)){if(g=s.stateNode,f=s.memoizedProps,g[Ho]=s,(J=g.nodeValue!==f)&&(o=Ci,o!==null))switch(o.tag){case 3:Ua(g.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ua(g.nodeValue,f,(o.mode&1)!==0)}J&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Ho]=s,s.stateNode=g}return di(s),null;case 13:if(sn(dn),g=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(un&&li!==null&&s.mode&1&&!(s.flags&128))mn(),pa(),s.flags|=98560,J=!1;else if(J=Ga(s),g!==null&&g.dehydrated!==null){if(o===null){if(!J)throw Error(ke(318));if(J=s.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(ke(317));J[Ho]=s}else pa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;di(s),J=!1}else zo!==null&&(kh(zo),zo=null),J=!0;if(!J)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(o===null||dn.current&1?Nn===0&&(Nn=3):Ih())),s.updateQueue!==null&&(s.flags|=4),di(s),null);case 4:return qa(),Hl(o,s),o===null&&pl(s.stateNode.containerInfo),di(s),null;case 10:return Al(s.type._context),di(s),null;case 17:return Zr(s.type)&&Sl(),di(s),null;case 19:if(sn(dn),J=s.memoizedState,J===null)return di(s),null;if(g=(s.flags&128)!==0,pe=J.rendering,pe===null)if(g)zl(J,!1);else{if(Nn!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(pe=Gf(o),pe!==null){for(s.flags|=128,zl(J,!1),g=pe.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)J=f,o=g,J.flags&=14680066,pe=J.alternate,pe===null?(J.childLanes=0,J.lanes=o,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=pe.childLanes,J.lanes=pe.lanes,J.child=pe.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=pe.memoizedProps,J.memoizedState=pe.memoizedState,J.updateQueue=pe.updateQueue,J.type=pe.type,o=pe.dependencies,J.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return cn(dn,dn.current&1|2),s.child}o=o.sibling}J.tail!==null&&wn()>Ns&&(s.flags|=128,g=!0,zl(J,!1),s.lanes=4194304)}else{if(!g)if(o=Gf(pe),o!==null){if(s.flags|=128,g=!0,f=o.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),zl(J,!0),J.tail===null&&J.tailMode==="hidden"&&!pe.alternate&&!un)return di(s),null}else 2*wn()-J.renderingStartTime>Ns&&f!==1073741824&&(s.flags|=128,g=!0,zl(J,!1),s.lanes=4194304);J.isBackwards?(pe.sibling=s.child,s.child=pe):(f=J.last,f!==null?f.sibling=pe:s.child=pe,J.last=pe)}return J.tail!==null?(s=J.tail,J.rendering=s,J.tail=s.sibling,J.renderingStartTime=wn(),s.sibling=null,f=dn.current,cn(dn,g?f&1|2:f&1),s):(di(s),null);case 22:case 23:return Mm(),g=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?Ui&1073741824&&(di(s),s.subtreeFlags&6&&(s.flags|=8192)):di(s),null;case 24:return null;case 25:return null}throw Error(ke(156,s.tag))}function Uv(o,s){switch(Ff(s),s.tag){case 1:return Zr(s.type)&&Sl(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return qa(),sn(Ei),sn(si),lm(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return xl(s),null;case 13:if(sn(dn),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(ke(340));pa()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return sn(dn),null;case 4:return qa(),null;case 10:return Al(s.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var dd=!1,fi=!1,Is=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Os(o,s){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){En(o,s,g)}else f.current=null}function Sa(o,s,f){try{f()}catch(g){En(o,s,g)}}var bc=!1;function Bv(o,s){if(ua=_u,o=If(),Lu(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var I=g.anchorOffset,J=g.focusNode;g=g.focusOffset;try{f.nodeType,J.nodeType}catch(Ct){f=null;break e}var pe=0,we=-1,je=-1,it=0,mt=0,gt=o,pt=null;t:for(;;){for(var Mt;gt!==f||I!==0&&gt.nodeType!==3||(we=pe+I),gt!==J||g!==0&&gt.nodeType!==3||(je=pe+g),gt.nodeType===3&&(pe+=gt.nodeValue.length),(Mt=gt.firstChild)!==null;)pt=gt,gt=Mt;for(;;){if(gt===o)break t;if(pt===f&&++it===I&&(we=pe),pt===J&&++mt===g&&(je=pe),(Mt=gt.nextSibling)!==null)break;gt=pt,pt=gt.parentNode}gt=Mt}f=we===-1||je===-1?null:{start:we,end:je}}else f=null}f=f||{start:0,end:0}}else f=null;for(cc={focusedElem:o,selectionRange:f},_u=!1,wt=s;wt!==null;)if(s=wt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,wt=o;else for(;wt!==null;){s=wt;try{var Bt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Ft=Bt.memoizedProps,Dn=Bt.memoizedState,Qe=s.stateNode,He=Qe.getSnapshotBeforeUpdate(s.elementType===s.type?Ft:wo(s.type,Ft),Dn);Qe.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var nt=s.stateNode.containerInfo;nt.nodeType===1?nt.textContent="":nt.nodeType===9&&nt.documentElement&&nt.removeChild(nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(Ct){En(s,s.return,Ct)}if(o=s.sibling,o!==null){o.return=s.return,wt=o;break}wt=s.return}return Bt=bc,bc=!1,Bt}function xs(o,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var I=g=g.next;do{if((I.tag&o)===o){var J=I.destroy;I.destroy=void 0,J!==void 0&&Sa(s,f,J)}I=I.next}while(I!==g)}}function fd(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&o)===o){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function Ec(o){var s=o.ref;if(s!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof s=="function"?s(o):s.current=o}}function Pm(o){var s=o.alternate;s!==null&&(o.alternate=null,Pm(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Ho],delete s[yl],delete s[ju],delete s[Ni],delete s[uc])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function bh(o){return o.tag===5||o.tag===3||o.tag===4}function Wl(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||bh(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Eh(o,s,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(o,s):f.insertBefore(o,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(o,f)):(s=f,s.appendChild(o)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=ro));else if(g!==4&&(o=o.child,o!==null))for(Eh(o,s,f),o=o.sibling;o!==null;)Eh(o,s,f),o=o.sibling}function Ch(o,s,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Ch(o,s,f),o=o.sibling;o!==null;)Ch(o,s,f),o=o.sibling}var hi=null,Ao=!1;function Qa(o,s,f){for(f=f.child;f!==null;)hd(o,s,f),f=f.sibling}function hd(o,s,f){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(df,f)}catch(we){}switch(f.tag){case 5:fi||Os(f,s);case 6:var g=hi,I=Ao;hi=null,Qa(o,s,f),hi=g,Ao=I,hi!==null&&(Ao?(o=hi,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):hi.removeChild(f.stateNode));break;case 18:hi!==null&&(Ao?(o=hi,f=f.stateNode,o.nodeType===8?vl(o.parentNode,f):o.nodeType===1&&vl(o,f),rl(o)):vl(hi,f.stateNode));break;case 4:g=hi,I=Ao,hi=f.stateNode.containerInfo,Ao=!0,Qa(o,s,f),hi=g,Ao=I;break;case 0:case 11:case 14:case 15:if(!fi&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){I=g=g.next;do{var J=I,pe=J.destroy;J=J.tag,pe!==void 0&&(J&2||J&4)&&Sa(f,s,pe),I=I.next}while(I!==g)}Qa(o,s,f);break;case 1:if(!fi&&(Os(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(we){En(f,s,we)}Qa(o,s,f);break;case 21:Qa(o,s,f);break;case 22:f.mode&1?(fi=(g=fi)||f.memoizedState!==null,Qa(o,s,f),fi=g):Qa(o,s,f);break;default:Qa(o,s,f)}}function km(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new Is),s.forEach(function(g){var I=Gv.bind(null,o,g);f.has(g)||(f.add(g),g.then(I,I))})}}function qo(o,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var I=f[g];try{var J=o,pe=s,we=pe;e:for(;we!==null;){switch(we.tag){case 5:hi=we.stateNode,Ao=!1;break e;case 3:hi=we.stateNode.containerInfo,Ao=!0;break e;case 4:hi=we.stateNode.containerInfo,Ao=!0;break e}we=we.return}if(hi===null)throw Error(ke(160));hd(J,pe,I),hi=null,Ao=!1;var je=I.alternate;je!==null&&(je.return=null),I.return=null}catch(it){En(I,s,it)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Im(s,o),s=s.sibling}function Im(o,s){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(qo(s,o),lo(o),g&4){try{xs(3,o,o.return),fd(3,o)}catch(Ft){En(o,o.return,Ft)}try{xs(5,o,o.return)}catch(Ft){En(o,o.return,Ft)}}break;case 1:qo(s,o),lo(o),g&512&&f!==null&&Os(f,f.return);break;case 5:if(qo(s,o),lo(o),g&512&&f!==null&&Os(f,f.return),o.flags&32){var I=o.stateNode;try{jn(I,"")}catch(Ft){En(o,o.return,Ft)}}if(g&4&&(I=o.stateNode,I!=null)){var J=o.memoizedProps,pe=f!==null?f.memoizedProps:J,we=o.type,je=o.updateQueue;if(o.updateQueue=null,je!==null)try{we==="input"&&J.type==="radio"&&J.name!=null&&Vt(I,J),ue(we,pe);var it=ue(we,J);for(pe=0;pe<je.length;pe+=2){var mt=je[pe],gt=je[pe+1];mt==="style"?xt(I,gt):mt==="dangerouslySetInnerHTML"?Qn(I,gt):mt==="children"?jn(I,gt):E(I,mt,gt,it)}switch(we){case"input":cr(I,J);break;case"textarea":Rn(I,J);break;case"select":var pt=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!J.multiple;var Mt=J.value;Mt!=null?vr(I,!!J.multiple,Mt,!1):pt!==!!J.multiple&&(J.defaultValue!=null?vr(I,!!J.multiple,J.defaultValue,!0):vr(I,!!J.multiple,J.multiple?[]:"",!1))}I[yl]=J}catch(Ft){En(o,o.return,Ft)}}break;case 6:if(qo(s,o),lo(o),g&4){if(o.stateNode===null)throw Error(ke(162));I=o.stateNode,J=o.memoizedProps;try{I.nodeValue=J}catch(Ft){En(o,o.return,Ft)}}break;case 3:if(qo(s,o),lo(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{rl(s.containerInfo)}catch(Ft){En(o,o.return,Ft)}break;case 4:qo(s,o),lo(o);break;case 13:qo(s,o),lo(o),I=o.child,I.flags&8192&&(J=I.memoizedState!==null,I.stateNode.isHidden=J,!J||I.alternate!==null&&I.alternate.memoizedState!==null||(Rc=wn())),g&4&&km(o);break;case 22:if(mt=f!==null&&f.memoizedState!==null,o.mode&1?(fi=(it=fi)||mt,qo(s,o),fi=it):qo(s,o),lo(o),g&8192){if(it=o.memoizedState!==null,(o.stateNode.isHidden=it)&&!mt&&o.mode&1)for(wt=o,mt=o.child;mt!==null;){for(gt=wt=mt;wt!==null;){switch(pt=wt,Mt=pt.child,pt.tag){case 0:case 11:case 14:case 15:xs(4,pt,pt.return);break;case 1:Os(pt,pt.return);var Bt=pt.stateNode;if(typeof Bt.componentWillUnmount=="function"){g=pt,f=pt.return;try{s=g,Bt.props=s.memoizedProps,Bt.state=s.memoizedState,Bt.componentWillUnmount()}catch(Ft){En(g,f,Ft)}}break;case 5:Os(pt,pt.return);break;case 22:if(pt.memoizedState!==null){Rh(gt);continue}}Mt!==null?(Mt.return=pt,wt=Mt):Rh(gt)}mt=mt.sibling}e:for(mt=null,gt=o;;){if(gt.tag===5){if(mt===null){mt=gt;try{I=gt.stateNode,it?(J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(we=gt.stateNode,je=gt.memoizedProps.style,pe=je!=null&&je.hasOwnProperty("display")?je.display:null,we.style.display=Zt("display",pe))}catch(Ft){En(o,o.return,Ft)}}}else if(gt.tag===6){if(mt===null)try{gt.stateNode.nodeValue=it?"":gt.memoizedProps}catch(Ft){En(o,o.return,Ft)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===o)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===o)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===o)break e;mt===gt&&(mt=null),gt=gt.return}mt===gt&&(mt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:qo(s,o),lo(o),g&4&&km(o);break;case 21:break;default:qo(s,o),lo(o)}}function lo(o){var s=o.flags;if(s&2){try{e:{for(var f=o.return;f!==null;){if(bh(f)){var g=f;break e}f=f.return}throw Error(ke(160))}switch(g.tag){case 5:var I=g.stateNode;g.flags&32&&(jn(I,""),g.flags&=-33);var J=Wl(o);Ch(o,J,I);break;case 3:case 4:var pe=g.stateNode.containerInfo,we=Wl(o);Eh(o,we,pe);break;default:throw Error(ke(161))}}catch(je){En(o,o.return,je)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function wS(o,s,f){wt=o,_h(o,s,f)}function _h(o,s,f){for(var g=(o.mode&1)!==0;wt!==null;){var I=wt,J=I.child;if(I.tag===22&&g){var pe=I.memoizedState!==null||dd;if(!pe){var we=I.alternate,je=we!==null&&we.memoizedState!==null||fi;we=dd;var it=fi;if(dd=pe,(fi=je)&&!it)for(wt=I;wt!==null;)pe=wt,je=pe.child,pe.tag===22&&pe.memoizedState!==null?pd(I):je!==null?(je.return=pe,wt=je):pd(I);for(;J!==null;)wt=J,_h(J,s,f),J=J.sibling;wt=I,dd=we,fi=it}jv(o,s,f)}else I.subtreeFlags&8772&&J!==null?(J.return=I,wt=J):jv(o,s,f)}}function jv(o){for(;wt!==null;){var s=wt;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:fi||fd(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!fi)if(f===null)g.componentDidMount();else{var I=s.elementType===s.type?f.memoizedProps:wo(s.type,f.memoizedProps);g.componentDidUpdate(I,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var J=s.updateQueue;J!==null&&Yu(s,J,g);break;case 3:var pe=s.updateQueue;if(pe!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}Yu(s,pe,f)}break;case 5:var we=s.stateNode;if(f===null&&s.flags&4){f=we;var je=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&f.focus();break;case"img":je.src&&(f.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var it=s.alternate;if(it!==null){var mt=it.memoizedState;if(mt!==null){var gt=mt.dehydrated;gt!==null&&rl(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}fi||s.flags&512&&Ec(s)}catch(pt){En(s,s.return,pt)}}if(s===o){wt=null;break}if(f=s.sibling,f!==null){f.return=s.return,wt=f;break}wt=s.return}}function Rh(o){for(;wt!==null;){var s=wt;if(s===o){wt=null;break}var f=s.sibling;if(f!==null){f.return=s.return,wt=f;break}wt=s.return}}function pd(o){for(;wt!==null;){var s=wt;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{fd(4,s)}catch(je){En(s,f,je)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var I=s.return;try{g.componentDidMount()}catch(je){En(s,I,je)}}var J=s.return;try{Ec(s)}catch(je){En(s,J,je)}break;case 5:var pe=s.return;try{Ec(s)}catch(je){En(s,pe,je)}}}catch(je){En(s,s.return,je)}if(s===o){wt=null;break}var we=s.sibling;if(we!==null){we.return=s.return,wt=we;break}wt=s.return}}var Fv=Math.ceil,Cc=w.ReactCurrentDispatcher,wh=w.ReactCurrentOwner,Po=w.ReactCurrentBatchConfig,kr=0,ei=null,Mn=null,pi=0,Ui=0,Za=ja(0),Nn=0,Ms=null,ba=0,md=0,_c=0,gd=null,_i=null,Rc=0,Ns=1/0,uo=null,vd=!1,Th=null,es=null,Ah=!1,Ds=null,yd=0,wc=0,Om=null,Sd=-1,Ea=0;function mi(){return kr&6?wn():Sd!==-1?Sd:Sd=wn()}function Jo(o){return o.mode&1?kr&2&&pi!==0?pi&-pi:Nv.transition!==null?(Ea===0&&(Ea=bi()),Ea):(o=Hr,o!==0||(o=window.event,o=o===void 0?16:yf(o.type)),o):1}function fo(o,s,f,g){if(50<wc)throw wc=0,Om=null,Error(ke(185));ec(o,f,g),(!(kr&2)||o!==ei)&&(o===ei&&(!(kr&2)&&(md|=f),Nn===4&&Ls(o,pi)),Ri(o,g),f===1&&kr===0&&!(s.mode&1)&&(Ns=wn()+500,bl&&Ha()))}function Ri(o,s){var f=o.callbackNode;kp(o,s);var g=Zc(o,o===ei?pi:0);if(g===0)f!==null&&Ap(f),o.callbackNode=null,o.callbackPriority=0;else if(s=g&-g,o.callbackPriority!==s){if(f!=null&&Ap(f),s===1)o.tag===0?Mv($v.bind(null,o)):om($v.bind(null,o)),tm(function(){!(kr&6)&&Ha()}),f=null;else{switch(Ip(g)){case 1:f=vu;break;case 4:f=Uo;break;case 16:f=Zs;break;case 536870912:f=yu;break;default:f=Zs}f=Pc(f,bd.bind(null,o))}o.callbackPriority=s,o.callbackNode=f}}function bd(o,s){if(Sd=-1,Ea=0,kr&6)throw Error(ke(327));var f=o.callbackNode;if(Us()&&o.callbackNode!==f)return null;var g=Zc(o,o===ei?pi:0);if(g===0)return null;if(g&30||g&o.expiredLanes||s)s=Ac(o,g);else{s=g;var I=kr;kr|=2;var J=Dm();(ei!==o||pi!==s)&&(uo=null,Ns=wn()+500,Ca(o,s));do try{Hv();break}catch(we){Nm(o,we)}while(!0);Tl(),Cc.current=J,kr=I,Mn!==null?s=0:(ei=null,pi=0,s=Nn)}if(s!==0){if(s===2&&(I=Su(o),I!==0&&(g=I,s=Ph(o,I))),s===1)throw f=Ms,Ca(o,0),Ls(o,g),Ri(o,wn()),f;if(s===6)Ls(o,g);else{if(I=o.current.alternate,!(g&30)&&!TS(I)&&(s=Ac(o,g),s===2&&(J=Su(o),J!==0&&(g=J,s=Ph(o,J))),s===1))throw f=Ms,Ca(o,0),Ls(o,g),Ri(o,wn()),f;switch(o.finishedWork=I,o.finishedLanes=g,s){case 0:case 1:throw Error(ke(345));case 2:Vs(o,_i,uo);break;case 3:if(Ls(o,g),(g&130023424)===g&&(s=Rc+500-wn(),10<s)){if(Zc(o,0)!==0)break;if(I=o.suspendedLanes,(I&g)!==g){mi(),o.pingedLanes|=o.suspendedLanes&I;break}o.timeoutHandle=$o(Vs.bind(null,o,_i,uo),s);break}Vs(o,_i,uo);break;case 4:if(Ls(o,g),(g&4194240)===g)break;for(s=o.eventTimes,I=-1;0<g;){var pe=31-Fi(g);J=1<<pe,pe=s[pe],pe>I&&(I=pe),g&=~J}if(g=I,g=wn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Fv(g/1960))-g,10<g){o.timeoutHandle=$o(Vs.bind(null,o,_i,uo),g);break}Vs(o,_i,uo);break;case 5:Vs(o,_i,uo);break;default:throw Error(ke(329))}}}return Ri(o,wn()),o.callbackNode===f?bd.bind(null,o):null}function Ph(o,s){var f=gd;return o.current.memoizedState.isDehydrated&&(Ca(o,s).flags|=256),o=Ac(o,s),o!==2&&(s=_i,_i=f,s!==null&&kh(s)),o}function kh(o){_i===null?_i=o:_i.push.apply(_i,o)}function TS(o){for(var s=o;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var I=f[g],J=I.getSnapshot;I=I.value;try{if(!Fo(J(),I))return!1}catch(pe){return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ls(o,s){for(s&=~_c,s&=~md,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var f=31-Fi(s),g=1<<f;o[f]=-1,s&=~g}}function $v(o){if(kr&6)throw Error(ke(327));Us();var s=Zc(o,0);if(!(s&1))return Ri(o,wn()),null;var f=Ac(o,s);if(o.tag!==0&&f===2){var g=Su(o);g!==0&&(s=g,f=Ph(o,g))}if(f===1)throw f=Ms,Ca(o,0),Ls(o,s),Ri(o,wn()),f;if(f===6)throw Error(ke(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Vs(o,_i,uo),Ri(o,wn()),null}function xm(o,s){var f=kr;kr|=1;try{return o(s)}finally{kr=f,kr===0&&(Ns=wn()+500,bl&&Ha())}}function Tc(o){Ds!==null&&Ds.tag===0&&!(kr&6)&&Us();var s=kr;kr|=1;var f=Po.transition,g=Hr;try{if(Po.transition=null,Hr=1,o)return o()}finally{Hr=g,Po.transition=f,kr=s,!(kr&6)&&Ha()}}function Mm(){Ui=Za.current,sn(Za)}function Ca(o,s){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Iv(f)),Mn!==null)for(f=Mn.return;f!==null;){var g=f;switch(Ff(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sl();break;case 3:qa(),sn(Ei),sn(si),lm();break;case 5:xl(g);break;case 4:qa();break;case 13:sn(dn);break;case 19:sn(dn);break;case 10:Al(g.type._context);break;case 22:case 23:Mm()}f=f.return}if(ei=o,Mn=o=_a(o.current,null),pi=Ui=s,Nn=0,Ms=null,_c=md=ba=0,_i=gd=null,ma!==null){for(s=0;s<ma.length;s++)if(f=ma[s],g=f.interleaved,g!==null){f.interleaved=null;var I=g.next,J=f.pending;if(J!==null){var pe=J.next;J.next=I,g.next=pe}f.pending=g}ma=null}return o}function Nm(o,s){do{var f=Mn;try{if(Tl(),Ja.current=Ps,Zu){for(var g=bn.memoizedState;g!==null;){var I=g.queue;I!==null&&(I.pending=null),g=g.next}Zu=!1}if(gc=0,Zn=$n=bn=null,Ya=!1,Ml=0,wh.current=null,f===null||f.return===null){Nn=1,Ms=s,Mn=null;break}e:{var J=o,pe=f.return,we=f,je=s;if(s=pi,we.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var it=je,mt=we,gt=mt.tag;if(!(mt.mode&1)&&(gt===0||gt===11||gt===15)){var pt=mt.alternate;pt?(mt.updateQueue=pt.updateQueue,mt.memoizedState=pt.memoizedState,mt.lanes=pt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Mt=Sm(pe);if(Mt!==null){Mt.flags&=-257,bm(Mt,pe,we,J,s),Mt.mode&1&&sh(J,it,s),s=Mt,je=it;var Bt=s.updateQueue;if(Bt===null){var Ft=new Set;Ft.add(je),s.updateQueue=Ft}else Bt.add(je);break e}else{if(!(s&1)){sh(J,it,s),Ih();break e}je=Error(ke(426))}}else if(un&&we.mode&1){var Dn=Sm(pe);if(Dn!==null){!(Dn.flags&65536)&&(Dn.flags|=256),bm(Dn,pe,we,J,s),Wu(ks(je,we));break e}}J=je=ks(je,we),Nn!==4&&(Nn=2),gd===null?gd=[J]:gd.push(J),J=pe;do{switch(J.tag){case 3:J.flags|=65536,s&=-s,J.lanes|=s;var Qe=od(J,je,s);Ju(J,Qe);break e;case 1:we=je;var He=J.type,nt=J.stateNode;if(!(J.flags&128)&&(typeof He.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(es===null||!es.has(nt)))){J.flags|=65536,s&=-s,J.lanes|=s;var Ct=ah(J,we,s);Ju(J,Ct);break e}}J=J.return}while(J!==null)}Vm(f)}catch($t){s=$t,Mn===f&&f!==null&&(Mn=f=f.return);continue}break}while(!0)}function Dm(){var o=Cc.current;return Cc.current=Ps,o===null?Ps:o}function Ih(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),ei===null||!(ba&268435455)&&!(md&268435455)||Ls(ei,pi)}function Ac(o,s){var f=kr;kr|=2;var g=Dm();(ei!==o||pi!==s)&&(uo=null,Ca(o,s));do try{Lm();break}catch(I){Nm(o,I)}while(!0);if(Tl(),kr=f,Cc.current=g,Mn!==null)throw Error(ke(261));return ei=null,pi=0,Nn}function Lm(){for(;Mn!==null;)Gl(Mn)}function Hv(){for(;Mn!==null&&!lf();)Gl(Mn)}function Gl(o){var s=jm(o.alternate,o,Ui);o.memoizedProps=o.pendingProps,s===null?Vm(o):Mn=s,wh.current=null}function Vm(o){var s=o;do{var f=s.alternate;if(o=s.return,s.flags&32768){if(f=Uv(f,s),f!==null){f.flags&=32767,Mn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Nn=6,Mn=null;return}}else if(f=Vv(f,s,Ui),f!==null){Mn=f;return}if(s=s.sibling,s!==null){Mn=s;return}Mn=s=o}while(s!==null);Nn===0&&(Nn=5)}function Vs(o,s,f){var g=Hr,I=Po.transition;try{Po.transition=null,Hr=1,Um(o,s,f,g)}finally{Po.transition=I,Hr=g}return null}function Um(o,s,f,g){do Us();while(Ds!==null);if(kr&6)throw Error(ke(327));f=o.finishedWork;var I=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(ke(177));o.callbackNode=null,o.callbackPriority=0;var J=f.lanes|f.childLanes;if(ov(o,J),o===ei&&(Mn=ei=null,pi=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Ah||(Ah=!0,Pc(Zs,function(){return Us(),null})),J=(f.flags&15990)!==0,f.subtreeFlags&15990||J){J=Po.transition,Po.transition=null;var pe=Hr;Hr=1;var we=kr;kr|=4,wh.current=null,Bv(o,f),Im(f,o),ES(cc),_u=!!ua,cc=ua=null,o.current=f,wS(f,o,I),rv(),kr=we,Hr=pe,Po.transition=J}else o.current=f;if(Ah&&(Ah=!1,Ds=o,yd=I),J=o.pendingLanes,J===0&&(es=null),nv(f.stateNode,g),Ri(o,wn()),s!==null)for(g=o.onRecoverableError,f=0;f<s.length;f++)I=s[f],g(I.value,{componentStack:I.stack,digest:I.digest});if(vd)throw vd=!1,o=Th,Th=null,o;return yd&1&&o.tag!==0&&Us(),J=o.pendingLanes,J&1?o===Om?wc++:(wc=0,Om=o):wc=0,Ha(),null}function Us(){if(Ds!==null){var o=Ip(yd),s=Po.transition,f=Hr;try{if(Po.transition=null,Hr=16>o?16:o,Ds===null)var g=!1;else{if(o=Ds,Ds=null,yd=0,kr&6)throw Error(ke(331));var I=kr;for(kr|=4,wt=o.current;wt!==null;){var J=wt,pe=J.child;if(wt.flags&16){var we=J.deletions;if(we!==null){for(var je=0;je<we.length;je++){var it=we[je];for(wt=it;wt!==null;){var mt=wt;switch(mt.tag){case 0:case 11:case 15:xs(8,mt,J)}var gt=mt.child;if(gt!==null)gt.return=mt,wt=gt;else for(;wt!==null;){mt=wt;var pt=mt.sibling,Mt=mt.return;if(Pm(mt),mt===it){wt=null;break}if(pt!==null){pt.return=Mt,wt=pt;break}wt=Mt}}}var Bt=J.alternate;if(Bt!==null){var Ft=Bt.child;if(Ft!==null){Bt.child=null;do{var Dn=Ft.sibling;Ft.sibling=null,Ft=Dn}while(Ft!==null)}}wt=J}}if(J.subtreeFlags&2064&&pe!==null)pe.return=J,wt=pe;else e:for(;wt!==null;){if(J=wt,J.flags&2048)switch(J.tag){case 0:case 11:case 15:xs(9,J,J.return)}var Qe=J.sibling;if(Qe!==null){Qe.return=J.return,wt=Qe;break e}wt=J.return}}var He=o.current;for(wt=He;wt!==null;){pe=wt;var nt=pe.child;if(pe.subtreeFlags&2064&&nt!==null)nt.return=pe,wt=nt;else e:for(pe=He;wt!==null;){if(we=wt,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:fd(9,we)}}catch($t){En(we,we.return,$t)}if(we===pe){wt=null;break e}var Ct=we.sibling;if(Ct!==null){Ct.return=we.return,wt=Ct;break e}wt=we.return}}if(kr=I,Ha(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(df,o)}catch($t){}g=!0}return g}finally{Hr=f,Po.transition=s}}return!1}function Ed(o,s,f){s=ks(f,s),s=od(o,s,1),o=_s(o,s,1),s=mi(),o!==null&&(ec(o,1,s),Ri(o,s))}function En(o,s,f){if(o.tag===3)Ed(o,o,f);else for(;s!==null;){if(s.tag===3){Ed(s,o,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(es===null||!es.has(g))){o=ks(f,o),o=ah(s,o,1),s=_s(s,o,1),o=mi(),s!==null&&(ec(s,1,o),Ri(s,o));break}}s=s.return}}function Bm(o,s,f){var g=o.pingCache;g!==null&&g.delete(s),s=mi(),o.pingedLanes|=o.suspendedLanes&f,ei===o&&(pi&f)===f&&(Nn===4||Nn===3&&(pi&130023424)===pi&&500>wn()-Rc?Ca(o,0):_c|=f),Ri(o,s)}function zv(o,s){s===0&&(o.mode&1?(s=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):s=1);var f=mi();o=oo(o,s),o!==null&&(ec(o,s,f),Ri(o,f))}function Wv(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),zv(o,f)}function Gv(o,s){var f=0;switch(o.tag){case 13:var g=o.stateNode,I=o.memoizedState;I!==null&&(f=I.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(ke(314))}g!==null&&g.delete(s),zv(o,f)}var jm;jm=function(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps||Ei.current)Vi=!0;else{if(!(o.lanes&f)&&!(s.flags&128))return Vi=!1,Sh(o,s,f);Vi=!!(o.flags&131072)}else Vi=!1,un&&s.flags&1048576&&am(s,zu,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;$l(o,s),o=s.pendingProps;var I=$a(s,si.current);Ka(s,f),I=Li(null,s,g,o,I,f);var J=As();return s.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zr(g)?(J=!0,$u(s)):J=!1,s.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Il(s),I.updater=id,s.stateNode=I,I._reactInternals=s,yc(s,g,o,f),s=ph(null,s,g,!0,J,f)):(s.tag=0,un&&J&&jf(s),Gn(null,s,I,f),s=s.child),s;case 16:g=s.elementType;e:{switch($l(o,s),o=s.pendingProps,I=g._init,g=I(g._payload),s.type=g,I=s.tag=Oh(g),o=wo(g,o),I){case 0:s=ad(null,s,g,o,f);break e;case 1:s=hh(null,s,g,o,f);break e;case 11:s=ch(null,s,g,o,f);break e;case 14:s=lh(null,s,g,wo(g.type,o),f);break e}throw Error(ke(306,g,""))}return s;case 0:return g=s.type,I=s.pendingProps,I=s.elementType===g?I:wo(g,I),ad(o,s,g,I,f);case 1:return g=s.type,I=s.pendingProps,I=s.elementType===g?I:wo(g,I),hh(o,s,g,I,f);case 3:e:{if(Cm(s),o===null)throw Error(ke(387));g=s.pendingProps,J=s.memoizedState,I=J.element,qu(o,s),mc(s,g,null,f);var pe=s.memoizedState;if(g=pe.element,J.isDehydrated)if(J={element:g,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},s.updateQueue.baseState=J,s.memoizedState=J,s.flags&256){I=ks(Error(ke(423)),s),s=mh(o,s,g,f,I);break e}else if(g!==I){I=ks(Error(ke(424)),s),s=mh(o,s,g,f,I);break e}else for(li=Ba(s.stateNode.containerInfo.firstChild),Ci=s,un=!0,zo=null,f=Wf(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(pa(),g===I){s=To(o,s,f);break e}Gn(o,s,g,f)}s=s.child}return s;case 5:return Xu(s),o===null&&El(s),g=s.type,I=s.pendingProps,J=o!==null?o.memoizedProps:null,pe=I.children,Bu(g,I)?pe=null:J!==null&&Bu(g,J)&&(s.flags|=32),fh(o,s),Gn(o,s,pe,f),s.child;case 6:return o===null&&El(s),null;case 13:return _m(o,s,f);case 4:return Ol(s,s.stateNode.containerInfo),g=s.pendingProps,o===null?s.child=hc(s,null,g,f):Gn(o,s,g,f),s.child;case 11:return g=s.type,I=s.pendingProps,I=s.elementType===g?I:wo(g,I),ch(o,s,g,I,f);case 7:return Gn(o,s,s.pendingProps,f),s.child;case 8:return Gn(o,s,s.pendingProps.children,f),s.child;case 12:return Gn(o,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,I=s.pendingProps,J=s.memoizedProps,pe=I.value,cn(_l,g._currentValue),g._currentValue=pe,J!==null)if(Fo(J.value,pe)){if(J.children===I.children&&!Ei.current){s=To(o,s,f);break e}}else for(J=s.child,J!==null&&(J.return=s);J!==null;){var we=J.dependencies;if(we!==null){pe=J.child;for(var je=we.firstContext;je!==null;){if(je.context===g){if(J.tag===1){je=Ro(-1,f&-f),je.tag=2;var it=J.updateQueue;if(it!==null){it=it.shared;var mt=it.pending;mt===null?je.next=je:(je.next=mt.next,mt.next=je),it.pending=je}}J.lanes|=f,je=J.alternate,je!==null&&(je.lanes|=f),Pl(J.return,f,s),we.lanes|=f;break}je=je.next}}else if(J.tag===10)pe=J.type===s.type?null:J.child;else if(J.tag===18){if(pe=J.return,pe===null)throw Error(ke(341));pe.lanes|=f,we=pe.alternate,we!==null&&(we.lanes|=f),Pl(pe,f,s),pe=J.sibling}else pe=J.child;if(pe!==null)pe.return=J;else for(pe=J;pe!==null;){if(pe===s){pe=null;break}if(J=pe.sibling,J!==null){J.return=pe.return,pe=J;break}pe=pe.return}J=pe}Gn(o,s,I.children,f),s=s.child}return s;case 9:return I=s.type,g=s.pendingProps.children,Ka(s,f),I=Di(I),g=g(I),s.flags|=1,Gn(o,s,g,f),s.child;case 14:return g=s.type,I=wo(g,s.pendingProps),I=wo(g.type,I),lh(o,s,g,I,f);case 15:return uh(o,s,s.type,s.pendingProps,f);case 17:return g=s.type,I=s.pendingProps,I=s.elementType===g?I:wo(g,I),$l(o,s),s.tag=1,Zr(g)?(o=!0,$u(s)):o=!1,Ka(s,f),jl(s,g,I),yc(s,g,I,f),ph(null,s,g,!0,o,f);case 19:return Tm(o,s,f);case 22:return dh(o,s,f)}throw Error(ke(156,s.tag))};function Pc(o,s){return gu(o,s)}function Kv(o,s,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(o,s,f,g){return new Kv(o,s,f,g)}function kc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Oh(o){if(typeof o=="function")return kc(o)?1:0;if(o!=null){if(o=o.$$typeof,o===x)return 11;if(o===de)return 14}return 2}function _a(o,s){var f=o.alternate;return f===null?(f=ho(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Cd(o,s,f,g,I,J){var pe=2;if(g=o,typeof o=="function")kc(o)&&(pe=1);else if(typeof o=="string")pe=5;else e:switch(o){case ce:return Bs(f.children,I,J,s);case re:pe=8,I|=8;break;case K:return o=ho(12,f,s,I|2),o.elementType=K,o.lanes=J,o;case se:return o=ho(13,f,s,I),o.elementType=se,o.lanes=J,o;case ne:return o=ho(19,f,s,I),o.elementType=ne,o.lanes=J,o;case te:return js(f,I,J,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:pe=10;break e;case L:pe=9;break e;case x:pe=11;break e;case de:pe=14;break e;case $:pe=16,g=null;break e}throw Error(ke(130,o==null?o:typeof o,""))}return s=ho(pe,f,s,I),s.elementType=o,s.type=g,s.lanes=J,s}function Bs(o,s,f,g){return o=ho(7,o,g,s),o.lanes=f,o}function js(o,s,f,g){return o=ho(22,o,g,s),o.elementType=te,o.lanes=f,o.stateNode={isHidden:!1},o}function Ra(o,s,f){return o=ho(6,o,null,s),o.lanes=f,o}function xh(o,s,f){return s=ho(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function qv(o,s,f,g,I){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=g,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function Kl(o,s,f,g,I,J,pe,we,je){return o=new qv(o,s,f,we,je),s===1?(s=1,J===!0&&(s|=8)):s=0,J=ho(3,null,null,s),o.current=J,J.stateNode=o,J.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(J),o}function Fm(o,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:g==null?null:""+g,children:o,containerInfo:s,implementation:f}}function _d(o){if(!o)return Hi;o=o._reactInternals;e:{if(Qs(o)!==o||o.tag!==1)throw Error(ke(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ke(171))}if(o.tag===1){var f=o.type;if(Zr(f))return nm(o,f,s)}return s}function Rd(o,s,f,g,I,J,pe,we,je){return o=Kl(f,g,!0,o,I,J,pe,we,je),o.context=_d(null),f=o.current,g=mi(),I=Jo(f),J=Ro(g,I),J.callback=s!=null?s:null,_s(f,J,I),o.current.lanes=I,ec(o,I,g),Ri(o,g),o}function Mh(o,s,f,g){var I=s.current,J=mi(),pe=Jo(I);return f=_d(f),s.context===null?s.context=f:s.pendingContext=f,s=Ro(J,pe),s.payload={element:o},g=g===void 0?null:g,g!==null&&(s.callback=g),o=_s(I,s,pe),o!==null&&(fo(o,I,pe,J),pc(o,I,pe)),pe}function wd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Nh(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function $m(o,s){Nh(o,s),(o=o.alternate)&&Nh(o,s)}function Jv(){return null}var Hm=typeof reportError=="function"?reportError:function(o){console.error(o)};function Dh(o){this._internalRoot=o}Ic.prototype.render=Dh.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(ke(409));Mh(o,s,null,null)},Ic.prototype.unmount=Dh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Tc(function(){Mh(null,o,null,null)}),s[da]=null}};function Ic(o){this._internalRoot=o}Ic.prototype.unstable_scheduleHydration=function(o){if(o){var s=Mp();o={blockedOn:null,target:o,priority:s};for(var f=0;f<Na.length&&s!==0&&s<Na[f].priority;f++);Na.splice(f,0,o),f===0&&Dp(o)}};function Lh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ts(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Yv(){}function Td(o,s,f,g,I){if(I){if(typeof g=="function"){var J=g;g=function(){var it=wd(pe);J.call(it)}}var pe=Rd(s,g,o,0,null,!1,!1,"",Yv);return o._reactRootContainer=pe,o[da]=pe.current,pl(o.nodeType===8?o.parentNode:o),Tc(),pe}for(;I=o.lastChild;)o.removeChild(I);if(typeof g=="function"){var we=g;g=function(){var it=wd(je);we.call(it)}}var je=Kl(o,0,!1,null,null,!1,!1,"",Yv);return o._reactRootContainer=je,o[da]=je.current,pl(o.nodeType===8?o.parentNode:o),Tc(function(){Mh(s,je,f,g)}),je}function Vh(o,s,f,g,I){var J=f._reactRootContainer;if(J){var pe=J;if(typeof I=="function"){var we=I;I=function(){var je=wd(pe);we.call(je)}}Mh(s,pe,o,I)}else pe=Td(f,s,o,I,g);return wd(pe)}Op=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var f=Qc(s.pendingLanes);f!==0&&(pf(s,f|1),Ri(s,wn()),!(kr&6)&&(Ns=wn()+500,Ha()))}break;case 13:Tc(function(){var g=oo(o,1);if(g!==null){var I=mi();fo(g,o,1,I)}}),$m(o,1)}},mf=function(o){if(o.tag===13){var s=oo(o,134217728);if(s!==null){var f=mi();fo(s,o,134217728,f)}$m(o,134217728)}},xp=function(o){if(o.tag===13){var s=Jo(o),f=oo(o,s);if(f!==null){var g=mi();fo(f,o,s,g)}$m(o,s)}},Mp=function(){return Hr},Np=function(o,s){var f=Hr;try{return Hr=o,s()}finally{Hr=f}},De=function(o,s,f){switch(s){case"input":if(cr(o,f),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==o&&g.form===o.form){var I=$i(g);if(!I)throw Error(ke(90));vt(g),cr(g,I)}}}break;case"textarea":Rn(o,f);break;case"select":s=f.value,s!=null&&vr(o,!!f.multiple,s,!1)}},ht=xm,kt=Tc;var AS={usingClientEntryPoint:!1,Events:[bs,dc,$i,ut,at,xm]},Ad={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PS={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=cf(o),o===null?null:o.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{df=Uh.inject(PS),Zi=Uh}catch(o){}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS,Me.createPortal=function(o,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(s))throw Error(ke(200));return Fm(o,s,null,f)},Me.createRoot=function(o,s){if(!Lh(o))throw Error(ke(299));var f=!1,g="",I=Hm;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=Kl(o,1,!1,null,null,f,!1,g,I),o[da]=s.current,pl(o.nodeType===8?o.parentNode:o),new Dh(s)},Me.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(ke(188)):(o=Object.keys(o).join(","),Error(ke(268,o)));return o=cf(s),o=o===null?null:o.stateNode,o},Me.flushSync=function(o){return Tc(o)},Me.hydrate=function(o,s,f){if(!ts(s))throw Error(ke(200));return Vh(null,o,s,!0,f)},Me.hydrateRoot=function(o,s,f){if(!Lh(o))throw Error(ke(405));var g=f!=null&&f.hydratedSources||null,I=!1,J="",pe=Hm;if(f!=null&&(f.unstable_strictMode===!0&&(I=!0),f.identifierPrefix!==void 0&&(J=f.identifierPrefix),f.onRecoverableError!==void 0&&(pe=f.onRecoverableError)),s=Rd(s,null,o,1,f!=null?f:null,I,!1,J,pe),o[da]=s.current,pl(o),g)for(o=0;o<g.length;o++)f=g[o],I=f._getVersion,I=I(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,I]:s.mutableSourceEagerHydrationData.push(f,I);return new Ic(s)},Me.render=function(o,s,f){if(!ts(s))throw Error(ke(200));return Vh(null,o,s,!1,f)},Me.unmountComponentAtNode=function(o){if(!ts(o))throw Error(ke(40));return o._reactRootContainer?(Tc(function(){Vh(null,null,o,!1,function(){o._reactRootContainer=null,o[da]=null})}),!0):!1},Me.unstable_batchedUpdates=xm,Me.unstable_renderSubtreeIntoContainer=function(o,s,f,g){if(!ts(f))throw Error(ke(200));if(o==null||o._reactInternals===void 0)throw Error(ke(38));return Vh(o,s,f,!1,g)},Me.version="18.3.1-next-f1338f8080-20240426"},745:function(S,Me,xe){"use strict";var rt=xe(3935);if(1)Me.createRoot=rt.createRoot,Me.hydrateRoot=rt.hydrateRoot;else var st},3935:function(S,Me,xe){"use strict";function rt(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rt)}catch(st){console.error(st)}}rt(),S.exports=xe(4448)},9921:function(S,Me){"use strict";var xe;var rt=Symbol.for("react.element"),st=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Ve=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),V=Symbol.for("react.context"),N=Symbol.for("react.server_context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function p(v){if(typeof v=="object"&&v!==null){var P=v.$$typeof;switch(P){case rt:switch(v=v.type,v){case ke:case _e:case Ve:case B:case Y:return v;default:switch(v=v&&v.$$typeof,v){case N:case V:case U:case k:case G:case W:return v;default:return P}}case st:return P}}}xe=V,xe=W,xe=rt,Me.ForwardRef=U,xe=ke,xe=k,xe=G,xe=st,xe=_e,xe=Ve,xe=B,xe=Y,xe=function(){return!1},xe=function(){return!1},xe=function(v){return p(v)===V},xe=function(v){return p(v)===W},xe=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===rt},xe=function(v){return p(v)===U},xe=function(v){return p(v)===ke},xe=function(v){return p(v)===k},Me.isMemo=function(v){return p(v)===G},xe=function(v){return p(v)===st},xe=function(v){return p(v)===_e},xe=function(v){return p(v)===Ve},xe=function(v){return p(v)===B},xe=function(v){return p(v)===Y},xe=function(v){return typeof v=="string"||typeof v=="function"||v===ke||v===_e||v===Ve||v===B||v===Y||v===M||typeof v=="object"&&v!==null&&(v.$$typeof===k||v.$$typeof===G||v.$$typeof===W||v.$$typeof===V||v.$$typeof===U||v.$$typeof===j||v.getModuleId!==void 0)},xe=p},9864:function(S,Me,xe){"use strict";S.exports=xe(9921)},5251:function(S,Me,xe){"use strict";var rt;var st=xe(7294),ke=Symbol.for("react.element"),Ve=Symbol.for("react.fragment"),_e=Object.prototype.hasOwnProperty,W=st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function N(U,B,Y){var G,k={},M=null,j=null;Y!==void 0&&(M=""+Y),B.key!==void 0&&(M=""+B.key),B.ref!==void 0&&(j=B.ref);for(G in B)_e.call(B,G)&&!V.hasOwnProperty(G)&&(k[G]=B[G]);if(U&&U.defaultProps)for(G in B=U.defaultProps,B)k[G]===void 0&&(k[G]=B[G]);return{$$typeof:ke,type:U,key:M,ref:j,props:k,_owner:W.current}}rt=Ve,Me.jsx=N,Me.jsxs=N},2408:function(S,Me){"use strict";var xe=Symbol.for("react.element"),rt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),W=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.iterator;function G(Q){return Q===null||typeof Q!="object"?null:(Q=Y&&Q[Y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function p(Q,z,le){this.props=Q,this.context=z,this.refs=j,this.updater=le||k}p.prototype.isReactComponent={},p.prototype.setState=function(Q,z){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,z,"setState")},p.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function v(){}v.prototype=p.prototype;function P(Q,z,le){this.props=Q,this.context=z,this.refs=j,this.updater=le||k}var O=P.prototype=new v;O.constructor=P,M(O,p.prototype),O.isPureReactComponent=!0;var E=Array.isArray,w=Object.prototype.hasOwnProperty,F={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ce(Q,z,le){var ee,ve={},Ee=null,Re=null;if(z!=null)for(ee in z.ref!==void 0&&(Re=z.ref),z.key!==void 0&&(Ee=""+z.key),z)w.call(z,ee)&&!q.hasOwnProperty(ee)&&(ve[ee]=z[ee]);var be=arguments.length-2;if(be===1)ve.children=le;else if(1<be){for(var We=Array(be),tt=0;tt<be;tt++)We[tt]=arguments[tt+2];ve.children=We}if(Q&&Q.defaultProps)for(ee in be=Q.defaultProps,be)ve[ee]===void 0&&(ve[ee]=be[ee]);return{$$typeof:xe,type:Q,key:Ee,ref:Re,props:ve,_owner:F.current}}function re(Q,z){return{$$typeof:xe,type:Q.type,key:z,ref:Q.ref,props:Q.props,_owner:Q._owner}}function K(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===xe}function T(Q){var z={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(le){return z[le]})}var L=/\/+/g;function x(Q,z){return typeof Q=="object"&&Q!==null&&Q.key!=null?T(""+Q.key):z.toString(36)}function se(Q,z,le,ee,ve){var Ee=typeof Q;(Ee==="undefined"||Ee==="boolean")&&(Q=null);var Re=!1;if(Q===null)Re=!0;else switch(Ee){case"string":case"number":Re=!0;break;case"object":switch(Q.$$typeof){case xe:case rt:Re=!0}}if(Re)return Re=Q,ve=ve(Re),Q=ee===""?"."+x(Re,0):ee,E(ve)?(le="",Q!=null&&(le=Q.replace(L,"$&/")+"/"),se(ve,z,le,"",function(tt){return tt})):ve!=null&&(K(ve)&&(ve=re(ve,le+(!ve.key||Re&&Re.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+Q)),z.push(ve)),1;if(Re=0,ee=ee===""?".":ee+":",E(Q))for(var be=0;be<Q.length;be++){Ee=Q[be];var We=ee+x(Ee,be);Re+=se(Ee,z,le,We,ve)}else if(We=G(Q),typeof We=="function")for(Q=We.call(Q),be=0;!(Ee=Q.next()).done;)Ee=Ee.value,We=ee+x(Ee,be++),Re+=se(Ee,z,le,We,ve);else if(Ee==="object")throw z=String(Q),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Re}function ne(Q,z,le){if(Q==null)return Q;var ee=[],ve=0;return se(Q,ee,"","",function(Ee){return z.call(le,Ee,ve++)}),ee}function de(Q){if(Q._status===-1){var z=Q._result;z=z(),z.then(function(le){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=le)},function(le){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=le)}),Q._status===-1&&(Q._status=0,Q._result=z)}if(Q._status===1)return Q._result.default;throw Q._result}var $={current:null},te={transition:null},X={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:te,ReactCurrentOwner:F};function ye(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:ne,forEach:function(Q,z,le){ne(Q,function(){z.apply(this,arguments)},le)},count:function(Q){var z=0;return ne(Q,function(){z++}),z},toArray:function(Q){return ne(Q,function(z){return z})||[]},only:function(Q){if(!K(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Me.Component=p,Me.Fragment=st,Me.Profiler=Ve,Me.PureComponent=P,Me.StrictMode=ke,Me.Suspense=N,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Me.act=ye,Me.cloneElement=function(Q,z,le){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var ee=M({},Q.props),ve=Q.key,Ee=Q.ref,Re=Q._owner;if(z!=null){if(z.ref!==void 0&&(Ee=z.ref,Re=F.current),z.key!==void 0&&(ve=""+z.key),Q.type&&Q.type.defaultProps)var be=Q.type.defaultProps;for(We in z)w.call(z,We)&&!q.hasOwnProperty(We)&&(ee[We]=z[We]===void 0&&be!==void 0?be[We]:z[We])}var We=arguments.length-2;if(We===1)ee.children=le;else if(1<We){be=Array(We);for(var tt=0;tt<We;tt++)be[tt]=arguments[tt+2];ee.children=be}return{$$typeof:xe,type:Q.type,key:ve,ref:Ee,props:ee,_owner:Re}},Me.createContext=function(Q){return Q={$$typeof:W,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:_e,_context:Q},Q.Consumer=Q},Me.createElement=ce,Me.createFactory=function(Q){var z=ce.bind(null,Q);return z.type=Q,z},Me.createRef=function(){return{current:null}},Me.forwardRef=function(Q){return{$$typeof:V,render:Q}},Me.isValidElement=K,Me.lazy=function(Q){return{$$typeof:B,_payload:{_status:-1,_result:Q},_init:de}},Me.memo=function(Q,z){return{$$typeof:U,type:Q,compare:z===void 0?null:z}},Me.startTransition=function(Q){var z=te.transition;te.transition={};try{Q()}finally{te.transition=z}},Me.unstable_act=ye,Me.useCallback=function(Q,z){return $.current.useCallback(Q,z)},Me.useContext=function(Q){return $.current.useContext(Q)},Me.useDebugValue=function(){},Me.useDeferredValue=function(Q){return $.current.useDeferredValue(Q)},Me.useEffect=function(Q,z){return $.current.useEffect(Q,z)},Me.useId=function(){return $.current.useId()},Me.useImperativeHandle=function(Q,z,le){return $.current.useImperativeHandle(Q,z,le)},Me.useInsertionEffect=function(Q,z){return $.current.useInsertionEffect(Q,z)},Me.useLayoutEffect=function(Q,z){return $.current.useLayoutEffect(Q,z)},Me.useMemo=function(Q,z){return $.current.useMemo(Q,z)},Me.useReducer=function(Q,z,le){return $.current.useReducer(Q,z,le)},Me.useRef=function(Q){return $.current.useRef(Q)},Me.useState=function(Q){return $.current.useState(Q)},Me.useSyncExternalStore=function(Q,z,le){return $.current.useSyncExternalStore(Q,z,le)},Me.useTransition=function(){return $.current.useTransition()},Me.version="18.3.1"},7294:function(S,Me,xe){"use strict";S.exports=xe(2408)},5893:function(S,Me,xe){"use strict";S.exports=xe(5251)},53:function(S,Me){"use strict";function xe($,te){var X=$.length;$.push(te);e:for(;0<X;){var ye=X-1>>>1,Q=$[ye];if(0<ke(Q,te))$[ye]=te,$[X]=Q,X=ye;else break e}}function rt($){return $.length===0?null:$[0]}function st($){if($.length===0)return null;var te=$[0],X=$.pop();if(X!==te){$[0]=X;e:for(var ye=0,Q=$.length,z=Q>>>1;ye<z;){var le=2*(ye+1)-1,ee=$[le],ve=le+1,Ee=$[ve];if(0>ke(ee,X))ve<Q&&0>ke(Ee,ee)?($[ye]=Ee,$[ve]=X,ye=ve):($[ye]=ee,$[le]=X,ye=le);else if(ve<Q&&0>ke(Ee,X))$[ye]=Ee,$[ve]=X,ye=ve;else break e}}return te}function ke($,te){var X=$.sortIndex-te.sortIndex;return X!==0?X:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ve=performance;Me.unstable_now=function(){return Ve.now()}}else{var _e=Date,W=_e.now();Me.unstable_now=function(){return _e.now()-W}}var V=[],N=[],U=1,B=null,Y=3,G=!1,k=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P($){for(var te=rt(N);te!==null;){if(te.callback===null)st(N);else if(te.startTime<=$)st(N),te.sortIndex=te.expirationTime,xe(V,te);else break;te=rt(N)}}function O($){if(M=!1,P($),!k)if(rt(V)!==null)k=!0,ne(E);else{var te=rt(N);te!==null&&de(O,te.startTime-$)}}function E($,te){k=!1,M&&(M=!1,p(q),q=-1),G=!0;var X=Y;try{for(P(te),B=rt(V);B!==null&&(!(B.expirationTime>te)||$&&!K());){var ye=B.callback;if(typeof ye=="function"){B.callback=null,Y=B.priorityLevel;var Q=ye(B.expirationTime<=te);te=Me.unstable_now(),typeof Q=="function"?B.callback=Q:B===rt(V)&&st(V),P(te)}else st(V);B=rt(V)}if(B!==null)var z=!0;else{var le=rt(N);le!==null&&de(O,le.startTime-te),z=!1}return z}finally{B=null,Y=X,G=!1}}var w=!1,F=null,q=-1,ce=5,re=-1;function K(){return!(Me.unstable_now()-re<ce)}function T(){if(F!==null){var $=Me.unstable_now();re=$;var te=!0;try{te=F(!0,$)}finally{te?L():(w=!1,F=null)}}else w=!1}var L;if(typeof v=="function")L=function(){v(T)};else if(typeof MessageChannel!="undefined"){var x=new MessageChannel,se=x.port2;x.port1.onmessage=T,L=function(){se.postMessage(null)}}else L=function(){j(T,0)};function ne($){F=$,w||(w=!0,L())}function de($,te){q=j(function(){$(Me.unstable_now())},te)}Me.unstable_IdlePriority=5,Me.unstable_ImmediatePriority=1,Me.unstable_LowPriority=4,Me.unstable_NormalPriority=3,Me.unstable_Profiling=null,Me.unstable_UserBlockingPriority=2,Me.unstable_cancelCallback=function($){$.callback=null},Me.unstable_continueExecution=function(){k||G||(k=!0,ne(E))},Me.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<$?Math.floor(1e3/$):5},Me.unstable_getCurrentPriorityLevel=function(){return Y},Me.unstable_getFirstCallbackNode=function(){return rt(V)},Me.unstable_next=function($){switch(Y){case 1:case 2:case 3:var te=3;break;default:te=Y}var X=Y;Y=te;try{return $()}finally{Y=X}},Me.unstable_pauseExecution=function(){},Me.unstable_requestPaint=function(){},Me.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=Y;Y=$;try{return te()}finally{Y=X}},Me.unstable_scheduleCallback=function($,te,X){var ye=Me.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,$={id:U++,callback:te,priorityLevel:$,startTime:X,expirationTime:Q,sortIndex:-1},X>ye?($.sortIndex=X,xe(N,$),rt(V)===null&&$===rt(N)&&(M?(p(q),q=-1):M=!0,de(O,X-ye))):($.sortIndex=Q,xe(V,$),k||G||(k=!0,ne(E))),$},Me.unstable_shouldYield=K,Me.unstable_wrapCallback=function($){var te=Y;return function(){var X=Y;Y=te;try{return $.apply(this,arguments)}finally{Y=X}}}},3840:function(S,Me,xe){"use strict";S.exports=xe(53)},83:function(S,Me,xe){"use strict";var rt=xe(7294);function st(G,k){return G===k&&(G!==0||1/G===1/k)||G!==G&&k!==k}var ke=typeof Object.is=="function"?Object.is:st,Ve=rt.useState,_e=rt.useEffect,W=rt.useLayoutEffect,V=rt.useDebugValue;function N(G,k){var M=k(),j=Ve({inst:{value:M,getSnapshot:k}}),p=j[0].inst,v=j[1];return W(function(){p.value=M,p.getSnapshot=k,U(p)&&v({inst:p})},[G,M,k]),_e(function(){return U(p)&&v({inst:p}),G(function(){U(p)&&v({inst:p})})},[G]),V(M),M}function U(G){var k=G.getSnapshot;G=G.value;try{var M=k();return!ke(G,M)}catch(j){return!0}}function B(G,k){return k()}var Y=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?B:N;Me.useSyncExternalStore=rt.useSyncExternalStore!==void 0?rt.useSyncExternalStore:Y},6251:function(S,Me,xe){"use strict";var rt=xe(7294),st=xe(1688);function ke(B,Y){return B===Y&&(B!==0||1/B===1/Y)||B!==B&&Y!==Y}var Ve=typeof Object.is=="function"?Object.is:ke,_e=st.useSyncExternalStore,W=rt.useRef,V=rt.useEffect,N=rt.useMemo,U=rt.useDebugValue;Me.useSyncExternalStoreWithSelector=function(B,Y,G,k,M){var j=W(null);if(j.current===null){var p={hasValue:!1,value:null};j.current=p}else p=j.current;j=N(function(){function P(q){if(!O){if(O=!0,E=q,q=k(q),M!==void 0&&p.hasValue){var ce=p.value;if(M(ce,q))return w=ce}return w=q}if(ce=w,Ve(E,q))return ce;var re=k(q);return M!==void 0&&M(ce,re)?(E=q,ce):(E=q,w=re)}var O=!1,E,w,F=G===void 0?null:G;return[function(){return P(Y())},F===null?void 0:function(){return P(F())}]},[Y,G,k,M]);var v=_e(B,j[0],j[1]);return V(function(){p.hasValue=!0,p.value=v},[v]),U(v),v}},1688:function(S,Me,xe){"use strict";S.exports=xe(83)},2798:function(S,Me,xe){"use strict";S.exports=xe(6251)},8416:function(S,Me,xe){var rt=xe(4062);function st(ke,Ve,_e){return(Ve=rt(Ve))in ke?Object.defineProperty(ke,Ve,{value:_e,enumerable:!0,configurable:!0,writable:!0}):ke[Ve]=_e,ke}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},4836:function(S){function Me(xe){return xe&&xe.__esModule?xe:{default:xe}}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},2122:function(S,Me,xe){var rt=xe(8416);function st(Ve,_e){var W=Object.keys(Ve);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(Ve);_e&&(V=V.filter(function(N){return Object.getOwnPropertyDescriptor(Ve,N).enumerable})),W.push.apply(W,V)}return W}function ke(Ve){for(var _e=1;_e<arguments.length;_e++){var W=arguments[_e]!=null?arguments[_e]:{};_e%2?st(Object(W),!0).forEach(function(V){rt(Ve,V,W[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(W)):st(Object(W)).forEach(function(V){Object.defineProperty(Ve,V,Object.getOwnPropertyDescriptor(W,V))})}return Ve}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},5036:function(S,Me,xe){var rt=xe(8698).default;function st(ke,Ve){if(rt(ke)!="object"||!ke)return ke;var _e=ke[Symbol.toPrimitive];if(_e!==void 0){var W=_e.call(ke,Ve||"default");if(rt(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ve==="string"?String:Number)(ke)}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},4062:function(S,Me,xe){var rt=xe(8698).default,st=xe(5036);function ke(Ve){var _e=st(Ve,"string");return rt(_e)=="symbol"?_e:_e+""}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},8698:function(S){function Me(xe){"@babel/helpers - typeof";return S.exports=Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},S.exports.__esModule=!0,S.exports.default=S.exports,Me(xe)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},7923:function(S){function Me(xe,rt){(rt==null||rt>xe.length)&&(rt=xe.length);for(var st=0,ke=new Array(rt);st<rt;st++)ke[st]=xe[st];return ke}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},2187:function(S){function Me(xe){if(Array.isArray(xe))return xe}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},6446:function(S,Me,xe){var rt=xe(7923);function st(ke){if(Array.isArray(ke))return rt(ke)}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},5098:function(S){function Me(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},9289:function(S){function Me(rt,st,ke,Ve,_e,W,V){try{var N=rt[W](V),U=N.value}catch(B){ke(B);return}N.done?st(U):Promise.resolve(U).then(Ve,_e)}function xe(rt){return function(){var st=this,ke=arguments;return new Promise(function(Ve,_e){var W=rt.apply(st,ke);function V(U){Me(W,Ve,_e,V,N,"next",U)}function N(U){Me(W,Ve,_e,V,N,"throw",U)}V(void 0)})}}S.exports=xe,S.exports.__esModule=!0,S.exports.default=S.exports},2444:function(S){function Me(xe,rt){if(!(xe instanceof rt))throw new TypeError("Cannot call a class as a function")}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},2004:function(S,Me,xe){var rt=xe(1883);function st(Ve,_e){for(var W=0;W<_e.length;W++){var V=_e[W];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(Ve,rt(V.key),V)}}function ke(Ve,_e,W){return _e&&st(Ve.prototype,_e),W&&st(Ve,W),Object.defineProperty(Ve,"prototype",{writable:!1}),Ve}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},6037:function(S,Me,xe){var rt=xe(8374),st=xe(1771),ke=xe(3408);function Ve(_e){var W=st();return function(){var N=rt(_e),U;if(W){var B=rt(this).constructor;U=Reflect.construct(N,arguments,B)}else U=N.apply(this,arguments);return ke(this,U)}}S.exports=Ve,S.exports.__esModule=!0,S.exports.default=S.exports},9783:function(S,Me,xe){var rt=xe(1883);function st(ke,Ve,_e){return Ve=rt(Ve),Ve in ke?Object.defineProperty(ke,Ve,{value:_e,enumerable:!0,configurable:!0,writable:!0}):ke[Ve]=_e,ke}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},8785:function(S,Me,xe){var rt=xe(426);function st(){return typeof Reflect!="undefined"&&Reflect.get?(S.exports=st=Reflect.get.bind(),S.exports.__esModule=!0,S.exports.default=S.exports):(S.exports=st=function(Ve,_e,W){var V=rt(Ve,_e);if(V){var N=Object.getOwnPropertyDescriptor(V,_e);return N.get?N.get.call(arguments.length<3?Ve:W):N.value}},S.exports.__esModule=!0,S.exports.default=S.exports),st.apply(this,arguments)}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},8374:function(S){function Me(xe){return S.exports=Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(st){return st.__proto__||Object.getPrototypeOf(st)},S.exports.__esModule=!0,S.exports.default=S.exports,Me(xe)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},1996:function(S,Me,xe){var rt=xe(1314);function st(ke,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");ke.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:ke,writable:!0,configurable:!0}}),Object.defineProperty(ke,"prototype",{writable:!1}),Ve&&rt(ke,Ve)}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},1771:function(S){function Me(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xe){return!1}}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},6936:function(S){function Me(xe){if(typeof Symbol!="undefined"&&xe[Symbol.iterator]!=null||xe["@@iterator"]!=null)return Array.from(xe)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},3964:function(S){function Me(xe,rt){var st=xe==null?null:typeof Symbol!="undefined"&&xe[Symbol.iterator]||xe["@@iterator"];if(st!=null){var ke,Ve,_e,W,V=[],N=!0,U=!1;try{if(_e=(st=st.call(xe)).next,rt===0){if(Object(st)!==st)return;N=!1}else for(;!(N=(ke=_e.call(st)).done)&&(V.push(ke.value),V.length!==rt);N=!0);}catch(B){U=!0,Ve=B}finally{try{if(!N&&st.return!=null&&(W=st.return(),Object(W)!==W))return}finally{if(U)throw Ve}}return V}}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},9094:function(S){function Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},8619:function(S){function Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},7857:function(S,Me,xe){var rt=xe(9783);function st(Ve,_e){var W=Object.keys(Ve);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(Ve);_e&&(V=V.filter(function(N){return Object.getOwnPropertyDescriptor(Ve,N).enumerable})),W.push.apply(W,V)}return W}function ke(Ve){for(var _e=1;_e<arguments.length;_e++){var W=arguments[_e]!=null?arguments[_e]:{};_e%2?st(Object(W),!0).forEach(function(V){rt(Ve,V,W[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(W)):st(Object(W)).forEach(function(V){Object.defineProperty(Ve,V,Object.getOwnPropertyDescriptor(W,V))})}return Ve}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},3408:function(S,Me,xe){var rt=xe(2677).default,st=xe(5098);function ke(Ve,_e){if(_e&&(rt(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(Ve)}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},5009:function(S,Me,xe){var rt=xe(2677).default;function st(){"use strict";S.exports=st=function(){return Ve},S.exports.__esModule=!0,S.exports.default=S.exports;var ke,Ve={},_e=Object.prototype,W=_e.hasOwnProperty,V=Object.defineProperty||function(X,ye,Q){X[ye]=Q.value},N=typeof Symbol=="function"?Symbol:{},U=N.iterator||"@@iterator",B=N.asyncIterator||"@@asyncIterator",Y=N.toStringTag||"@@toStringTag";function G(X,ye,Q){return Object.defineProperty(X,ye,{value:Q,enumerable:!0,configurable:!0,writable:!0}),X[ye]}try{G({},"")}catch(X){G=function(Q,z,le){return Q[z]=le}}function k(X,ye,Q,z){var le=ye&&ye.prototype instanceof E?ye:E,ee=Object.create(le.prototype),ve=new $(z||[]);return V(ee,"_invoke",{value:x(X,Q,ve)}),ee}function M(X,ye,Q){try{return{type:"normal",arg:X.call(ye,Q)}}catch(z){return{type:"throw",arg:z}}}Ve.wrap=k;var j="suspendedStart",p="suspendedYield",v="executing",P="completed",O={};function E(){}function w(){}function F(){}var q={};G(q,U,function(){return this});var ce=Object.getPrototypeOf,re=ce&&ce(ce(te([])));re&&re!==_e&&W.call(re,U)&&(q=re);var K=F.prototype=E.prototype=Object.create(q);function T(X){["next","throw","return"].forEach(function(ye){G(X,ye,function(Q){return this._invoke(ye,Q)})})}function L(X,ye){function Q(le,ee,ve,Ee){var Re=M(X[le],X,ee);if(Re.type!=="throw"){var be=Re.arg,We=be.value;return We&&rt(We)=="object"&&W.call(We,"__await")?ye.resolve(We.__await).then(function(tt){Q("next",tt,ve,Ee)},function(tt){Q("throw",tt,ve,Ee)}):ye.resolve(We).then(function(tt){be.value=tt,ve(be)},function(tt){return Q("throw",tt,ve,Ee)})}Ee(Re.arg)}var z;V(this,"_invoke",{value:function(ee,ve){function Ee(){return new ye(function(Re,be){Q(ee,ve,Re,be)})}return z=z?z.then(Ee,Ee):Ee()}})}function x(X,ye,Q){var z=j;return function(le,ee){if(z===v)throw new Error("Generator is already running");if(z===P){if(le==="throw")throw ee;return{value:ke,done:!0}}for(Q.method=le,Q.arg=ee;;){var ve=Q.delegate;if(ve){var Ee=se(ve,Q);if(Ee){if(Ee===O)continue;return Ee}}if(Q.method==="next")Q.sent=Q._sent=Q.arg;else if(Q.method==="throw"){if(z===j)throw z=P,Q.arg;Q.dispatchException(Q.arg)}else Q.method==="return"&&Q.abrupt("return",Q.arg);z=v;var Re=M(X,ye,Q);if(Re.type==="normal"){if(z=Q.done?P:p,Re.arg===O)continue;return{value:Re.arg,done:Q.done}}Re.type==="throw"&&(z=P,Q.method="throw",Q.arg=Re.arg)}}}function se(X,ye){var Q=ye.method,z=X.iterator[Q];if(z===ke)return ye.delegate=null,Q==="throw"&&X.iterator.return&&(ye.method="return",ye.arg=ke,se(X,ye),ye.method==="throw")||Q!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+Q+"' method")),O;var le=M(z,X.iterator,ye.arg);if(le.type==="throw")return ye.method="throw",ye.arg=le.arg,ye.delegate=null,O;var ee=le.arg;return ee?ee.done?(ye[X.resultName]=ee.value,ye.next=X.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=ke),ye.delegate=null,O):ee:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,O)}function ne(X){var ye={tryLoc:X[0]};1 in X&&(ye.catchLoc=X[1]),2 in X&&(ye.finallyLoc=X[2],ye.afterLoc=X[3]),this.tryEntries.push(ye)}function de(X){var ye=X.completion||{};ye.type="normal",delete ye.arg,X.completion=ye}function $(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(ne,this),this.reset(!0)}function te(X){if(X||X===""){var ye=X[U];if(ye)return ye.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var Q=-1,z=function le(){for(;++Q<X.length;)if(W.call(X,Q))return le.value=X[Q],le.done=!1,le;return le.value=ke,le.done=!0,le};return z.next=z}}throw new TypeError(rt(X)+" is not iterable")}return w.prototype=F,V(K,"constructor",{value:F,configurable:!0}),V(F,"constructor",{value:w,configurable:!0}),w.displayName=G(F,Y,"GeneratorFunction"),Ve.isGeneratorFunction=function(X){var ye=typeof X=="function"&&X.constructor;return!!ye&&(ye===w||(ye.displayName||ye.name)==="GeneratorFunction")},Ve.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,F):(X.__proto__=F,G(X,Y,"GeneratorFunction")),X.prototype=Object.create(K),X},Ve.awrap=function(X){return{__await:X}},T(L.prototype),G(L.prototype,B,function(){return this}),Ve.AsyncIterator=L,Ve.async=function(X,ye,Q,z,le){le===void 0&&(le=Promise);var ee=new L(k(X,ye,Q,z),le);return Ve.isGeneratorFunction(ye)?ee:ee.next().then(function(ve){return ve.done?ve.value:ee.next()})},T(K),G(K,Y,"Generator"),G(K,U,function(){return this}),G(K,"toString",function(){return"[object Generator]"}),Ve.keys=function(X){var ye=Object(X),Q=[];for(var z in ye)Q.push(z);return Q.reverse(),function le(){for(;Q.length;){var ee=Q.pop();if(ee in ye)return le.value=ee,le.done=!1,le}return le.done=!0,le}},Ve.values=te,$.prototype={constructor:$,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=ke,this.done=!1,this.delegate=null,this.method="next",this.arg=ke,this.tryEntries.forEach(de),!ye)for(var Q in this)Q.charAt(0)==="t"&&W.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=ke)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var Q=this;function z(be,We){return ve.type="throw",ve.arg=ye,Q.next=be,We&&(Q.method="next",Q.arg=ke),!!We}for(var le=this.tryEntries.length-1;le>=0;--le){var ee=this.tryEntries[le],ve=ee.completion;if(ee.tryLoc==="root")return z("end");if(ee.tryLoc<=this.prev){var Ee=W.call(ee,"catchLoc"),Re=W.call(ee,"finallyLoc");if(Ee&&Re){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}else if(Ee){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0)}else{if(!Re)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}}}},abrupt:function(ye,Q){for(var z=this.tryEntries.length-1;z>=0;--z){var le=this.tryEntries[z];if(le.tryLoc<=this.prev&&W.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var ee=le;break}}ee&&(ye==="break"||ye==="continue")&&ee.tryLoc<=Q&&Q<=ee.finallyLoc&&(ee=null);var ve=ee?ee.completion:{};return ve.type=ye,ve.arg=Q,ee?(this.method="next",this.next=ee.finallyLoc,O):this.complete(ve)},complete:function(ye,Q){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&Q&&(this.next=Q),O},finish:function(ye){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var z=this.tryEntries[Q];if(z.finallyLoc===ye)return this.complete(z.completion,z.afterLoc),de(z),O}},catch:function(ye){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var z=this.tryEntries[Q];if(z.tryLoc===ye){var le=z.completion;if(le.type==="throw"){var ee=le.arg;de(z)}return ee}}throw new Error("illegal catch attempt")},delegateYield:function(ye,Q,z){return this.delegate={iterator:te(ye),resultName:Q,nextLoc:z},this.method==="next"&&(this.arg=ke),O}},Ve}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},1314:function(S){function Me(xe,rt){return S.exports=Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Ve){return ke.__proto__=Ve,ke},S.exports.__esModule=!0,S.exports.default=S.exports,Me(xe,rt)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},5574:function(S,Me,xe){var rt=xe(2187),st=xe(3964),ke=xe(6263),Ve=xe(9094);function _e(W,V){return rt(W)||st(W,V)||ke(W,V)||Ve()}S.exports=_e,S.exports.__esModule=!0,S.exports.default=S.exports},426:function(S,Me,xe){var rt=xe(8374);function st(ke,Ve){for(;!Object.prototype.hasOwnProperty.call(ke,Ve)&&(ke=rt(ke),ke!==null););return ke}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},9632:function(S,Me,xe){var rt=xe(6446),st=xe(6936),ke=xe(6263),Ve=xe(8619);function _e(W){return rt(W)||st(W)||ke(W)||Ve()}S.exports=_e,S.exports.__esModule=!0,S.exports.default=S.exports},6518:function(S,Me,xe){var rt=xe(2677).default;function st(ke,Ve){if(rt(ke)!="object"||!ke)return ke;var _e=ke[Symbol.toPrimitive];if(_e!==void 0){var W=_e.call(ke,Ve||"default");if(rt(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ve==="string"?String:Number)(ke)}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},1883:function(S,Me,xe){var rt=xe(2677).default,st=xe(6518);function ke(Ve){var _e=st(Ve,"string");return rt(_e)=="symbol"?_e:String(_e)}S.exports=ke,S.exports.__esModule=!0,S.exports.default=S.exports},2677:function(S){function Me(xe){"@babel/helpers - typeof";return S.exports=Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},S.exports.__esModule=!0,S.exports.default=S.exports,Me(xe)}S.exports=Me,S.exports.__esModule=!0,S.exports.default=S.exports},6263:function(S,Me,xe){var rt=xe(7923);function st(ke,Ve){if(ke){if(typeof ke=="string")return rt(ke,Ve);var _e=Object.prototype.toString.call(ke).slice(8,-1);if(_e==="Object"&&ke.constructor&&(_e=ke.constructor.name),_e==="Map"||_e==="Set")return Array.from(ke);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return rt(ke,Ve)}}S.exports=st,S.exports.__esModule=!0,S.exports.default=S.exports},3967:function(S,Me){var xe,rt;(function(){"use strict";var st={}.hasOwnProperty;function ke(){for(var W="",V=0;V<arguments.length;V++){var N=arguments[V];N&&(W=_e(W,Ve(N)))}return W}function Ve(W){if(typeof W=="string"||typeof W=="number")return W;if(typeof W!="object")return"";if(Array.isArray(W))return ke.apply(null,W);if(W.toString!==Object.prototype.toString&&!W.toString.toString().includes("[native code]"))return W.toString();var V="";for(var N in W)st.call(W,N)&&W[N]&&(V=_e(V,N));return V}function _e(W,V){return V?W?W+" "+V:W+V:W}S.exports?(ke.default=ke,S.exports=ke):(xe=[],rt=function(){return ke}.apply(Me,xe),rt!==void 0&&(S.exports=rt))})()}},Xn={};function Dt(S){var Me=Xn[S];if(Me!==void 0)return Me.exports;var xe=Xn[S]={exports:{}};return _o[S](xe,xe.exports,Dt),xe.exports}(function(){Dt.n=function(S){var Me=S&&S.__esModule?function(){return S.default}:function(){return S};return Dt.d(Me,{a:Me}),Me}})(),function(){var S=Object.getPrototypeOf?function(xe){return Object.getPrototypeOf(xe)}:function(xe){return xe.__proto__},Me;Dt.t=function(xe,rt){if(rt&1&&(xe=this(xe)),rt&8||typeof xe=="object"&&xe&&(rt&4&&xe.__esModule||rt&16&&typeof xe.then=="function"))return xe;var st=Object.create(null);Dt.r(st);var ke={};Me=Me||[null,S({}),S([]),S(S)];for(var Ve=rt&2&&xe;typeof Ve=="object"&&!~Me.indexOf(Ve);Ve=S(Ve))Object.getOwnPropertyNames(Ve).forEach(function(_e){ke[_e]=function(){return xe[_e]}});return ke.default=function(){return xe},Dt.d(st,ke),st}}(),function(){Dt.d=function(S,Me){for(var xe in Me)Dt.o(Me,xe)&&!Dt.o(S,xe)&&Object.defineProperty(S,xe,{enumerable:!0,get:Me[xe]})}}(),function(){Dt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(S){if(typeof window=="object")return window}}()}(),function(){Dt.o=function(S,Me){return Object.prototype.hasOwnProperty.call(S,Me)}}(),function(){Dt.r=function(S){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}}();var l6={};(function(){"use strict";var S=Dt(7294),Me=Dt.t(S,2),xe=Dt(745),rt=Dt(5574),st=Dt.n(rt),ke=Dt(3967),Ve=Dt.n(ke);function _e(e,t){var r=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(n){delete r[n]}),r}function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}var V=Dt(9864);function N(e,t,r){var n=S.useRef({});return(!("value"in n.current)||r(n.current.condition,t))&&(n.current.value=e(),n.current.condition=t),n.current.value}var U=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.fragment");function G(e){return e&&W(e)==="object"&&(e.$$typeof===U||e.$$typeof===B)&&e.type===Y}var k=function(t,r){typeof t=="function"?t(r):W(t)==="object"&&t&&"current"in t&&(t.current=r)},M=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);return i.length<=1?i[0]:function(a){r.forEach(function(c){k(c,a)})}},j=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return N(function(){return M.apply(void 0,r)},r,function(i,a){return i.length!==a.length||i.every(function(c,l){return c!==a[l]})})},p=function(t){var r,n;if(!t)return!1;if(v(t)&&t.props.propertyIsEnumerable("ref"))return!0;var i=(0,V.isMemo)(t)?t.type.type:t.type;return!(typeof i=="function"&&!((r=i.prototype)!==null&&r!==void 0&&r.render)&&i.$$typeof!==V.ForwardRef||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render)&&t.$$typeof!==V.ForwardRef)};function v(e){return(0,S.isValidElement)(e)&&!G(e)}var P=function(t){return v(t)&&p(t)},O=function(t){if(t&&v(t)){var r=t;return r.props.propertyIsEnumerable("ref")?r.props.ref:r.ref}return null},E=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),r=t.width,n=t.height;if(r||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,c=i.height;if(a||c)return!0}}return!1};const w="ant",F="anticon",q=null,ce=(e,t)=>t||(e?`${w}-${e}`:w),re=S.createContext({getPrefixCls:ce,iconPrefixCls:F}),{Consumer:K}=re;function T(e){return e&&S.isValidElement(e)&&e.type===S.Fragment}const L=(e,t,r)=>S.isValidElement(e)?S.cloneElement(e,typeof r=="function"?r(e.props||{}):r):t;function x(e,t){return L(e,e,t)}function se(e){if(Array.isArray(e))return e}function ne(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(d)throw i}}return l}}function de(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){if(e){if(typeof e=="string")return de(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(e,t){return se(e)||ne(e,t)||$(e,t)||te()}function ye(e,t){if(W(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q(e){var t=ye(e,"string");return W(t)=="symbol"?t:t+""}function z(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?le(Object(r),!0).forEach(function(n){z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e){if(Array.isArray(e))return de(e)}function Ee(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(e){return ve(e)||Ee(e)||$(e)||Re()}function We(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tt=We;function Xe(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}function dt(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var r=t;r;){if(r===e)return!0;r=r.parentNode}return!1}var vt="data-rc-order",_t="data-rc-priority",At="rc-util-key",Pt=new Map;function Vt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):At}function cr(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Nt(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Gt(e){return Array.from((Pt.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function Qt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xe())return null;var r=t.csp,n=t.prepend,i=t.priority,a=i===void 0?0:i,c=Nt(n),l=c==="prependQueue",u=document.createElement("style");u.setAttribute(vt,c),l&&a&&u.setAttribute(_t,"".concat(a)),r!=null&&r.nonce&&(u.nonce=r==null?void 0:r.nonce),u.innerHTML=e;var d=cr(t),h=d.firstChild;if(n){if(l){var y=(t.styles||Gt(d)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(vt)))return!1;var _=Number(m.getAttribute(_t)||0);return a>=_});if(y.length)return d.insertBefore(u,y[y.length-1].nextSibling),u}d.insertBefore(u,h)}else d.appendChild(u);return u}function vr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=cr(t);return(t.styles||Gt(r)).find(function(n){return n.getAttribute(Vt(t))===e})}function Qr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=vr(e,t);if(r){var n=cr(t);n.removeChild(r)}}function on(e,t){var r=Pt.get(e);if(!r||!dt(document,r)){var n=Qt("",t),i=n.parentNode;Pt.set(e,i),e.removeChild(n)}}function Rn(){Pt.clear()}function Lr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=cr(r),i=Gt(n),a=ee(ee({},r),{},{styles:i});on(n,a);var c=vr(t,a);if(c){var l,u;if((l=a.csp)!==null&&l!==void 0&&l.nonce&&c.nonce!==((u=a.csp)===null||u===void 0?void 0:u.nonce)){var d;c.nonce=(d=a.csp)===null||d===void 0?void 0:d.nonce}return c.innerHTML!==e&&(c.innerHTML=e),c}var h=Qt(e,a);return h.setAttribute(Vt(a),t),h}function Un(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Vr(e,t){if(e==null)return{};var r,n,i=Un(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Bn={},Qn=[],jn=function(t){Qn.push(t)};function Fn(e,t){if(0)var r}function an(e,t){if(0)var r}function Zt(){Bn={}}function xt(e,t,r){!t&&!Bn[r]&&(e(!1,r),Bn[r]=!0)}function yr(e,t){xt(Fn,e,t)}function yn(e,t){xt(an,e,t)}yr.preMessage=jn,yr.resetWarned=Zt,yr.noteOnce=yn;var ue=yr;function Fe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(a,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=n.has(a);if(ue(!u,"Warning: There may be circular references"),u)return!1;if(a===c)return!0;if(r&&l>1)return!1;n.add(a);var d=l+1;if(Array.isArray(a)){if(!Array.isArray(c)||a.length!==c.length)return!1;for(var h=0;h<a.length;h++)if(!i(a[h],c[h],d))return!1;return!0}if(a&&c&&W(a)==="object"&&W(c)==="object"){var y=Object.keys(a);return y.length!==Object.keys(c).length?!1:y.every(function(m){return i(a[m],c[m],d)})}return!1}return i(e,t)}var Pe=Fe;function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function qe(e,t,r){return t&&Je(e.prototype,t),r&&Je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ge="%";function ut(e){return e.join(Ge)}var at=function(){function e(t){De(this,e),z(this,"instanceId",void 0),z(this,"cache",new Map),this.instanceId=t}return qe(e,[{key:"get",value:function(r){return this.opGet(ut(r))}},{key:"opGet",value:function(r){return this.cache.get(r)||null}},{key:"update",value:function(r,n){return this.opUpdate(ut(r),n)}},{key:"opUpdate",value:function(r,n){var i=this.cache.get(r),a=n(i);a===null?this.cache.delete(r):this.cache.set(r,a)}}]),e}(),ht=at,kt=["children"],Lt="data-token-hash",lr="data-css-hash",Oi="data-cache-path",Qi="__cssinjs_instance__";function Xs(){var e=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(lr,"]"))||[],r=document.head.firstChild;Array.from(t).forEach(function(i){i[Qi]=i[Qi]||e,i[Qi]===e&&document.head.insertBefore(i,r)});var n={};Array.from(document.querySelectorAll("style[".concat(lr,"]"))).forEach(function(i){var a=i.getAttribute(lr);if(n[a]){if(i[Qi]===e){var c;(c=i.parentNode)===null||c===void 0||c.removeChild(i)}}else n[a]=!0})}return new ht(e)}var sf=S.createContext({hashPriority:"low",cache:Xs(),defaultCache:!0}),Jc=function(t){var r=t.children,n=Vr(t,kt),i=S.useContext(sf),a=N(function(){var c=ee({},i);Object.keys(n).forEach(function(u){var d=n[u];n[u]!==void 0&&(c[u]=d)});var l=n.cache;return c.cache=c.cache||Xs(),c.defaultCache=!l&&i.defaultCache,c},[i,n],function(c,l){return!Pe(c[0],l[0],!0)||!Pe(c[1],l[1],!0)});return S.createElement(sf.Provider,{value:a},r)},fs=sf,Yc="CALC_UNIT",Rp=new RegExp(Yc,"g");function cS(e){return typeof e=="number"?"".concat(e).concat(Yc):e}var lS=null,uS=function(t,r){var n=t==="css"?CSSCalculator:NumCalculator;return function(i){return new n(i,r)}},Qs=null;function wp(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var pu=function(){function e(){De(this,e),z(this,"cache",void 0),z(this,"keys",void 0),z(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return qe(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(r){var n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c={map:this.cache};return r.forEach(function(l){if(!c)c=void 0;else{var u;c=(u=c)===null||u===void 0||(u=u.map)===null||u===void 0?void 0:u.get(l)}}),(n=c)!==null&&n!==void 0&&n.value&&a&&(c.value[1]=this.cacheCallTimes++),(i=c)===null||i===void 0?void 0:i.value}},{key:"get",value:function(r){var n;return(n=this.internalGet(r,!0))===null||n===void 0?void 0:n[0]}},{key:"has",value:function(r){return!!this.internalGet(r)}},{key:"set",value:function(r,n){var i=this;if(!this.has(r)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(d,h){var y=X(d,2),m=y[1];return i.internalGet(h)[1]<m?[h,i.internalGet(h)[1]]:d},[this.keys[0],this.cacheCallTimes]),c=X(a,1),l=c[0];this.delete(l)}this.keys.push(r)}var u=this.cache;r.forEach(function(d,h){if(h===r.length-1)u.set(d,{value:[n,i.cacheCallTimes++]});else{var y=u.get(d);y?y.map||(y.map=new Map):u.set(d,{map:new Map}),u=u.get(d).map}})}},{key:"deleteByPath",value:function(r,n){var i=r.get(n[0]);if(n.length===1){var a;return i.map?r.set(n[0],{map:i.map}):r.delete(n[0]),(a=i.value)===null||a===void 0?void 0:a[0]}var c=this.deleteByPath(i.map,n.slice(1));return(!i.map||i.map.size===0)&&!i.value&&r.delete(n[0]),c}},{key:"delete",value:function(r){if(this.has(r))return this.keys=this.keys.filter(function(n){return!wp(n,r)}),this.deleteByPath(this.cache,r)}}]),e}();z(pu,"MAX_CACHE_SIZE",20),z(pu,"MAX_CACHE_OFFSET",5);var Tp=0,cf=function(){function e(t){De(this,e),z(this,"derivatives",void 0),z(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Tp,t.length===0&&Fn(t.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Tp+=1}return qe(e,[{key:"getDerivativeToken",value:function(r){return this.derivatives.reduce(function(n,i){return i(r,n)},void 0)}}]),e}(),mu=new pu;function gu(e){var t=Array.isArray(e)?e:[e];return mu.has(t)||mu.set(t,new cf(t)),mu.get(t)}var Ap=new WeakMap,lf={};function rv(e,t){for(var r=Ap,n=0;n<t.length;n+=1){var i=t[n];r.has(i)||r.set(i,new WeakMap),r=r.get(i)}return r.has(lf)||r.set(lf,e()),r.get(lf)}var wn=new WeakMap;function Xc(e){var t=wn.get(e)||"";return t||(Object.keys(e).forEach(function(r){var n=e[r];t+=r,n instanceof cf?t+=n.id:n&&W(n)==="object"?t+=Xc(n):t+=n}),t=tt(t),wn.set(e,t)),t}function vu(e,t){return tt("".concat(t,"_").concat(Xc(e)))}var Uo="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Zs="_bAmBoO_";function uf(e,t,r){if(Xe()){var n,i;Lr(e,Uo);var a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",t==null||t(a),document.body.appendChild(a);var c=r?r(a):(n=getComputedStyle(a).content)===null||n===void 0?void 0:n.includes(Zs);return(i=a.parentNode)===null||i===void 0||i.removeChild(a),Qr(Uo),c}return!1}var yu=null;function df(){return yu===void 0&&(yu=uf("@layer ".concat(Uo," { .").concat(Uo,' { content: "').concat(Zs,'"!important; } }'),function(e){e.className=Uo})),yu}var Zi=void 0;function nv(){return Zi===void 0&&(Zi=uf(":where(.".concat(Uo,') { content: "').concat(Zs,'"!important; }'),function(e){e.className=Uo})),Zi}var Fi=void 0;function iv(){return Fi===void 0&&(Fi=uf(".".concat(Uo," { inset-block: 93px !important; }"),function(e){e.className=Uo},function(e){return getComputedStyle(e).bottom==="93px"})),Fi}var ff=Xe();function er(e){return typeof e=="number"?"".concat(e,"px"):e}function hs(e,t,r){var n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a)return e;var c=ee(ee({},i),{},(n={},z(n,Lt,t),z(n,lr,r),n)),l=Object.keys(c).map(function(u){var d=c[u];return d?"".concat(u,'="').concat(d,'"'):null}).filter(function(u){return u}).join(" ");return"<style ".concat(l,">").concat(e,"</style>")}var ps=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(r?"".concat(r,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Qc=function(t,r,n){return Object.keys(t).length?".".concat(r).concat(n!=null&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(t).map(function(i){var a=X(i,2),c=a[0],l=a[1];return"".concat(c,":").concat(l,";")}).join(""),"}"):""},Zc=function(t,r,n){var i={},a={};return Object.entries(t).forEach(function(c){var l,u,d=X(c,2),h=d[0],y=d[1];if(n!=null&&(l=n.preserve)!==null&&l!==void 0&&l[h])a[h]=y;else if((typeof y=="string"||typeof y=="number")&&!(n!=null&&(u=n.ignore)!==null&&u!==void 0&&u[h])){var m,_=ps(h,n==null?void 0:n.prefix);i[_]=typeof y=="number"&&!(n!=null&&(m=n.unitless)!==null&&m!==void 0&&m[h])?"".concat(y,"px"):String(y),a[h]="var(".concat(_,")")}}),[a,Qc(i,r,{scope:n==null?void 0:n.scope})]},Pp=Xe()?S.useLayoutEffect:S.useEffect,kp=function(t,r){var n=S.useRef(!0);Pp(function(){return t(n.current)},r),Pp(function(){return n.current=!1,function(){n.current=!0}},[])},Su=function(t,r){kp(function(n){if(!n)return t()},r)},bi=kp,hf=ee({},Me),ec=hf.useInsertionEffect,ov=function(t,r,n){S.useMemo(t,n),bi(function(){return r(!0)},n)},pf=ec?function(e,t,r){return ec(function(){return e(),t()},r)}:ov,Hr=pf,Ip=ee({},Me),Op=Ip.useInsertionEffect,mf=function(t){var r=[],n=!1;function i(a){n||r.push(a)}return S.useEffect(function(){return n=!1,function(){n=!0,r.length&&r.forEach(function(a){return a()})}},t),i},xp=function(){return function(t){t()}},Mp=typeof Op!="undefined"?mf:xp,Np=Mp;function gf(){return!1}var bu=!1;function ms(){return bu}var Ma=gf;if(0)var gs,Eu;function vs(e,t,r,n,i){var a=S.useContext(fs),c=a.cache,l=[e].concat(be(t)),u=ut(l),d=Np([u]),h=Ma(),y=function(b){c.opUpdate(u,function(C){var H=C||[void 0,void 0],A=X(H,2),D=A[0],Z=D===void 0?0:D,ie=A[1],oe=ie,fe=oe||r(),he=[Z,fe];return b?b(he):he})};S.useMemo(function(){y()},[u]);var m=c.opGet(u),_=m[1];return Hr(function(){i==null||i(_)},function(R){return y(function(b){var C=X(b,2),H=C[0],A=C[1];return R&&H===0&&(i==null||i(_)),[H+1,A]}),function(){c.opUpdate(u,function(b){var C=b||[],H=X(C,2),A=H[0],D=A===void 0?0:A,Z=H[1],ie=D-1;return ie===0?(d(function(){(R||!c.opGet(u))&&(n==null||n(Z,!1))}),null):[D-1,Z]})}},[u]),_}var Na={},av="css",Da=new Map;function el(e){Da.set(e,(Da.get(e)||0)+1)}function sv(e,t){if(typeof document!="undefined"){var r=document.querySelectorAll("style[".concat(Lt,'="').concat(e,'"]'));r.forEach(function(n){if(n[Qi]===t){var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)}})}}var Dp=0;function Cu(e,t){Da.set(e,(Da.get(e)||0)-1);var r=Array.from(Da.keys()),n=r.filter(function(i){var a=Da.get(i)||0;return a<=0});r.length-n.length>Dp&&n.forEach(function(i){sv(i,t),Da.delete(i)})}var Lp=function(t,r,n,i){var a=n.getDerivativeToken(t),c=ee(ee({},a),r);return i&&(c=i(c)),c},Vp="token";function tl(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=(0,S.useContext)(fs),i=n.cache.instanceId,a=n.container,c=r.salt,l=c===void 0?"":c,u=r.override,d=u===void 0?Na:u,h=r.formatToken,y=r.getComputedToken,m=r.cssVar,_=rv(function(){return Object.assign.apply(Object,[{}].concat(be(t)))},t),R=Xc(_),b=Xc(d),C=m?Xc(m):"",H=vs(Vp,[l,e.id,R,b,C],function(){var A,D=y?y(_,d,e):Lp(_,d,e,h),Z=ee({},D),ie="";if(m){var oe=Zc(D,m.key,{prefix:m.prefix,ignore:m.ignore,unitless:m.unitless,preserve:m.preserve}),fe=X(oe,2);D=fe[0],ie=fe[1]}var he=vu(D,l);D._tokenKey=he,Z._tokenKey=vu(Z,l);var ge=(A=m==null?void 0:m.key)!==null&&A!==void 0?A:he;D._themeKey=ge,el(ge);var me="".concat(av,"-").concat(tt(he));return D._hashId=me,[D,me,Z,ie,(m==null?void 0:m.key)||""]},function(A){Cu(A[0]._themeKey,i)},function(A){var D=X(A,4),Z=D[0],ie=D[3];if(m&&ie){var oe=Lr(ie,tt("css-variables-".concat(Z._themeKey)),{mark:lr,prepend:"queue",attachTo:a,priority:-999});oe[Qi]=i,oe.setAttribute(Lt,Z._themeKey)}});return H}var rl=function(t,r,n){var i=X(t,5),a=i[2],c=i[3],l=i[4],u=n||{},d=u.plain;if(!c)return null;var h=a._tokenKey,y=-999,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(y)},_=hs(c,l,h,m,d);return[y,h,_]};function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},br.apply(null,arguments)}var _u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cv=_u,dS="-ms-",Up="-moz-",vf="-webkit-",Ru="comm",yf="rule",sa="decl",Bp="@page",Sf="@media",jp="@import",bf="@charset",Ef="@viewport",lv="@supports",eo="@document",nl="@namespace",Cf="@keyframes",wu="@font-face",fS="@counter-style",Fp="@font-feature-values",_f="@layer",Tu="@scope",il=Math.abs,Au=String.fromCharCode,hS=Object.assign;function pS(e,t){return Bo(e,0)^45?(((t<<2^Bo(e,0))<<2^Bo(e,1))<<2^Bo(e,2))<<2^Bo(e,3):0}function $p(e){return e.trim()}function Rf(e,t){return(e=t.exec(e))?e[0]:e}function Pu(e,t,r){return e.replace(t,r)}function uv(e,t,r){return e.indexOf(t,r)}function Bo(e,t){return e.charCodeAt(t)|0}function tc(e,t,r){return e.slice(t,r)}function jo(e){return e.length}function Hp(e){return e.length}function ku(e,t){return t.push(e),e}function mS(e,t){return e.map(t).join("")}function gS(e,t){return e.filter(function(r){return!Rf(r,t)})}function wf(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Tf(e,t,r,n){switch(e.type){case _f:if(e.children.length)break;case jp:case sa:return e.return=e.return||e.value;case Ru:return"";case Cf:return e.return=e.value+"{"+wf(e.children,n)+"}";case yf:if(!jo(e.value=e.props.join(",")))return""}return jo(r=wf(e.children,n))?e.return=e.value+"{"+r+"}":""}var Iu=1,rc=1,zp=0,xi=0,Sn=0,nc="";function Ou(e,t,r,n,i,a,c,l){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Iu,column:rc,length:c,return:"",siblings:l}}function dv(e,t){return assign(Ou("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function vS(e){for(;e.root;)e=dv(e.root,{children:[e]});append(e,e.siblings)}function fv(){return Sn}function hv(){return Sn=xi>0?Bo(nc,--xi):0,rc--,Sn===10&&(rc=1,Iu--),Sn}function Mi(){return Sn=xi<zp?Bo(nc,xi++):0,rc++,Sn===10&&(rc=1,Iu++),Sn}function to(){return Bo(nc,xi)}function xu(){return xi}function ol(e,t){return tc(nc,e,t)}function ys(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Af(e){return Iu=rc=1,zp=jo(nc=e),xi=0,[]}function Pf(e){return nc="",e}function al(e){return $p(ol(xi-1,Mu(e===91?e+2:e===40?e+1:e)))}function sl(e){return Pf(mv(Af(e)))}function pv(e){for(;(Sn=to())&&Sn<33;)Mi();return ys(e)>2||ys(Sn)>3?"":" "}function mv(e){for(;Mi();)switch(ys(Sn)){case 0:append(ic(xi-1),e);break;case 2:append(al(Sn),e);break;default:append(from(Sn),e)}return e}function gv(e,t){for(;--t&&Mi()&&!(Sn<48||Sn>102||Sn>57&&Sn<65||Sn>70&&Sn<97););return ol(e,xu()+(t<6&&to()==32&&Mi()==32))}function Mu(e){for(;Mi();)switch(Sn){case e:return xi;case 34:case 39:e!==34&&e!==39&&Mu(Sn);break;case 40:e===41&&Mu(e);break;case 92:Mi();break}return xi}function Wp(e,t){for(;Mi()&&e+Sn!==57;)if(e+Sn===84&&to()===47)break;return"/*"+ol(t,xi-1)+"*"+Au(e===47?e:Mi())}function ic(e){for(;!ys(to());)Mi();return ol(e,xi)}function cl(e){return Pf(Nu("",null,null,null,[""],e=Af(e),0,[0],e))}function Nu(e,t,r,n,i,a,c,l,u){for(var d=0,h=0,y=c,m=0,_=0,R=0,b=1,C=1,H=1,A=0,D="",Z=i,ie=a,oe=n,fe=D;C;)switch(R=A,A=Mi()){case 40:if(R!=108&&Bo(fe,y-1)==58){uv(fe+=Pu(al(A),"&","&\f"),"&\f",il(d?l[d-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:fe+=al(A);break;case 9:case 10:case 13:case 32:fe+=pv(R);break;case 92:fe+=gv(xu()-1,7);continue;case 47:switch(to()){case 42:case 47:ku(vv(Wp(Mi(),xu()),t,r,u),u),(ys(R||1)==5||ys(to()||1)==5)&&jo(fe)&&tc(fe,-1,void 0)!==" "&&(fe+=" ");break;default:fe+="/"}break;case 123*b:l[d++]=jo(fe)*H;case 125*b:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+h:H==-1&&(fe=Pu(fe,/\f/g,"")),_>0&&(jo(fe)-y||b===0&&R===47)&&ku(_>32?kf(fe+";",n,r,y-1,u):kf(Pu(fe," ","")+";",n,r,y-2,u),u);break;case 59:fe+=";";default:if(ku(oe=ll(fe,t,r,d,h,i,l,D,Z=[],ie=[],y,a),a),A===123)if(h===0)Nu(fe,t,oe,oe,Z,a,y,l,ie);else switch(m===99&&Bo(fe,3)===110?100:m){case 100:case 108:case 109:case 115:Nu(e,oe,oe,n&&ku(ll(e,oe,oe,0,0,i,l,D,i,Z=[],y,ie),ie),i,ie,y,l,n?Z:ie);break;default:Nu(fe,oe,oe,oe,[""],ie,0,l,ie)}}d=h=_=0,b=H=1,D=fe="",y=c;break;case 58:y=1+jo(fe),_=R;default:if(b<1){if(A==123)--b;else if(A==125&&b++==0&&hv()==125)continue}switch(fe+=Au(A),A*b){case 38:H=h>0?1:(fe+="\f",-1);break;case 44:l[d++]=(jo(fe)-1)*H,H=1;break;case 64:to()===45&&(fe+=al(Mi())),m=to(),h=y=jo(D=fe+=ic(xu())),A++;break;case 45:R===45&&jo(fe)==2&&(b=0)}}return a}function ll(e,t,r,n,i,a,c,l,u,d,h,y){for(var m=i-1,_=i===0?a:[""],R=Hp(_),b=0,C=0,H=0;b<n;++b)for(var A=0,D=tc(e,m+1,m=il(C=c[b])),Z=e;A<R;++A)(Z=$p(C>0?_[A]+" "+D:Pu(D,/&\f/g,_[A])))&&(u[H++]=Z);return Ou(e,t,r,i===0?yf:l,u,d,h,y)}function vv(e,t,r,n){return Ou(e,t,r,Ru,Au(fv()),tc(e,2,-2),0,n)}function kf(e,t,r,n,i){return Ou(e,t,r,sa,tc(e,0,n),tc(e,n+1,-1),n,i)}function Gp(e,t){var r=t.path,n=t.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(r?"Error in ".concat(r,": "):"").concat(e).concat(n.length?" Selector: ".concat(n.join(" | ")):""))}var Kp=function(t,r,n){if(t==="content"){var i=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,a=["normal","none","initial","inherit","unset"];(typeof r!="string"||a.indexOf(r)===-1&&!i.test(r)&&(r.charAt(0)!==r.charAt(r.length-1)||r.charAt(0)!=='"'&&r.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(r,"\"'`."),n)}},yv=null,Sv=function(t,r,n){t==="animation"&&n.hashId&&r!=="none"&&lintWarning("You seem to be using hashed animation '".concat(r,"', in which case 'animationName' with Keyframe as value is recommended."),n)},bv=null;function Ev(e){var t,r=((t=e.match(/:not\(([^)]*)\)/))===null||t===void 0?void 0:t[1])||"",n=r.split(/(\[[^[]*])|(?=[.#])/).filter(function(i){return i});return n.length>1}function Cv(e){return e.parentSelectors.reduce(function(t,r){return t?r.includes("&")?r.replace(/&/g,t):"".concat(t," ").concat(r):r},"")}var yS=function(t,r,n){var i=Cv(n),a=i.match(/:not\([^)]*\)/g)||[];a.length>0&&a.some(Ev)&&lintWarning("Concat ':not' selector not support in legacy browsers.",n)},SS=null,bS=function(t,r,n){switch(t){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(t,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),n);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof r=="string"){var i=r.split(" ").map(function(l){return l.trim()});i.length===4&&i[1]!==i[3]&&lintWarning("You seem to be using '".concat(t,"' property with different left ").concat(t," and right ").concat(t,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),n)}return;case"clear":case"textAlign":(r==="left"||r==="right")&&lintWarning("You seem to be using non-logical value '".concat(r,"' of ").concat(t,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),n);return;case"borderRadius":if(typeof r=="string"){var a=r.split("/").map(function(l){return l.trim()}),c=a.reduce(function(l,u){if(l)return l;var d=u.split(" ").map(function(h){return h.trim()});return d.length>=2&&d[0]!==d[1]||d.length===3&&d[1]!==d[2]||d.length===4&&d[2]!==d[3]?!0:l},!1);c&&lintWarning("You seem to be using non-logical value '".concat(r,"' of ").concat(t,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),n)}return;default:}},Fo=null,Du=function(t,r,n){(typeof r=="string"&&/NaN/g.test(r)||Number.isNaN(r))&&lintWarning("Unexpected 'NaN' in property '".concat(t,": ").concat(r,"'."),n)},_v=null,Rv=function(t,r,n){n.parentSelectors.some(function(i){var a=i.split(",");return a.some(function(c){return c.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",n)},wv=null,If="data-ant-cssinjs-cache-path",Lu="_FILE_STYLE__";function ES(e){return Object.keys(e).map(function(t){var r=e[t];return"".concat(t,":").concat(r)}).join(";")}var La,Va=!0;function qp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;La=e,Va=t}function ul(){if(!La&&(La={},Xe())){var e=document.createElement("div");e.className=If,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(i){var a=i.split(":"),c=X(a,2),l=c[0],u=c[1];La[l]=u});var r=document.querySelector("style[".concat(If,"]"));if(r){var n;Va=!1,(n=r.parentNode)===null||n===void 0||n.removeChild(r)}document.body.removeChild(e)}}function Of(e){return ul(),!!La[e]}function Jp(e){var t=La[e],r=null;if(t&&Xe())if(Va)r=Lu;else{var n=document.querySelector("style[".concat(lr,'="').concat(La[e],'"]'));n?r=n.innerHTML:delete La[e]}return[r,t]}var Vu="_skip_check_",Ss="_multi_value_";function oc(e){var t=wf(cl(e),Tf);return t.replace(/\{%%%\:[^;];}/g,";")}function Yp(e){return W(e)==="object"&&e&&(Vu in e||Ss in e)}function dl(e,t,r){if(!t)return e;var n=".".concat(t),i=r==="low"?":where(".concat(n,")"):n,a=e.split(",").map(function(c){var l,u=c.trim().split(/\s+/),d=u[0]||"",h=((l=d.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return d="".concat(h).concat(i).concat(d.slice(h.length)),[d].concat(be(u.slice(1))).join(" ")});return a.join(",")}var Xp=function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=n.root,a=n.injectHash,c=n.parentSelectors,l=r.hashId,u=r.layer,d=r.path,h=r.hashPriority,y=r.transformers,m=y===void 0?[]:y,_=r.linters,R=_===void 0?[]:_,b="",C={};function H(Z){var ie=Z.getName(l);if(!C[ie]){var oe=e(Z.style,r,{root:!1,parentSelectors:c}),fe=X(oe,1),he=fe[0];C[ie]="@keyframes ".concat(Z.getName(l)).concat(he)}}function A(Z){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Z.forEach(function(oe){Array.isArray(oe)?A(oe,ie):oe&&ie.push(oe)}),ie}var D=A(Array.isArray(t)?t:[t]);return D.forEach(function(Z){var ie=typeof Z=="string"&&!i?{}:Z;if(typeof ie=="string")b+="".concat(ie,`
`);else if(ie._keyframe)H(ie);else{var oe=m.reduce(function(fe,he){var ge;return(he==null||(ge=he.visit)===null||ge===void 0?void 0:ge.call(he,fe))||fe},ie);Object.keys(oe).forEach(function(fe){var he=oe[fe];if(W(he)==="object"&&he&&(fe!=="animationName"||!he._keyframe)&&!Yp(he)){var ge=!1,me=fe.trim(),Se=!1;(i||a)&&l?me.startsWith("@")?ge=!0:me==="&"?me=dl("",l,h):me=dl(fe,l,h):i&&!l&&(me==="&"||me==="")&&(me="",Se=!0);var Ce=e(he,r,{root:Se,injectHash:ge,parentSelectors:[].concat(be(c),[me])}),Te=X(Ce,2),Le=Te[0],ze=Te[1];C=ee(ee({},C),ze),b+="".concat(me).concat(Le)}else{let Ue=function(et,Ke){var Ie=et.replace(/[A-Z]/g,function($e){return"-".concat($e.toLowerCase())}),Ae=Ke;!cv[et]&&typeof Ae=="number"&&Ae!==0&&(Ae="".concat(Ae,"px")),et==="animationName"&&Ke!==null&&Ke!==void 0&&Ke._keyframe&&(H(Ke),Ae=Ke.getName(l)),b+="".concat(Ie,":").concat(Ae,";")};var Ne,Be=(Ne=he==null?void 0:he.value)!==null&&Ne!==void 0?Ne:he;W(he)==="object"&&he!==null&&he!==void 0&&he[Ss]&&Array.isArray(Be)?Be.forEach(function(et){Ue(fe,et)}):Ue(fe,Be)}})}}),i?u&&(b&&(b="@layer ".concat(u.name," {").concat(b,"}")),u.dependencies&&(C["@layer ".concat(u.name)]=u.dependencies.map(function(Z){return"@layer ".concat(Z,", ").concat(u.name,";")}).join(`
`))):b="{".concat(b,"}"),[b,C]};function xf(e,t){return tt("".concat(e.join("%")).concat(t))}function Qp(){return null}var Mf="style";function Uu(e,t){var r=e.token,n=e.path,i=e.hashId,a=e.layer,c=e.nonce,l=e.clientOnly,u=e.order,d=u===void 0?0:u,h=S.useContext(fs),y=h.autoClear,m=h.mock,_=h.defaultCache,R=h.hashPriority,b=h.container,C=h.ssrInline,H=h.transformers,A=h.linters,D=h.cache,Z=h.layer,ie=r._tokenKey,oe=[ie];Z&&oe.push("layer"),oe.push.apply(oe,be(n));var fe=ff,he=vs(Mf,oe,function(){var Te=oe.join("|");if(Of(Te)){var Le=Jp(Te),ze=X(Le,2),Ne=ze[0],Be=ze[1];if(Ne)return[Ne,ie,Be,{},l,d]}var Ue=t(),et=Xp(Ue,{hashId:i,hashPriority:R,layer:Z?a:void 0,path:n.join("-"),transformers:H,linters:A}),Ke=X(et,2),Ie=Ke[0],Ae=Ke[1],$e=oc(Ie),Oe=xf(oe,$e);return[$e,ie,Oe,Ae,l,d]},function(Te,Le){var ze=X(Te,3),Ne=ze[2];(Le||y)&&ff&&Qr(Ne,{mark:lr})},function(Te){var Le=X(Te,4),ze=Le[0],Ne=Le[1],Be=Le[2],Ue=Le[3];if(fe&&ze!==Lu){var et={mark:lr,prepend:Z?!1:"queue",attachTo:b,priority:d},Ke=typeof c=="function"?c():c;Ke&&(et.csp={nonce:Ke});var Ie=[],Ae=[];Object.keys(Ue).forEach(function(Oe){Oe.startsWith("@layer")?Ie.push(Oe):Ae.push(Oe)}),Ie.forEach(function(Oe){Lr(oc(Ue[Oe]),"_layer-".concat(Oe),ee(ee({},et),{},{prepend:!0}))});var $e=Lr(ze,Be,et);$e[Qi]=D.instanceId,$e.setAttribute(Lt,ie),Ae.forEach(function(Oe){Lr(oc(Ue[Oe]),"_effect-".concat(Oe),et)})}}),ge=X(he,3),me=ge[0],Se=ge[1],Ce=ge[2];return function(Te){var Le;if(!C||fe||!_)Le=S.createElement(Qp,null);else{var ze;Le=S.createElement("style",br({},(ze={},z(ze,Lt,Se),z(ze,lr,Ce),ze),{dangerouslySetInnerHTML:{__html:me}}))}return S.createElement(S.Fragment,null,Le,Te)}}var Zp=function(t,r,n){var i=X(t,6),a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],h=i[5],y=n||{},m=y.plain;if(d)return null;var _=a,R={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)};return _=hs(a,c,l,R,m),u&&Object.keys(u).forEach(function(b){if(!r[b]){r[b]=!0;var C=oc(u[b]),H=hs(C,c,"_effect-".concat(b),R,m);b.startsWith("@layer")?_=H+_:_+=H}}),[h,l,_]},ca="cssVar",Nf=function(t,r){var n=t.key,i=t.prefix,a=t.unitless,c=t.ignore,l=t.token,u=t.scope,d=u===void 0?"":u,h=(0,S.useContext)(fs),y=h.cache.instanceId,m=h.container,_=l._tokenKey,R=[].concat(be(t.path),[n,d,_]),b=vs(ca,R,function(){var C=r(),H=Zc(C,n,{prefix:i,unitless:a,ignore:c,scope:d}),A=X(H,2),D=A[0],Z=A[1],ie=xf(R,Z);return[D,Z,ie,n]},function(C){var H=X(C,3),A=H[2];ff&&Qr(A,{mark:lr})},function(C){var H=X(C,3),A=H[1],D=H[2];if(A){var Z=Lr(A,D,{mark:lr,prepend:"queue",attachTo:m,priority:-999});Z[Qi]=y,Z.setAttribute(Lt,n)}});return b},Df=function(t,r,n){var i=X(t,4),a=i[1],c=i[2],l=i[3],u=n||{},d=u.plain;if(!a)return null;var h=-999,y={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},m=hs(a,l,c,y,d);return[h,c,m]},Tv=Nf,fl,hl=(fl={},z(fl,Mf,Zp),z(fl,Vp,rl),z(fl,ca,Df),fl);function Av(e){return e!==null}function Pv(e,t){var r=typeof t=="boolean"?{plain:t}:t||{},n=r.plain,i=n===void 0?!1:n,a=r.types,c=a===void 0?["style","token","cssVar"]:a,l=new RegExp("^(".concat((typeof c=="string"?[c]:c).join("|"),")%")),u=Array.from(e.cache.keys()).filter(function(m){return l.test(m)}),d={},h={},y="";return u.map(function(m){var _=m.replace(l,"").replace(/%/g,"|"),R=m.split("%"),b=_slicedToArray(R,1),C=b[0],H=hl[C],A=H(e.cache.get(m)[1],d,{plain:i});if(!A)return null;var D=_slicedToArray(A,3),Z=D[0],ie=D[1],oe=D[2];return m.startsWith("style")&&(h[_]=ie),[Z,oe]}).filter(Av).sort(function(m,_){var R=_slicedToArray(m,1),b=R[0],C=_slicedToArray(_,1),H=C[0];return b-H}).forEach(function(m){var _=_slicedToArray(m,2),R=_[1];y+=R}),y+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(h),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),i),y}var em=function(){function e(t,r){De(this,e),z(this,"name",void 0),z(this,"style",void 0),z(this,"_keyframe",!0),this.name=t,this.style=r}return qe(e,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),e}(),ir=em;function Lf(e){if(typeof e=="number")return[[e],!1];var t=String(e).trim(),r=t.match(/(.*)(!important)/),n=(r?r[1]:t).trim().split(/\s+/),i=[],a=0;return[n.reduce(function(c,l){if(l.includes("(")||l.includes(")")){var u=l.split("(").length-1,d=l.split(")").length-1;a+=u-d}return a>=0&&i.push(l),a===0&&(c.push(i.join(" ")),i=[]),c},[]),!!r]}function la(e){return e.notSplit=!0,e}var pl={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:la(["borderTop","borderBottom"]),borderBlockStart:la(["borderTop"]),borderBlockEnd:la(["borderBottom"]),borderInline:la(["borderLeft","borderRight"]),borderInlineStart:la(["borderLeft"]),borderInlineEnd:la(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function ml(e,t){var r=e;return t&&(r="".concat(r," !important")),{_skip_check_:!0,value:r}}var Vf={visit:function(t){var r={};return Object.keys(t).forEach(function(n){var i=t[n],a=pl[n];if(a&&(typeof i=="number"||typeof i=="string")){var c=Lf(i),l=X(c,2),u=l[0],d=l[1];a.length&&a.notSplit?a.forEach(function(h){r[h]=ml(i,d)}):a.length===1?r[a[0]]=ml(u[0],d):a.length===2?a.forEach(function(h,y){var m;r[h]=ml((m=u[y])!==null&&m!==void 0?m:u[0],d)}):a.length===4?a.forEach(function(h,y){var m,_;r[h]=ml((m=(_=u[y])!==null&&_!==void 0?_:u[y-2])!==null&&m!==void 0?m:u[0],d)}):r[n]=i}else r[n]=i}),r}},gl=Vf,ac=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function sc(e,t){var r=Math.pow(10,t+1),n=Math.floor(e*r);return Math.round(n/10)*10/r}var kv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.rootValue,n=r===void 0?16:r,i=t.precision,a=i===void 0?5:i,c=t.mediaQuery,l=c===void 0?!1:c,u=function(y,m){if(!m)return y;var _=parseFloat(m);if(_<=1)return y;var R=sc(_/n,a);return"".concat(R,"rem")},d=function(y){var m=_objectSpread({},y);return Object.entries(y).forEach(function(_){var R=_slicedToArray(_,2),b=R[0],C=R[1];if(typeof C=="string"&&C.includes("px")){var H=C.replace(ac,u);m[b]=H}!unitless[b]&&typeof C=="number"&&C!==0&&(m[b]="".concat(C,"px").replace(ac,u));var A=b.trim();if(A.startsWith("@")&&A.includes("px")&&l){var D=b.replace(ac,u);m[D]=m[b],delete m[b]}}),m};return{visit:d}},CS=null,_S={supportModernCSS:function(){return nv()&&iv()}};function mr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e,t){return Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ua(e,t)}function ro(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ua(e,t)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ua(e)}function cc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cc=function(){return!!e})()}function Bu(e,t){if(t&&(W(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(e)}function $o(e){var t=cc();return function(){var r,n=ua(e);if(t){var i=ua(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Bu(this,r)}}var Iv=qe(function e(){De(this,e)}),Uf=Iv,tm="CALC_UNIT",Ov=new RegExp(tm,"g");function vl(e){return typeof e=="number"?"".concat(e).concat(tm):e}var Ba=function(e){ro(r,e);var t=$o(r);function r(n,i){var a;De(this,r),a=t.call(this),z(mr(a),"result",""),z(mr(a),"unitlessCssVar",void 0),z(mr(a),"lowPriority",void 0);var c=W(n);return a.unitlessCssVar=i,n instanceof r?a.result="(".concat(n.result,")"):c==="number"?a.result=vl(n):c==="string"&&(a.result=n),a}return qe(r,[{key:"add",value:function(i){return i instanceof r?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(vl(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof r?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(vl(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof r?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof r?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var a=this,c=i||{},l=c.unit,u=!0;return typeof l=="boolean"?u=l:Array.from(this.unitlessCssVar).some(function(d){return a.result.includes(d)})&&(u=!1),this.result=this.result.replace(Ov,u?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),r}(Uf),rm=function(e){ro(r,e);var t=$o(r);function r(n){var i;return De(this,r),i=t.call(this),z(mr(i),"result",0),n instanceof r?i.result=n.result:typeof n=="number"&&(i.result=n),i}return qe(r,[{key:"add",value:function(i){return i instanceof r?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof r?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof r?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof r?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),r}(Uf),lc=rm,Ho=function(t,r){var n=t==="css"?Ba:lc;return function(i){return new n(i,r)}},yl=Ho,da=function(t,r){return"".concat([r,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},ju=da;function Ni(e){var t=S.useRef();t.current=e;var r=S.useCallback(function(){for(var n,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(a))},[]);return r}function uc(e){var t=S.useRef(!1),r=S.useState(e),n=X(r,2),i=n[0],a=n[1];S.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function c(l,u){u&&t.current||a(l)}return[i,c]}function fa(e){return e!==void 0}function bs(e,t){var r=t||{},n=r.defaultValue,i=r.value,a=r.onChange,c=r.postState,l=uc(function(){return fa(i)?i:fa(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),u=X(l,2),d=u[0],h=u[1],y=i!==void 0?i:d,m=c?c(y):y,_=Ni(a),R=uc([y]),b=X(R,2),C=b[0],H=b[1];Su(function(){var D=C[0];d!==D&&_(d,D)},[C]),Su(function(){fa(i)||h(i)},[i]);var A=Ni(function(D,Z){h(D,Z),H([y],Z)});return[m,A]}function dc(e){return se(e)||Ee(e)||$(e)||te()}function $i(e,t){for(var r=e,n=0;n<t.length;n+=1){if(r==null)return;r=r[t[n]]}return r}function Fu(e,t,r,n){if(!t.length)return r;var i=dc(t),a=i[0],c=i.slice(1),l;return!e&&typeof a=="number"?l=[]:Array.isArray(e)?l=be(e):l=ee({},e),n&&r===void 0&&c.length===1?delete l[a][c[0]]:l[a]=Fu(l[a],c,r,n),l}function ai(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&n&&r===void 0&&!$i(e,t.slice(0,-1))?e:Fu(e,t,r,n)}function ja(e){return W(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function sn(e){return Array.isArray(e)?[]:{}}var cn=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function Hi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=sn(t[0]);return t.forEach(function(i){function a(c,l){var u=new Set(l),d=$i(i,c),h=Array.isArray(d);if(h||ja(d)){if(!u.has(d)){u.add(d);var y=$i(n,c);h?n=ai(n,c,[]):(!y||W(y)!=="object")&&(n=ai(n,c,sn(d))),cn(d).forEach(function(m){a([].concat(be(c),[m]),u)})}}else n=ai(n,c,d)}a([])}),n}function si(e,t,r,n){var i=ee({},t[e]);if(n!=null&&n.deprecatedTokens){var a=n.deprecatedTokens;a.forEach(function(l){var u=X(l,2),d=u[0],h=u[1];if(i!=null&&i[d]||i!=null&&i[h]){var y;(y=i[h])!==null&&y!==void 0||(i[h]=i==null?void 0:i[d])}})}var c=ee(ee({},r),i);return Object.keys(c).forEach(function(l){c[l]===t[l]&&delete c[l]}),c}var Ei=si,Fa=typeof CSSINJS_STATISTIC!="undefined",$a=!0;function Zr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!Fa)return Object.assign.apply(Object,[{}].concat(t));$a=!1;var n={};return t.forEach(function(i){if(W(i)==="object"){var a=Object.keys(i);a.forEach(function(c){Object.defineProperty(n,c,{configurable:!0,enumerable:!0,get:function(){return i[c]}})})}}),$a=!0,n}var Sl={},xv={};function nm(){}var $u=function(t){var r,n=t,i=nm;return Fa&&typeof Proxy!="undefined"&&(r=new Set,n=new Proxy(t,{get:function(c,l){if($a){var u;(u=r)===null||u===void 0||u.add(l)}return c[l]}}),i=function(c,l){var u;Sl[c]={global:Array.from(r),component:ee(ee({},(u=Sl[c])===null||u===void 0?void 0:u.component),l)}}),{token:n,keys:r,flush:i}},im=$u;function ha(e,t,r){if(typeof r=="function"){var n;return r(Zr(t,(n=t[e])!==null&&n!==void 0?n:{}))}return r!=null?r:{}}var bl=ha;function Bf(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return"max(".concat(n.map(function(a){return er(a)}).join(","),")")},min:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return"min(".concat(n.map(function(a){return er(a)}).join(","),")")}}}var om=Bf,Mv=1e3*60*10,Ha=function(){function e(){De(this,e),z(this,"map",new Map),z(this,"objectIDMap",new WeakMap),z(this,"nextID",0),z(this,"lastAccessBeat",new Map),z(this,"accessBeat",0)}return qe(e,[{key:"set",value:function(r,n){this.clear();var i=this.getCompositeKey(r);this.map.set(i,n),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(r){var n=this.getCompositeKey(r),i=this.map.get(n);return this.lastAccessBeat.set(n,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(r){var n=this,i=r.map(function(a){return a&&W(a)==="object"?"obj_".concat(n.getObjectID(a)):"".concat(W(a),"_").concat(a)});return i.join("|")}},{key:"getObjectID",value:function(r){if(this.objectIDMap.has(r))return this.objectIDMap.get(r);var n=this.nextID;return this.objectIDMap.set(r,n),this.nextID+=1,n}},{key:"clear",value:function(){var r=this;if(this.accessBeat>1e4){var n=Date.now();this.lastAccessBeat.forEach(function(i,a){n-i>Mv&&(r.map.delete(a),r.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),e}(),Es=new Ha;function fc(e,t){return S.useMemo(function(){var r=Es.get(t);if(r)return r;var n=e();return Es.set(t,n),n},t)}var Hu=fc,zu=function(){return{}},no=zu;function io(e){var t=e.useCSP,r=t===void 0?no:t,n=e.useToken,i=e.usePrefix,a=e.getResetStyles,c=e.getCommonStyle,l=e.getCompUnitless;function u(m,_,R,b){var C=Array.isArray(m)?m[0]:m;function H(he){return"".concat(String(C)).concat(he.slice(0,1).toUpperCase()).concat(he.slice(1))}var A=(b==null?void 0:b.unitless)||{},D=typeof l=="function"?l(m):{},Z=ee(ee({},D),{},z({},H("zIndexPopup"),!0));Object.keys(A).forEach(function(he){Z[H(he)]=A[he]});var ie=ee(ee({},b),{},{unitless:Z,prefixToken:H}),oe=h(m,_,R,ie),fe=d(C,R,ie);return function(he){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he,me=oe(he,ge),Se=X(me,2),Ce=Se[1],Te=fe(ge),Le=X(Te,2),ze=Le[0],Ne=Le[1];return[ze,Ce,Ne]}}function d(m,_,R){var b=R.unitless,C=R.injectStyle,H=C===void 0?!0:C,A=R.prefixToken,D=R.ignore,Z=function(fe){var he=fe.rootCls,ge=fe.cssVar,me=ge===void 0?{}:ge,Se=n(),Ce=Se.realToken;return Tv({path:[m],prefix:me.prefix,key:me.key,unitless:b,ignore:D,token:Ce,scope:he},function(){var Te=bl(m,Ce,_),Le=Ei(m,Ce,Te,{deprecatedTokens:R==null?void 0:R.deprecatedTokens});return Object.keys(Te).forEach(function(ze){Le[A(ze)]=Le[ze],delete Le[ze]}),Le}),null},ie=function(fe){var he=n(),ge=he.cssVar;return[function(me){return H&&ge?S.createElement(S.Fragment,null,S.createElement(Z,{rootCls:fe,cssVar:ge,component:m}),me):me},ge==null?void 0:ge.key]};return ie}function h(m,_,R){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=Array.isArray(m)?m:[m,m],H=X(C,1),A=H[0],D=C.join("-"),Z=e.layer||{name:"antd"};return function(ie){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ie,fe=n(),he=fe.theme,ge=fe.realToken,me=fe.hashId,Se=fe.token,Ce=fe.cssVar,Te=i(),Le=Te.rootPrefixCls,ze=Te.iconPrefixCls,Ne=r(),Be=Ce?"css":"js",Ue=Hu(function(){var Oe=new Set;return Ce&&Object.keys(b.unitless||{}).forEach(function(ct){Oe.add(ps(ct,Ce.prefix)),Oe.add(ps(ct,ju(A,Ce.prefix)))}),yl(Be,Oe)},[Be,A,Ce==null?void 0:Ce.prefix]),et=om(Be),Ke=et.max,Ie=et.min,Ae={theme:he,token:Se,hashId:me,nonce:function(){return Ne.nonce},clientOnly:b.clientOnly,layer:Z,order:b.order||-999};typeof a=="function"&&Uu(ee(ee({},Ae),{},{clientOnly:!1,path:["Shared",Le]}),function(){return a(Se,{prefix:{rootPrefixCls:Le,iconPrefixCls:ze},csp:Ne})});var $e=Uu(ee(ee({},Ae),{},{path:[D,ie,ze]}),function(){if(b.injectStyle===!1)return[];var Oe=im(Se),ct=Oe.token,ot=Oe.flush,Rt=bl(A,ge,R),Tt=".".concat(ie),zt=Ei(A,ge,Rt,{deprecatedTokens:b.deprecatedTokens});Ce&&Rt&&W(Rt)==="object"&&Object.keys(Rt).forEach(function(Xt){Rt[Xt]="var(".concat(ps(Xt,ju(A,Ce.prefix)),")")});var Wt=Zr(ct,{componentCls:Tt,prefixCls:ie,iconCls:".".concat(ze),antCls:".".concat(Le),calc:Ue,max:Ke,min:Ie},Ce?Rt:zt),gr=_(Wt,{hashId:me,prefixCls:ie,rootPrefixCls:Le,iconPrefixCls:ze});ot(A,zt);var or=typeof c=="function"?c(Wt,ie,oe,b.resetFont):null;return[b.resetStyle===!1?null:or,gr]});return[$e,me]}}function y(m,_,R){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=h(m,_,R,ee({resetStyle:!1,order:-998},b)),H=function(D){var Z=D.prefixCls,ie=D.rootCls,oe=ie===void 0?Z:ie;return C(Z,oe),null};return H}return{genStyleHooks:u,genSubStyleComponent:y,genComponentStyleHook:h}}var Cs=io;const za={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ci=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},Wa=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),am=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),jf=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Ff=(e,t,r,n)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,a=r?`.${r}`:i,c={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return n!==!1&&(l={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},l),c),{[i]:c})}},Ci=(e,t)=>({outline:`${er(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t!=null?t:1,transition:"outline-offset 0s, outline 0s"}),li=(e,t)=>({"&:focus-visible":Object.assign({},Ci(e,t))}),un=e=>({[`.${e}`]:Object.assign(Object.assign({},Wa()),{[`.${e} .${e}-icon`]:{display:"block"}})}),zo=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},li(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}});var sm="5.23.0",cm=sm;const xn=Math.round;function El(e,t){const r=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=r.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)n[i]=t(n[i]||0,r[i]||"",i);return r[3]?n[3]=r[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const $f=(e,t,r)=>r===0?e:e/100;function Ga(e,t){const r=t||255;return e>r?r:e<0?0:e}class mn{constructor(t){z(this,"isValid",!0),z(this,"r",0),z(this,"g",0),z(this,"b",0),z(this,"a",1),z(this,"_h",void 0),z(this,"_s",void 0),z(this,"_l",void 0),z(this,"_v",void 0),z(this,"_max",void 0),z(this,"_min",void 0),z(this,"_brightness",void 0);function r(n){return n[0]in t&&n[1]in t&&n[2]in t}if(t)if(typeof t=="string"){let i=function(a){return n.startsWith(a)};const n=t.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):i("rgb")?this.fromRgbString(n):i("hsl")?this.fromHslString(n):(i("hsv")||i("hsb"))&&this.fromHsvString(n)}else if(t instanceof mn)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=Ga(t.r),this.g=Ga(t.g),this.b=Ga(t.b),this.a=typeof t.a=="number"?Ga(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else if(r("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const r=this.toHsv();return r.h=t,this._c(r)}getLuminance(){function t(a){const c=a/255;return c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4)}const r=t(this.r),n=t(this.g),i=t(this.b);return .2126*r+.7152*n+.0722*i}getHue(){if(typeof this._h=="undefined"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=xn(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:r,s:n,l:i,a:this.a})}lighten(t=10){const r=this.getHue(),n=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:r,s:n,l:i,a:this.a})}mix(t,r=50){const n=this._c(t),i=r/100,a=l=>(n[l]-this[l])*i+this[l],c={r:xn(a("r")),g:xn(a("g")),b:xn(a("b")),a:xn(a("a")*100)/100};return this._c(c)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const r=this._c(t),n=this.a+r.a*(1-this.a),i=a=>xn((this[a]*this.a+r[a]*r.a*(1-this.a))/n);return this._c({r:i("r"),g:i("g"),b:i("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const r=(this.r||0).toString(16);t+=r.length===2?r:"0"+r;const n=(this.g||0).toString(16);t+=n.length===2?n:"0"+n;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=xn(this.a*255).toString(16);t+=a.length===2?a:"0"+a}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),r=xn(this.getSaturation()*100),n=xn(this.getLightness()*100);return this.a!==1?`hsla(${t},${r}%,${n}%,${this.a})`:`hsl(${t},${r}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,r,n){const i=this.clone();return i[t]=Ga(r,n),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const r=t.replace("#","");function n(i,a){return parseInt(r[i]+r[a||i],16)}r.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=r[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=r[6]?n(6,7)/255:1)}fromHsl({h:t,s:r,l:n,a:i}){if(this._h=t%360,this._s=r,this._l=n,this.a=typeof i=="number"?i:1,r<=0){const m=xn(n*255);this.r=m,this.g=m,this.b=m}let a=0,c=0,l=0;const u=t/60,d=(1-Math.abs(2*n-1))*r,h=d*(1-Math.abs(u%2-1));u>=0&&u<1?(a=d,c=h):u>=1&&u<2?(a=h,c=d):u>=2&&u<3?(c=d,l=h):u>=3&&u<4?(c=h,l=d):u>=4&&u<5?(a=h,l=d):u>=5&&u<6&&(a=d,l=h);const y=n-d/2;this.r=xn((a+y)*255),this.g=xn((c+y)*255),this.b=xn((l+y)*255)}fromHsv({h:t,s:r,v:n,a:i}){this._h=t%360,this._s=r,this._v=n,this.a=typeof i=="number"?i:1;const a=xn(n*255);if(this.r=a,this.g=a,this.b=a,r<=0)return;const c=t/60,l=Math.floor(c),u=c-l,d=xn(n*(1-r)*255),h=xn(n*(1-r*u)*255),y=xn(n*(1-r*(1-u))*255);switch(l){case 0:this.g=y,this.b=d;break;case 1:this.r=h,this.b=d;break;case 2:this.r=d,this.b=y;break;case 3:this.r=d,this.g=h;break;case 4:this.r=y,this.g=d;break;case 5:default:this.g=d,this.b=h;break}}fromHsvString(t){const r=El(t,$f);this.fromHsv({h:r[0],s:r[1],v:r[2],a:r[3]})}fromHslString(t){const r=El(t,$f);this.fromHsl({h:r[0],s:r[1],l:r[2],a:r[3]})}fromRgbString(t){const r=El(t,(n,i)=>i.includes("%")?xn(n/100*255):n);this.r=r[0],this.g=r[1],this.b=r[2],this.a=r[3]}}var pa=2,Wu=.16,Nv=.05,Cl=.05,Gu=.15,Hf=5,zf=4,hc=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Wf(e,t,r){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-pa*t:Math.round(e.h)+pa*t:n=r?Math.round(e.h)+pa*t:Math.round(e.h)-pa*t,n<0?n+=360:n>=360&&(n-=360),n}function _l(e,t,r){if(e.h===0&&e.s===0)return e.s;var n;return r?n=e.s-Wu*t:t===zf?n=e.s+Wu:n=e.s+Nv*t,n>1&&(n=1),r&&t===Hf&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function Rl(e,t,r){var n;return r?n=e.v+Cl*t:n=e.v-Gu*t,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function Wo(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=new mn(e),i=n.toHsv(),a=Hf;a>0;a-=1){var c=new mn({h:Wf(i,a,!0),s:_l(i,a,!0),v:Rl(i,a,!0)});r.push(c)}r.push(n);for(var l=1;l<=zf;l+=1){var u=new mn({h:Wf(i,l),s:_l(i,l),v:Rl(i,l)});r.push(u)}return t.theme==="dark"?hc.map(function(d){var h=d.index,y=d.amount;return new mn(t.backgroundColor||"#141414").mix(r[h],y).toHexString()}):r.map(function(d){return d.toHexString()})}var wl={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Tl=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Tl.primary=Tl[5];var Al=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Al.primary=Al[5];var Pl=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Pl.primary=Pl[5];var Ka=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Ka.primary=Ka[5];var Di=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Di.primary=Di[5];var ma=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];ma.primary=ma[5];var kl=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];kl.primary=kl[5];var Ku=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ku.primary=Ku[5];var oo=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];oo.primary=oo[5];var Go=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Go.primary=Go[5];var Il=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Il.primary=Il[5];var qu=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];qu.primary=qu[5];var Ro=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Ro.primary=Ro[5];var _s=null,pc={red:Tl,volcano:Al,orange:Pl,gold:Ka,yellow:Di,lime:ma,green:kl,cyan:Ku,blue:oo,geekblue:Go,purple:Il,magenta:qu,grey:Ro},Ju=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Ju.primary=Ju[5];var mc=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];mc.primary=mc[5];var Yu=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Yu.primary=Yu[5];var Rs=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Rs.primary=Rs[5];var ao=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];ao.primary=ao[5];var ws=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];ws.primary=ws[5];var Ts=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Ts.primary=Ts[5];var ga=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];ga.primary=ga[5];var Ol=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Ol.primary=Ol[5];var qa=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];qa.primary=qa[5];var Xu=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Xu.primary=Xu[5];var xl=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];xl.primary=xl[5];var dn=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];dn.primary=dn[5];var Gf={red:Ju,volcano:mc,orange:Yu,gold:Rs,yellow:ao,lime:ws,green:Ts,cyan:ga,blue:Ol,geekblue:qa,purple:Xu,magenta:xl,grey:dn};const Qu={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"};var Ja=Object.assign(Object.assign({},Qu),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function Kf(e,t){let{generateColorPalettes:r,generateNeutralColorPalettes:n}=t;const{colorSuccess:i,colorWarning:a,colorError:c,colorInfo:l,colorPrimary:u,colorBgBase:d,colorTextBase:h}=e,y=r(u),m=r(i),_=r(a),R=r(c),b=r(l),C=n(d,h),H=e.colorLink||e.colorInfo,A=r(H),D=new mn(R[1]).mix(new mn(R[3]),50).toHexString();return Object.assign(Object.assign({},C),{colorPrimaryBg:y[1],colorPrimaryBgHover:y[2],colorPrimaryBorder:y[3],colorPrimaryBorderHover:y[4],colorPrimaryHover:y[5],colorPrimary:y[6],colorPrimaryActive:y[7],colorPrimaryTextHover:y[8],colorPrimaryText:y[9],colorPrimaryTextActive:y[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:R[1],colorErrorBgHover:R[2],colorErrorBgFilledHover:D,colorErrorBgActive:R[3],colorErrorBorder:R[3],colorErrorBorderHover:R[4],colorErrorHover:R[5],colorError:R[6],colorErrorActive:R[7],colorErrorTextHover:R[8],colorErrorText:R[9],colorErrorTextActive:R[10],colorWarningBg:_[1],colorWarningBgHover:_[2],colorWarningBorder:_[3],colorWarningBorderHover:_[4],colorWarningHover:_[4],colorWarning:_[6],colorWarningActive:_[7],colorWarningTextHover:_[8],colorWarningText:_[9],colorWarningTextActive:_[10],colorInfoBg:b[1],colorInfoBgHover:b[2],colorInfoBorder:b[3],colorInfoBorderHover:b[4],colorInfoHover:b[4],colorInfo:b[6],colorInfoActive:b[7],colorInfoTextHover:b[8],colorInfoText:b[9],colorInfoTextActive:b[10],colorLinkHover:A[4],colorLink:A[6],colorLinkActive:A[7],colorBgMask:new mn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}var bn=e=>{let t=e,r=e,n=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?r=4:e<8&&e>=7?r=5:e<14&&e>=8?r=6:e<16&&e>=14?r=7:e>=16&&(r=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:n,borderRadiusSM:r,borderRadiusLG:t,borderRadiusOuter:i}};function $n(e){const{motionUnit:t,motionBase:r,borderRadius:n,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(r+t).toFixed(1)}s`,motionDurationMid:`${(r+t*2).toFixed(1)}s`,motionDurationSlow:`${(r+t*3).toFixed(1)}s`,lineWidthBold:i+1},bn(n))}var Zu=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function Ya(e){return(e+8)/e}function Ml(e){const t=new Array(10).fill(null).map((r,n)=>{const i=n-1,a=e*Math.pow(Math.E,i/5),c=n>1?Math.floor(a):Math.ceil(a);return Math.floor(c/2)*2});return t[1]=e,t.map(r=>({size:r,lineHeight:Ya(r)}))}var ui=e=>{const t=Ml(e),r=t.map(h=>h.size),n=t.map(h=>h.lineHeight),i=r[1],a=r[0],c=r[2],l=n[1],u=n[0],d=n[2];return{fontSizeSM:a,fontSize:i,fontSizeLG:c,fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:l,lineHeightLG:d,lineHeightSM:u,fontHeight:Math.round(l*i),fontHeightLG:Math.round(d*c),fontHeightSM:Math.round(u*a),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};function qf(e){const{sizeUnit:t,sizeStep:r}=e;return{sizeXXL:t*(r+8),sizeXL:t*(r+4),sizeLG:t*(r+2),sizeMD:t*(r+1),sizeMS:t*r,size:t*r,sizeSM:t*(r-1),sizeXS:t*(r-2),sizeXXS:t*(r-3)}}const Li=(e,t)=>new mn(e).setA(t).toRgbString(),As=(e,t)=>new mn(e).darken(t).toHexString(),Ko=e=>{const t=Wo(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},so=(e,t)=>{const r=e||"#fff",n=t||"#000";return{colorBgBase:r,colorTextBase:n,colorText:Li(n,.88),colorTextSecondary:Li(n,.65),colorTextTertiary:Li(n,.45),colorTextQuaternary:Li(n,.25),colorFill:Li(n,.15),colorFillSecondary:Li(n,.06),colorFillTertiary:Li(n,.04),colorFillQuaternary:Li(n,.02),colorBgSolid:Li(n,1),colorBgSolidHover:Li(n,.75),colorBgSolidActive:Li(n,.95),colorBgLayout:As(r,4),colorBgContainer:As(r,0),colorBgElevated:As(r,0),colorBgSpotlight:Li(n,.85),colorBgBlur:"transparent",colorBorder:As(r,15),colorBorderSecondary:As(r,6)}};function Nl(e){wl.pink=wl.magenta,pc.pink=pc.magenta;const t=Object.keys(Qu).map(r=>{const n=e[r]===wl[r]?pc[r]:Wo(e[r]);return new Array(10).fill(1).reduce((i,a,c)=>(i[`${r}-${c+1}`]=n[c],i[`${r}${c+1}`]=n[c],i),{})}).reduce((r,n)=>(r=Object.assign(Object.assign({},r),n),r),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),Kf(e,{generateColorPalettes:Ko,generateNeutralColorPalettes:so})),ui(e.fontSize)),qf(e)),Zu(e)),$n(e))}const ed=gu(Nl),Dl={token:Ja,override:{override:Ja},hashed:!0},Jf=S.createContext(Dl);function td(e){return e>=0&&e<=255}function um(e,t){const{r,g:n,b:i,a}=new mn(e).toRgb();if(a<1)return e;const{r:c,g:l,b:u}=new mn(t).toRgb();for(let d=.01;d<=1;d+=.01){const h=Math.round((r-c*(1-d))/d),y=Math.round((n-l*(1-d))/d),m=Math.round((i-u*(1-d))/d);if(td(h)&&td(y)&&td(m))return new mn({r:h,g:y,b:m,a:Math.round(d*100)/100}).toRgbString()}return new mn({r,g:n,b:i,a:1}).toRgbString()}var Ll=um,dm=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Yf(e){const{override:t}=e,r=dm(e,["override"]),n=Object.assign({},t);Object.keys(Ja).forEach(m=>{delete n[m]});const i=Object.assign(Object.assign({},r),n),a=480,c=576,l=768,u=992,d=1200,h=1600;if(i.motion===!1){const m="0s";i.motionDurationFast=m,i.motionDurationMid=m,i.motionDurationSlow=m}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Ll(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Ll(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Ll(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Ll(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:c-1,screenSM:c,screenSMMin:c,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new mn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new mn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new mn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var Xf=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Qf={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Vl={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},fm={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ul=(e,t,r)=>{const n=r.getDerivativeToken(e),{override:i}=t,a=Xf(t,["override"]);let c=Object.assign(Object.assign({},n),{override:i});return c=Yf(c),a&&Object.entries(a).forEach(l=>{let[u,d]=l;const{theme:h}=d,y=Xf(d,["theme"]);let m=y;h&&(m=Ul(Object.assign(Object.assign({},c),y),{override:y},h)),c[u]=m}),c};function zi(){const{token:e,hashed:t,theme:r,override:n,cssVar:i}=S.useContext(Jf),a=`${cm}-${t||""}`,c=r||ed,[l,u,d]=tl(c,[Ja,e],{salt:a,override:n,getComputedToken:Ul,formatToken:Yf,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:Qf,ignore:Vl,preserve:fm}});return[c,d,t?u:"",l,i]}const{genStyleHooks:co,genComponentStyleHook:Zf,genSubStyleComponent:eh}=Cs({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,S.useContext)(re);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,r,n,i]=zi();return{theme:e,realToken:t,hashId:r,token:n,cssVar:i}},useCSP:()=>{const{csp:e}=(0,S.useContext)(re);return e!=null?e:{}},getResetStyles:(e,t)=>{var r;return[{"&":jf(e)},un((r=t==null?void 0:t.prefix.iconPrefixCls)!==null&&r!==void 0?r:F)]},getCommonStyle:Ff,getCompUnitless:()=>Qf}),hm=e=>{const{componentCls:t,colorPrimary:r}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}};var pm=Zf("Wave",e=>[hm(e)]),th=function(t){return+setTimeout(t,16)},rd=function(t){return clearTimeout(t)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(th=function(t){return window.requestAnimationFrame(t)},rd=function(t){return window.cancelAnimationFrame(t)});var rh=0,nd=new Map;function nh(e){nd.delete(e)}var mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rh+=1;var n=rh;function i(a){if(a===0)nh(n),t();else{var c=th(function(){i(a-1)});nd.set(n,c)}}return i(r),n};mm.cancel=function(e){var t=nd.get(e);return nh(e),rd(t)};var va=mm;const ih=`${w}-wave-target`;var Bl=Dt(3935),gm=Dt.t(Bl,2);function vc(e){return e instanceof HTMLElement||e instanceof SVGElement}function vm(e){return e&&W(e)==="object"&&vc(e.nativeElement)?e.nativeElement:vc(e)?e:null}function Ps(e){var t=vm(e);if(t)return t;if(e instanceof S.Component){var r;return(r=Bl.findDOMNode)===null||r===void 0?void 0:r.call(Bl,e)}return null}var Dv=["children"],ym=S.createContext({});function Lv(e){var t=e.children,r=Vr(e,Dv);return S.createElement(ym.Provider,{value:r},t)}var wo=function(e){ro(r,e);var t=$o(r);function r(){return De(this,r),t.apply(this,arguments)}return qe(r,[{key:"render",value:function(){return this.props.children}}]),r}(S.Component),oh=wo;function id(e){var t=S.useReducer(function(l){return l+1},0),r=X(t,2),n=r[1],i=S.useRef(e),a=Ni(function(){return i.current}),c=Ni(function(l){i.current=typeof l=="function"?l(i.current):l,n()});return[a,c]}var ya="none",jl="appear",Fl="enter",yc="leave",ks="none",Wi="prepare",Xa="start",Sc="active",od="end",ah="prepared";function sh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function Sm(e,t){var r={animationend:sh("Animation","AnimationEnd"),transitionend:sh("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var bm=Sm(Xe(),typeof window!="undefined"?window:{}),Em={};if(Xe()){var Vi=document.createElement("div");Em=Vi.style}var Gn={};function ch(e){if(Gn[e])return Gn[e];var t=bm[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var a=r[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Em)return Gn[e]=t[a],Gn[e]}return""}var lh=ch("animationend"),uh=ch("transitionend"),dh=!!(lh&&uh),fh=lh||"animationend",ad=uh||"transitionend";function hh(e,t){if(!e)return null;if(W(e)==="object"){var r=t.replace(/-\w/g,function(n){return n[1].toUpperCase()});return e[r]}return"".concat(e,"-").concat(t)}var ph=function(e){var t=(0,S.useRef)();function r(i){i&&(i.removeEventListener(ad,e),i.removeEventListener(fh,e))}function n(i){t.current&&t.current!==i&&r(t.current),i&&i!==t.current&&(i.addEventListener(ad,e),i.addEventListener(fh,e),t.current=i)}return S.useEffect(function(){return function(){r(t.current)}},[]),[n,r]},Cm=Xe()?S.useLayoutEffect:S.useEffect,mh=Cm,gh=function(){var e=S.useRef(null);function t(){va.cancel(e.current)}function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var a=va(function(){i<=1?n({isCanceled:function(){return a!==e.current}}):r(n,i-1)});e.current=a}return S.useEffect(function(){return function(){t()}},[]),[r,t]},vh=[Wi,Xa,Sc,od],_m=[Wi,ah],sd=!1,cd=!0;function Rm(e){return e===Sc||e===od}var wm=function(e,t,r){var n=uc(ks),i=X(n,2),a=i[0],c=i[1],l=gh(),u=X(l,2),d=u[0],h=u[1];function y(){c(Wi,!0)}var m=t?_m:vh;return mh(function(){if(a!==ks&&a!==od){var _=m.indexOf(a),R=m[_+1],b=r(a);b===sd?c(R,!0):R&&d(function(C){function H(){C.isCanceled()||c(R,!0)}b===!0?H():Promise.resolve(b).then(H)})}},[e,a]),S.useEffect(function(){return function(){h()}},[]),[y,a]};function yh(e,t,r,n){var i=n.motionEnter,a=i===void 0?!0:i,c=n.motionAppear,l=c===void 0?!0:c,u=n.motionLeave,d=u===void 0?!0:u,h=n.motionDeadline,y=n.motionLeaveImmediately,m=n.onAppearPrepare,_=n.onEnterPrepare,R=n.onLeavePrepare,b=n.onAppearStart,C=n.onEnterStart,H=n.onLeaveStart,A=n.onAppearActive,D=n.onEnterActive,Z=n.onLeaveActive,ie=n.onAppearEnd,oe=n.onEnterEnd,fe=n.onLeaveEnd,he=n.onVisibleChanged,ge=uc(),me=X(ge,2),Se=me[0],Ce=me[1],Te=id(ya),Le=X(Te,2),ze=Le[0],Ne=Le[1],Be=uc(null),Ue=X(Be,2),et=Ue[0],Ke=Ue[1],Ie=ze(),Ae=(0,S.useRef)(!1),$e=(0,S.useRef)(null);function Oe(){return r()}var ct=(0,S.useRef)(!1);function ot(){Ne(ya),Ke(null,!0)}var Rt=Ni(function(Yt){var fr=ze();if(fr!==ya){var Ht=Oe();if(!(Yt&&!Yt.deadline&&Yt.target!==Ht)){var Yr=ct.current,Rr;fr===jl&&Yr?Rr=ie==null?void 0:ie(Ht,Yt):fr===Fl&&Yr?Rr=oe==null?void 0:oe(Ht,Yt):fr===yc&&Yr&&(Rr=fe==null?void 0:fe(Ht,Yt)),Yr&&Rr!==!1&&ot()}}}),Tt=ph(Rt),zt=X(Tt,1),Wt=zt[0],gr=function(fr){switch(fr){case jl:return z(z(z({},Wi,m),Xa,b),Sc,A);case Fl:return z(z(z({},Wi,_),Xa,C),Sc,D);case yc:return z(z(z({},Wi,R),Xa,H),Sc,Z);default:return{}}},or=S.useMemo(function(){return gr(Ie)},[Ie]),Xt=wm(Ie,!e,function(Yt){if(Yt===Wi){var fr=or[Wi];return fr?fr(Oe()):sd}if(Er in or){var Ht;Ke(((Ht=or[Er])===null||Ht===void 0?void 0:Ht.call(or,Oe(),null))||null)}return Er===Sc&&Ie!==ya&&(Wt(Oe()),h>0&&(clearTimeout($e.current),$e.current=setTimeout(function(){Rt({deadline:!0})},h))),Er===ah&&ot(),cd}),ar=X(Xt,2),Kt=ar[0],Er=ar[1],Nr=Rm(Er);ct.current=Nr;var _r=(0,S.useRef)(null);mh(function(){if(!(Ae.current&&_r.current===t)){Ce(t);var Yt=Ae.current;Ae.current=!0;var fr;!Yt&&t&&l&&(fr=jl),Yt&&t&&a&&(fr=Fl),(Yt&&!t&&d||!Yt&&y&&!t&&d)&&(fr=yc);var Ht=gr(fr);fr&&(e||Ht[Wi])?(Ne(fr),Kt()):Ne(ya),_r.current=t}},[t]),(0,S.useEffect)(function(){(Ie===jl&&!l||Ie===Fl&&!a||Ie===yc&&!d)&&Ne(ya)},[l,a,d]),(0,S.useEffect)(function(){return function(){Ae.current=!1,clearTimeout($e.current)}},[]);var rn=S.useRef(!1);(0,S.useEffect)(function(){Se&&(rn.current=!0),Se!==void 0&&Ie===ya&&((rn.current||Se)&&(he==null||he(Se)),rn.current=!0)},[Se,Ie]);var Jr=et;return or[Wi]&&Er===Xa&&(Jr=ee({transition:"none"},Jr)),[Ie,Er,Jr,Se!=null?Se:t]}function Tm(e){var t=e;W(e)==="object"&&(t=e.transitionSupport);function r(i,a){return!!(i.motionName&&t&&a!==!1)}var n=S.forwardRef(function(i,a){var c=i.visible,l=c===void 0?!0:c,u=i.removeOnLeave,d=u===void 0?!0:u,h=i.forceRender,y=i.children,m=i.motionName,_=i.leavedClassName,R=i.eventProps,b=S.useContext(ym),C=b.motion,H=r(i,C),A=(0,S.useRef)(),D=(0,S.useRef)();function Z(){try{return A.current instanceof HTMLElement?A.current:Ps(D.current)}catch(Ue){return null}}var ie=yh(H,l,Z,i),oe=X(ie,4),fe=oe[0],he=oe[1],ge=oe[2],me=oe[3],Se=S.useRef(me);me&&(Se.current=!0);var Ce=S.useCallback(function(Ue){A.current=Ue,k(a,Ue)},[a]),Te,Le=ee(ee({},R),{},{visible:l});if(!y)Te=null;else if(fe===ya)me?Te=y(ee({},Le),Ce):!d&&Se.current&&_?Te=y(ee(ee({},Le),{},{className:_}),Ce):h||!d&&!_?Te=y(ee(ee({},Le),{},{style:{display:"none"}}),Ce):Te=null;else{var ze;he===Wi?ze="prepare":Rm(he)?ze="active":he===Xa&&(ze="start");var Ne=hh(m,"".concat(fe,"-").concat(ze));Te=y(ee(ee({},Le),{},{className:Ve()(hh(m,fe),z(z({},Ne,Ne&&ze),m,typeof m=="string")),style:ge}),Ce)}if(S.isValidElement(Te)&&p(Te)){var Be=O(Te);Be||(Te=S.cloneElement(Te,{ref:Ce}))}return S.createElement(oh,{ref:D},Te)});return n.displayName="CSSMotion",n}var $l=Tm(dh),To="add",Sh="keep",ld="remove",Hl="removed";function Am(e){var t;return e&&W(e)==="object"&&"key"in e?t=e:t={key:e},ee(ee({},t),{},{key:String(t.key)})}function ud(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Am)}function zl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[],n=0,i=t.length,a=ud(e),c=ud(t);a.forEach(function(d){for(var h=!1,y=n;y<i;y+=1){var m=c[y];if(m.key===d.key){n<y&&(r=r.concat(c.slice(n,y).map(function(_){return ee(ee({},_),{},{status:To})})),n=y),r.push(ee(ee({},m),{},{status:Sh})),n+=1,h=!0;break}}h||r.push(ee(ee({},d),{},{status:ld}))}),n<i&&(r=r.concat(c.slice(n).map(function(d){return ee(ee({},d),{},{status:To})})));var l={};r.forEach(function(d){var h=d.key;l[h]=(l[h]||0)+1});var u=Object.keys(l).filter(function(d){return l[d]>1});return u.forEach(function(d){r=r.filter(function(h){var y=h.key,m=h.status;return y!==d||m!==ld}),r.forEach(function(h){h.key===d&&(h.status=Sh)})}),r}var di=["component","children","onVisibleChanged","onAllRemoved"],Vv=["status"],Uv=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function dd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l,r=function(n){ro(a,n);var i=$o(a);function a(){var c;De(this,a);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return c=i.call.apply(i,[this].concat(u)),z(mr(c),"state",{keyEntities:[]}),z(mr(c),"removeKey",function(h){c.setState(function(y){var m=y.keyEntities.map(function(_){return _.key!==h?_:ee(ee({},_),{},{status:Hl})});return{keyEntities:m}},function(){var y=c.state.keyEntities,m=y.filter(function(_){var R=_.status;return R!==Hl}).length;m===0&&c.props.onAllRemoved&&c.props.onAllRemoved()})}),c}return qe(a,[{key:"render",value:function(){var l=this,u=this.state.keyEntities,d=this.props,h=d.component,y=d.children,m=d.onVisibleChanged,_=d.onAllRemoved,R=Vr(d,di),b=h||S.Fragment,C={};return Uv.forEach(function(H){C[H]=R[H],delete R[H]}),delete R.keys,S.createElement(b,R,u.map(function(H,A){var D=H.status,Z=Vr(H,Vv),ie=D===To||D===Sh;return S.createElement(t,br({},C,{key:Z.key,visible:ie,eventProps:Z,onVisibleChanged:function(fe){m==null||m(fe,{key:Z.key}),fe||l.removeKey(Z.key)}}),function(oe,fe){return y(ee(ee({},oe),{},{index:A}),fe)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,u){var d=l.keys,h=u.keyEntities,y=ud(d),m=zl(h,y);return{keyEntities:m.filter(function(_){var R=h.find(function(b){var C=b.key;return _.key===C});return!(R&&R.status===Hl&&_.status===ld)})}}}]),a}(S.Component);return z(r,"defaultProps",{component:"div"}),r}var fi=dd(dh),Is=$l;function wt(){"use strict";wt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(Ne,Be,Ue){Ne[Be]=Ue.value},a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(Ne,Be,Ue){return Object.defineProperty(Ne,Be,{value:Ue,enumerable:!0,configurable:!0,writable:!0}),Ne[Be]}try{d({},"")}catch(Ne){d=function(Ue,et,Ke){return Ue[et]=Ke}}function h(Ne,Be,Ue,et){var Ke=Be&&Be.prototype instanceof H?Be:H,Ie=Object.create(Ke.prototype),Ae=new Le(et||[]);return i(Ie,"_invoke",{value:me(Ne,Ue,Ae)}),Ie}function y(Ne,Be,Ue){try{return{type:"normal",arg:Ne.call(Be,Ue)}}catch(et){return{type:"throw",arg:et}}}t.wrap=h;var m="suspendedStart",_="suspendedYield",R="executing",b="completed",C={};function H(){}function A(){}function D(){}var Z={};d(Z,c,function(){return this});var ie=Object.getPrototypeOf,oe=ie&&ie(ie(ze([])));oe&&oe!==r&&n.call(oe,c)&&(Z=oe);var fe=D.prototype=H.prototype=Object.create(Z);function he(Ne){["next","throw","return"].forEach(function(Be){d(Ne,Be,function(Ue){return this._invoke(Be,Ue)})})}function ge(Ne,Be){function Ue(Ke,Ie,Ae,$e){var Oe=y(Ne[Ke],Ne,Ie);if(Oe.type!=="throw"){var ct=Oe.arg,ot=ct.value;return ot&&W(ot)=="object"&&n.call(ot,"__await")?Be.resolve(ot.__await).then(function(Rt){Ue("next",Rt,Ae,$e)},function(Rt){Ue("throw",Rt,Ae,$e)}):Be.resolve(ot).then(function(Rt){ct.value=Rt,Ae(ct)},function(Rt){return Ue("throw",Rt,Ae,$e)})}$e(Oe.arg)}var et;i(this,"_invoke",{value:function(Ie,Ae){function $e(){return new Be(function(Oe,ct){Ue(Ie,Ae,Oe,ct)})}return et=et?et.then($e,$e):$e()}})}function me(Ne,Be,Ue){var et=m;return function(Ke,Ie){if(et===R)throw Error("Generator is already running");if(et===b){if(Ke==="throw")throw Ie;return{value:e,done:!0}}for(Ue.method=Ke,Ue.arg=Ie;;){var Ae=Ue.delegate;if(Ae){var $e=Se(Ae,Ue);if($e){if($e===C)continue;return $e}}if(Ue.method==="next")Ue.sent=Ue._sent=Ue.arg;else if(Ue.method==="throw"){if(et===m)throw et=b,Ue.arg;Ue.dispatchException(Ue.arg)}else Ue.method==="return"&&Ue.abrupt("return",Ue.arg);et=R;var Oe=y(Ne,Be,Ue);if(Oe.type==="normal"){if(et=Ue.done?b:_,Oe.arg===C)continue;return{value:Oe.arg,done:Ue.done}}Oe.type==="throw"&&(et=b,Ue.method="throw",Ue.arg=Oe.arg)}}}function Se(Ne,Be){var Ue=Be.method,et=Ne.iterator[Ue];if(et===e)return Be.delegate=null,Ue==="throw"&&Ne.iterator.return&&(Be.method="return",Be.arg=e,Se(Ne,Be),Be.method==="throw")||Ue!=="return"&&(Be.method="throw",Be.arg=new TypeError("The iterator does not provide a '"+Ue+"' method")),C;var Ke=y(et,Ne.iterator,Be.arg);if(Ke.type==="throw")return Be.method="throw",Be.arg=Ke.arg,Be.delegate=null,C;var Ie=Ke.arg;return Ie?Ie.done?(Be[Ne.resultName]=Ie.value,Be.next=Ne.nextLoc,Be.method!=="return"&&(Be.method="next",Be.arg=e),Be.delegate=null,C):Ie:(Be.method="throw",Be.arg=new TypeError("iterator result is not an object"),Be.delegate=null,C)}function Ce(Ne){var Be={tryLoc:Ne[0]};1 in Ne&&(Be.catchLoc=Ne[1]),2 in Ne&&(Be.finallyLoc=Ne[2],Be.afterLoc=Ne[3]),this.tryEntries.push(Be)}function Te(Ne){var Be=Ne.completion||{};Be.type="normal",delete Be.arg,Ne.completion=Be}function Le(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(Ce,this),this.reset(!0)}function ze(Ne){if(Ne||Ne===""){var Be=Ne[c];if(Be)return Be.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Ue=-1,et=function Ke(){for(;++Ue<Ne.length;)if(n.call(Ne,Ue))return Ke.value=Ne[Ue],Ke.done=!1,Ke;return Ke.value=e,Ke.done=!0,Ke};return et.next=et}}throw new TypeError(W(Ne)+" is not iterable")}return A.prototype=D,i(fe,"constructor",{value:D,configurable:!0}),i(D,"constructor",{value:A,configurable:!0}),A.displayName=d(D,u,"GeneratorFunction"),t.isGeneratorFunction=function(Ne){var Be=typeof Ne=="function"&&Ne.constructor;return!!Be&&(Be===A||(Be.displayName||Be.name)==="GeneratorFunction")},t.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,D):(Ne.__proto__=D,d(Ne,u,"GeneratorFunction")),Ne.prototype=Object.create(fe),Ne},t.awrap=function(Ne){return{__await:Ne}},he(ge.prototype),d(ge.prototype,l,function(){return this}),t.AsyncIterator=ge,t.async=function(Ne,Be,Ue,et,Ke){Ke===void 0&&(Ke=Promise);var Ie=new ge(h(Ne,Be,Ue,et),Ke);return t.isGeneratorFunction(Be)?Ie:Ie.next().then(function(Ae){return Ae.done?Ae.value:Ie.next()})},he(fe),d(fe,u,"Generator"),d(fe,c,function(){return this}),d(fe,"toString",function(){return"[object Generator]"}),t.keys=function(Ne){var Be=Object(Ne),Ue=[];for(var et in Be)Ue.push(et);return Ue.reverse(),function Ke(){for(;Ue.length;){var Ie=Ue.pop();if(Ie in Be)return Ke.value=Ie,Ke.done=!1,Ke}return Ke.done=!0,Ke}},t.values=ze,Le.prototype={constructor:Le,reset:function(Be){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(Te),!Be)for(var Ue in this)Ue.charAt(0)==="t"&&n.call(this,Ue)&&!isNaN(+Ue.slice(1))&&(this[Ue]=e)},stop:function(){this.done=!0;var Be=this.tryEntries[0].completion;if(Be.type==="throw")throw Be.arg;return this.rval},dispatchException:function(Be){if(this.done)throw Be;var Ue=this;function et(ct,ot){return Ae.type="throw",Ae.arg=Be,Ue.next=ct,ot&&(Ue.method="next",Ue.arg=e),!!ot}for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var Ie=this.tryEntries[Ke],Ae=Ie.completion;if(Ie.tryLoc==="root")return et("end");if(Ie.tryLoc<=this.prev){var $e=n.call(Ie,"catchLoc"),Oe=n.call(Ie,"finallyLoc");if($e&&Oe){if(this.prev<Ie.catchLoc)return et(Ie.catchLoc,!0);if(this.prev<Ie.finallyLoc)return et(Ie.finallyLoc)}else if($e){if(this.prev<Ie.catchLoc)return et(Ie.catchLoc,!0)}else{if(!Oe)throw Error("try statement without catch or finally");if(this.prev<Ie.finallyLoc)return et(Ie.finallyLoc)}}}},abrupt:function(Be,Ue){for(var et=this.tryEntries.length-1;et>=0;--et){var Ke=this.tryEntries[et];if(Ke.tryLoc<=this.prev&&n.call(Ke,"finallyLoc")&&this.prev<Ke.finallyLoc){var Ie=Ke;break}}Ie&&(Be==="break"||Be==="continue")&&Ie.tryLoc<=Ue&&Ue<=Ie.finallyLoc&&(Ie=null);var Ae=Ie?Ie.completion:{};return Ae.type=Be,Ae.arg=Ue,Ie?(this.method="next",this.next=Ie.finallyLoc,C):this.complete(Ae)},complete:function(Be,Ue){if(Be.type==="throw")throw Be.arg;return Be.type==="break"||Be.type==="continue"?this.next=Be.arg:Be.type==="return"?(this.rval=this.arg=Be.arg,this.method="return",this.next="end"):Be.type==="normal"&&Ue&&(this.next=Ue),C},finish:function(Be){for(var Ue=this.tryEntries.length-1;Ue>=0;--Ue){var et=this.tryEntries[Ue];if(et.finallyLoc===Be)return this.complete(et.completion,et.afterLoc),Te(et),C}},catch:function(Be){for(var Ue=this.tryEntries.length-1;Ue>=0;--Ue){var et=this.tryEntries[Ue];if(et.tryLoc===Be){var Ke=et.completion;if(Ke.type==="throw"){var Ie=Ke.arg;Te(et)}return Ie}}throw Error("illegal catch attempt")},delegateYield:function(Be,Ue,et){return this.delegate={iterator:ze(Be),resultName:Ue,nextLoc:et},this.method==="next"&&(this.arg=e),C}},t}function Os(e,t,r,n,i,a,c){try{var l=e[a](c),u=l.value}catch(d){return void r(d)}l.done?t(u):Promise.resolve(u).then(n,i)}function Sa(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function c(u){Os(a,n,i,c,l,"next",u)}function l(u){Os(a,n,i,c,l,"throw",u)}c(void 0)})}}var bc=ee({},gm),Bv=bc.version,xs=bc.render,fd=bc.unmountComponentAtNode,Ec;try{var Pm=Number((Bv||"").split(".")[0]);Pm>=18&&(Ec=bc.createRoot)}catch(e){}function bh(e){var t=bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&W(t)==="object"&&(t.usingClientEntryPoint=e)}var Wl="__rc_react_root__";function Eh(e,t){bh(!0);var r=t[Wl]||Ec(t);bh(!1),r.render(e),t[Wl]=r}function Ch(e,t){xs==null||xs(e,t)}function hi(e,t){}function Ao(e,t){if(Ec){Eh(e,t);return}Ch(e,t)}function Qa(e){return hd.apply(this,arguments)}function hd(){return hd=Sa(wt().mark(function e(t){return wt().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){var i;(i=t[Wl])===null||i===void 0||i.unmount(),delete t[Wl]}));case 1:case"end":return n.stop()}},e)})),hd.apply(this,arguments)}function km(e){fd(e)}function qo(e){}function Im(e){return lo.apply(this,arguments)}function lo(){return lo=Sa(wt().mark(function e(t){return wt().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Ec===void 0){n.next=2;break}return n.abrupt("return",Qa(t));case 2:km(t);case 3:case"end":return n.stop()}},e)})),lo.apply(this,arguments)}let _h=(e,t)=>(Ao(e,t),()=>Im(t));function jv(e){_h=e}function Rh(){return _h}function pd(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Fv(e){const{borderTopColor:t,borderColor:r,backgroundColor:n}=getComputedStyle(e);return pd(t)?t:pd(r)?r:pd(n)?n:null}function Cc(e){return Number.isNaN(e)?0:e}const wh=e=>{const{className:t,target:r,component:n,registerUnmount:i}=e,a=S.useRef(null),c=S.useRef(null);S.useEffect(()=>{c.current=i()},[]);const[l,u]=S.useState(null),[d,h]=S.useState([]),[y,m]=S.useState(0),[_,R]=S.useState(0),[b,C]=S.useState(0),[H,A]=S.useState(0),[D,Z]=S.useState(!1),ie={left:y,top:_,width:b,height:H,borderRadius:d.map(he=>`${he}px`).join(" ")};l&&(ie["--wave-color"]=l);function oe(){const he=getComputedStyle(r);u(Fv(r));const ge=he.position==="static",{borderLeftWidth:me,borderTopWidth:Se}=he;m(ge?r.offsetLeft:Cc(-parseFloat(me))),R(ge?r.offsetTop:Cc(-parseFloat(Se))),C(r.offsetWidth),A(r.offsetHeight);const{borderTopLeftRadius:Ce,borderTopRightRadius:Te,borderBottomLeftRadius:Le,borderBottomRightRadius:ze}=he;h([Ce,Te,ze,Le].map(Ne=>Cc(parseFloat(Ne))))}if(S.useEffect(()=>{if(r){const he=va(()=>{oe(),Z(!0)});let ge;return typeof ResizeObserver!="undefined"&&(ge=new ResizeObserver(oe),ge.observe(r)),()=>{va.cancel(he),ge==null||ge.disconnect()}}},[]),!D)return null;const fe=(n==="Checkbox"||n==="Radio")&&(r==null?void 0:r.classList.contains(ih));return S.createElement(Is,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(he,ge)=>{var me,Se;if(ge.deadline||ge.propertyName==="opacity"){const Ce=(me=a.current)===null||me===void 0?void 0:me.parentElement;(Se=c.current)===null||Se===void 0||Se.call(c).then(()=>{Ce==null||Ce.remove()})}return!1}},(he,ge)=>{let{className:me}=he;return S.createElement("div",{ref:M(a,ge),className:Ve()(t,me,{"wave-quick":fe}),style:ie})})};var kr=(e,t)=>{var r;const{component:n}=t;if(n==="Checkbox"&&!(!((r=e.querySelector("input"))===null||r===void 0)&&r.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",e==null||e.insertBefore(i,e==null?void 0:e.firstChild);const a=Rh();let c=null;function l(){return c}c=a(S.createElement(wh,Object.assign({},t,{target:e,registerUnmount:l})),i)},Mn=(e,t,r)=>{const{wave:n}=S.useContext(re),[,i,a]=zi(),c=Ni(d=>{const h=e.current;if(n!=null&&n.disabled||!h)return;const y=h.querySelector(`.${ih}`)||h,{showEffect:m}=n||{};(m||kr)(y,{className:t,token:i,component:r,event:d,hashId:a})}),l=S.useRef(null);return d=>{va.cancel(l.current),l.current=va(()=>{c(d)})}},Ui=e=>{const{children:t,disabled:r,component:n}=e,{getPrefixCls:i}=(0,S.useContext)(re),a=(0,S.useRef)(null),c=i("wave"),[,l]=pm(c),u=Mn(a,Ve()(c,l),n);if(S.useEffect(()=>{const h=a.current;if(!h||h.nodeType!==1||r)return;const y=m=>{!E(m.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||u(m)};return h.addEventListener("click",y,!0),()=>{h.removeEventListener("click",y,!0)}},[r]),!S.isValidElement(t))return t!=null?t:null;const d=p(t)?M(O(t),a):a;return x(t,{ref:d})};const Za=S.createContext(!1),Nn=e=>{let{children:t,disabled:r}=e;const n=S.useContext(Za);return S.createElement(Za.Provider,{value:r!=null?r:n},t)};var Ms=Za;const ba=S.createContext(void 0),md=e=>{let{children:t,size:r}=e;const n=S.useContext(ba);return S.createElement(ba.Provider,{value:r||n},t)};var _c=ba,_i=e=>{const t=S.useContext(_c);return S.useMemo(()=>e?typeof e=="string"?e!=null?e:t:e instanceof Function?e(t):t:t,[e,t])};function Rc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return S.Children.forEach(e,function(n){n==null&&!t.keepEmpty||(Array.isArray(n)?r=r.concat(Rc(n)):G(n)&&n.props?r=r.concat(Rc(n.props.children,t)):r.push(n))}),r}var Ns=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const uo=S.createContext(null),vd=(e,t)=>{const r=S.useContext(uo),n=S.useMemo(()=>{if(!r)return"";const{compactDirection:i,isFirstItem:a,isLastItem:c}=r,l=i==="vertical"?"-vertical-":"-";return Ve()(`${e}-compact${l}item`,{[`${e}-compact${l}first-item`]:a,[`${e}-compact${l}last-item`]:c,[`${e}-compact${l}item-rtl`]:t==="rtl"})},[e,t,r]);return{compactSize:r==null?void 0:r.compactSize,compactDirection:r==null?void 0:r.compactDirection,compactItemClassnames:n}},Th=e=>{let{children:t}=e;return S.createElement(uo.Provider,{value:null},t)},es=e=>{var{children:t}=e,r=Ns(e,["children"]);return React.createElement(uo.Provider,{value:r},t)},Ah=e=>{const{getPrefixCls:t,direction:r}=React.useContext(ConfigContext),{size:n,direction:i,block:a,prefixCls:c,className:l,rootClassName:u,children:d}=e,h=Ns(e,["size","direction","block","prefixCls","className","rootClassName","children"]),y=useSize(D=>n!=null?n:D),m=t("space-compact",c),[_,R]=useStyle(m),b=classNames(m,R,{[`${m}-rtl`]:r==="rtl",[`${m}-block`]:a,[`${m}-vertical`]:i==="vertical"},l,u),C=React.useContext(uo),H=toArray(d),A=React.useMemo(()=>H.map((D,Z)=>{const ie=(D==null?void 0:D.key)||`${m}-item-${Z}`;return React.createElement(es,{key:ie,compactSize:y,compactDirection:i,isFirstItem:Z===0&&(!C||(C==null?void 0:C.isFirstItem)),isLastItem:Z===H.length-1&&(!C||(C==null?void 0:C.isLastItem))},D)}),[n,H,C]);return H.length===0?null:_(React.createElement("div",Object.assign({className:b},h),A))};var Ds=null,yd=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const wc=S.createContext(void 0);var Sd=e=>{const{getPrefixCls:t,direction:r}=S.useContext(re),{prefixCls:n,size:i,className:a}=e,c=yd(e,["prefixCls","size","className"]),l=t("btn-group",n),[,,u]=zi();let d="";switch(i){case"large":d="lg";break;case"small":d="sm";break;default:}const h=Ve()(l,{[`${l}-${d}`]:d,[`${l}-rtl`]:r==="rtl"},a,u);return S.createElement(wc.Provider,{value:i},S.createElement("div",Object.assign({},c,{className:h})))};const Ea=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],mi=/^[\u4E00-\u9FA5]{2}$/,Jo=mi.test.bind(mi);function fo(e){return e==="danger"?{danger:!0}:{type:e}}function Ri(e){return typeof e=="string"}function bd(e){return e==="text"||e==="link"}function Ph(e,t){if(e==null)return;const r=t?" ":"";return typeof e!="string"&&typeof e!="number"&&Ri(e.type)&&Jo(e.props.children)?x(e,{children:e.props.children.split("").join(r)}):Ri(e)?Jo(e)?S.createElement("span",null,e.split("").join(r)):S.createElement("span",null,e):T(e)?S.createElement("span",null,e):e}function kh(e,t){let r=!1;const n=[];return S.Children.forEach(e,i=>{const a=typeof i,c=a==="string"||a==="number";if(r&&c){const l=n.length-1,u=n[l];n[l]=`${u}${i}`}else n.push(i);r=c}),S.Children.map(n,i=>Ph(i,t))}const TS=null,Ls=null,$v=null,xm=null,Tc=["default","primary","danger"].concat(be(Ea));var Ca=(0,S.forwardRef)((e,t)=>{const{className:r,style:n,children:i,prefixCls:a}=e,c=Ve()(`${a}-icon`,r);return S.createElement("span",{ref:t,className:c,style:n},i)}),Nm={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Dm=Nm,Ih=(0,S.createContext)({}),Ac=Ih;function Lm(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function Hv(e){return Lm(e)instanceof ShadowRoot}function Gl(e){return Hv(e)?Lm(e):null}function Vm(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})}function Vs(e,t){ue(e,"[@ant-design/icons] ".concat(t))}function Um(e){return W(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(W(e.icon)==="object"||typeof e.icon=="function")}function Us(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=e[r];switch(r){case"class":t.className=n,delete t.class;break;default:delete t[r],t[Vm(r)]=n}return t},{})}function Ed(e,t,r){return r?S.createElement(e.tag,ee(ee({key:t},Us(e.attrs)),r),(e.children||[]).map(function(n,i){return Ed(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})):S.createElement(e.tag,ee({key:t},Us(e.attrs)),(e.children||[]).map(function(n,i){return Ed(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function En(e){return Wo(e)[0]}function Bm(e){return e?Array.isArray(e)?e:[e]:[]}var zv={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Wv=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Gv=function(t){var r=(0,S.useContext)(Ac),n=r.csp,i=r.prefixCls,a=Wv;i&&(a=a.replace(/anticon/g,i)),(0,S.useEffect)(function(){var c=t.current,l=Gl(c);Lr(a,"@ant-design-icons",{prepend:!0,csp:n,attachTo:l})},[])},jm=["icon","className","onClick","style","primaryColor","secondaryColor"],Pc={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Kv(e){var t=e.primaryColor,r=e.secondaryColor;Pc.primaryColor=t,Pc.secondaryColor=r||En(t),Pc.calculated=!!r}function ho(){return ee({},Pc)}var kc=function(t){var r=t.icon,n=t.className,i=t.onClick,a=t.style,c=t.primaryColor,l=t.secondaryColor,u=Vr(t,jm),d=S.useRef(),h=Pc;if(c&&(h={primaryColor:c,secondaryColor:l||En(c)}),Gv(d),Vs(Um(r),"icon should be icon definiton, but got ".concat(r)),!Um(r))return null;var y=r;return y&&typeof y.icon=="function"&&(y=ee(ee({},y),{},{icon:y.icon(h.primaryColor,h.secondaryColor)})),Ed(y.icon,"svg-".concat(y.name),ee(ee({className:n,onClick:i,style:a,"data-icon":y.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};kc.displayName="IconReact",kc.getTwoToneColors=ho,kc.setTwoToneColors=Kv;var Oh=kc;function _a(e){var t=Bm(e),r=X(t,2),n=r[0],i=r[1];return Oh.setTwoToneColors({primaryColor:n,secondaryColor:i})}function Cd(){var e=Oh.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Bs=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];_a(oo.primary);var js=S.forwardRef(function(e,t){var r=e.className,n=e.icon,i=e.spin,a=e.rotate,c=e.tabIndex,l=e.onClick,u=e.twoToneColor,d=Vr(e,Bs),h=S.useContext(Ac),y=h.prefixCls,m=y===void 0?"anticon":y,_=h.rootClassName,R=Ve()(_,m,z(z({},"".concat(m,"-").concat(n.name),!!n.name),"".concat(m,"-spin"),!!i||n.name==="loading"),r),b=c;b===void 0&&l&&(b=-1);var C=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,H=Bm(u),A=X(H,2),D=A[0],Z=A[1];return S.createElement("span",br({role:"img","aria-label":n.name},d,{ref:t,tabIndex:b,onClick:l,className:R}),S.createElement(Oh,{icon:n,primaryColor:D,secondaryColor:Z,style:C}))});js.displayName="AntdIcon",js.getTwoToneColor=Cd,js.setTwoToneColor=_a;var Ra=js,xh=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:Dm}))},qv=S.forwardRef(xh),Kl=qv;const Fm=(0,S.forwardRef)((e,t)=>{const{prefixCls:r,className:n,style:i,iconClassName:a}=e,c=Ve()(`${r}-loading-icon`,n);return S.createElement(Ca,{prefixCls:r,className:c,style:i,ref:t},S.createElement(Kl,{className:a}))}),_d=()=>({width:0,opacity:0,transform:"scale(0)"}),Rd=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var wd=e=>{const{prefixCls:t,loading:r,existIcon:n,className:i,style:a,mount:c}=e,l=!!r;return n?S.createElement(Fm,{prefixCls:t,className:i,style:a}):S.createElement(Is,{visible:l,motionName:`${t}-loading-icon-motion`,motionAppear:!c,motionEnter:!c,motionLeave:!c,removeOnLeave:!0,onAppearStart:_d,onAppearActive:Rd,onEnterStart:_d,onEnterActive:Rd,onLeaveStart:Rd,onLeaveActive:_d},(u,d)=>{let{className:h,style:y}=u;const m=Object.assign(Object.assign({},a),y);return S.createElement(Fm,{prefixCls:t,className:Ve()(i,h),style:m,ref:d})})};const Nh=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var Jv=e=>{const{componentCls:t,fontSize:r,lineWidth:n,groupBorderColor:i,colorErrorHover:a}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(n).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:r}},Nh(`${t}-primary`,i),Nh(`${t}-danger`,a)]}},Hm=["b"],Dh=["v"],Ic=function(t){return Math.round(Number(t||0))},Lh=function(t){if(t instanceof mn)return t;if(t&&W(t)==="object"&&"h"in t&&"b"in t){var r=t,n=r.b,i=Vr(r,Hm);return ee(ee({},i),{},{v:n})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},ts=function(e){ro(r,e);var t=$o(r);function r(n){return De(this,r),t.call(this,Lh(n))}return qe(r,[{key:"toHsbString",value:function(){var i=this.toHsb(),a=Ic(i.s*100),c=Ic(i.b*100),l=Ic(i.h),u=i.a,d="hsb(".concat(l,", ").concat(a,"%, ").concat(c,"%)"),h="hsba(".concat(l,", ").concat(a,"%, ").concat(c,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?d:h}},{key:"toHsb",value:function(){var i=this.toHsv(),a=i.v,c=Vr(i,Dh);return ee(ee({},c),{},{b:a,a:this.a})}}]),r}(mn),Yv="rc-color-picker",Td=function(t){return t instanceof ts?t:new ts(t)},Vh=Td("#1677ff"),AS=function(t){var r=t.offset,n=t.targetRef,i=t.containerRef,a=t.color,c=t.type,l=i.current.getBoundingClientRect(),u=l.width,d=l.height,h=n.current.getBoundingClientRect(),y=h.width,m=h.height,_=y/2,R=m/2,b=(r.x+_)/u,C=1-(r.y+R)/d,H=a.toHsb(),A=b,D=(r.x+_)/u*360;if(c)switch(c){case"hue":return Td(_objectSpread(_objectSpread({},H),{},{h:D<=0?0:D}));case"alpha":return Td(_objectSpread(_objectSpread({},H),{},{a:A<=0?0:A}))}return Td({h:H.h,s:b<=0?0:b,b:C>=1?1:C,a:H.a})},Ad=function(t,r){var n=t.toHsb();switch(r){case"hue":return{x:n.h/360*100,y:50};case"alpha":return{x:t.a*100,y:50};default:return{x:n.s*100,y:(1-n.b)*100}}},PS=function(t){var r=t.color,n=t.prefixCls,i=t.className,a=t.style,c=t.onClick,l="".concat(n,"-color-block");return React.createElement("div",{className:classNames(l,i),style:a,onClick:c},React.createElement("div",{className:"".concat(l,"-inner"),style:{background:r}}))},Uh=null;function o(e){var t="touches"in e?e.touches[0]:e,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-r,pageY:t.pageY-n}}function s(e){var t=e.targetRef,r=e.containerRef,n=e.direction,i=e.onDragChange,a=e.onDragChangeComplete,c=e.calculate,l=e.color,u=e.disabledDrag,d=useState({x:0,y:0}),h=_slicedToArray(d,2),y=h[0],m=h[1],_=useRef(null),R=useRef(null);useEffect(function(){m(c())},[l]),useEffect(function(){return function(){document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",R.current),document.removeEventListener("touchmove",_.current),document.removeEventListener("touchend",R.current),_.current=null,R.current=null}},[]);var b=function(Z){var ie=o(Z),oe=ie.pageX,fe=ie.pageY,he=r.current.getBoundingClientRect(),ge=he.x,me=he.y,Se=he.width,Ce=he.height,Te=t.current.getBoundingClientRect(),Le=Te.width,ze=Te.height,Ne=Le/2,Be=ze/2,Ue=Math.max(0,Math.min(oe-ge,Se))-Ne,et=Math.max(0,Math.min(fe-me,Ce))-Be,Ke={x:Ue,y:n==="x"?y.y:et};if(Le===0&&ze===0||Le!==ze)return!1;i==null||i(Ke)},C=function(Z){Z.preventDefault(),b(Z)},H=function(Z){Z.preventDefault(),document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",R.current),document.removeEventListener("touchmove",_.current),document.removeEventListener("touchend",R.current),_.current=null,R.current=null,a==null||a()},A=function(Z){document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",R.current),!u&&(b(Z),document.addEventListener("mousemove",C),document.addEventListener("mouseup",H),document.addEventListener("touchmove",C),document.addEventListener("touchend",H),_.current=C,R.current=H)};return[y,A]}var f=null,g=function(t){var r=t.size,n=r===void 0?"default":r,i=t.color,a=t.prefixCls;return React.createElement("div",{className:classNames("".concat(a,"-handler"),_defineProperty({},"".concat(a,"-handler-sm"),n==="small")),style:{backgroundColor:i}})},I=null,J=function(t){var r=t.children,n=t.style,i=t.prefixCls;return React.createElement("div",{className:"".concat(i,"-palette"),style:_objectSpread({position:"relative"},n)},r)},pe=null,we=null,je=null,it=function(t){var r=t.color,n=t.onChange,i=t.prefixCls,a=t.onChangeComplete,c=t.disabled,l=useRef(),u=useRef(),d=useRef(r),h=useEvent(function(b){var C=calculateColor({offset:b,targetRef:u,containerRef:l,color:r});d.current=C,n(C)}),y=useColorDrag({color:r,containerRef:l,targetRef:u,calculate:function(){return calcOffset(r)},onDragChange:h,onDragChangeComplete:function(){return a==null?void 0:a(d.current)},disabledDrag:c}),m=_slicedToArray(y,2),_=m[0],R=m[1];return React.createElement("div",{ref:l,className:"".concat(i,"-select"),onMouseDown:R,onTouchStart:R},React.createElement(Palette,{prefixCls:i},React.createElement(Transform,{x:_.x,y:_.y,ref:u},React.createElement(Handler,{color:r.toRgbString(),prefixCls:i})),React.createElement("div",{className:"".concat(i,"-saturation"),style:{backgroundColor:"hsl(".concat(r.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},mt=null,gt=function(t,r){var n=useMergedState(t,{value:r}),i=_slicedToArray(n,2),a=i[0],c=i[1],l=useMemo(function(){return generateColor(a)},[a]);return[l,c]},pt=null,Mt=function(t){var r=t.colors,n=t.children,i=t.direction,a=i===void 0?"to right":i,c=t.type,l=t.prefixCls,u=useMemo(function(){return r.map(function(d,h){var y=generateColor(d);return c==="alpha"&&h===r.length-1&&(y=new Color(y.setA(1))),y.toRgbString()}).join(",")},[r,c]);return React.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(u,")")}},n)},Bt=null,Ft=function(t){var r=t.prefixCls,n=t.colors,i=t.disabled,a=t.onChange,c=t.onChangeComplete,l=t.color,u=t.type,d=useRef(),h=useRef(),y=useRef(l),m=function(ie){return u==="hue"?ie.getHue():ie.a*100},_=useEvent(function(Z){var ie=calculateColor({offset:Z,targetRef:h,containerRef:d,color:l,type:u});y.current=ie,a(m(ie))}),R=useColorDrag({color:l,targetRef:h,containerRef:d,calculate:function(){return calcOffset(l,u)},onDragChange:_,onDragChangeComplete:function(){c(m(y.current))},direction:"x",disabledDrag:i}),b=_slicedToArray(R,2),C=b[0],H=b[1],A=React.useMemo(function(){if(u==="hue"){var Z=l.toHsb();Z.s=1,Z.b=1,Z.a=1;var ie=new Color(Z);return ie}return l},[l,u]),D=React.useMemo(function(){return n.map(function(Z){return"".concat(Z.color," ").concat(Z.percent,"%")})},[n]);return React.createElement("div",{ref:d,className:classNames("".concat(r,"-slider"),"".concat(r,"-slider-").concat(u)),onMouseDown:H,onTouchStart:H},React.createElement(Palette,{prefixCls:r},React.createElement(Transform,{x:C.x,y:C.y,ref:h},React.createElement(Handler,{size:"small",color:A.toHexString(),prefixCls:r})),React.createElement(Gradient,{colors:D,type:u,prefixCls:r})))},Dn=null;function Qe(e){return React.useMemo(function(){var t=e||{},r=t.slider;return[r||Slider]},[e])}var He=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],nt=null,Ct=null,$t=null;const qt=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",Jt=(e,t)=>e?qt(e,t):"";let rr=function(){function e(t){De(this,e);var r;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(r=t.colors)===null||r===void 0?void 0:r.map(i=>({color:new e(i.color),percent:i.percent})),this.cleared=t.cleared;return}const n=Array.isArray(t);n&&t.length?(this.colors=t.map(i=>{let{color:a,percent:c}=i;return{color:new e(a),percent:c}}),this.metaColor=new ts(this.colors[0].color.metaColor)):this.metaColor=new ts(n?"":t),(!t||n&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return qe(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Jt(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:r}=this;return r?`linear-gradient(90deg, ${r.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(r){return!r||this.isGradient()!==r.isGradient()?!1:this.isGradient()?this.colors.length===r.colors.length&&this.colors.every((n,i)=>{const a=r.colors[i];return n.percent===a.percent&&n.color.equals(a.color)}):this.toHexString()===r.toHexString()}}])}();const Ln=e=>e.map(t=>(t.colors=t.colors.map(generateColor),t)),Ir=(e,t)=>{const{r,g:n,b:i,a}=e.toRgb(),c=new ts(e.toRgbString()).onBackground(t).toHsv();return a<=.5?c.v>.5:r*.299+n*.587+i*.114>192},wa=(e,t)=>{var r;return`panel-${(r=e.key)!==null&&r!==void 0?r:t}`},kS=e=>{let{prefixCls:t,presets:r,value:n,onChange:i}=e;const[a]=useLocale("ColorPicker"),[,c]=useToken(),[l]=useMergedState(Ln(r),{value:Ln(r),postState:Ln}),u=`${t}-presets`,d=useMemo(()=>l.reduce((m,_,R)=>{const{defaultOpen:b=!0}=_;return b&&m.push(wa(_,R)),m},[]),[l]),h=m=>{i==null||i(m)},y=l.map((m,_)=>{var R;return{key:wa(m,_),label:React.createElement("div",{className:`${u}-label`},m==null?void 0:m.label),children:React.createElement("div",{className:`${u}-items`},Array.isArray(m==null?void 0:m.colors)&&((R=m.colors)===null||R===void 0?void 0:R.length)>0?m.colors.map((b,C)=>React.createElement(ColorBlock,{key:`preset-${C}-${b.toHexString()}`,color:generateColor(b).toRgbString(),prefixCls:t,className:classNames(`${u}-color`,{[`${u}-color-checked`]:b.toHexString()===(n==null?void 0:n.toHexString()),[`${u}-color-bright`]:Ir(b,c.colorBgElevated)}),onClick:()=>h(b)})):React.createElement("span",{className:`${u}-empty`},a.presetEmpty))}});return React.createElement("div",{className:u},React.createElement(Collapse,{defaultActiveKey:d,ghost:!0,items:y}))};var u6=null;const IS=e=>{const{paddingInline:t,onlyIconSize:r}=e;return Zr(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:r})},OS=e=>{var t,r,n,i,a,c;const l=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,u=(r=e.contentFontSizeSM)!==null&&r!==void 0?r:e.fontSize,d=(n=e.contentFontSizeLG)!==null&&n!==void 0?n:e.fontSizeLG,h=(i=e.contentLineHeight)!==null&&i!==void 0?i:Ya(l),y=(a=e.contentLineHeightSM)!==null&&a!==void 0?a:Ya(u),m=(c=e.contentLineHeightLG)!==null&&c!==void 0?c:Ya(d),_=Ir(new rr(e.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:_,contentFontSize:l,contentFontSizeSM:u,contentFontSizeLG:d,contentLineHeight:h,contentLineHeightSM:y,contentLineHeightLG:m,paddingBlock:Math.max((e.controlHeight-l*h)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-u*y)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-d*m)/2-e.lineWidth,0)}},gR=e=>{const{componentCls:t,iconCls:r,fontWeight:n,opacityLoading:i,motionDurationSlow:a,motionEaseInOut:c,marginXS:l,calc:u}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:n,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${er(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:Wa(),"> a":{color:"currentColor"},"&:not(:disabled)":li(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${r})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:i,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(d=>`${d} ${a} ${c}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:u(l).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:u(l).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:u(l).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:u(l).mul(-1).equal()}}}}}},xS=(e,t,r)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":r}}),vR=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),yR=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),SR=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Xv=(e,t,r,n,i,a,c,l)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:r||void 0,background:t,borderColor:n||void 0,boxShadow:"none"},xS(e,Object.assign({background:t},c),Object.assign({background:t},l))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:a||void 0}})}),bR=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},SR(e))}),ER=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),zm=(e,t,r,n)=>{const a=n&&["link","text"].includes(n)?ER:bR;return Object.assign(Object.assign({},a(e)),xS(e.componentCls,t,r))},Wm=(e,t,r,n,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:r},zm(e,n,i))}),Gm=(e,t,r,n,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:r},zm(e,n,i))}),Km=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),qm=(e,t,r,n)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},zm(e,r,n))}),Oc=(e,t,r,n,i)=>({[`&${e.componentCls}-variant-${r}`]:Object.assign({color:t,boxShadow:"none"},zm(e,n,i,r))}),CR=e=>{const{componentCls:t}=e;return Ea.reduce((r,n)=>{const i=e[`${n}6`],a=e[`${n}1`],c=e[`${n}5`],l=e[`${n}2`],u=e[`${n}3`],d=e[`${n}7`],h=`0 ${e.controlOutlineWidth} 0 ${e[`${n}1`]}`;return Object.assign(Object.assign({},r),{[`&${t}-color-${n}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:h},Wm(e,e.colorTextLightSolid,i,{background:c},{background:d})),Gm(e,i,e.colorBgContainer,{color:c,borderColor:c,background:e.colorBgContainer},{color:d,borderColor:d,background:e.colorBgContainer})),Km(e)),qm(e,a,{background:l},{background:u})),Oc(e,i,"link",{color:c},{color:d})),Oc(e,i,"text",{color:c,background:a},{color:d,background:u}))})},{})},_R=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},Wm(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Km(e)),qm(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Oc(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Xv(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),RR=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Gm(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Km(e)),qm(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Oc(e,e.colorLink,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Xv(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),wR=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},Wm(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Gm(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Km(e)),qm(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Oc(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Oc(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Xv(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),TR=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:_R(e),[`${t}-color-primary`]:RR(e),[`${t}-color-dangerous`]:wR(e)},CR(e))},AR=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Gm(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Oc(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),Wm(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Oc(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Qv=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,controlHeight:n,fontSize:i,borderRadius:a,buttonPaddingHorizontal:c,iconCls:l,buttonPaddingVertical:u,buttonIconOnlyFontSize:d}=e;return[{[t]:{fontSize:i,height:n,padding:`${er(u)} ${er(c)}`,borderRadius:a,[`&${r}-icon-only`]:{width:n,[l]:{fontSize:d,verticalAlign:"calc(-0.125em - 1px)"}}}},{[`${r}${r}-circle${t}`]:vR(e)},{[`${r}${r}-round${t}`]:yR(e)}]},PR=e=>{const t=Zr(e,{fontSize:e.contentFontSize});return Qv(t,e.componentCls)},kR=e=>{const t=Zr(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Qv(t,`${e.componentCls}-sm`)},IR=e=>{const t=Zr(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Qv(t,`${e.componentCls}-lg`)},OR=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var xR=co("Button",e=>{const t=IS(e);return[gR(t),PR(t),kR(t),IR(t),OR(t),TR(t),AR(t),Jv(t)]},OS,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function MR(e,t,r){const{focusElCls:n,focus:i,borderElCls:a}=r,c=a?"> *":"",l=["hover",i?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${c}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[l]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${c}`]:{zIndex:0}})}}function NR(e,t,r){const{borderElCls:n}=r,i=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function DR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=e,n=`${r}-compact`;return{[n]:Object.assign(Object.assign({},MR(e,n,t)),NR(r,n,t))}}function LR(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function VR(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function UR(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},LR(e,t)),VR(e.componentCls,t))}}const BR=e=>{const{componentCls:t,colorPrimaryHover:r,lineWidth:n,calc:i}=e,a=i(n).mul(-1).equal(),c=l=>({[`${t}-compact${l?"-vertical":""}-item${t}-primary:not([disabled])`]:{"& + &::before":{position:"absolute",top:l?a:0,insetInlineStart:l?0:a,backgroundColor:r,content:'""',width:l?"100%":n,height:l?n:"100%"}}});return Object.assign(Object.assign({},c()),c(!0))};var jR=eh(["Button","compact"],e=>{const t=IS(e);return[DR(t),UR(t),BR(t)]},OS),FR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function $R(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const HR={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},Zv=S.forwardRef((e,t)=>{var r,n,i,a;const{loading:c=!1,prefixCls:l,color:u,variant:d,type:h,danger:y=!1,shape:m="default",size:_,styles:R,disabled:b,className:C,rootClassName:H,children:A,icon:D,iconPosition:Z="start",ghost:ie=!1,block:oe=!1,htmlType:fe="button",classNames:he,style:ge={},autoInsertSpace:me,autoFocus:Se}=e,Ce=FR(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),Te=h||"default",[Le,ze]=(0,S.useMemo)(()=>{if(u&&d)return[u,d];const Dr=HR[Te]||[];return y?["danger",Dr[1]]:Dr},[h,u,d,y]),Be=Le==="danger"?"dangerous":Le,{getPrefixCls:Ue,direction:et,button:Ke}=(0,S.useContext)(re),Ie=(r=me!=null?me:Ke==null?void 0:Ke.autoInsertSpace)!==null&&r!==void 0?r:!0,Ae=Ue("btn",l),[$e,Oe,ct]=xR(Ae),ot=(0,S.useContext)(Ms),Rt=b!=null?b:ot,Tt=(0,S.useContext)(wc),zt=(0,S.useMemo)(()=>$R(c),[c]),[Wt,gr]=(0,S.useState)(zt.loading),[or,Xt]=(0,S.useState)(!1),ar=(0,S.useRef)(null),Kt=j(t,ar),Er=S.Children.count(A)===1&&!D&&!bd(ze),Nr=(0,S.useRef)(!0);S.useEffect(()=>(Nr.current=!1,()=>{Nr.current=!0}),[]),(0,S.useEffect)(()=>{let Dr=null;zt.delay>0?Dr=setTimeout(()=>{Dr=null,gr(!0)},zt.delay):gr(zt.loading);function Xr(){Dr&&(clearTimeout(Dr),Dr=null)}return Xr},[zt]),(0,S.useEffect)(()=>{if(!ar.current||!Ie)return;const Dr=ar.current.textContent||"";Er&&Jo(Dr)?or||Xt(!0):or&&Xt(!1)}),(0,S.useEffect)(()=>{Se&&ar.current&&ar.current.focus()},[]);const _r=S.useCallback(Dr=>{var Xr;if(Wt||Rt){Dr.preventDefault();return}(Xr=e.onClick)===null||Xr===void 0||Xr.call(e,Dr)},[e.onClick,Wt,Rt]),{compactSize:rn,compactItemClassnames:Jr}=vd(Ae,et),Yt={large:"lg",small:"sm",middle:void 0},fr=_i(Dr=>{var Xr,ia;return(ia=(Xr=_!=null?_:rn)!==null&&Xr!==void 0?Xr:Tt)!==null&&ia!==void 0?ia:Dr}),Ht=fr&&(n=Yt[fr])!==null&&n!==void 0?n:"",Yr=Wt?"loading":D,Rr=_e(Ce,["navigate"]),Pr=Ve()(Ae,Oe,ct,{[`${Ae}-${m}`]:m!=="default"&&m,[`${Ae}-${Te}`]:Te,[`${Ae}-dangerous`]:y,[`${Ae}-color-${Be}`]:Be,[`${Ae}-variant-${ze}`]:ze,[`${Ae}-${Ht}`]:Ht,[`${Ae}-icon-only`]:!A&&A!==0&&!!Yr,[`${Ae}-background-ghost`]:ie&&!bd(ze),[`${Ae}-loading`]:Wt,[`${Ae}-two-chinese-chars`]:or&&Ie&&!Wt,[`${Ae}-block`]:oe,[`${Ae}-rtl`]:et==="rtl",[`${Ae}-icon-end`]:Z==="end"},Jr,C,H,Ke==null?void 0:Ke.className),_n=Object.assign(Object.assign({},Ke==null?void 0:Ke.style),ge),Jn=Ve()(he==null?void 0:he.icon,(i=Ke==null?void 0:Ke.classNames)===null||i===void 0?void 0:i.icon),Yi=Object.assign(Object.assign({},(R==null?void 0:R.icon)||{}),((a=Ke==null?void 0:Ke.styles)===null||a===void 0?void 0:a.icon)||{}),nn=D&&!Wt?S.createElement(Ca,{prefixCls:Ae,className:Jn,style:Yi},D):typeof c=="object"&&c.icon?S.createElement(Ca,{prefixCls:Ae,className:Jn,style:Yi},c.icon):S.createElement(wd,{existIcon:!!D,prefixCls:Ae,loading:Wt,mount:Nr.current}),Gr=A||A===0?kh(A,Er&&Ie):null;if(Rr.href!==void 0)return $e(S.createElement("a",Object.assign({},Rr,{className:Ve()(Pr,{[`${Ae}-disabled`]:Rt}),href:Rt?void 0:Rr.href,style:_n,onClick:_r,ref:Kt,tabIndex:Rt?-1:0}),nn,Gr));let jr=S.createElement("button",Object.assign({},Ce,{type:fe,className:Pr,style:_n,onClick:_r,disabled:Rt,ref:Kt}),nn,Gr,Jr&&S.createElement(jR,{prefixCls:Ae}));return bd(ze)||(jr=S.createElement(Ui,{component:"Button",disabled:Wt},jr)),$e(jr)});Zv.Group=Sd,Zv.__ANT_BUTTON=!0;var zR=Zv,Pd=zR,kd={main:"main___naQ_v",top:"top___dwcAi",topLeft:"topLeft___zyLQl",topRight:"topRight___h2oWK",fullContent:"fullContent___ADx1m",content:"content___O6pND"},WR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAL0SURBVGiB3VpBTttAFH1/HEuplErOLpIXnd7APQHpCUgXCO8KJwBOgDgBcIK2uyA29ASEG/gG8aKR2NmtvEAd7N9FnZaaIYrHlifpk6JEP5o//8Xz57/5E8ITjMJEOuweMWFCDA8ED5sCRgRClEOd3U+H8dJMyw/+fnYM4HSjgn4JjJPF1eACKAn4+9kxCOd2o6qJkgSNwkQ6cOe246kNRpqTeiccuKe2YzECwXPYPRJgBLZjMQUTJgK0vQSI4QnbQTQCbTsBAFtPoFd3AIHf1x1TFOwJ6r1hFBLAuM28q03g2/T1rOmkZe05BXDQ1JeVJXQ/HcaL6eAQjJOmvqzmwOJqcNGUBPlhxrUmnQ6oapOTxHvo60Vg/wFpfDNMV/n0w2wOQNaJY4lWnoB65e46cOe6l+q7iR9m81LtasHgL6Zzd7WEJAjnfvjjQPttwZGp405zgNjZ1QYhaOUSW4VOCTCxNk+KQm9fB93uQoyv+ijIuLB1R4BxsTwGVkGgj6Zua1diHXJWdz30tBKDc0pdpeKXttIysaXp3K0QKLsEcd1xozCRgHh+ImRERLxWgWuFgAn8vSwA4xNI8+sT0nU1lzUpsbgeRDmpD8x008RPK1JiFCbSIXenaue8+C4EpY94jJ82o6rww+wWwPjvwI6XkEPuDhifq3YSAgzAgQs/zGY51KGOSA51+E9rhxAw6HadubtcQmMHrjaoktTMxGnXOSD9vUxbtBh8Z+Kw8yRmKqTOTkRG3cHOCRCLWGdn5rcm/romEC+uB1rpTKA3Jg67JDDLoVZ1NMYmTq1rIaCZHrKqhYAVemhNWO1K+HtZUNYGaerDipiTk8T72e8dg3EENLvSqq2FTFqLTOUOUyAAIQAjaOsurvYTWFejVAb9BlXeW8DWd6f/AwIM457MJkAwbTEBRiSI0ehIZxWESOSkLrd1GeVQZ6KUAWe2g6kNxsn9dBgLoJ2Lhs7ASJ/92WOJP3dXXFbMTQEjZUJKjJuc1OXTxsAvpuAdgpwMLcUAAAAASUVORK5CYII=",GR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAzjSURBVGiBxZt/cFzVdcc/576nHyutflnWT1uSMWAZ42CbkUmA4D9SxukkzjBJcG1IgWQITYDpTKekjtt0+mOmTYDCpElKHMA02AxJGJGkhLTTOu4M4BhIbUuYYoxTB2xZP2zZliXtT2n37ekf7+3u29VK2pVMe2au3rvv3Xfu+d7z455790q4zNS0dTRoW5UbDKZHYaMgKxRtR7VRRKoUENWoilwUZFjRUwKHDKnDcSfef763OXw55ZHLwaRh61hdtV15q6ZS9yDcDCwpSYiMFDImwkGjssdKxve/37tkYrGyLQpg252xLkk59wvcDbSV3LHk34tfoBGQvRay64MfBU4vVMYFAWzdGmoyljwkql9BpL6kDnNASa4QkieQWx8HedKech4/2VtzvlRZSwbYvj20TVQeRegsuaM0uAxIyamnG+YL5b0fUJEdp/ZWvVByv8XQss9ONmql9bCo3lvKdz4BEb/GfED8ACX3T94zVJBn4iR2Du2tvVhU38U06rordkVy2nkR4fpi2meY5/mYeKgKAvOhyMM3U0jRPjtlbj/xXOCDeWWYr0Hbtsj1RvQlYPl8bXMYy/zAZgPl98k5hBzE6G0nf1jdN6ccc730wP2SUiPkLODSwFKJCXR6HDu4Yoa5zuGDhYQfSYlumQvkrAC77opdkUw4r1GC5vya8QObGj1A+P3nmRo9QDKcG/HtYBeBllsItG6iumMLpqLOr9McvrMgGBTDphO7C5trwU+XfXaykXKzrxSf82tCPBVOj/6asTe/SjIyUCwbAq23UN2xhdqrvoApr88VcjZNqvbhJDe/VyDwFPxk+R2Rp1X1y8UK5Y+SaaChYw8TeufhYlkUpEDrx2lY9xdUtXw8r8MCMiC7jz9Ted/M53nUvj20TZAfF2ZTmERyzXLi0INET/2o2M/npfprHmBpz7f8PQKad0WR1B3Hd+fOkzkgWreGmiwjh4udxDNm6WlOBEJHv0Hkf36QK0e+XAuoly/5CMs2/xJTVjeXSAPTTqLn5A+zGY/xvzWWPFRShpL2Oe8+evJJor97CjHGLWKy94usJ8aPcf6NB7PWUrh0VthlD+WJ6FLbnbEu4yTfKja3zDdLEhOM7dtIKrHoBcCc1PCRHTRct2P2BirjTqp8/fFn5DT4NCgp5/5SwOXUgcg7f4UmQ+6of4hl/J3HcCJnECTrGojPkrTetqfv98tGw9axuiqr/DhFTOhZv/MYCziTx5h4dXMxY3NZKLhyG00f/W7Bd67L6ki5Rq858tSSCRug2i67VbXIbCXjd5LR5PRgL2JKyr8XRbGhX809+au0JUz1rcBPbQBNyT3FTArpFEwyuRiQnCQx9CJGzFyfXlZKxi+QjAxQFuwiN+ySnTWEe4Cfmqato0HcbYbiyJcAi0BydB844dzo92EWEZLJJKGBf/UCXdYX8azKc5+b1zygQdu2ajaAM+8eihQwTYDk8M8w5v9Oe4npaUQM8XMHkbUP+CX0ps2McEsqNbnBNjg9RXPPX78lJ3Eu/QbJMU/NbXgZ68FAORficSzLEB99I9erJCencQ1XtMcobJwXV772PM7JgT0YYzBGvGI+lHpXexPf+/P72P77t2BZFsZYqBMmGT3jM1MwvknfCIhhoy3IihmOWhBl7q3Gh0gO7s3TXl7DRdbXXtXJfZ+/lZvWraajdSnjk2GMMSiKKkxfOkZ5sDPznSoI6tOmrLBB2+fE5dNeNnKGSL7zx4gXXOaja6/sAODY787MeHfjum5uWtdNbTBAR8tSaqurqA0GWHvVzIyxs70JY1moKqh6icUMid2LAmi7rWijzBjFwt8IwMQhEie+gcaH5gXX0dJI7z98jY7WRgDOnL3IvX/zBJORGH9612e48bruzLtiKBSOueapCiiJ8Xczkiu+DMtzRoFGW5Cq+VkLTA2RGtiFnnvJs3NTeNXiu377z77kAtAUhEbpCNq8+NjXmIjE6GgpHliazoxexFjGDSKq7vSU2anTAo5mquz8mJUHy+O8Cz2zy31mJPflLNcb163ixutWuUjf/XcInYO2a6ntuoHaYBFjWoDGJ0IYY7nmqYoTHcpoTb1pAlVUQBRUFFtUo4gEZ0Nohp5Ehp6EEue6jpal7k1oFCLnQQw0dy8IWJoSsTCWsbwgk9agr0GenQpEbfdXHgoClNARzNBTrnAlUigad2/sCvda0wyBORerc1MqSWoqgrEMqm4UxYnM8Dv31ytQN7u5aAsyDNpViKc9/HRRUbIQvXdq2L0J1EPXx8DYC+KTochF1rTXuSbqadAYy/XBNCrIyRNEGTaKnirEz4T7MJH+BeeMQxfGefblV11mLd3QdOUiAY5x09XN3uRvecUU3DZJT21qOGUEDhXiZ0+8hhGzqPLNf/4Fe9IgF0uxCbo7m2kIVrrgLIvyYEdeBiM5QI3KIZMidbgQPyvajxhZdPnmsy8zOfCuO1UsAhzqgKb44qarMJabwollMqljRpPgCzSpwybpxPuBsRkAE6O+3HDh5WNrr6aWKJzpg8TUgvA9v/8If9nbz5GT5/jipqtpqK7EMhbl1cs8jfmWSVltjpVN2f32+d7m8LJt4YMIn0kzlFQYo5EFRc98umHtlVAWgPB5GHrL9cdASb+Z8tz+fobOX+Klt0ZYVl+JGIOxDHb18ozmgOwqwq0cfOX7ErYBxOgeVckCdMKXbY13w7Urodyzo+Q0DB6FpSuhoaOo74fPj3N2bNKd/1QZnpwGL4JWNPZkJ3pNr1M9lIY94O2qRZKJ/cBImqlaQaaavgR2bXZvcgHXumAVG9eshPIq1wfT6d34IJw9DqnkvABf6T+RiZhp38sEmbpV2T2i3HRsJGqs/RmAl3qXTCjszQA0QeJN9zDZ/TLRFd8m0Xg7UlbjRkcjRV8/sXGNy7C8yjVTEbdLJwGxSzD4FkxH5wT4+vkeymq7Md460LIsjGWoaOzBlNXkTAuZtSDsPfKITABkZl811i5xnK8g5DhIsno9TvV6plofpCz2NmXj/0FZ6CCk0sdZZk9KN65Z6d5W1EDXRghfYOLCOHXOWUg5kIzA0Nuw9AqoaZkBLjxt89/x3yOwYTM6dY7k8IskLhwkFR8h0P4pV3t+v3MXGeNGzS4yUviofXv4YYGvkxkNyRshb+WcClMWfp2y8X1YkaOzriZe/cHXqamqzBH6b/9zNb8dNvzBin4+3daPrXGwy6Gm1fVNH/Ue6+Cf3lyVKwvgTB7Frl/vdaPe6sIr6COvPGrtTPPIiSQpRx9XZeaPefk7c1aQRN1mYiseJ3rNv5BoewCtWZ/jf6tXtM0AB9BZH+XERDN/9/Yn2fSrHfz9ia28H22F8SHXZJ3pTNsDp5qyfXr5pwJW3Tqvrj5gADrgxKKP+/vLSRDP9tacb98e2gHmx6DzrIJ9YBs/R3Lp56gyIf5o5XfpP3GaVZ0zTQ6goy7m3QlJtfjFmbW8PLiWjuAk27sOsXn6PWqWdRKWevpHGjLBI7Mo11xj8R6h7hJjx4Hv5Z6lKQii/Y7I0wb9sn97Pt9MCpnw9csmef7Oo4C7miikwd9eCHLnT3oK549e/ZPL36O8soJ/+2BlNkL63CQjvGQBg+5+5VFrxg+gBVN8iTs7tcJcLyIlHRtZ05I9R1cIHEBHfWzGxmA+7RtanU2YsysD914VvIHQ9AJCtS8WjewsxKvgbD7089qLdpl1O+hg7hvN80dvXeY9Xts6/0HBgO3QXD2Vjni5rFXT5pYOGN7qnWw/6XbZMqhqbv+vJwofDJo1XTn9XOCDpCO34UsA/OOuvnpazjUtoXkBgqtFPx/1j5sPdOa55rXLRs2RVMK57bXHZNYDQXPmYyMvVPeJwxaFQfWPcEaArDQB22HlklhBPvnUWRf1BE6rxic0uZEx+yyr3ZT7flCTzpYD/1g+50GgeRPO0y9U94kxm4BcRnlTxzXNESxTxAYy0Fkfy3yvvpJ+kKnnaS5tlmiqT8Rsmg8cFAEQPHO1nM0Cu91wnH2XHvE1RfifH6AfBH7fg8yumd/v3KuoIrunp2Kb5zJLPxW9UeKd7rtvxRei+xF9VJFOyHrl2tbi/A98PpiOjHhbKuKBEX/UJD3pDajqjje/Y5d0nLLkNdGp56teMPFUD/AIMJ7W5rUtxWuwozaW3ajN9z1yTTKlOp5SfSTuxHpKBQdzT0fz0hX3apeViN1fXZG6u+9P3mgzRfogwKef/SjDk4GcRAFfYgGMCOy1U/au159wT0wshBYFMCPszvGGv/7Ee3c3Vyf+sKVmakNlWcqa75uv/vw6fnOmAfBlR0bGVFMHjbBHpyP7jzz1/3wovRDt/Nbphk3dY59a3x5ePe1ws2XoDpQnG6vLnfIKKyUAU47R7/x65YWfHF1+EjilhkOWyuG42P3vfl8u678V/C9XXyJLxQlCvQAAAABJRU5ErkJggg==",St=Dt(5893);function MS(e){var t=e.title,r=e.children;return(0,St.jsxs)("div",{className:kd.main,children:[(0,St.jsxs)("div",{className:kd.top,children:[(0,St.jsxs)("div",{className:kd.topLeft,children:[(0,St.jsx)("img",{src:WR,alt:"logo"}),(0,St.jsx)("h1",{children:t})]}),(0,St.jsx)("div",{className:kd.topRight,children:(0,St.jsx)("img",{src:GR,alt:"avatar"})})]}),(0,St.jsx)("div",{className:kd.fullContent,children:(0,St.jsx)("div",{className:kd.content,children:r})})]})}var KR={profilePicture:"https://img.alicdn.com/imgextra/i1/O1CN01O7c5wV23ekmfZSZIm_!!6000000007281-2-tps-192-192.png",title:"\u82F1\u8BED\u53E3\u8BED\u4E13\u5BB6",desc:{title:"\u{1F44B} Hi\uFF0C\u6211\u662F\u4E00\u540D AI \u82F1\u8BED\u53E3\u8BED\u4E13\u5BB6\uFF01",content:"\u82F1\u8BED\u53E3\u8BED\u4E13\u5BB6\u80FD\u6A21\u62DF\u771F\u5B9E\u82F1\u8BED\u5BF9\u8BDD\u573A\u666F\uFF0C\u65E0\u8BBA\u662F\u65E5\u5E38\u4EA4\u6D41\u3001\u5546\u52A1\u6D3D\u8C08\uFF0C\u8FD8\u662F\u65C5\u884C\u95EE\u8DEF\u90FD\u80FD\u8986\u76D6\u3002\u7528\u6237\u53EF\u4F9D\u636E\u81EA\u8EAB\u82F1\u8BED\u6C34\u5E73\u6311\u9009\u96BE\u5EA6\u7B49\u7EA7\uFF0C\u4EE5\u5B9E\u65F6\u4E92\u52A8\u5F62\u5F0F\u5F00\u5C55\u4E2D\u82F1\u53CC\u8BED\u4EA4\u6D41\uFF0C\u5728\u5B9E\u8DF5\u4E2D\u5B66\u4E60\u5DE9\u56FA\u77E5\u8BC6 \u3002\u6B64\u5916\uFF0C\u82F1\u8BED\u53E3\u8BED\u4E13\u5BB6\u53CD\u9988\u673A\u5236\u5F3A\u5927\uFF0C\u5728\u5BF9\u8BDD\u65F6\u80FD\u5373\u65F6\u8BC4\u4F30\u53D1\u97F3\u3001\u8BED\u6CD5\u53CA\u6D41\u5229\u5EA6\uFF0C\u4E3A\u7528\u6237\u7CBE\u51C6\u63D0\u4F9B\u6709\u9488\u5BF9\u6027\u7684\u6539\u8FDB\u5EFA\u8BAE\uFF0C\u5E2E\u52A9\u7528\u6237\u9AD8\u6548\u63D0\u5347\u82F1\u8BED\u53E3\u8BED\u6C34\u5E73\u3002"}},Jm=[{icon:"https://img.alicdn.com/imgextra/i1/O1CN016nCgb41fqcGPqUdbI_!!6000000004058-2-tps-48-48.png",name:"\u65E5\u5E38\u4EA4\u6D41"},{icon:"https://img.alicdn.com/imgextra/i4/O1CN01aUGAvB1iiJw8luCyF_!!6000000004446-2-tps-48-48.png",name:"\u5546\u52A1\u4F1A\u8BAE"},{icon:"https://img.alicdn.com/imgextra/i2/O1CN01NDRPq41HYFbRqL86s_!!6000000000769-2-tps-48-48.png",name:"\u65C5\u884C\u4E0E\u95EE\u8DEF"},{icon:"https://img.alicdn.com/imgextra/i3/O1CN01WcwxzX204cgvMbK68_!!6000000006796-2-tps-48-48.png",name:"\u9910\u5385\u70B9\u9910"},{icon:"https://img.alicdn.com/imgextra/i3/O1CN01C9T2I21G0zDfe3ePd_!!6000000000561-2-tps-48-48.png",name:"\u5546\u573A\u9009\u8D2D"},{icon:"https://img.alicdn.com/imgextra/i1/O1CN01xoDJQk1CSEJlNH2GY_!!6000000000079-2-tps-48-48.png",name:"\u968F\u673A\u573A\u666F"}],NS=[{icon:"https://img.alicdn.com/imgextra/i3/O1CN01U8DTxh1qYiYfep3UQ_!!6000000005508-2-tps-23-23.png",name:"\u57FA\u7840\u82F1\u8BED"},{icon:"https://img.alicdn.com/imgextra/i3/O1CN01HDSRZm22jxfe8C4ga_!!6000000007157-2-tps-48-48.png",name:"CET-4"},{icon:"https://img.alicdn.com/imgextra/i2/O1CN01vKEo5l1z2xdcxY3ax_!!6000000006657-2-tps-48-48.png",name:"CET-6"}],qR=[{oder:1,title:"\u9009\u62E9\u5B66\u4E60\u573A\u666F\u548C\u96BE\u5EA6",desc:"\u9009\u62E9\u4F60\u60F3\u8981\u5B66\u4E60\u7684\u573A\u666F\u548C\u96BE\u5EA6",img:"https://img.alicdn.com/imgextra/i4/O1CN01PynTx81mu0VR9KDan_!!6000000005013-2-tps-100-86.png"},{oder:2,title:"\u5BF9\u8BDD\u4E92\u52A8",desc:"\u5728AI\u667A\u80FD\u4F53\u7684\u5F15\u5BFC\u4E0B\uFF0C\u5C55\u5F00\u5B9E\u65F6\u4E92\u52A8\u7684\u6559\u5B66\u5BF9\u8BDD\u3002",img:"https://img.alicdn.com/imgextra/i4/O1CN013d1zlV1HpCG3b4SVf_!!6000000000806-2-tps-100-87.png"},{oder:3,title:"\u67E5\u770B\u8BC4\u5206\u548C\u5B66\u4E60\u5EFA\u8BAE",desc:"\u63D0\u4F9B\u8BC4\u5206\u4E0E\u5B66\u4E60\u5EFA\u8BAE\uFF0C\u5E76\u5C55\u5F00\u4E0B\u4E00\u8F6E\u5BF9\u8BDD\u3002",img:"https://img.alicdn.com/imgextra/i4/O1CN01xoEe9W1E5RqeCabJh_!!6000000000300-2-tps-200-172.png"}],JR=Dt(9632),e0=Dt.n(JR),YR=Dt(7857),Id=Dt.n(YR);const DS=e=>{let t;const r=new Set,n=(h,y)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const _=t;t=(y!=null?y:typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(R=>R(t,_))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,i,u);return u},LS=e=>e?DS(e):DS;var f6=e=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),LS(e)),XR=Dt(2798);const{useDebugValue:QR}=S,{useSyncExternalStoreWithSelector:ZR}=XR;let VS=!1;const ew=e=>e;function tw(e,t=ew,r){r&&!VS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),VS=!0);const n=ZR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return QR(n),n}const US=e=>{typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?LS(e):e,r=(n,i)=>tw(t,n,i);return Object.assign(r,t),r},BS=e=>e?US(e):US;var h6=e=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),BS(e)),Tr=Dt(7544),rw=Dt(6729),ti=rw,nw=Object.defineProperty,iw=Object.defineProperties,ow=Object.getOwnPropertyDescriptors,Ym=Object.getOwnPropertySymbols,aw=Object.getPrototypeOf,jS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable,sw=Reflect.get,t0=(e,t,r)=>t in e?nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dr=(e,t)=>{for(var r in t||(t={}))jS.call(t,r)&&t0(e,r,t[r]);if(Ym)for(var r of Ym(t))FS.call(t,r)&&t0(e,r,t[r]);return e},ql=(e,t)=>iw(e,ow(t)),Bh=(e,t)=>{var r={};for(var n in e)jS.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ym)for(var n of Ym(e))t.indexOf(n)<0&&FS.call(e,n)&&(r[n]=e[n]);return r},ae=(e,t,r)=>(t0(e,typeof t!="symbol"?t+"":t,r),r),$S=(e,t,r)=>sw(aw(e),r,t),Ye=(e,t,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(d){i(d)}},c=u=>{try{l(r.throw(u))}catch(d){i(d)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,c);l((r=r.apply(e,t)).next())}),cw=Object.defineProperty,lw=(e,t,r)=>t in e?cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Od=(e,t,r)=>(lw(e,typeof t!="symbol"?t+"":t,r),r),r0={exports:{}},n0={exports:{}},i0,HS;function Gi(){if(HS)return i0;HS=1,Date.now=Date.now||function(){return new Date().getTime()};var e=Date.now(),t=function(){},r=function(){var i=typeof console=="object"?console.warn:t;try{var a={warn:i};a.warn.call(a)}catch(c){return t}return i},n={noop:t,warn:r(),key:"__bl",selfErrKey:"ARMS_SDK_ERROR",selfErrPage:"ARMSSDK",win:typeof window=="object"&&window.document?window:void 0,regionMap:{cn:"https://arms-retcode.aliyuncs.com/r.png?",sg:"https://arms-retcode-sg.aliyuncs.com/r.png?",sg_2:"https://retcode-sg-lazada.arms.aliyuncs.com/r.png?",daily:"http://arms-retcode-daily.alibaba.net/r.png?",daily_2:"https://arms-retcode-daily.alibaba.net/r.png?",daily_3:"http://arms-retcode-daily.aliyun.test/r.png?",us:"https://retcode-us-west-1.arms.aliyuncs.com/r.png?",tw:"https://arms-retcode.orientalgame.com.tw/r.png?",tw_sg:"https://arms-retcode-sg.orientalgame.com.tw/r.png?",hz_finance:"https://arms-retcode-hz-finance.aliyuncs.com/r.png?"},defaultImgUrl:"https://arms-retcode.aliyuncs.com/r.png?",createObject:function(i){if(Object.create)return Object.create(i);var a=function(){};return a.prototype=i,new a},each:function(i,a){var c=0,l=i.length;if(this.T(i,"Array"))for(;c<l&&a.call(i[c],i[c],c)!==!1;c++);else for(c in i)if(a.call(i[c],i[c],c)===!1)break;return i},safetyCall:function(i,a,c){if(typeof i!="function")return c;try{return i.apply(this,a)}catch(l){return c}},T:function(i,a){var c=Object.prototype.toString.call(i).substring(8).replace("]","");return a?c===a:c},duration:function(){var i=Date;try{performance&&this.T(performance.now,"Function")&&(i=performance)}catch(c){i=Date}var a=i.now();return function(){return Math.round(i.now()-a)}},filterByRule:function(){var i=[].slice.call(arguments),a=i.length;if(a<2)return i[0];var c=i[a-1],l=i[0];if(!l)return"";if(!c)return l;var u=this,d=u.T(c),h=i.slice(0,a-1);return d==="Function"?u.safetyCall(c,h,l):d==="Array"?(this.each(c,function(y){h[0]=l=u.filterByRule.apply(u,[].concat(h,y))}),l):d==="Object"?l.replace(c.rule,c.target||""):l.replace(c,"")},ignoreByRule:function(i,a){if(!i||!a)return!1;if((this.isString(a)||a.source||this.T(a)==="Function")&&(a=[a]),!this.isArray(a))return this.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var c,l=[],u=0,d=a.length;u<d;u++)if(c=a[u],this.isString(c))l.push(c.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(c&&c.source)l.push(c.source);else if(c&&this.T(c)==="Function"&&this.safetyCall(c,[i],!1)===!0)return!0;var h=new RegExp(l.join("|"),"i");return!!(l.length&&h.test&&h.test(i))},J:function(i){if(!i||typeof i!="string")return i;var a=null;try{a=JSON.parse(i)}catch(c){}return a},pick:function(i){return i===1||Math.ceil(Math.random()*i)===1},verifyConfig:function(i){if("sample"in i){var a=i.sample,c=a;a&&/^\d+(\.\d+)?%$/.test(a)&&(c=parseInt(100/parseFloat(a))),0<c&&1>c&&(c=parseInt(1/c)),c>=1&&c<=100?i.sample=c:delete i.sample}return i},on:function(i,a,c,l,u){return i.addEventListener?(u=u||!1,i.addEventListener(a,function d(h){l&&i.removeEventListener(a,d,u),c.call(this,h)},u)):i.attachEvent&&i.attachEvent("on"+a,function d(h){l&&i.detachEvent("on"+a,d),c.call(this,h)}),this},off:function(i,a,c){return c?(i.removeEventListener?i.removeEventListener(a,c):i.detachEvent&&i.detachEvent(a,c),this):this},delay:function(i,a){return a===-1?(i(),null):setTimeout(i,a||0)},ext:function(i){for(var a=1,c=arguments.length;a<c;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i},sub:function(i,a){var c={};return this.each(i,function(l,u){a.indexOf(u)!==-1&&(c[u]=l)}),c},uu:function(){for(var i,a,c=20,l=new Array(c),u=Date.now().toString(36).split("");c-- >0;)a=(i=36*Math.random()|0).toString(36),l[c]=i%3?a:a.toUpperCase();for(var d=0;d<8;d++)l.splice(3*d+2,0,u[d]);return l.join("")},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=16*Math.random()|0;return(i==="x"?a:3&a|8).toString(16)})},seq:function(){return(e++).toString(36)},decode:function(i){try{i=decodeURIComponent(i)}catch(a){}return i},encode:function(i,a){try{i=a?encodeURIComponent(i).replace(/\(/g,"%28").replace(/\)/g,"%29"):encodeURIComponent(i)}catch(c){}return i},serialize:function(i){i=i||{};var a=[];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&i[c]!==void 0&&a.push(c+"="+this.encode(i[c],c==="msg"));return a.join("&")},checkAPI:function(i,a){if(!i||typeof i!="string")return!1;var c=/arms-retcode[\w-]*\.aliyuncs/.test(i);return!c&&a&&(c=/(alicdn\.com)|(mmstat\.com)/.test(i)),!c},checkAutoError:function(i){return!(!i||!i.message)&&!/failed[\w\s]+fetch/i.test(i.message)},cutUrlSearch:function(i){return i&&typeof i=="string"?i.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},removeUrlSearch:function(i){return i&&typeof i=="string"?i.replace(/\?.*$/,""):""},createFakeToString:function(i){return function(){return i+"() { [native code] }"}},checkSameOrigin:function(i,a){if(!a||!i)return!1;var c="//"+a.split("/")[2];return i===a||i.slice(0,a.length+1)===a+"/"||i===c||i.slice(0,c.length+1)===c+"/"||!/^(\/\/|http:|https:).*/.test(i)},getRandIP:function(){for(var i=[],a=0;a<4;a++){var c=Math.floor(256*Math.random());i[a]=(c>15?"":"0")+c.toString(16)}return i.join("").replace(/^0/,"1")},getSortNum:function(i){return i?(i+=1)>=1e3&&i<=9999?i:i<1e3?i+1e3:i%1e4+1e3:1e3},getRandNum:function(i){return i&&typeof i=="string"?i.length<5?this.getNum(5):i.substring(i.length-5):this.getNum(5)},getNum:function(i){for(var a=[],c=0;c<i;c++){var l=Math.floor(16*Math.random());a[c]=l.toString(16)}return a.join("")},getCurDomain:function(){return location&&location.hostname||""},getSrcType:function(i,a){var c=location&&location.host||"";if(!c)return"";var l=new URL(i).host;if(l===c)return"self";for(var u=0;u<a.length;u+=1)if(l.includes(a[u]))return"cdn";return"others"},parseFetchHeaders:function(i){if(!i)return{};var a={};try{if(typeof i.keys=="function")for(var c=i.keys(),l=c.next();!l.done;){var u=l.value;a[u]=i.get(u),l=c.next()}else a=i}catch(d){a={}}return a},parseXhrHeaders:function(i){if(!i&&typeof i!="string")return{};var a={};try{var c=i.split(`\r
`);a=c.reduce(function(l,u){var d=u.split(": ");return l[d[0]]=d[1],l},{})}catch(l){a={}}return a},getQuerys:function(i){if(!i)return"";var a={},c=[],l="",u="";try{var d=[];if(i.indexOf("?")>=0&&(d=i.substring(i.indexOf("?")+1,i.length).split("&")),d.length>0)for(var h in d)l=(c=d[h].split("="))[0],u=c[1],a[l]=u}catch(y){a={}}return a},getURL:function(i){if(!i)return null;var a={},c=i.length,l=i.indexOf("://");if(l<0)return null;a.protocol=i.substring(0,l+1);var u=i.indexOf("#"),d=i.indexOf("?");u<0&&(u=c),d<0&&(d=u),a.search=i.substring(d,u).substring(0,1e3);var h=i.substring(l+3,d),y=h.indexOf("/");return y<0&&(y=h.length),a.domain=h.substring(0,y).split(":")[0],a.path=h.substring(y,h.length).substring(0,1e3),a},getResType:function(i,a){if(["script","img","other"].indexOf(i)>-1)return i;if(["video"].indexOf(i)>-1)return"media";if(["document","iframe"].indexOf(i)>-1)return"doc";var c=a?this.getURL(a):null,l=c&&c.path?c.path.lastIndexOf("."):-1,u=(l>0?c.path.substr(l+1):"").toLowerCase();if(u){if(["eot","woff","woff2","ttf"].indexOf(u)>-1)return"font";if(u==="css")return"css";if(u==="js")return"script"}return["fetch","xmlhttprequest","beacon"].indexOf(i)>-1?"api":"others"},areInOrder:function(){for(var i=1;i<arguments.length;i+=1)if(arguments[i-1]>arguments[i])return!1;return!0},getFetchSnapshot:function(i,a,c){var l,u;try{var d=(i&&typeof i[0]!="string"?i[0].url:i[0])||"",h=(i&&typeof i[0]!="string"?i[0]:i[1])||{},y=h.method.toUpperCase()==="POST"?h.body:this.getQuerys(d);l={originApi:d,method:h.method||"unknown",params:y,response:a||"",reqHeaders:this.parseFetchHeaders(h.headers||null),resHeaders:this.parseFetchHeaders(c)},u=JSON&&JSON.stringify(l)||"{}"}catch(m){u="{}"}return u},getXhrSnapshot:function(i,a,c){if(!i||!a||!c)return{};var l,u;try{var d="";c.responseType===""||c.responseType==="text"?d=c.responseText:c.responseType==="document"&&(d=c.responseXML),l={originApi:i,method:a,params:this.getQuerys(i),response:d,reqHeaders:{},resHeaders:this.parseXhrHeaders(typeof c.getAllResponseHeaders=="function"&&c.getAllResponseHeaders()||"")},u=JSON&&JSON.stringify(l)||"{}"}catch(h){u="{}"}return u},isRobot:function(){var i=["nuhk","googlebot/","googlebot-image","yammybot","openbot","slurp","msnbot","ask jeeves/teoma","ia_archiver","baiduspider","bingbot/","adsbot"];if(!navigator||typeof navigator.userAgent!="string")return!1;try{for(var a=navigator.userAgent.toLowerCase(),c=0;c<i.length;c++){var l=i[c];if(a.lastIndexOf(l)>=0)return!0}}catch(u){this.warn("[arms] useragent parse error")}return!1},isFunction:function(i){return typeof i=="function"},isPlainObject:function(i){return Object.prototype.toString.call(i)==="[object Object]"},isString:function(i){return Object.prototype.toString.call(i)==="[object String]"},isArray:function(i){return Object.prototype.toString.call(i)==="[object Array]"},joinRegExp:function(i){for(var a,c=[],l=0,u=i.length;l<u;l++)a=i[l],this.isString(a)?c.push(a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):a&&a.source&&c.push(a.source);return new RegExp(c.join("|"),"i")},reWriteMethod:function(i,a,c){if(i!==null){var l=i[a];i[a]=c(l)}},checkSDKError:function(i,a){return!i&&!a?!1:new RegExp(this.selfErrKey,"i").test(i)?!0:!!this.ignoreByRule(a,[/retcode.alicdn.com\/retcode\/bl.js/,/g.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/laz-g-cdn.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/local.taobao.com:8880\/build\/bl/])},sdkError:function(i){return{msg:i,message:this.selfErrKey}},dealParam:function(i,a,c){var l={};try{l=this.isPlainObject(i)?this.ext({key:i.key||"default",val:i.val||i.value||c},i,{begin:Date.now()}):{key:i||"default",val:a||c,begin:Date.now()}}catch(u){this.warn("[retcode] baseLog error: "+u)}return l}};return i0=n,i0}var o0={exports:{}},a0={exports:{}},s0,zS;function uw(){if(zS)return s0;zS=1;var e=Gi();return s0=function(t,r,n){typeof t=="object"&&(t=e.serialize(t));var i=r+t+(n?"&post_res=":"");window&&window.navigator&&typeof window.navigator.sendBeacon=="function"?window.navigator.sendBeacon(i,n||"&post_res="):e.warn("[arms] navigator.sendBeacon not surported")},s0}var WS;function dw(){if(WS)return a0.exports;WS=1;var e=Gi(),t=uw(),r="aokcdqn3ly@e629dabd48a9933",n=function(a,c){var l;if(c.t==="error"&&(l=a.requestQueue[0])&&l.t==="error"&&c.msg===l.msg)return c.times=l.times+1,void(a.requestQueue[0]=c);if(c.t==="behavior"){var u=a.requestQueue&&a.requestQueue.length;if(u>0&&a.requestQueue[u-1].t==="behavior"){var d=c.behavior||[];a.requestQueue[u-1].behavior.concat(d)}else a.requestQueue.push(c)}else a.requestQueue.unshift(c);return a.onReady(function(){a.requestTimmer=e.delay(function(){a.clear()},a.requestQueue[0]&&a.requestQueue[0].t==="error"?3e3:-1)}),!0},i=function(a){return this.ver="1.8.36-beta.12",this._conf=e.ext({},i.dftCon),this.sampleCache={},this.requestQueue=[],this.selfQueue=[],this.sdkFlag=!0,this.hash=e.seq(),this.resetPageview(),this.setConfig(a),this.rip=e.getRandIP(),this.record=999,this["EagleEye-TraceID"]=this.getTraceId()["EagleEye-TraceID"],this._common={},this};return i.dftCon={sample:1,pvSample:1,tag:"",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",region:null,ignore:{ignoreUrls:[],ignoreApis:[],ignoreErrors:[/^Script error\.?$/],ignoreResErrors:[],ignoreResources:[/\/(bl|wl)(.debug)?.js$/]},release:void 0,environment:"prod",beforeReport:null,parseTraceId:null},i.prototype={constructor:i,onReady:function(a){return a()},getPage:function(){var a=this._conf.page;return e.safetyCall(a,[],a+"")},setPage:function(){},setConfig:function(a){a&&typeof a=="object"&&(e.verifyConfig(a),a=this.setImgUrl(a),this._conf=e.ext({},this._conf,a))},setImgUrl:function(a){var c=a.region,l=a.imgUrl;if(c){var u=e.regionMap[c];return a.imgUrl=u||e.defaultImgUrl,a}return l&&(a.imgUrl=l),a},checkImgUrl:function(){return!0},sendRequest:function(){},sendBeacon:function(a,c,l){t(a,c||this.getConfig("imgUrl"),l)},postData:function(){},commonInfo:function(){return{}},setCommonInfo:function(a){a&&typeof a=="object"&&(this._common=e.ext({},this._common,a))},resetPageview:function(){this.pageview=e.uu(),this.sBegin=Date.now()},getUsername:function(){if(this.username)return this.username;var a=this._conf,c=a&&a.setUsername;if(typeof c=="function")try{var l=c();typeof l=="string"&&(l=l.substr(0,40),this.username=l)}catch(u){e.warn("[arms] setUsername fail",u)}return this.username},getTraceId:function(){var a=this.rip,c=Date.now(),l=e.getSortNum(this.record),u=a+c+l+e.getRandNum(this._conf.pid);return this["EagleEye-TraceID"]=u,this.record=l,{"EagleEye-TraceID":u}},getUberTraceId:function(a){var c=this.rip,l=Date.now(),u=e.getSortNum(this.record),d=e.getRandNum(this._conf.pid),h=c+l+u+e.getNum(2)+d,y=h.substring(0,16);return a=a?"1":"0",h[0]==="0"&&(h[0]="1"),h[16]==="0"&&(h[16]="1"),{"uber-trace-id":h+":"+y+":0:"+a,traceId:h}},getB3TraceId:function(a){var c=this.rip,l=Date.now(),u=e.getSortNum(this.record),d=e.getRandNum(this._conf.pid),h=c+l+u+e.getNum(2)+d,y=h.substring(0,16);return a=a?"1":"0",h[0]==="0"&&(h[0]="1"),h[16]==="0"&&(h[16]="1"),{b3:h+"-"+y+"-"+a+"-0","X-B3-TraceId":h,"X-B3-ParentSpanId":"0","X-B3-SpanId":y,"X-B3-Sampled":a}},getPageviewId:function(){return{"EagleEye-SessionID":this.pageview}},getConfig:function(a){return a?this._conf[a]:e.ext({},this._conf)},sampling:function(a){return a===1||(typeof this.sampleCache[a]=="boolean"?this.sampleCache[a]:(this.sampleCache[a]=e.pick(a),this.sampleCache[a]))},clear:function(a){var c;clearTimeout(this.requestTimmer),this.requestTimmer=null;for(var l=this._conf&&typeof this._conf.sendRequest=="function";c=this.requestQueue.pop();)if(c.t==="res")this.postData(c,"res");else if(c.t==="error")this.postData(c,"err");else if(c.t==="api")this.postData(c,"apiSnapshot");else if(c.t==="behavior")this.postData(c,"behavior");else if(c.t==="health"&&!l&&window&&window.navigator&&typeof window.navigator.sendBeacon=="function")this.sendBeacon(c);else if(c.t==="resource"&&!l&&window&&window.navigator&&typeof window.navigator.sendBeacon=="function"){var u=JSON.stringify({resource:c.resource});delete c.resource,this.sendBeacon(c,null,u)}else c.t==="resource"?this.postData(c,"resource"):this.sendRequest(c);return a&&this.clearSelf(),this},clearSelf:function(){var a;for(clearTimeout(this.Timmer),this.Timmer=null;a=this.selfQueue.pop();)this.postData(a,"err");return this},_lg:function(a,c,l,u){var d=this,h=d._conf,y=d.getPage(),m=h.ignore||{},_=m.ignoreErrors,R=m.ignoreResErrors,b=m.ignoreUrls,C=m.ignoreApis;if(d._isRobot||e.ignoreByRule(y,b)||e.ignoreByRule(e.decode(y),b)||a==="error"&&(e.ignoreByRule(c.msg,_)||e.ignoreByRule(e.decode(c.msg),_))||a==="resourceError"&&(e.ignoreByRule(c.src,R)||e.ignoreByRule(e.decode(c.src),R))||a==="api"&&(e.ignoreByRule(c.api,C)||e.ignoreByRule(e.decode(c.api),C))||!d.checkImgUrl(h.imgUrl)||!c||h.disabled||!h.pid||u===0)return d;var H=c.dl;if(delete c.dl,c=e.ext({t:a,times:1,page:y,tag:h.tag||"",release:h.release||"",environment:h.environment,begin:Date.now(),c1:h.c1,c2:h.c2,c3:h.c3},c,d.commonInfo(),d._common,{pid:h.pid,_v:d.ver,pv_id:d.pageview,username:d.getUsername(),sampling:l||1,dl:H,z:e.seq()}),e.T(h.beforeReport)==="Function")try{if(!(c=h.beforeReport(c)))return d}catch(A){return d}return u===1?n(d,c):l&&!d.sampling(l)?d:n(d,c)},_self:function(a,c,l){var u=this,d=u._conf;if(a!=="error"||!u.checkImgUrl(d.imgUrl)||!c||d.disabled||!d.pid||!r||l&&!u.sampling(l))return u;c=e.ext({t:a,times:1,page:e.selfErrPage,tag:d.pid,begin:Date.now()},c,{pid:r,_v:u.ver,sampling:l||1,z:e.seq()});var h=u.selfQueue[0];if(h){h.times++;try{h.err&&c.err&&h.err.msg_raw&&c.err.msg_raw&&h.err.msg_raw.split("&").indexOf(c.err.msg_raw)<0&&h.err.msg_raw.length<1e3&&(h.err.msg_raw+="&"+c.err.msg_raw)}catch(y){}}else u.selfQueue.unshift(c),u.onReady(function(){u.sdkFlag&&(u.sdkFlag=!1,u.Timmer=e.delay(function(){u.clearSelf()},1e4))})},custom:function(a,c){if(!a||typeof a!="object")return this;var l=!1,u={begin:Date.now()};return e.each(a,function(d,h){return!(l=h&&h.length<=20)&&e.warn("[retcode] invalid key: "+h),u["x-"+h]=d,l}),l?this._lg("custom",u,c||1):this}},a0.exports=i,a0.exports}var GS;function fw(){if(GS)return o0.exports;GS=1;var e=Gi(),t=dw(),r=["api","success","time","code","msg","trace","traceId","begin","pv_id","sid","seq","domain","flag","apiSnapshot","tag","c1","c2","c3"],n=function(a){var c=(a.key||"default").split("::");return c.length>1?e.ext(a,{group:c[0],key:c[1]}):e.ext(a,{group:"default_group",key:c[0]})},i=function(a){t.call(this,a);var c;try{c=typeof performance=="object"?performance.timing.fetchStart:Date.now()}catch(l){c=Date.now()}return this._startTime=c,this};return i.prototype=e.createObject(t.prototype),e.ext(t.dftCon,{startTime:null}),e.ext(i.prototype,{constructor:i,_super:t,sum:function(a,c,l){try{var u=e.dealParam(a,c,1);return this._lg("sum",n(u),l)}catch(d){e.warn("[retcode] can not get parseStatData: "+d)}},avg:function(a,c,l){try{var u=e.dealParam(a,c,0);return this._lg("avg",n(u),l)}catch(d){e.warn("[retcode] can not get parseStatData: "+d)}},percent:function(a,c,l,u){try{return this._lg("percent",n({key:a,subkey:c,val:l||0,begin:Date.now()}),u)}catch(d){e.warn("[retcode] can not get parseStatData: "+d)}},msg:function(a,c){if(a&&!(a.length>180))return this.custom({msg:a},c)},error:function(a,c){if(!a)return e.warn("[retcode] invalid param e: "+a),this;arguments.length===1?(typeof a=="string"&&(a={message:a},c={}),typeof a=="object"&&(c=a=a.error||a)):(typeof a=="string"&&(a={message:a}),typeof c!="object"&&(c={}));var l=a.name||"CustomError",u=a.message||"",d=a.stack||"";c=c||{};var h=typeof location=="object"&&typeof location.href=="string"&&location.href.substring(0,500)||"";if(e.checkSDKError(u,c.filename)){var y=/^Script error\.?$/,m=a.msg||a.message;if(e.ignoreByRule(m,y)||e.ignoreByRule(e.decode(m),y))return this;var _={msg:e.selfErrKey,err:{msg_raw:e.encode(a.msg||a.message)}};return this._self("error",_,1)}for(var R={begin:Date.now(),cate:l,msg:u&&u.substring(0,1e3),stack:d&&d.substring(0,1e3),file:e.removeUrlSearch(c.filename||""),line:c.lineno||"",col:c.colno||"",err:{msg_raw:e.encode(u),stack_raw:e.encode(d)},dl:h},b=["tag","c1","c2","c3"],C=0;C<b.length;C++){var H=b[C];c[H]&&(R[H]=c[H])}var A=(this.getConfig("ignore")||{}).ignoreErrors;return e.ignoreByRule(R.msg,A)||e.ignoreByRule(e.decode(R.msg),A)?this:(this.beforeSend&&this.beforeSend("error",R),this._lg("error",R,1))},behavior:function(a){if(a){var c=typeof a=="object"&&a.behavior?a:{behavior:a};return this.beforeSend&&this.beforeSend("behavior",c),this._lg("behavior",c,1)}},api:function(a,c,l,u,d,h,y,m,_,R,b,C,H,A,D,Z){if(!a)return e.warn("[retcode] api is null"),this;if(a=typeof a=="string"?{api:a,success:c,time:l,code:u,msg:d,begin:h,traceId:y,pv_id:m,apiSnapshot:_,domain:R,flag:C,tag:H,c1:A,c2:D,c3:Z}:e.sub(a,r),!e.checkAPI(a.api,!0))return this;a.code=a.code||"";var ie=a.msg||"";if(ie=typeof ie=="string"?ie.substring(0,1e3):ie,a.msg=ie,a.success=a.success?1:0,a.time=+a.time,a.begin=a.begin,a.traceId=a.traceId||"",a.pv_id=a.pv_id||"",a.domain=a.domain||"",a.flag=a.flag,a.dl=typeof location=="object"&&typeof location.href=="string"&&location.href.substring(0,500)||"",a.apiSnapshot&&(typeof a.apiSnapshot=="object"&&(a.apiSnapshot=JSON.stringify(a.apiSnapshot)),typeof a.apiSnapshot!="string"&&delete a.apiSnapshot,a.apiSnapshot.length>2e3&&(a.apiSnapshot=a.apiSnapshot.substring(0,2e3))),b&&(a.traceOrigin=b),!a.api||isNaN(a.time))return e.warn("[retcode] invalid time or api"),this;var oe=(this.getConfig("ignore")||{}).ignoreApis;return e.ignoreByRule(a.api,oe)||e.ignoreByRule(e.decode(a.api),oe)?this:a.time<0?this:(this.beforeSend&&this.beforeSend("api",a),this._lg("api",a,a.success&&this.getConfig("sample"),a.flag))},speed:function(a,c,l){var u=this,d=this.getConfig("startTime")||this._startTime;return/^s(\d|1[0])$/.test(a)?(c=typeof c!="number"?Date.now()-d:c>=d?c-d:c,u.speedCache=u.speedCache||{},u.speedCache[a]=c,u.speedCache.begin=d,clearTimeout(u.speedTimmer),u.speedTimmer=setTimeout(function(){l||(u.speedCache.page=u.getPage(!0)),u._lg("speed",u.speedCache),u.speedCache=null},5e3),u):(e.warn("[retcode] invalid point: "+a),u)},performance:function(a){if(a&&typeof a=="object"&&!this.hasSendPerf){var c={},l={},u=this.getConfig("autoSendPerf");if(a.autoSend&&u)return l=e.ext(this.perfData||{},a),this.hasSendPerf=!0,this._lg("perf",l,this.getConfig("sample"));if(a.autoSend&&!u)return delete a.autoSend,this.perfData?(l=e.ext(this.perfData||{},a),this.hasSendPerf=!0,this._lg("perf",l,this.getConfig("sample"))):void(this.perfData=a);for(var d in a)(/^t([1-9]|1[0])$/.test(d)||d==="ctti"||d==="cfpt")&&(c[d]=a[d]);if(a.autoSend===!0||!u&&(u||this.perfData))return a.autoSend!==!0&&u===!1&&this.perfData?(c=e.ext(this.perfData||{},c),this.hasSendPerf=!0,this._lg("perf",c,this.getConfig("sample"))):void 0;this.perfData=e.ext(this.perfData||{},c)}},resource:function(a,c){if(!a||!e.isPlainObject(a))return e.warn("[arms] invalid param data: "+a),this;var l=Object.keys(a),u=["begin","dom","load","res","dl"],d=!1;for(var h in u)if(l.indexOf(u[h])<0){d=!0;break}if(d)return e.warn("[arms] lack param data: "+a),this;var y={begin:a.begin||Date.now(),dom:a.dom||"",load:a.load||"",res:e.isArray(a.res)?JSON.stringify(a.res):JSON.stringify([]),dl:a.dl||""};return this._lg("res",y,c)},event:function(a,c){if(typeof a=="object"&&a&&a.key){var l={},u=["key","success","time","c1","c2","c3"];for(var d in a)u.indexOf(d)>-1&&(l[d]=a[d]);l.success=a.success===!1?0:1,this._lg("event",l,c)}}}),i._super=t,i._root=t,t.Reporter=i,o0.exports=i,o0.exports}var c0={exports:{}},KS;function hw(){if(KS)return c0.exports;KS=1;var e=Gi(),t=typeof window=="object"?window:{},r="catch",n=t.__oFetch_||t.fetch;return n=typeof n=="function"?n:void 0,c0.exports=function(i,a){var c=-1;typeof i=="object"&&(c=i.z,i=e.serialize(i));var l=a+i;if(n)return n(l,{method:"HEAD",mode:"no-cors"})[r](e.noop);if(t.document&&t.document.createElement){var u="__request_hold_"+c,d=t[u]=new Image;d.onload=d.onerror=function(){t[u]=void 0},d.src=l,d=null}},c0.exports}var l0={exports:{}},qS;function pw(){if(qS)return l0.exports;qS=1;var e=Gi(),t=typeof window=="object"?window:{},r=t.__oXMLHttpRequest_||t.XMLHttpRequest;return r=typeof r=="function"?r:void 0,l0.exports=function(n,i){try{var a=new r;a.open("POST",i,!0),a.setRequestHeader("Content-Type","text/plain"),a.send(JSON.stringify(n))}catch(c){e.warn(`[retcode] Failed to log, exception is :
`+c)}},l0.exports}var u0,JS;function mw(){if(JS)return u0;JS=1;var e=Gi();return u0=function(t,r){var n=[],i=null,a=r&&r.location&&r.location.href,c=void 0,l=null,u=function(m,_,R){if(m!==null){var b=m[_];m[_]=R(b)}},d=function(m){var _,R,b,C,H,A=[];if(!m||typeof m.tagName!="string")return"";if(A.push(m.tagName.toLowerCase()),typeof m.id=="string"&&A.push("#".concat(m.id)),typeof(_=m.className)=="string")for(R=_.split(/\s+/),H=0;H<R.length;H++)A.push(".".concat(R[H]));var D=["type","name","title","alt","data-arms-attr"];for(H=0;H<D.length;H++)b=D[H],typeof(C=m.getAttribute(b))=="string"&&A.push("[".concat(b,'="').concat(C,'"]'));return A.join("")},h=function(m,_){return function(R){if(R&&R!==l){l=R;var b;try{b=R.target}catch(H){b="<unknown>"}if(b.length!==0){var C={type:"ui.".concat(m),data:{message:function(H){if(!H||H.nodeType!==1)return"";for(var A=H||null,D=[],Z=0,ie=0,oe=3,fe="";A&&Z++<5&&!((fe=d(A))==="html"||Z>1&&ie+D.length*oe+fe.length>=80);)D.push(fe),ie+=fe.length,A=A.parentNode;return D.reverse().join(" > ")}(b)},timestamp:Date.now()};m==="click"?i&&i.addBehavior(C):m==="keypress"&&(c||i&&i.addBehavior(C),clearTimeout(c),c=setTimeout(function(){c=void 0},100))}}}},y=function(){if(function(){var b=r&&r.chrome,C=b&&b.app&&b.app.runtime,H="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!C&&H}()){var m=function(b,C){var H={type:"navigation",data:{from:b,to:C}};i&&i.addBehavior(H),a=C},_=r.onpopstate;r.onpopstate=function(){for(var b=arguments.length,C=new Array(b),H=0;H<b;H++)C[H]=arguments[H];var A=r.location.href;if(m(a,A),_)return _.apply(this,C)};var R=function(b){return function(){for(var C=arguments.length,H=new Array(C),A=0;A<C;A++)H[A]=arguments[A];var D=H.length>2?H[2]:void 0;return D&&m(a,String(D)),b.apply(this,H)}};u(r.history,"pushState",R),u(r.history,"replaceState",R)}};e.ext(t.prototype,{addBehavior:function(m){if(this.getConfig("behavior")&&m&&typeof m=="object"){var _={},R=m.data||{};if(m.type)_=R;else{if(typeof R.name!="string"||typeof R.message!="string")return;_.name=R.name.substr(0,20),_.message=R.message.substr(0,200)}_.message&&(_.message=e.encode(_.message));var b={type:m.type||"custom",data:_||{},timestamp:m.timestamp||Date.now(),page:m.page||r&&r.location&&r.location.pathname};return n.push(b),n=n.slice(-100)}},getBehavior:function(){return n||[]},setBehavior:function(m){return m&&(n=m),n},reportBehavior:function(m){var _=this;_.getConfig("behavior")&&(_.sendBhTimer&&(clearTimeout(_.sendBhTimer),_.sendBhTimer=void 0),_.sendBhTimer=setTimeout(function(){n&&n.length>0&&(_.behavior(n),n=[],_.sendBhTimer=void 0,m&&typeof m=="function"&&m())},0))},initBehavior:function(){if(!this.hasInitBehavior&&!i){try{(function(){if(document&&document.referrer&&document.location){var _=document.referrer,R=document.location.href;if(_!==""){var b={type:"navigation",data:{from:_,to:R}};a=R,i&&i.addBehavior(b)}}})(),r&&r.document&&r.document.addEventListener&&(r.document.addEventListener("click",h("click"),!1),r.document.addEventListener("keypress",h("keypress"),!1)),y();var m=this.getConfig("enableConsole");m&&function(_){if(r&&r.console){var R=["debug","info","warn","log","error","assert"];e.isArray(_)&&(R=_);for(var b=0;b<R.length;b++){var C=R[b];C&&e.isString(C)&&r.console[C]&&typeof r.console[C]=="function"&&u(r.console,C,function(H){var A=C;return function(){for(var D=arguments.length,Z=new Array(D),ie=0;ie<D;ie++)Z[ie]=arguments[ie];var oe={type:"console",data:{level:A,message:Z}};if(i&&i.addBehavior(oe),A==="error")for(var fe=0;fe<Z.length;fe++){var he=Z[fe];he&&he.message&&he.stack&&i&&i.errorHandler(new ErrorEvent("error",{error:he,message:he.message}))}H&&Function.prototype.apply.call(H,r.console,Z)}})}}}(m)}catch(_){e.warn("[arms] error in initBehavior",_)}i=this,this.hasInitBehavior=!0}return this}})},u0}var YS={},XS;function d0(){return XS||(XS=1,YS.TIMING_KEYS=["startTime","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","","domInteractive","","domContentLoadedEventEnd","","loadEventStart","","msFirstPaint","secureConnectionStart","redirectStart","redirectEnd"]),YS}var f0,QS;function gw(){if(QS)return f0;QS=1;var e=Gi(),t=d0(),r=t.TIMING_KEYS;return f0=function(){var n=e.win||{},i=n.performance;if(!i||typeof i!="object"||typeof i.getEntriesByType!="function")return null;var a={},c=i.timing||{},l=i.getEntriesByType("resource")||[];if(a.begin=c[r[1]]||Date.now(),typeof n.PerformanceNavigationTiming=="function"){var u=i.getEntriesByType("navigation")[0];u&&(c=u)}return e.each({dom:[10,8],load:[14,1]},function(d,h){var y=c[r[d[1]]],m=c[r[d[0]]];if(y>0&&m>0){var _=Math.round(m-y);_>=0&&_<6e5&&(a[h]=_)}}),a.res=JSON.stringify(l),a},f0}var h0,ZS;function vw(){if(ZS)return h0;ZS=1;var e=Gi(),t=d0(),r=t.TIMING_KEYS;return h0=function(){var n=e.win||{},i=n.performance;if(!i||typeof i!="object")return null;var a={},c=i.timing||{},l=Date.now(),u=1;if(typeof n.PerformanceNavigationTiming=="function"){var d=i.getEntriesByType("navigation")[0];d&&(c=d,u=2)}e.each({dns:[3,2],tcp:[5,4],ssl:[5,17],ttfb:[7,6],trans:[8,7],dom:[10,8],res:[14,12],firstbyte:[7,2],fpt:[8,1],tti:[10,1],ready:[12,1],load:[14,1]},function(R,b){var C=c[r[R[1]]],H=c[r[R[0]]];if(u===2||C>0&&H>0){var A=Math.round(H-C);A>=0&&A<6e5&&(a[b]=A)}});var h=n.navigator.connection,y=i.navigation||{};a.ct=h?h.effectiveType||h.type:"";var m=h&&(h.downlink||h.downlinkMax||h.bandwidth)||null;if((m=m>999?999:m)&&(a.bandwidth=m),a.navtype=y.type===1?"Reload":"Other",u===1&&c[r[16]]>0&&c[r[1]]>0){var _=c[r[16]]-c[r[1]];_>=0&&_<36e5&&(a.fpt=_)}return u===1&&c[r[1]]>0?a.begin=c[r[1]]:u===2&&a.load>0?a.begin=l-a.load:a.begin=l,a},h0}var e1,t1;function yw(){return t1||(t1=1,e1=function(e,t,r){var n=Gi(),i=gw(),a=vw(),c=null,l=r.documentElement,u=t.innerWidth||l.clientWidth||r.body.clientWidth,d=t.innerHeight||l.clientHeight||r.body.clientHeight,h=t.navigator.connection,y={sr:screen.width+"x"+screen.height,vp:u+"x"+d,ct:h?h.effectiveType||h.type:""},m={},_=function(b,C,H,A,D){if(C===void 0){var Z,ie;if(!m[b]){Z=new RegExp(b+"=([^;]+)");try{ie=Z.exec(r.cookie)}catch(fe){return n.warn("[retcode] can not get cookie:",fe),null}ie&&(m[b]=ie[1])}return m[b]}var oe=b+"="+C;oe+="; path=/",H&&(oe+="; max-age="+H);try{return r.cookie=oe,!!r.cookie}catch(fe){return n.warn("[retcode] can not set cookie: ",fe),!1}},R=function(b){var C=b._conf.uid||_("_nk_")||_("_bl_uid");return!C&&(C=n.uu(),!_("_bl_uid",C,15552e3))?null:C};return n.ext(e.prototype,{activeErrHandler:function(b){return c&&!b?this:(c=this,this)},errorHandler:function(b){if(!b)return this;var C=b.type;if(C==="error"){var H=b.target||b.srcElement;!H||!H.tagName||b.message||b.filename||b.lineno||b.colno?this.error(b.error||{message:b.message},b):this.resourceErrorHandler(b)}else C==="unhandledrejection"&&n.T(b.reason,"Error")&&n.checkAutoError(b.reason)&&this.error(b.reason);try{this.getConfig("behavior")&&this.reportBehavior&&this.reportBehavior()}catch(A){}return this},resourceErrorHandler:function(b){var C=this,H=b.target||b.srcElement;try{var A=C.getSrc(H),D=typeof H.tagName=="string"?H.tagName.toLowerCase():"",Z=C.getXPath(H,5),ie=n.getURL(A),oe={src:A&&A.substring(0,1e3),node_name:D,xpath:Z,res_type:n.getResType(D,A),res_name:ie.path,domain:ie.domain};return C._conf.enableResource&&C.fixResourceStatus&&b.timeStamp&&C.fixResourceStatus({src:A,node_name:D,res_type:n.getResType(D,A),timeStamp:b.timeStamp,domain:ie.domain}),C._lg("resourceError",oe),C}catch(fe){return n.warn("[ARMS] resourceErrorHandler error :",fe),C}},getSrc:function(b){var C=b.src||b.href;try{if(!C){var H=(typeof b.tagName=="string"?b.tagName.toLowerCase():"")==="object",A=b.getAttribute("classid")&&b.getAttribute("classid").toLowerCase()==="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"||b.getAttribute("type")==="application/x-shockwave-flash";H&&A&&(C=b.getAttribute("data")||b.getAttribute("codebase")),C||(C=b.outerHTML||b.innerHTML)}}catch(D){C=""}return C},getXPath:function(b,C){var H=b.id?"#"+b.id:"",A=typeof b.className=="string"?"."+b.className.split(" ").join("."):"",D=(typeof b.tagName=="string"?b.tagName.toLowerCase():"")+H+A;return b.parentNode&&b.parentNode.tagName&&C-1!=0?this.getXPath(b.parentNode,C-1)+" > "+D:D},sendPerformance:function(b){var C=this;C.onReady(function(){var H=a();H&&H.load&&H.load>0&&(H.page=C.getPage(!0),b&&(H=n.ext(H,b)),H.autoSend=!0,C.performance(H))})},sendResources:function(b){var C=this;C.onReady(function(){var H=i();H&&H.load&&H.load>0&&(H.load&&H.load<=2e3||H.load&&H.load<=8e3&&Math.random()>.05||(H.page=C.getPage(!0),H.dl=location.href,b&&(H=n.ext(H,b)),C._lg("res",H,C.getConfig("sample"))))})},sendPV:function(){var b=this;b.onReady(function(){var C=function(H){var A=R(H),D=t.devicePixelRatio||1;return{uid:A,dt:r.title,dl:location.href,dr:r.referrer,dpr:D.toFixed(2),de:(r.characterSet||r.defaultCharset||"").toLowerCase(),ul:l.lang,begin:Date.now()}}(b);C&&C.uid&&b._lg("pv",C,b.getConfig("pvSample"))})},commonInfo:function(){return y.uid=R(this),y.sid=function(b){if(b.session)return b.session;var C;try{if(typeof window=="object"&&typeof sessionStorage=="object"&&typeof sessionStorage.getItem=="function")return typeof(C=sessionStorage.getItem("_bl_sid"))=="string"?(b.session=C,C):(C=n.uu(),b.session=C,typeof sessionStorage.setItem=="function"&&sessionStorage.setItem("_bl_sid",C),C)}catch(H){n.warn("[ARMS] getSid error :",H)}return b.session=C=n.uu(),C}(this),y},handleUnload:function(b){var C=Date.now();if(C-this._lastUnload<200)return this;this._lastUnload=C,this.sendHealth(b),this.speedCache&&(this._lg("speed",this.speedCache),this.speedCache=null,clearTimeout(this.speedTimmer)),this._conf&&this._conf.enableResource&&this.resourceComboReport(),this.clear(!0)},bindHashChange:function(b){var C=this;if(!b^C.hashChangeHandler)return C;b?(C.hackHistoryState(),C.hashChangeHandler=function(H){var A=C._conf.parseHash(location.hash);A&&C.setPage(A,H!==!1)},C.stateChangeHandler=function(H){var A=C._conf.parseHash(H.detail);A&&C.setPage(A)},n.on(t,"hashchange",C.hashChangeHandler),n.on(t,"historystatechange",C.stateChangeHandler),C.hashChangeHandler(!1)):(n.off(t,"hashchange",C.hashChangeHandler),n.off(t,"historystatechange",C.stateChangeHandler),C.hashChangeHandler=null,C.stateChangeHandler=null)},initHandler:function(){var b=this;if(b.hasInitHandler)return b;var C=b._conf;return n.on(t,"beforeunload",function(){b.handleUnload(0)}),b.bindHashChange(C.enableSPA),b.activeErrHandler(!1),b.hasInitHandler=!0,b}}),n.on(t,"error",function(b){c&&c.errorHandler(b)},!1,!0).on(t,"unhandledrejection",function(b){c&&c.errorHandler(b)}),e}),e1}var p0,r1;function Sw(){if(r1)return p0;r1=1;var e=Gi(),t=500;return p0=function(r,n,i){function a(y,m,_){var R=0,b=y.tagName;if(b!=="SCRIPT"&&b!=="STYLE"&&b!=="META"&&b!=="HEAD"){var C=y.children?y.children.length:0;if(C>0)for(var H=y.children,A=C-1;A>=0;A--)R+=a(H[A],m+1,R>0);if(R<=0&&!_&&!(y.getBoundingClientRect&&y.getBoundingClientRect().top<l))return 0;R+=1+.5*m}return R}function c(y){for(var m=1;m<y.length;m++)if(y[m].score<y[m-1].score)return y.splice(m,1),c(y);return y}var l=n.innerHeight||0,u=[],d=null,h=0;e.ext(r.prototype,{initFmpObserver:function(y){var m=this;if(!m._conf||!m._conf.useFmp)return null;if(!n.MutationObserver)return e.warn("[retcode] first meaningful paint can not be retrieved"),m.sendPerformance(),null;e.on(n,"beforeunload",function(){m.endObserving(0,!0)});var _=n.MutationObserver;return(d=new _(function(){(function(R){var b=Date.now()-R,C=i.querySelector("body");if(C){var H=0;H+=a(C,1,!1),u.push({score:H,t:b})}else u.push({score:0,t:b})})(m._startTime)})).observe(document,{childList:!0,subtree:!0}),h=1,m.onReady(function(){m.endObserving(y)}),d},endObserving:function(y,m){var _=this;if(d&&h)if(_.fmpTimmer&&(clearTimeout(_.fmpTimmer),_.fmpTimmer=null),m||!function(H,A){var D=Date.now()-H;return!(D>A||D-(u&&u.length&&u[u.length-1].t||0)>2*t)}(_._startTime,y)){d.disconnect(),h=0,u=c(u);for(var R=null,b=1;b<u.length;b++)if(u[b].t>=u[b-1].t){var C=u[b].score-u[b-1].score;(!R||R.rate<=C)&&(R={t:u[b].t,rate:C})}R&&R.t>0&&R.t<36e5?_.sendPerformance({fmp:R.t}):_.sendPerformance()}else _.fmpTimmer=e.delay(function(){_.endObserving(y)},t)}})},p0}var n1,i1;function bw(){return i1||(i1=1,n1=function(e,t){var r=Gi(),n=null,i=r.getCurDomain(),a=function(h,y,m,_,R,b,C,H,A,D,Z,ie,oe){var fe=r.J(R)||null,he=r.safetyCall(y,[fe,_],null);if(!he)return!1;var ge=he.code||b,me=!("success"in he)||he.success;h.api(m,me,C,ge,he.msg,H,A,D,me?{}:Z,i,ie,oe)},c="fetch",l="__oFetch_",u="__oXMLHttpRequest_",d="XMLHttpRequest";return r.ext(e.prototype,{removeHook:function(h,y){return n&&(y||this===n)?(t[l]&&(t[c]=t[l],delete t[l]),t[u]&&(t[d]=t[u],delete t[u]),n=null,this):this},addHook:function(h){return!h&&n?this:(n||(function(){if(typeof t[c]=="function"){var y=t[c];t[l]=y,t[c]=function(m,_){var R=arguments.length===1?[arguments[0]]:Array.apply(null,arguments),b=n;if(!b||!b.api||_&&(_.method==="HEAD"||_.mode==="no-cors"))return y.apply(t,R);_||(_={});var C=Date.now(),H=b._conf,A=r.duration(),D=(m&&typeof m!="string"?m.url:m)||"",Z=D;D=r.cutUrlSearch(D);var ie=(H.ignore||{}).ignoreApis,oe=H.parseTraceId;if(!r.checkAPI(D,!0)||r.ignoreByRule(D,ie))return y.apply(t,R);D=r.filterByRule(D,Z,H.ignoreApiPath?H.ignoreApiPath:H.apiHelper);var fe=H.enableLinkTrace,he="",ge="",me=b.getConfig("pid"),Se=null,Ce=b.getConfig("sample"),Te=b.getConfig("linkType"),Le=1;if(Ce&&!b.sampling(Ce)&&(Le=0),fe){var ze="";try{ze=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(ct){ze=""}var Ne=r.checkSameOrigin(Z,ze);if(b.getConfig("enableApiCors")||Ne)if(m&&typeof m!="string")try{if(R[0].headers&&typeof R[0].headers.get=="function"&&typeof R[0].headers.append=="function")switch(Te){case"arms":var Be=R[0].headers.get("EagleEye-TraceID"),Ue=R[0].headers.get("EagleEye-SessionID"),et=R[0].headers.get("EagleEye-pAppName");Be?he=Be:(he=b.getTraceId()["EagleEye-TraceID"],R[0].headers.append("EagleEye-TraceID",he)),Ue?ge=Ue:(ge=b.getPageviewId()["EagleEye-SessionID"],R[0].headers.append("EagleEye-SessionID",ge)),et||R[0].headers.append("EagleEye-pAppName",me);break;case"b3":var Ke=R[0].headers.get("X-B3-TraceId");if(Ke)he=Ke;else{var Ie=b.getB3TraceId(Le);R[0].headers.append("X-B3-TraceId",Ie["X-B3-TraceId"]),R[0].headers.append("X-B3-ParentSpanId",Ie["X-B3-ParentSpanId"]),R[0].headers.append("X-B3-SpanId",Ie["X-B3-SpanId"]),R[0].headers.append("X-B3-Sampled",Ie["X-B3-Sampled"]),R[0].headers.append("X-Request-ID",r.guid()),he=Ie["X-B3-TraceId"]}ge=b.pageview;break;case"tracing":default:var Ae=R[0].headers.get("uber-trace-id");Ae?he=Ae.split(":")[0]:(Ae=b.getUberTraceId(Le),R[0].headers.append("uber-trace-id",Ae["uber-trace-id"]),he=Ae.traceId),ge=b.pageview}}catch(ct){r.warn(`[retcode] fetch failed to set header, exception is :
`+ct)}else switch(_.headers=_.headers?_.headers:{},Te){case"arms":_.headers["EagleEye-TraceID"]?he=_.headers["EagleEye-TraceID"]:(he=b.getTraceId()["EagleEye-TraceID"],_.headers["EagleEye-TraceID"]=he),_.headers["EagleEye-SessionID"]?ge=_.headers["EagleEye-SessionID"]:(ge=b.getPageviewId()["EagleEye-SessionID"],_.headers["EagleEye-SessionID"]=ge),_.headers["EagleEye-pAppName"]||(_.headers["EagleEye-pAppName"]=me);break;case"b3":if(_.headers["X-B3-TraceId"])he=_.headers["X-B3-TraceId"];else{var $e=b.getB3TraceId(Le);_.headers["X-B3-TraceId"]=$e["X-B3-TraceId"],_.headers["X-B3-ParentSpanId"]=$e["X-B3-ParentSpanId"],_.headers["X-B3-SpanId"]=$e["X-B3-SpanId"],_.headers["X-B3-Sampled"]=$e["X-B3-Sampled"],_.headers["X-Request-ID"]=r.guid(),he=$e["X-B3-TraceId"]}ge=b.getPageviewId()["EagleEye-SessionID"];break;case"tracing":default:if(_.headers["uber-trace-id"])he=_.headers["uber-trace-id"].split(":")[0];else{var Oe=b.getUberTraceId(Le);_.headers["uber-trace-id"]=Oe["uber-trace-id"],he=Oe.traceId}ge=b.getPageviewId()["EagleEye-SessionID"]}}return y.apply(t,R).then(function(ct){if(!b||!b.api)return ct;try{if(!ct||typeof ct.clone!="function")return ct;var ot=ct.clone(),Rt=ot.headers;if(Rt&&typeof Rt.get=="function"){var Tt=Rt.get("content-type");if(Tt&&!/(text)|(json)/.test(Tt))return ct;if(!he){var zt=r.parseFetchHeaders(Rt);typeof zt=="object"&&zt["eagleeye-traceid"]&&(he=zt["eagleeye-traceid"],Se="response")}}var Wt=A();return ot.text().then(function(gr){if(!he&&r.isFunction(oe)){var or=oe(ot,gr);or&&r.isString(or)&&(he=or)}var Xt=r.getFetchSnapshot(R,gr,Rt);ot.ok?a(b,H.parseResponse,D,Z,gr,ot.status||200,Wt,C,he,ge,Xt,Se,Le):(b.api(D,!1,Wt,ot.status||404,ot.statusText,C,he,ge,Xt,i,Se,Le),H.enableResource&&n.fixResourceStatus&&n.fixResourceStatus({src:ot.url,res_type:"api"}))}),ct}catch(gr){return r.warn("[ARMS] fetch response error :",gr),ct}}).catch(function(ct){if(!b||!b.api)throw ct;var ot=A();throw b.api(D,!1,ot,ct.name||"Error",ct.message,C,he,ge,{},i),H.enableResource&&n.fixResourceStatus&&n.fixResourceStatus({src:Z,res_type:"api"}),ct})},t[c].toString=r.createFakeToString(c)}}(),function(){if(typeof t[d]=="function"){var y,m=t[d];t[u]=m;var _=function(R){var b=new m(R),C=n;if(!C||!C.api||!b.addEventListener)return b;var H,A,D,Z,ie=b.send,oe=b.open,fe=b.setRequestHeader,he=C._conf,ge=(he.ignore||{}).ignoreApis,me=he.parseTraceId,Se=C.getConfig("enableLinkTrace"),Ce="",Te="",Le="",ze=null,Ne=C.getConfig("sample"),Be=C.getConfig("linkType"),Ue=1;return Ne&&!C.sampling(Ne)&&(Ue=0),b.open=function(et,Ke){y=et;var Ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);oe.apply(b,Ie),Z=Ke||"",D=r.cutUrlSearch(Z);var Ae=!r.checkAPI(D,!0)||r.ignoreByRule(D,ge);if(D=D?r.filterByRule(D,Z,he.ignoreApiPath?he.ignoreApiPath:he.apiHelper):"",!Ae&&Se){var $e="";try{$e=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(Rt){$e=""}var Oe=r.checkSameOrigin(Z,$e);if((C.getConfig("enableApiCors")||Oe)&&fe&&typeof fe=="function")switch(Be){case"arms":Ce=C.getTraceId()["EagleEye-TraceID"],fe.apply(b,["EagleEye-TraceID",Ce]),Te=C.getPageviewId()["EagleEye-SessionID"],fe.apply(b,["EagleEye-SessionID",Te]),Le=C.getConfig("pid"),fe.apply(b,["EagleEye-pAppName",Le]);break;case"b3":var ct=C.getB3TraceId(Ue);fe.apply(b,["X-B3-TraceId",ct["X-B3-TraceId"]]),fe.apply(b,["X-B3-ParentSpanId",ct["X-B3-ParentSpanId"]]),fe.apply(b,["X-B3-SpanId",ct["X-B3-SpanId"]]),fe.apply(b,["X-B3-Sampled",ct["X-B3-Sampled"]]),fe.apply(b,["X-Request-ID",r.guid()]),Ce=ct["X-B3-TraceId"],Te=C.getPageviewId()["EagleEye-SessionID"];break;case"tracing":default:var ot=C.getUberTraceId(Ue);fe.apply(b,["uber-trace-id",ot["uber-trace-id"]]),Ce=ot.traceId,Te=C.getPageviewId()["EagleEye-SessionID"]}}},b.send=function(){H=Date.now(),A=r.duration();var et=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.apply(b,et)},r.on(b,"readystatechange",function(){if(D&&b.readyState===4){var et=A(),Ke=r.getXhrSnapshot(Z,y,b);if(!Ce){var Ie=r.parseXhrHeaders(typeof b.getAllResponseHeaders=="function"&&b.getAllResponseHeaders()||"");typeof Ie=="object"&&Ie["eagleeye-traceid"]&&(Ce=Ie["eagleeye-traceid"],ze="response")}if(!Ce&&r.isFunction(me)){var Ae=me(b);Ae&&r.isString(Ae)&&(Ce=Ae)}if(b.status>=200&&b.status<=299){var $e=b.status||200;if(typeof b.getResponseHeader=="function"){var Oe=b.getResponseHeader("Content-Type");if(Oe&&!/(text)|(json)/.test(Oe))return}b.responseType&&b.responseType!=="text"?C.api(D,!0,et,$e,"",H,Ce,Te,{},i,ze,Ue):a(C,he.parseResponse,D,Z,b.responseText,$e,et,H,Ce,Te,Ke,ze,Ue)}else C.api(D,!1,et,b.status||"FAILED",b.statusText,H,Ce,Te,Ke,i,ze,Ue),he.enableResource&&n.fixResourceStatus&&n.fixResourceStatus({src:b.responseURL||Z,res_type:"api"})}}),b};_.prototype=m.prototype,r.each(Object.keys(m),function(R){_[R]=m[R]}),t[d]=_,t[d].toString=r.createFakeToString(d)}}()),n=this,this)},initHook:function(){return this.hasInitHook?this:(this.getConfig("disableHook")||this.addHook(),this.hasInitHook=!0,this)}}),e}),n1}var o1,a1;function Ew(){return a1||(a1=1,o1=function(e,t){var r=Gi(),n=t.history||{},i=t.document,a=function(l,u){var d;t.CustomEvent?d=new CustomEvent(l,{detail:u}):((d=i.createEvent("HTMLEvents")).initEvent(l,!1,!0),d.detail=u),t.dispatchEvent(d)},c=function(l){var u=n[l];typeof u=="function"&&(n[l]=function(d,h,y){var m=arguments.length===1?[arguments[0]]:Array.apply(null,arguments),_=location.href,R=u.apply(n,m);if(!y||typeof y!="string"||y===_)return R;try{var b=_.split("#"),C=y.split("#"),H=r.cutUrlSearch(b[0]),A=r.cutUrlSearch(C[0]),D=b[1]&&b[1].replace(/^\/?(.*)/,"$1"),Z=C[1]&&C[1].replace(/^\/?(.*)/,"$1");D!==Z?a("historystatechange",Z):H!==A&&a("historystatechange",A)}catch(ie){r.warn("[retcode] error in "+l+": "+ie)}return R},n[l].toString=r.createFakeToString(l))};r.ext(e.prototype,{hackHistoryState:function(){return this.hasHackedHistoryState?this:(c("pushState"),c("replaceState"),this.hasHackedHistoryState=!0,this)}})}),o1}var m0,s1;function Cw(){if(s1)return m0;s1=1;var e=Gi(),t=d0(),r=t.TIMING_KEYS;return m0=function(n,i){function a(u,d,h){if(u instanceof i.PerformanceResourceTiming&&u.initiatorType){var y=e.getResType(u.initiatorType,u.name),m=d.resourceTypes||[],_=(d.ignore||{}).ignoreResources;if(y&&m.includes(y)&&!e.ignoreByRule(u.name,_)&&!e.ignoreByRule(e.decode(u.name),_)){var R=u[r[0]],b=u[r[1]],C=u[r[2]],H=u[r[3]],A=u[r[4]],D=u[r[5]],Z=u[r[6]],ie=u[r[7]],oe=u[r[8]],fe=u[r[18]],he=u[r[19]];if(!h.has(u)&&(!e.areInOrder(R,b,C,H,A,D,Z,ie,oe)||R>ie))return;if(fe<R&&(fe=R),he<R&&(he=b),e.areInOrder(R,fe,he,b))return{domain:e.getURL(u.name).domain,res_type:y,src_type:e.getSrcType(u.name,d.cdnHostList),success:1,size:Math.round(u.decodedBodySize),duration:Math.round(u.duration),timeStamp:u.responseEnd,timing:u}}}}var c="_resource-"+Date.now(),l="_resource_error-"+Date.now();e.ext(n.prototype,{initResource:function(){var u=this,d=i.performance,h=i.PerformanceObserver;if(u[l]||(u[l]=new WeakMap),!d||!h||typeof d!="object"||typeof d.getEntriesByType!="function")return null;var y=d.getEntriesByType("resource")||[];return setTimeout(function(){u.setResource(y)},10),new h(function(m){setTimeout(function(){u.setResource(m.getEntries())},10)}).observe({entryTypes:["resource"]}),this.onReady(function(){setTimeout(u.resourceComboReport.bind(u),5e3)}),u},setResource:function(u){var d=this._conf,h=this[l];if(e.isArray(u)&&u.length){this[c]||(this[c]={});for(var y=this[c],m=0,_=u.length;m<_;m+=1){var R=u[m];if(e.checkAPI(R.name,!1)){var b=a(R,d,h);if(b){var C=b.res_type+"-"+b.domain;C in y||(y[C]=[]),y[C].push(b)}}}return this}},fixResourceStatus:function(u){var d=i.performance;if(!d||typeof d.getEntriesByName!="function")return null;var h=this[l];if(!u.src||!e.checkAPI(u.src,!1))return this;var y=u.timeStamp||d.now(),m=d.getEntriesByName(u.src,"resource");return e.each(m,function(_){h.has(_)||y-_.responseEnd<100&&h.set(_,{success:0})}),this},resourceComboReport:function(){var u=this[c]||{},d=this._conf.resourceSlow||2e3,h=this[l];this[c]={};var y=Object.keys(u);if(y.length!==0){var m=[];e.each(y,function(C){var H=u[C],A={domain:"",res_type:"",src_type:"",size:0,duration:0,count:0,err_count:0,err_duration:0,slow_count:0,slow_duration:0,timings:[]};e.each(H,function(D){var Z=D.timing||{},ie=h.get(D.timing),oe=ie?ie.success:1,fe=D.duration>d?1:0;A.domain=D.domain,A.res_type=D.res_type,A.src_type=D.src_type,A.count+=1,A.duration+=D.duration,A.size+=D.size,oe||(A.err_count+=1,A.err_duration+=D.duration),fe&&(A.slow_count+=1,A.slow_duration+=D.duration);try{var he=JSON.parse(JSON.stringify(Z));he.success=oe,he.resourceSlow=d,he.isSlow=fe,A.timings.push(he)}catch(ge){}}),A.count&&(A.size=Math.round(A.size/A.count),A.duration=Math.round(A.duration/A.count)),A.slow_count&&(A.slow_duration=Math.round(A.slow_duration/A.slow_count)),A.err_count&&(A.err_duration=Math.round(A.err_duration/A.err_count)),A.timings.length>20&&(A.timings.sort(function(D,Z){return Z.duration-D.duration}),A.timings.length=20),A.timings=encodeURIComponent(JSON.stringify(A.timings)),m.push(A)});var _={_combo:1,resource:JSON.stringify(m)},R=i.navigator.connection;_.ct=R?R.effectiveType||R.type:"";var b=R&&(R.downlink||R.downlinkMax||R.bandwidth)||null;(b=b>999?999:b)&&(_.bandwidth=b),this._lg("resource",_,this.getConfig("sample"))}}})},m0}var c1;function _w(){if(c1)return n0.exports;c1=1;var e=Gi(),t=fw(),r=hw(),n=pw(),i=e.win,a=i.document,c=/^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig|behavior|performance)$/,l=function(u){var d=this;return t.call(d,u),d._initialPage=u.page&&e.safetyCall(u.page,[],u.page+"")||null,d._isRobot=e.isRobot(),d._health={errcount:0,apisucc:0,apifail:0},d.beforeSend=function(h,y){h==="error"?d._health.errcount++:h==="api"&&d._health[y.success?"apisucc":"apifail"]++},u.enableInstanceAutoSend!==!1&&(d.initHandler(),d.initHook(),d.initFmpObserver(1e4),d._conf&&d._conf.behavior&&typeof d.initBehavior=="function"&&d.initBehavior(),d._conf&&d._conf.enableResource&&typeof d.initResource=="function"&&d.initResource()),Object.defineProperty&&i.addEventListener&&Object.defineProperty(d,"pipe",{set:d.sendPipe}),d};return l.prototype=e.createObject(t.prototype),e.ext(t._root.dftCon,{uid:null,setUsername:null,ignoreUrlPath:null,ignoreApiPath:null,urlHelper:[{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},/\/$/],resourceHelper:[],apiHelper:{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},ignoreUrlCase:!0,imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",cdnHostList:[],resourceTypes:["css","script","img","font"],resourceSlow:2e3,disableHook:!1,autoSendPv:!0,autoSendPerf:!0,enableSPA:!1,enableLinkTrace:!1,linkType:"arms",enableApiCors:!1,sendResource:!0,behavior:!0,enableConsole:!1,parseHash:function(u){return(u?e.cutUrlSearch(u.replace(/^#\/?/,"")):"")||"[index]"},parseResponse:function(u){if(!u||typeof u!="object")return{};var d=u.code,h=u.msg||u.message||u.subMsg||u.errorMsg||u.ret||u.errorResponse||"";return typeof h=="object"&&(d=d||h.code,h=h.msg||h.message||h.info||h.ret||JSON.stringify(h)),{msg:h,code:d,success:!0}}}),e.ext(l.prototype,{constructor:l,_super:t,onReady:function(u){var d=this;if(d.hasReady)return u();a.readyState==="complete"?(d.hasReady=!0,u()):e.on(i,"load",function(){d.hasReady=!0,u()},!0)},getPage:function(u){var d=this._conf,h=d.page,y=location,m=y.host+y.pathname;return h&&!u?e.safetyCall(h,[],h+""):this._initialPage||e.filterByRule(d.ignoreUrlCase?m.toLowerCase():m,y.href,d.ignoreUrlPath?d.ignoreUrlPath:d.urlHelper)},setPage:function(u,d){var h=this,y=h.prevPage;if(d!==!1){if(!u||u===y)return h;h.prevPage=u,clearTimeout(h.sendPVTimmer),h.handleUnload(1),h.resetPageview(),h.sendPVTimmer=setTimeout(function(){h.sendPV()},10)}else h.prevPage=u;return h._conf.page=u,h},setConfig:function(u,d){if(u&&typeof u=="object"){e.verifyConfig(u),u=this.setImgUrl(u);var h=this._conf;if(this._conf=e.ext({},h,u),!d){var y="disableHook";y in u&&h[y]!==u[y]&&(u[y]?this.removeHook():this.addHook()),(y="enableSPA")in u&&h[y]!==u[y]&&this.bindHashChange(u[y])}}},sendRequest:function(u){r(u,this.getConfig("imgUrl"))},postData:function(u,d){var h={};h[d]=u[d],delete u[d];var y="";typeof u=="object"&&(y=e.serialize(u)),n(h,this.getConfig("imgUrl")+y+"&post_res=")},sendPipe:function(u){var d=this;if(!u||!u.length)return d;try{if(e.T(u[0])==="Array")return e.each(u,function(y){return d.sendPipe(y)});if(e.T(u)!=="Array")return d;var h=u.shift();if(!c.test(h))return d;d[h].apply(d,u)}catch(y){return e.warn("[retcode] error in sendPipe",y),d}},sendHealth:function(){var u=e.ext({},this._health);u.healthy=u.errcount>0?0:1,u.begin=Date.now();var d=u.begin-this.sBegin;u.stay=d,this._lg("health",u,1),this._health={errcount:0,apisucc:0,apifail:0}},createInstance:function(u){u=e.ext({pid:this._conf.pid},u);var d=this.__proto__.constructor(u);return u.page&&d.sendPV(),d}}),mw()(l,i),yw()(l,i,a),Sw()(l,i,a),bw()(l,i),Ew()(l,i),Cw()(l,i),l._super=t,l._root=t._root,t.Browser=l,n0.exports=l,n0.exports}var l1;function Rw(){if(l1)return r0.exports;l1=1;function e(l,u){var d=r[i]=new n(l);d.sendPipe(u);var h=d._conf;return h.autoSendPv!==!1&&d.sendPV(),h&&h.useFmp||d.sendPerformance(),h&&h.sendResource&&d.sendResources(),r[a]=!0,d}function t(){if(r[a])return r[i];var l={},u=[];return i in r&&(l=r[i].config||{},u=r[i].pipe||[]),e(l,u)}var r=window,n=r.BrowserLogger=_w(),i=Gi().key,a="__hasInitBlSdk";n.singleton=function(l,u){return r[a]?r[i]:e(l,u)},n.createExtraInstance=function(l){l&&typeof l=="object"&&l.enableInstanceAutoSend!==!0&&(l.enableInstanceAutoSend=!1);var u=new n(l),d=u._conf;return d.enableInstanceAutoSend&&(d.autoSendPv!==!1&&u.sendPV(),d&&d.useFmp||u.sendPerformance(),d&&d.sendResource&&u.sendResources()),u};var c=typeof window=="object"&&!!window.navigator;return c&&r[i]&&(n.bl=t()),r0.exports=n,r0.exports}function ww(){return Rw()}var Tw={getArmsLogger:ww};const u1="https://arms-retcode.aliyuncs.com/r.png?",d1="https://arms-retcode-sg.aliyuncs.com/r.png?",f1="https://retcode-us-west-1.arms.aliyuncs.com/r.png?",h1="e1iftji1w7@7ec1cef2cc88733",p1="e1iftji1w7@10a06d1ec260adc",m1="e1iftji1w7@10a06d1ec260adc",g0={cn:{reportUrl:u1,pid:h1},"cn-hangzhou":{reportUrl:u1,pid:h1},sg:{reportUrl:d1,pid:p1},"ap-southeast-1":{reportUrl:d1,pid:p1},usw:{reportUrl:f1,pid:m1},"us-west-1":{reportUrl:f1,pid:m1}},g1=e=>e!==null&&typeof e=="object",Aw=e=>Object.prototype.toString.call(e).slice(8,-1),v1=e=>Object.isExtensible(e)?Aw(e)==="Object":!1;function Pw(e,t,r){const n=[],i=typeof Object.getOwnPropertyDescriptors=="function"?Object.getOwnPropertyDescriptors(Object.getPrototypeOf(e)):{};for(const c of Object.keys(i))i[c].get&&n.push(c);const a={MediaboxWrapperObjectGetter(c,l){if(typeof l=="string"&&n.indexOf(l)>-1){let h;try{h=c[l]}catch(y){throw r(y),y}return rs(h,t+1,r)}let u=()=>{};typeof c[l]=="function"&&(u=c[l].bind(c));const d={MediaboxWrapperObjectMethod(...h){let y;try{y=u(...h)}catch(m){throw r(m),m}return rs(y,t+1,r)}};return typeof c[l]=="function"?d.MediaboxWrapperObjectMethod:t>10?c[l]:rs(c[l],t+1,r)},MediaboxWrapperObjectSetter(c,l,u){return c[l]=rs(u,t+1,r),!0}};return new Proxy(e,{get:a.MediaboxWrapperObjectGetter,set:a.MediaboxWrapperObjectSetter})}function kw(e,t,r){const n={MediaboxWrapperFunctionApply(i,a,c){let l;try{l=i.apply(a,c),g1(l)&&v1(l)&&(l.__v_skip=!0)}catch(u){throw r(u),u}return rs(l,t+1,r)},MediaboxWrapperFunctionGet(i,a){const c=Object.getOwnPropertyDescriptor(i,a);return c&&!c.writable&&!c.configurable?i[a]:rs(i[a],t+1,r)},MediaboxWrapperClassConstructor(i,a){let c;try{c=new i(...a),c.__v_skip=!0}catch(l){throw r(l),l}return rs(c,t+1,r)}};return new Proxy(e,{apply:n.MediaboxWrapperFunctionApply,get:n.MediaboxWrapperFunctionGet,construct:n.MediaboxWrapperClassConstructor})}const Jl="-c-";function Iw(e){if(typeof e!="string")return Jl;if(v0(e))return e;const t=e.indexOf(`
`);return t<0?`${e}${Jl}`:`${e.slice(0,t)}${Jl}${e.slice(t)}`}function Ow(e){return typeof e!="string"?"":v0(e)?e.replace(Jl,""):e}function v0(e){if(typeof e!="string")return!1;const t=e.indexOf(Jl);if(t<0)return!1;const r=e.indexOf(`
`);return r<0?t===e.length-Jl.length:t===r-Jl.length}function rs(e,t,r){return typeof e=="function"?kw(e,t+1,r):e instanceof Promise?e.then(n=>rs(n,t+1,r)).catch(n=>(r(n),Promise.reject(n))):Array.isArray(e)?e.map(n=>rs(n,t+1,r)):g1(e)&&v1(e)?Pw(e,t+1,r):e}function xw(e){return typeof e!="string"?!1:e.indexOf("g.alicdn.com/apsara-media-")>-1||e.indexOf("g.alicdn.com/thor-server")>-1}function y1(e){return typeof e!="string"?!1:e.indexOf("g.alicdn.com/apsara-media-")>-1||e.indexOf("g.alicdn.com/thor-server")>-1||e.indexOf("MediaboxWrapper")>-1}class S1 extends Error{constructor(t){super(t),this.name="MQTError"}}class y0{constructor(t){Od(this,"armsLogger"),Od(this,"isReady",!1),Od(this,"isDestroyed",!1),Od(this,"options"),Od(this,"queue",[]),Od(this,"helper",{MediaboxWrapperQueue(c){return new S1(c)},MediaboxWrapperInitiative(c){return new S1(c)}}),this.options=t;const{region:r="cn",env:n="prod"}=t;if(!g0[r])throw new Error(`region ${r} is not supported`);const i=c=>{var l;if(this.isDestroyed||v0(c.stack)||c.t!=="pv"&&c.t!=="error")return!1;if(c.c1=(l=this.options.cid)!=null?l:window.location.host,c.c2=y0.version,this.options.customData&&(c.c3=new URLSearchParams(this.options.customData).toString()),c.t==="error"){if(xw(c.file)||y1(c.stack)){let u=c;return this.options.beforeSend&&(u=this.options.beforeSend(c)),this.isReady?u:(u&&this.queue.push(u),!1)}return!1}return c},a=Tw.getArmsLogger();this.armsLogger=a.createExtraInstance({enableInstanceAutoSend:!0,pid:g0[r].pid,tag:t.businessName,release:`${t.businessName}_${t.version}`,imgUrl:g0[r].reportUrl,behavior:!0,sample:1,disableHook:!0,environment:n,beforeReport:i})}static get version(){return"0.19.0"}wrap(t){return this.options.disabled||typeof Proxy>"u"?t:rs(t,0,r=>{r instanceof Error&&typeof r.stack=="string"&&y1(r.stack)&&(r.stack=Ow(r.stack),this.armsLogger.error(r),r.stack=Iw(r.stack))})}updateOptions(t){this.options=dr(dr({},this.options),t)}setReady(){this.isReady=!0,this.queue.length&&this.queue.forEach(t=>{this.armsLogger.error(this.helper.MediaboxWrapperQueue(t.msg),{filename:t.file,lineno:t.line,colno:t.col})})}report(t,r){this.armsLogger.error(this.helper.MediaboxWrapperInitiative(t),r)}destroy(){this.isDestroyed=!0}}for(var Fr=(e=>(e.PullStreamStats="remoteStat",e.RtsSubscribeExceeds="rtsSubscribeExceeds",e.UserJoined="userJoined",e.UserLeft="userLeft",e.Bye="bye",e.MuteAudio="muteAudio",e.UnmuteAudio="unmuteAudio",e.MuteVideo="muteVideo",e.UnmuteVideo="unmuteVideo",e.MuteScreen="muteScreen",e.UnmuteScreen="unmuteScreen",e.Error="error",e))(Fr||{}),Ki=(e=>(e.Local="local-device-status-change",e.Remote="remote-device-status-change",e))(Ki||{}),lt=(e=>(e.Audio="sophon_audio",e.VideoLarge="sophon_video_camera_large",e.VideoSmall="sophon_video_camera_small",e.Screen="sophon_video_screen_share",e.Data="sophon_data",e))(lt||{}),S0=(e=>(e.Audio="rts audio",e.VideoLarge="rts video",e))(S0||{}),xc=(e=>(e.Add="add",e.Delete="delete",e.Replace="replace",e.Stop="stop",e.UnPublish="unpublish",e))(xc||{}),xd=(e=>(e[e.Camera=0]="Camera",e[e.Screen=1]="Screen",e[e.Image=2]="Image",e))(xd||{}),Xm=(e=>(e[e.Microphone=0]="Microphone",e[e.Screen=1]="Screen",e[e.Mixed=2]="Mixed",e))(Xm||{}),Kr=(e=>(e.InRoom="inRoom",e.Join="join",e.Publish="publish",e.User="user",e.Resume="resume",e.Retry="retry",e.Reconnect="reconnect",e))(Kr||{}),ns=(e=>(e[e.MANUAL=0]="MANUAL",e[e.JOIN_CHANNEL=1]="JOIN_CHANNEL",e[e.ROLE_CHANGE=2]="ROLE_CHANGE",e[e.RECONNECT=3]="RECONNECT",e))(ns||{}),wi=[],b0=0;b0<256;++b0)wi.push((b0+256).toString(16).slice(1));function Mw(e,t=0){return(wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]).toLowerCase()}var Qm,Nw=new Uint8Array(16);function Dw(){if(!Qm&&(Qm=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qm(Nw)}var Lw=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const b1={randomUUID:Lw};function is(e,t,r){if(b1.randomUUID&&!t&&!e)return b1.randomUUID();e=e||{};var n=e.random||(e.rng||Dw)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Mw(n)}var Zm=(e=>(e.prod="rs.rtn.aliyuncs.com",e.pre="prs.rtn.aliyuncs.com",e))(Zm||{});const eg="6.13.6",E1="web";class po{static getVersionNumber(){let t=eg.split("."),r="";return t.forEach(n=>{n.length===1?r+="0"+n:r+=n}),parseInt(r)}static queryingParam(t){let r=[];if(t)for(let n in t)r.push(n+"="+t[n]);return r.join("&")}static getQueryParams(t){const r=window.location.search.substring(1).split("&");for(let n=0;n<r.length;n++){const i=r[n].split("=");if(decodeURIComponent(i[0])===t)return decodeURIComponent(i[1])}}static createCallid(t=""){const r=is();return t&&r&&r.length>t.length?`${t}${r.substring(t.length)}`:r}static checkSubOptionsValid(t){if(t){const{audio:r,video:n,screen:i}=t;if(r===!1&&n===!1&&i===!1)return!1}return!0}static isNetworkAvailable(){return Ye(this,null,function*(){const t=Zm.prod,{onLine:r}=navigator;if(!r)return!1;try{return yield fetch(`https://${t}/roomserver/v1/ws/version`),!0}catch(n){return!1}})}static toString(t){let r;if(t instanceof Error)r=t.message;else if(typeof t=="string")r=t;else try{r=JSON.stringify(t)}catch(n){r="undefined"}return r}static paramArrayToString(t){let r="";for(let n=0;n<t.length;n++){r!==""&&(r+=" ");let i=po.toString(t[n]);r+=i}return r}}function C1(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!0,configurable:!0,value:r})}function _1(e,t,r,n){n?n(()=>{C1(e,t,r)}):C1(e,t,r)}Array(32);class Vw{constructor(t){this.timer=null,this.time=10,this.count=10,this.arr=[];var r,n;this.time=(r=t.time)!=null?r:10,this.count=(n=t.count)!=null?n:10,t.host.startsWith("http://")||t.host.startsWith("https://")?this.url=t.host+"/logstores/"+t.logstore+"/track":this.url="https://"+t.project+"."+t.host+"/logstores/"+t.logstore+"/track",this.opt=t,t.installUnloadHook&&typeof t.installUnloadHook=="function"&&t.installUnloadHook(()=>{this.sendImmediateInner()})}assemblePayload(t){const r={__logs__:t};return this.opt.tags&&(r.__tags__=this.opt.tags),this.opt.topic&&(r.__topic__=this.opt.topic),this.opt.source&&(r.__source__=this.opt.source),JSON.stringify(r)}platformSend(){if(this.opt.sendPayload&&typeof this.opt.sendPayload=="function"){const t=this.assemblePayload(this.arr);this.opt.sendPayload(this.url,t)}}transString(t){let r={};for(let n in t)typeof t[n]=="object"?r[n]=JSON.stringify(t[n]):r[n]=String(t[n]);return r}sendImmediateInner(){this.arr&&this.arr.length>0&&(this.platformSend(),this.timer!=null&&(clearTimeout(this.timer),this.timer=null),this.arr=[])}sendInner(){if(this.timer)this.arr.length>=this.count&&(clearTimeout(this.timer),this.timer=null,this.sendImmediateInner());else{const t=this;this.arr.length>=this.count||this.time<=0?this.sendImmediateInner():this.timer=setTimeout(function(){t.sendImmediateInner()},this.time*1e3)}}send(t){const r=this.transString(t);this.arr.push(r),this.sendInner()}sendImmediate(t){const r=this.transString(t);this.arr.push(r),this.sendImmediateInner()}sendBatchLogs(t){const r=t.map(n=>this.transString(n));this.arr.push(...r),this.sendInner()}sendBatchLogsImmediate(t){const r=t.map(n=>this.transString(n));this.arr.push(...r),this.sendImmediateInner()}overwriteTransString(t){this.transString=t.transString}getOpt(){return this.opt}}var Uw=(e,t,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(d){i(d)}},c=u=>{try{l(r.throw(u))}catch(d){i(d)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,c);l((r=r.apply(e,t)).next())});function Bw(e,t){return navigator&&navigator.sendBeacon?navigator.sendBeacon(`${e}?APIVersion=0.6.0`,t):!1}function R1(e,t){const r=new window.XMLHttpRequest;r.open("POST",`${e}?APIVersion=0.6.0`,!0),r.send(t)}function jw(e,t){try{if(t.length>=32768){R1(e,t);return}Bw(e,t)||R1(e,t)}catch(r){window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+r),console.error("Failed log data:",e))}}function Fw(e,t,r){return Uw(this,null,function*(){try{e=e.slice(0,-6);const{data:n,header:i}=yield r.process(e,t),a=new window.XMLHttpRequest;a.open("POST",e,!0);for(let c in i)a.setRequestHeader(c,i[c]);a.send(n)}catch(n){window&&window.console&&typeof window.console.error=="function"&&(console.error(`Failed to log to ali log service because of this exception:
`+n),console.error("Failed log data:",e))}})}class E0 extends Vw{constructor(t){const r=Object.assign({},t,{installUnloadHook:n=>{window.addEventListener("beforeunload",()=>{n()})},sendPayload:(n,i)=>{jw(n,i)}});super(r)}useStsPlugin(t){this.getOpt().sendPayload=(r,n)=>{Fw(r,n,t)},this.overwriteTransString(t)}}_1(window,"SLS_Tracker",E0);var Sr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var w1={exports:{}};function zw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T1={exports:{}};const Ww={},Gw=Object.freeze(Object.defineProperty({__proto__:null,default:Ww},Symbol.toStringTag,{value:"Module"})),Kw=Hw(Gw);var A1;function Or(){return A1||(A1=1,function(e,t){(function(r,n){e.exports=n()})(Sr,function(){var r=r||function(n,i){var a;if(typeof window!="undefined"&&window.crypto&&(a=window.crypto),typeof self!="undefined"&&self.crypto&&(a=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window!="undefined"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Sr!="undefined"&&Sr.crypto&&(a=Sr.crypto),!a&&typeof zw=="function")try{a=Kw}catch(A){}var c=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch(A){}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch(A){}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function A(){}return function(D){var Z;return A.prototype=D,Z=new A,A.prototype=null,Z}}(),u={},d=u.lib={},h=d.Base=function(){return{extend:function(A){var D=l(this);return A&&D.mixIn(A),(!D.hasOwnProperty("init")||this.init===D.init)&&(D.init=function(){D.$super.init.apply(this,arguments)}),D.init.prototype=D,D.$super=this,D},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var D in A)A.hasOwnProperty(D)&&(this[D]=A[D]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=d.WordArray=h.extend({init:function(A,D){A=this.words=A||[],D!=i?this.sigBytes=D:this.sigBytes=A.length*4},toString:function(A){return(A||_).stringify(this)},concat:function(A){var D=this.words,Z=A.words,ie=this.sigBytes,oe=A.sigBytes;if(this.clamp(),ie%4)for(var fe=0;fe<oe;fe++){var he=Z[fe>>>2]>>>24-fe%4*8&255;D[ie+fe>>>2]|=he<<24-(ie+fe)%4*8}else for(var ge=0;ge<oe;ge+=4)D[ie+ge>>>2]=Z[ge>>>2];return this.sigBytes+=oe,this},clamp:function(){var A=this.words,D=this.sigBytes;A[D>>>2]&=4294967295<<32-D%4*8,A.length=n.ceil(D/4)},clone:function(){var A=h.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var D=[],Z=0;Z<A;Z+=4)D.push(c());return new y.init(D,A)}}),m=u.enc={},_=m.Hex={stringify:function(A){for(var D=A.words,Z=A.sigBytes,ie=[],oe=0;oe<Z;oe++){var fe=D[oe>>>2]>>>24-oe%4*8&255;ie.push((fe>>>4).toString(16)),ie.push((fe&15).toString(16))}return ie.join("")},parse:function(A){for(var D=A.length,Z=[],ie=0;ie<D;ie+=2)Z[ie>>>3]|=parseInt(A.substr(ie,2),16)<<24-ie%8*4;return new y.init(Z,D/2)}},R=m.Latin1={stringify:function(A){for(var D=A.words,Z=A.sigBytes,ie=[],oe=0;oe<Z;oe++){var fe=D[oe>>>2]>>>24-oe%4*8&255;ie.push(String.fromCharCode(fe))}return ie.join("")},parse:function(A){for(var D=A.length,Z=[],ie=0;ie<D;ie++)Z[ie>>>2]|=(A.charCodeAt(ie)&255)<<24-ie%4*8;return new y.init(Z,D)}},b=m.Utf8={stringify:function(A){try{return decodeURIComponent(escape(R.stringify(A)))}catch(D){throw new Error("Malformed UTF-8 data")}},parse:function(A){return R.parse(unescape(encodeURIComponent(A)))}},C=d.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=b.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var D,Z=this._data,ie=Z.words,oe=Z.sigBytes,fe=this.blockSize,he=fe*4,ge=oe/he;A?ge=n.ceil(ge):ge=n.max((ge|0)-this._minBufferSize,0);var me=ge*fe,Se=n.min(me*4,oe);if(me){for(var Ce=0;Ce<me;Ce+=fe)this._doProcessBlock(ie,Ce);D=ie.splice(0,me),Z.sigBytes-=Se}return new y.init(D,Se)},clone:function(){var A=h.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0});d.Hasher=C.extend({cfg:h.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var D=this._doFinalize();return D},blockSize:16,_createHelper:function(A){return function(D,Z){return new A.init(Z).finalize(D)}},_createHmacHelper:function(A){return function(D,Z){return new H.HMAC.init(A,Z).finalize(D)}}});var H=u.algo={};return u}(Math);return r})}(T1)),T1.exports}var P1={exports:{}},k1;function tg(){return k1||(k1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.Base,l=a.WordArray,u=i.x64={};u.Word=c.extend({init:function(d,h){this.high=d,this.low=h}}),u.WordArray=c.extend({init:function(d,h){d=this.words=d||[],h!=n?this.sigBytes=h:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,h=d.length,y=[],m=0;m<h;m++){var _=d[m];y.push(_.high),y.push(_.low)}return l.create(y,this.sigBytes)},clone:function(){for(var d=c.clone.call(this),h=d.words=this.words.slice(0),y=h.length,m=0;m<y;m++)h[m]=h[m].clone();return d}})}(),r})}(P1)),P1.exports}var I1={exports:{}},O1;function qw(){return O1||(O1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,c=a.init,l=a.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var d=u.byteLength,h=[],y=0;y<d;y++)h[y>>>2]|=u[y]<<24-y%4*8;c.call(this,h,d)}else c.apply(this,arguments)};l.prototype=a}}(),r.lib.WordArray})}(I1)),I1.exports}var x1={exports:{}},M1;function Jw(){return M1||(M1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=n.enc;c.Utf16=c.Utf16BE={stringify:function(u){for(var d=u.words,h=u.sigBytes,y=[],m=0;m<h;m+=2){var _=d[m>>>2]>>>16-m%4*8&65535;y.push(String.fromCharCode(_))}return y.join("")},parse:function(u){for(var d=u.length,h=[],y=0;y<d;y++)h[y>>>1]|=u.charCodeAt(y)<<16-y%2*16;return a.create(h,d*2)}},c.Utf16LE={stringify:function(u){for(var d=u.words,h=u.sigBytes,y=[],m=0;m<h;m+=2){var _=l(d[m>>>2]>>>16-m%4*8&65535);y.push(String.fromCharCode(_))}return y.join("")},parse:function(u){for(var d=u.length,h=[],y=0;y<d;y++)h[y>>>1]|=l(u.charCodeAt(y)<<16-y%2*16);return a.create(h,d*2)}};function l(u){return u<<8&4278255360|u>>>8&16711935}}(),r.enc.Utf16})}(x1)),x1.exports}var N1={exports:{}},D1;function Yl(){return D1||(D1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=n.enc;c.Base64={stringify:function(u){var d=u.words,h=u.sigBytes,y=this._map;u.clamp();for(var m=[],_=0;_<h;_+=3)for(var R=d[_>>>2]>>>24-_%4*8&255,b=d[_+1>>>2]>>>24-(_+1)%4*8&255,C=d[_+2>>>2]>>>24-(_+2)%4*8&255,H=R<<16|b<<8|C,A=0;A<4&&_+A*.75<h;A++)m.push(y.charAt(H>>>6*(3-A)&63));var D=y.charAt(64);if(D)for(;m.length%4;)m.push(D);return m.join("")},parse:function(u){var d=u.length,h=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var m=0;m<h.length;m++)y[h.charCodeAt(m)]=m}var _=h.charAt(64);if(_){var R=u.indexOf(_);R!==-1&&(d=R)}return l(u,d,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(u,d,h){for(var y=[],m=0,_=0;_<d;_++)if(_%4){var R=h[u.charCodeAt(_-1)]<<_%4*2,b=h[u.charCodeAt(_)]>>>6-_%4*2,C=R|b;y[m>>>2]|=C<<24-m%4*8,m++}return a.create(y,m)}}(),r.enc.Base64})}(N1)),N1.exports}var L1={exports:{}},V1;function Yw(){return V1||(V1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=n.enc;c.Base64url={stringify:function(u,d){d===void 0&&(d=!0);var h=u.words,y=u.sigBytes,m=d?this._safe_map:this._map;u.clamp();for(var _=[],R=0;R<y;R+=3)for(var b=h[R>>>2]>>>24-R%4*8&255,C=h[R+1>>>2]>>>24-(R+1)%4*8&255,H=h[R+2>>>2]>>>24-(R+2)%4*8&255,A=b<<16|C<<8|H,D=0;D<4&&R+D*.75<y;D++)_.push(m.charAt(A>>>6*(3-D)&63));var Z=m.charAt(64);if(Z)for(;_.length%4;)_.push(Z);return _.join("")},parse:function(u,d){d===void 0&&(d=!0);var h=u.length,y=d?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var _=0;_<y.length;_++)m[y.charCodeAt(_)]=_}var R=y.charAt(64);if(R){var b=u.indexOf(R);b!==-1&&(h=b)}return l(u,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(u,d,h){for(var y=[],m=0,_=0;_<d;_++)if(_%4){var R=h[u.charCodeAt(_-1)]<<_%4*2,b=h[u.charCodeAt(_)]>>>6-_%4*2,C=R|b;y[m>>>2]|=C<<24-m%4*8,m++}return a.create(y,m)}}(),r.enc.Base64url})}(L1)),L1.exports}var U1={exports:{}},B1;function Xl(){return B1||(B1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.WordArray,l=a.Hasher,u=i.algo,d=[];(function(){for(var b=0;b<64;b++)d[b]=n.abs(n.sin(b+1))*4294967296|0})();var h=u.MD5=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,C){for(var H=0;H<16;H++){var A=C+H,D=b[A];b[A]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var Z=this._hash.words,ie=b[C+0],oe=b[C+1],fe=b[C+2],he=b[C+3],ge=b[C+4],me=b[C+5],Se=b[C+6],Ce=b[C+7],Te=b[C+8],Le=b[C+9],ze=b[C+10],Ne=b[C+11],Be=b[C+12],Ue=b[C+13],et=b[C+14],Ke=b[C+15],Ie=Z[0],Ae=Z[1],$e=Z[2],Oe=Z[3];Ie=y(Ie,Ae,$e,Oe,ie,7,d[0]),Oe=y(Oe,Ie,Ae,$e,oe,12,d[1]),$e=y($e,Oe,Ie,Ae,fe,17,d[2]),Ae=y(Ae,$e,Oe,Ie,he,22,d[3]),Ie=y(Ie,Ae,$e,Oe,ge,7,d[4]),Oe=y(Oe,Ie,Ae,$e,me,12,d[5]),$e=y($e,Oe,Ie,Ae,Se,17,d[6]),Ae=y(Ae,$e,Oe,Ie,Ce,22,d[7]),Ie=y(Ie,Ae,$e,Oe,Te,7,d[8]),Oe=y(Oe,Ie,Ae,$e,Le,12,d[9]),$e=y($e,Oe,Ie,Ae,ze,17,d[10]),Ae=y(Ae,$e,Oe,Ie,Ne,22,d[11]),Ie=y(Ie,Ae,$e,Oe,Be,7,d[12]),Oe=y(Oe,Ie,Ae,$e,Ue,12,d[13]),$e=y($e,Oe,Ie,Ae,et,17,d[14]),Ae=y(Ae,$e,Oe,Ie,Ke,22,d[15]),Ie=m(Ie,Ae,$e,Oe,oe,5,d[16]),Oe=m(Oe,Ie,Ae,$e,Se,9,d[17]),$e=m($e,Oe,Ie,Ae,Ne,14,d[18]),Ae=m(Ae,$e,Oe,Ie,ie,20,d[19]),Ie=m(Ie,Ae,$e,Oe,me,5,d[20]),Oe=m(Oe,Ie,Ae,$e,ze,9,d[21]),$e=m($e,Oe,Ie,Ae,Ke,14,d[22]),Ae=m(Ae,$e,Oe,Ie,ge,20,d[23]),Ie=m(Ie,Ae,$e,Oe,Le,5,d[24]),Oe=m(Oe,Ie,Ae,$e,et,9,d[25]),$e=m($e,Oe,Ie,Ae,he,14,d[26]),Ae=m(Ae,$e,Oe,Ie,Te,20,d[27]),Ie=m(Ie,Ae,$e,Oe,Ue,5,d[28]),Oe=m(Oe,Ie,Ae,$e,fe,9,d[29]),$e=m($e,Oe,Ie,Ae,Ce,14,d[30]),Ae=m(Ae,$e,Oe,Ie,Be,20,d[31]),Ie=_(Ie,Ae,$e,Oe,me,4,d[32]),Oe=_(Oe,Ie,Ae,$e,Te,11,d[33]),$e=_($e,Oe,Ie,Ae,Ne,16,d[34]),Ae=_(Ae,$e,Oe,Ie,et,23,d[35]),Ie=_(Ie,Ae,$e,Oe,oe,4,d[36]),Oe=_(Oe,Ie,Ae,$e,ge,11,d[37]),$e=_($e,Oe,Ie,Ae,Ce,16,d[38]),Ae=_(Ae,$e,Oe,Ie,ze,23,d[39]),Ie=_(Ie,Ae,$e,Oe,Ue,4,d[40]),Oe=_(Oe,Ie,Ae,$e,ie,11,d[41]),$e=_($e,Oe,Ie,Ae,he,16,d[42]),Ae=_(Ae,$e,Oe,Ie,Se,23,d[43]),Ie=_(Ie,Ae,$e,Oe,Le,4,d[44]),Oe=_(Oe,Ie,Ae,$e,Be,11,d[45]),$e=_($e,Oe,Ie,Ae,Ke,16,d[46]),Ae=_(Ae,$e,Oe,Ie,fe,23,d[47]),Ie=R(Ie,Ae,$e,Oe,ie,6,d[48]),Oe=R(Oe,Ie,Ae,$e,Ce,10,d[49]),$e=R($e,Oe,Ie,Ae,et,15,d[50]),Ae=R(Ae,$e,Oe,Ie,me,21,d[51]),Ie=R(Ie,Ae,$e,Oe,Be,6,d[52]),Oe=R(Oe,Ie,Ae,$e,he,10,d[53]),$e=R($e,Oe,Ie,Ae,ze,15,d[54]),Ae=R(Ae,$e,Oe,Ie,oe,21,d[55]),Ie=R(Ie,Ae,$e,Oe,Te,6,d[56]),Oe=R(Oe,Ie,Ae,$e,Ke,10,d[57]),$e=R($e,Oe,Ie,Ae,Se,15,d[58]),Ae=R(Ae,$e,Oe,Ie,Ue,21,d[59]),Ie=R(Ie,Ae,$e,Oe,ge,6,d[60]),Oe=R(Oe,Ie,Ae,$e,Ne,10,d[61]),$e=R($e,Oe,Ie,Ae,fe,15,d[62]),Ae=R(Ae,$e,Oe,Ie,Le,21,d[63]),Z[0]=Z[0]+Ie|0,Z[1]=Z[1]+Ae|0,Z[2]=Z[2]+$e|0,Z[3]=Z[3]+Oe|0},_doFinalize:function(){var b=this._data,C=b.words,H=this._nDataBytes*8,A=b.sigBytes*8;C[A>>>5]|=128<<24-A%32;var D=n.floor(H/4294967296),Z=H;C[(A+64>>>9<<4)+15]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,C[(A+64>>>9<<4)+14]=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,b.sigBytes=(C.length+1)*4,this._process();for(var ie=this._hash,oe=ie.words,fe=0;fe<4;fe++){var he=oe[fe];oe[fe]=(he<<8|he>>>24)&16711935|(he<<24|he>>>8)&4278255360}return ie},clone:function(){var b=l.clone.call(this);return b._hash=this._hash.clone(),b}});function y(b,C,H,A,D,Z,ie){var oe=b+(C&H|~C&A)+D+ie;return(oe<<Z|oe>>>32-Z)+C}function m(b,C,H,A,D,Z,ie){var oe=b+(C&A|H&~A)+D+ie;return(oe<<Z|oe>>>32-Z)+C}function _(b,C,H,A,D,Z,ie){var oe=b+(C^H^A)+D+ie;return(oe<<Z|oe>>>32-Z)+C}function R(b,C,H,A,D,Z,ie){var oe=b+(H^(C|~A))+D+ie;return(oe<<Z|oe>>>32-Z)+C}i.MD5=l._createHelper(h),i.HmacMD5=l._createHmacHelper(h)}(Math),r.MD5})}(U1)),U1.exports}var j1={exports:{}},F1;function $1(){return F1||(F1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=i.Hasher,l=n.algo,u=[],d=l.SHA1=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,y){for(var m=this._hash.words,_=m[0],R=m[1],b=m[2],C=m[3],H=m[4],A=0;A<80;A++){if(A<16)u[A]=h[y+A]|0;else{var D=u[A-3]^u[A-8]^u[A-14]^u[A-16];u[A]=D<<1|D>>>31}var Z=(_<<5|_>>>27)+H+u[A];A<20?Z+=(R&b|~R&C)+1518500249:A<40?Z+=(R^b^C)+1859775393:A<60?Z+=(R&b|R&C|b&C)-1894007588:Z+=(R^b^C)-899497514,H=C,C=b,b=R<<30|R>>>2,R=_,_=Z}m[0]=m[0]+_|0,m[1]=m[1]+R|0,m[2]=m[2]+b|0,m[3]=m[3]+C|0,m[4]=m[4]+H|0},_doFinalize:function(){var h=this._data,y=h.words,m=this._nDataBytes*8,_=h.sigBytes*8;return y[_>>>5]|=128<<24-_%32,y[(_+64>>>9<<4)+14]=Math.floor(m/4294967296),y[(_+64>>>9<<4)+15]=m,h.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var h=c.clone.call(this);return h._hash=this._hash.clone(),h}});n.SHA1=c._createHelper(d),n.HmacSHA1=c._createHmacHelper(d)}(),r.SHA1})}(j1)),j1.exports}var H1={exports:{}},z1;function C0(){return z1||(z1=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.WordArray,l=a.Hasher,u=i.algo,d=[],h=[];(function(){function _(H){for(var A=n.sqrt(H),D=2;D<=A;D++)if(!(H%D))return!1;return!0}function R(H){return(H-(H|0))*4294967296|0}for(var b=2,C=0;C<64;)_(b)&&(C<8&&(d[C]=R(n.pow(b,1/2))),h[C]=R(n.pow(b,1/3)),C++),b++})();var y=[],m=u.SHA256=l.extend({_doReset:function(){this._hash=new c.init(d.slice(0))},_doProcessBlock:function(_,R){for(var b=this._hash.words,C=b[0],H=b[1],A=b[2],D=b[3],Z=b[4],ie=b[5],oe=b[6],fe=b[7],he=0;he<64;he++){if(he<16)y[he]=_[R+he]|0;else{var ge=y[he-15],me=(ge<<25|ge>>>7)^(ge<<14|ge>>>18)^ge>>>3,Se=y[he-2],Ce=(Se<<15|Se>>>17)^(Se<<13|Se>>>19)^Se>>>10;y[he]=me+y[he-7]+Ce+y[he-16]}var Te=Z&ie^~Z&oe,Le=C&H^C&A^H&A,ze=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),Ne=(Z<<26|Z>>>6)^(Z<<21|Z>>>11)^(Z<<7|Z>>>25),Be=fe+Ne+Te+h[he]+y[he],Ue=ze+Le;fe=oe,oe=ie,ie=Z,Z=D+Be|0,D=A,A=H,H=C,C=Be+Ue|0}b[0]=b[0]+C|0,b[1]=b[1]+H|0,b[2]=b[2]+A|0,b[3]=b[3]+D|0,b[4]=b[4]+Z|0,b[5]=b[5]+ie|0,b[6]=b[6]+oe|0,b[7]=b[7]+fe|0},_doFinalize:function(){var _=this._data,R=_.words,b=this._nDataBytes*8,C=_.sigBytes*8;return R[C>>>5]|=128<<24-C%32,R[(C+64>>>9<<4)+14]=n.floor(b/4294967296),R[(C+64>>>9<<4)+15]=b,_.sigBytes=R.length*4,this._process(),this._hash},clone:function(){var _=l.clone.call(this);return _._hash=this._hash.clone(),_}});i.SHA256=l._createHelper(m),i.HmacSHA256=l._createHmacHelper(m)}(Math),r.SHA256})}(H1)),H1.exports}var W1={exports:{}},G1;function Xw(){return G1||(G1=1,function(e,t){(function(r,n,i){e.exports=n(Or(),C0())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=n.algo,l=c.SHA256,u=c.SHA224=l.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=4,d}});n.SHA224=l._createHelper(u),n.HmacSHA224=l._createHmacHelper(u)}(),r.SHA224})}(W1)),W1.exports}var K1={exports:{}},q1;function J1(){return q1||(q1=1,function(e,t){(function(r,n,i){e.exports=n(Or(),tg())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,c=n.x64,l=c.Word,u=c.WordArray,d=n.algo;function h(){return l.create.apply(l,arguments)}var y=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],m=[];(function(){for(var R=0;R<80;R++)m[R]=h()})();var _=d.SHA512=a.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(R,b){for(var C=this._hash.words,H=C[0],A=C[1],D=C[2],Z=C[3],ie=C[4],oe=C[5],fe=C[6],he=C[7],ge=H.high,me=H.low,Se=A.high,Ce=A.low,Te=D.high,Le=D.low,ze=Z.high,Ne=Z.low,Be=ie.high,Ue=ie.low,et=oe.high,Ke=oe.low,Ie=fe.high,Ae=fe.low,$e=he.high,Oe=he.low,ct=ge,ot=me,Rt=Se,Tt=Ce,zt=Te,Wt=Le,gr=ze,or=Ne,Xt=Be,ar=Ue,Kt=et,Er=Ke,Nr=Ie,_r=Ae,rn=$e,Jr=Oe,Yt=0;Yt<80;Yt++){var fr,Ht,Yr=m[Yt];if(Yt<16)Ht=Yr.high=R[b+Yt*2]|0,fr=Yr.low=R[b+Yt*2+1]|0;else{var Rr=m[Yt-15],Pr=Rr.high,_n=Rr.low,Jn=(Pr>>>1|_n<<31)^(Pr>>>8|_n<<24)^Pr>>>7,Yi=(_n>>>1|Pr<<31)^(_n>>>8|Pr<<24)^(_n>>>7|Pr<<25),nn=m[Yt-2],Gr=nn.high,jr=nn.low,Dr=(Gr>>>19|jr<<13)^(Gr<<3|jr>>>29)^Gr>>>6,Xr=(jr>>>19|Gr<<13)^(jr<<3|Gr>>>29)^(jr>>>6|Gr<<26),ia=m[Yt-7],Pa=ia.high,ji=ia.low,Lo=m[Yt-16],uu=Lo.high,Ks=Lo.low;fr=Yi+ji,Ht=Jn+Pa+(fr>>>0<Yi>>>0?1:0),fr=fr+Xr,Ht=Ht+Dr+(fr>>>0<Xr>>>0?1:0),fr=fr+Ks,Ht=Ht+uu+(fr>>>0<Ks>>>0?1:0),Yr.high=Ht,Yr.low=fr}var du=Xt&Kt^~Xt&Nr,Hc=ar&Er^~ar&_r,yo=ct&Rt^ct&zt^Rt&zt,Si=ot&Tt^ot&Wt^Tt&Wt,Vo=(ct>>>28|ot<<4)^(ct<<30|ot>>>2)^(ct<<25|ot>>>7),Pn=(ot>>>28|ct<<4)^(ot<<30|ct>>>2)^(ot<<25|ct>>>7),So=(Xt>>>14|ar<<18)^(Xt>>>18|ar<<14)^(Xt<<23|ar>>>9),$r=(ar>>>14|Xt<<18)^(ar>>>18|Xt<<14)^(ar<<23|Xt>>>9),xr=y[Yt],Yn=xr.high,oa=xr.low,wr=Jr+$r,kn=rn+So+(wr>>>0<Jr>>>0?1:0),wr=wr+Hc,kn=kn+du+(wr>>>0<Hc>>>0?1:0),wr=wr+oa,kn=kn+Yn+(wr>>>0<oa>>>0?1:0),wr=wr+fr,kn=kn+Ht+(wr>>>0<fr>>>0?1:0),qs=Pn+Si,hn=Vo+yo+(qs>>>0<Pn>>>0?1:0);rn=Nr,Jr=_r,Nr=Kt,_r=Er,Kt=Xt,Er=ar,ar=or+wr|0,Xt=gr+kn+(ar>>>0<or>>>0?1:0)|0,gr=zt,or=Wt,zt=Rt,Wt=Tt,Rt=ct,Tt=ot,ot=wr+qs|0,ct=kn+hn+(ot>>>0<wr>>>0?1:0)|0}me=H.low=me+ot,H.high=ge+ct+(me>>>0<ot>>>0?1:0),Ce=A.low=Ce+Tt,A.high=Se+Rt+(Ce>>>0<Tt>>>0?1:0),Le=D.low=Le+Wt,D.high=Te+zt+(Le>>>0<Wt>>>0?1:0),Ne=Z.low=Ne+or,Z.high=ze+gr+(Ne>>>0<or>>>0?1:0),Ue=ie.low=Ue+ar,ie.high=Be+Xt+(Ue>>>0<ar>>>0?1:0),Ke=oe.low=Ke+Er,oe.high=et+Kt+(Ke>>>0<Er>>>0?1:0),Ae=fe.low=Ae+_r,fe.high=Ie+Nr+(Ae>>>0<_r>>>0?1:0),Oe=he.low=Oe+Jr,he.high=$e+rn+(Oe>>>0<Jr>>>0?1:0)},_doFinalize:function(){var R=this._data,b=R.words,C=this._nDataBytes*8,H=R.sigBytes*8;b[H>>>5]|=128<<24-H%32,b[(H+128>>>10<<5)+30]=Math.floor(C/4294967296),b[(H+128>>>10<<5)+31]=C,R.sigBytes=b.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var R=a.clone.call(this);return R._hash=this._hash.clone(),R},blockSize:1024/32});n.SHA512=a._createHelper(_),n.HmacSHA512=a._createHmacHelper(_)}(),r.SHA512})}(K1)),K1.exports}var Y1={exports:{}},X1;function Qw(){return X1||(X1=1,function(e,t){(function(r,n,i){e.exports=n(Or(),tg(),J1())})(Sr,function(r){return function(){var n=r,i=n.x64,a=i.Word,c=i.WordArray,l=n.algo,u=l.SHA512,d=l.SHA384=u.extend({_doReset:function(){this._hash=new c.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var h=u._doFinalize.call(this);return h.sigBytes-=16,h}});n.SHA384=u._createHelper(d),n.HmacSHA384=u._createHmacHelper(d)}(),r.SHA384})}(Y1)),Y1.exports}var Q1={exports:{}},Z1;function Zw(){return Z1||(Z1=1,function(e,t){(function(r,n,i){e.exports=n(Or(),tg())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.WordArray,l=a.Hasher,u=i.x64,d=u.Word,h=i.algo,y=[],m=[],_=[];(function(){for(var C=1,H=0,A=0;A<24;A++){y[C+5*H]=(A+1)*(A+2)/2%64;var D=H%5,Z=(2*C+3*H)%5;C=D,H=Z}for(var C=0;C<5;C++)for(var H=0;H<5;H++)m[C+5*H]=H+(2*C+3*H)%5*5;for(var ie=1,oe=0;oe<24;oe++){for(var fe=0,he=0,ge=0;ge<7;ge++){if(ie&1){var me=(1<<ge)-1;me<32?he^=1<<me:fe^=1<<me-32}ie&128?ie=ie<<1^113:ie<<=1}_[oe]=d.create(fe,he)}})();var R=[];(function(){for(var C=0;C<25;C++)R[C]=d.create()})();var b=h.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],H=0;H<25;H++)C[H]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,H){for(var A=this._state,D=this.blockSize/2,Z=0;Z<D;Z++){var ie=C[H+2*Z],oe=C[H+2*Z+1];ie=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360,oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360;var fe=A[Z];fe.high^=oe,fe.low^=ie}for(var he=0;he<24;he++){for(var ge=0;ge<5;ge++){for(var me=0,Se=0,Ce=0;Ce<5;Ce++){var fe=A[ge+5*Ce];me^=fe.high,Se^=fe.low}var Te=R[ge];Te.high=me,Te.low=Se}for(var ge=0;ge<5;ge++)for(var Le=R[(ge+4)%5],ze=R[(ge+1)%5],Ne=ze.high,Be=ze.low,me=Le.high^(Ne<<1|Be>>>31),Se=Le.low^(Be<<1|Ne>>>31),Ce=0;Ce<5;Ce++){var fe=A[ge+5*Ce];fe.high^=me,fe.low^=Se}for(var Ue=1;Ue<25;Ue++){var me,Se,fe=A[Ue],et=fe.high,Ke=fe.low,Ie=y[Ue];Ie<32?(me=et<<Ie|Ke>>>32-Ie,Se=Ke<<Ie|et>>>32-Ie):(me=Ke<<Ie-32|et>>>64-Ie,Se=et<<Ie-32|Ke>>>64-Ie);var Ae=R[m[Ue]];Ae.high=me,Ae.low=Se}var $e=R[0],Oe=A[0];$e.high=Oe.high,$e.low=Oe.low;for(var ge=0;ge<5;ge++)for(var Ce=0;Ce<5;Ce++){var Ue=ge+5*Ce,fe=A[Ue],ct=R[Ue],ot=R[(ge+1)%5+5*Ce],Rt=R[(ge+2)%5+5*Ce];fe.high=ct.high^~ot.high&Rt.high,fe.low=ct.low^~ot.low&Rt.low}var fe=A[0],Tt=_[he];fe.high^=Tt.high,fe.low^=Tt.low}},_doFinalize:function(){var C=this._data,H=C.words;this._nDataBytes*8;var A=C.sigBytes*8,D=this.blockSize*32;H[A>>>5]|=1<<24-A%32,H[(n.ceil((A+1)/D)*D>>>5)-1]|=128,C.sigBytes=H.length*4,this._process();for(var Z=this._state,ie=this.cfg.outputLength/8,oe=ie/8,fe=[],he=0;he<oe;he++){var ge=Z[he],me=ge.high,Se=ge.low;me=(me<<8|me>>>24)&16711935|(me<<24|me>>>8)&4278255360,Se=(Se<<8|Se>>>24)&16711935|(Se<<24|Se>>>8)&4278255360,fe.push(Se),fe.push(me)}return new c.init(fe,ie)},clone:function(){for(var C=l.clone.call(this),H=C._state=this._state.slice(0),A=0;A<25;A++)H[A]=H[A].clone();return C}});i.SHA3=l._createHelper(b),i.HmacSHA3=l._createHmacHelper(b)}(Math),r.SHA3})}(Q1)),Q1.exports}var eb={exports:{}},tb;function eT(){return tb||(tb=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.WordArray,l=a.Hasher,u=i.algo,d=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=c.create([0,1518500249,1859775393,2400959708,2840853838]),R=c.create([1352829926,1548603684,1836072691,2053994217,0]),b=u.RIPEMD160=l.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(oe,fe){for(var he=0;he<16;he++){var ge=fe+he,me=oe[ge];oe[ge]=(me<<8|me>>>24)&16711935|(me<<24|me>>>8)&4278255360}var Se=this._hash.words,Ce=_.words,Te=R.words,Le=d.words,ze=h.words,Ne=y.words,Be=m.words,Ue,et,Ke,Ie,Ae,$e,Oe,ct,ot,Rt;$e=Ue=Se[0],Oe=et=Se[1],ct=Ke=Se[2],ot=Ie=Se[3],Rt=Ae=Se[4];for(var Tt,he=0;he<80;he+=1)Tt=Ue+oe[fe+Le[he]]|0,he<16?Tt+=C(et,Ke,Ie)+Ce[0]:he<32?Tt+=H(et,Ke,Ie)+Ce[1]:he<48?Tt+=A(et,Ke,Ie)+Ce[2]:he<64?Tt+=D(et,Ke,Ie)+Ce[3]:Tt+=Z(et,Ke,Ie)+Ce[4],Tt=Tt|0,Tt=ie(Tt,Ne[he]),Tt=Tt+Ae|0,Ue=Ae,Ae=Ie,Ie=ie(Ke,10),Ke=et,et=Tt,Tt=$e+oe[fe+ze[he]]|0,he<16?Tt+=Z(Oe,ct,ot)+Te[0]:he<32?Tt+=D(Oe,ct,ot)+Te[1]:he<48?Tt+=A(Oe,ct,ot)+Te[2]:he<64?Tt+=H(Oe,ct,ot)+Te[3]:Tt+=C(Oe,ct,ot)+Te[4],Tt=Tt|0,Tt=ie(Tt,Be[he]),Tt=Tt+Rt|0,$e=Rt,Rt=ot,ot=ie(ct,10),ct=Oe,Oe=Tt;Tt=Se[1]+Ke+ot|0,Se[1]=Se[2]+Ie+Rt|0,Se[2]=Se[3]+Ae+$e|0,Se[3]=Se[4]+Ue+Oe|0,Se[4]=Se[0]+et+ct|0,Se[0]=Tt},_doFinalize:function(){var oe=this._data,fe=oe.words,he=this._nDataBytes*8,ge=oe.sigBytes*8;fe[ge>>>5]|=128<<24-ge%32,fe[(ge+64>>>9<<4)+14]=(he<<8|he>>>24)&16711935|(he<<24|he>>>8)&4278255360,oe.sigBytes=(fe.length+1)*4,this._process();for(var me=this._hash,Se=me.words,Ce=0;Ce<5;Ce++){var Te=Se[Ce];Se[Ce]=(Te<<8|Te>>>24)&16711935|(Te<<24|Te>>>8)&4278255360}return me},clone:function(){var oe=l.clone.call(this);return oe._hash=this._hash.clone(),oe}});function C(oe,fe,he){return oe^fe^he}function H(oe,fe,he){return oe&fe|~oe&he}function A(oe,fe,he){return(oe|~fe)^he}function D(oe,fe,he){return oe&he|fe&~he}function Z(oe,fe,he){return oe^(fe|~he)}function ie(oe,fe){return oe<<fe|oe>>>32-fe}i.RIPEMD160=l._createHelper(b),i.HmacRIPEMD160=l._createHmacHelper(b)}(),r.RIPEMD160})}(eb)),eb.exports}var rb={exports:{}},nb;function _0(){return nb||(nb=1,function(e,t){(function(r,n){e.exports=n(Or())})(Sr,function(r){(function(){var n=r,i=n.lib,a=i.Base,c=n.enc,l=c.Utf8,u=n.algo;u.HMAC=a.extend({init:function(d,h){d=this._hasher=new d.init,typeof h=="string"&&(h=l.parse(h));var y=d.blockSize,m=y*4;h.sigBytes>m&&(h=d.finalize(h)),h.clamp();for(var _=this._oKey=h.clone(),R=this._iKey=h.clone(),b=_.words,C=R.words,H=0;H<y;H++)b[H]^=1549556828,C[H]^=909522486;_.sigBytes=R.sigBytes=m,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var h=this._hasher,y=h.finalize(d);h.reset();var m=h.finalize(this._oKey.clone().concat(y));return m}})})()})}(rb)),rb.exports}var ib={exports:{}},ob;function tT(){return ob||(ob=1,function(e,t){(function(r,n,i){e.exports=n(Or(),C0(),_0())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.Base,c=i.WordArray,l=n.algo,u=l.SHA256,d=l.HMAC,h=l.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,m){for(var _=this.cfg,R=d.create(_.hasher,y),b=c.create(),C=c.create([1]),H=b.words,A=C.words,D=_.keySize,Z=_.iterations;H.length<D;){var ie=R.update(m).finalize(C);R.reset();for(var oe=ie.words,fe=oe.length,he=ie,ge=1;ge<Z;ge++){he=R.finalize(he),R.reset();for(var me=he.words,Se=0;Se<fe;Se++)oe[Se]^=me[Se]}b.concat(ie),A[0]++}return b.sigBytes=D*4,b}});n.PBKDF2=function(y,m,_){return h.create(_).compute(y,m)}}(),r.PBKDF2})}(ib)),ib.exports}var ab={exports:{}},sb;function Mc(){return sb||(sb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),$1(),_0())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.Base,c=i.WordArray,l=n.algo,u=l.MD5,d=l.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,y){for(var m,_=this.cfg,R=_.hasher.create(),b=c.create(),C=b.words,H=_.keySize,A=_.iterations;C.length<H;){m&&R.update(m),m=R.update(h).finalize(y),R.reset();for(var D=1;D<A;D++)m=R.finalize(m),R.reset();b.concat(m)}return b.sigBytes=H*4,b}});n.EvpKDF=function(h,y,m){return d.create(m).compute(h,y)}}(),r.EvpKDF})}(ab)),ab.exports}var cb={exports:{}},lb;function gi(){return lb||(lb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Mc())})(Sr,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,c=a.Base,l=a.WordArray,u=a.BufferedBlockAlgorithm,d=i.enc;d.Utf8;var h=d.Base64,y=i.algo,m=y.EvpKDF,_=a.Cipher=u.extend({cfg:c.extend(),createEncryptor:function(me,Se){return this.create(this._ENC_XFORM_MODE,me,Se)},createDecryptor:function(me,Se){return this.create(this._DEC_XFORM_MODE,me,Se)},init:function(me,Se,Ce){this.cfg=this.cfg.extend(Ce),this._xformMode=me,this._key=Se,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(me){return this._append(me),this._process()},finalize:function(me){me&&this._append(me);var Se=this._doFinalize();return Se},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function me(Se){return typeof Se=="string"?ge:oe}return function(Se){return{encrypt:function(Ce,Te,Le){return me(Te).encrypt(Se,Ce,Te,Le)},decrypt:function(Ce,Te,Le){return me(Te).decrypt(Se,Ce,Te,Le)}}}}()});a.StreamCipher=_.extend({_doFinalize:function(){var me=this._process(!0);return me},blockSize:1});var R=i.mode={},b=a.BlockCipherMode=c.extend({createEncryptor:function(me,Se){return this.Encryptor.create(me,Se)},createDecryptor:function(me,Se){return this.Decryptor.create(me,Se)},init:function(me,Se){this._cipher=me,this._iv=Se}}),C=R.CBC=function(){var me=b.extend();me.Encryptor=me.extend({processBlock:function(Ce,Te){var Le=this._cipher,ze=Le.blockSize;Se.call(this,Ce,Te,ze),Le.encryptBlock(Ce,Te),this._prevBlock=Ce.slice(Te,Te+ze)}}),me.Decryptor=me.extend({processBlock:function(Ce,Te){var Le=this._cipher,ze=Le.blockSize,Ne=Ce.slice(Te,Te+ze);Le.decryptBlock(Ce,Te),Se.call(this,Ce,Te,ze),this._prevBlock=Ne}});function Se(Ce,Te,Le){var ze,Ne=this._iv;Ne?(ze=Ne,this._iv=n):ze=this._prevBlock;for(var Be=0;Be<Le;Be++)Ce[Te+Be]^=ze[Be]}return me}(),H=i.pad={},A=H.Pkcs7={pad:function(me,Se){for(var Ce=Se*4,Te=Ce-me.sigBytes%Ce,Le=Te<<24|Te<<16|Te<<8|Te,ze=[],Ne=0;Ne<Te;Ne+=4)ze.push(Le);var Be=l.create(ze,Te);me.concat(Be)},unpad:function(me){var Se=me.words[me.sigBytes-1>>>2]&255;me.sigBytes-=Se}};a.BlockCipher=_.extend({cfg:_.cfg.extend({mode:C,padding:A}),reset:function(){var me;_.reset.call(this);var Se=this.cfg,Ce=Se.iv,Te=Se.mode;this._xformMode==this._ENC_XFORM_MODE?me=Te.createEncryptor:(me=Te.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==me?this._mode.init(this,Ce&&Ce.words):(this._mode=me.call(Te,this,Ce&&Ce.words),this._mode.__creator=me)},_doProcessBlock:function(me,Se){this._mode.processBlock(me,Se)},_doFinalize:function(){var me,Se=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Se.pad(this._data,this.blockSize),me=this._process(!0)):(me=this._process(!0),Se.unpad(me)),me},blockSize:128/32});var D=a.CipherParams=c.extend({init:function(me){this.mixIn(me)},toString:function(me){return(me||this.formatter).stringify(this)}}),Z=i.format={},ie=Z.OpenSSL={stringify:function(me){var Se,Ce=me.ciphertext,Te=me.salt;return Te?Se=l.create([1398893684,1701076831]).concat(Te).concat(Ce):Se=Ce,Se.toString(h)},parse:function(me){var Se,Ce=h.parse(me),Te=Ce.words;return Te[0]==1398893684&&Te[1]==1701076831&&(Se=l.create(Te.slice(2,4)),Te.splice(0,4),Ce.sigBytes-=16),D.create({ciphertext:Ce,salt:Se})}},oe=a.SerializableCipher=c.extend({cfg:c.extend({format:ie}),encrypt:function(me,Se,Ce,Te){Te=this.cfg.extend(Te);var Le=me.createEncryptor(Ce,Te),ze=Le.finalize(Se),Ne=Le.cfg;return D.create({ciphertext:ze,key:Ce,iv:Ne.iv,algorithm:me,mode:Ne.mode,padding:Ne.padding,blockSize:me.blockSize,formatter:Te.format})},decrypt:function(me,Se,Ce,Te){Te=this.cfg.extend(Te),Se=this._parse(Se,Te.format);var Le=me.createDecryptor(Ce,Te).finalize(Se.ciphertext);return Le},_parse:function(me,Se){return typeof me=="string"?Se.parse(me,this):me}}),fe=i.kdf={},he=fe.OpenSSL={execute:function(me,Se,Ce,Te,Le){if(Te||(Te=l.random(64/8)),Le)var ze=m.create({keySize:Se+Ce,hasher:Le}).compute(me,Te);else var ze=m.create({keySize:Se+Ce}).compute(me,Te);var Ne=l.create(ze.words.slice(Se),Ce*4);return ze.sigBytes=Se*4,D.create({key:ze,iv:Ne,salt:Te})}},ge=a.PasswordBasedCipher=oe.extend({cfg:oe.cfg.extend({kdf:he}),encrypt:function(me,Se,Ce,Te){Te=this.cfg.extend(Te);var Le=Te.kdf.execute(Ce,me.keySize,me.ivSize,Te.salt,Te.hasher);Te.iv=Le.iv;var ze=oe.encrypt.call(this,me,Se,Le.key,Te);return ze.mixIn(Le),ze},decrypt:function(me,Se,Ce,Te){Te=this.cfg.extend(Te),Se=this._parse(Se,Te.format);var Le=Te.kdf.execute(Ce,me.keySize,me.ivSize,Se.salt,Te.hasher);Te.iv=Le.iv;var ze=oe.decrypt.call(this,me,Se,Le.key,Te);return ze}})}()})}(cb)),cb.exports}var ub={exports:{}},db;function rT(){return db||(db=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize;i.call(this,a,c,u,l),this._prevBlock=a.slice(c,c+u)}}),n.Decryptor=n.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,d=a.slice(c,c+u);i.call(this,a,c,u,l),this._prevBlock=d}});function i(a,c,l,u){var d,h=this._iv;h?(d=h.slice(0),this._iv=void 0):d=this._prevBlock,u.encryptBlock(d,0);for(var y=0;y<l;y++)a[c+y]^=d[y]}return n}(),r.mode.CFB})}(ub)),ub.exports}var fb={exports:{}},hb;function nT(){return hb||(hb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0);var y=h.slice(0);l.encryptBlock(y,0),h[u-1]=h[u-1]+1|0;for(var m=0;m<u;m++)a[c+m]^=y[m]}});return n.Decryptor=i,n}(),r.mode.CTR})}(fb)),fb.exports}var pb={exports:{}},mb;function iT(){return mb||(mb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(l){if((l>>24&255)===255){var u=l>>16&255,d=l>>8&255,h=l&255;u===255?(u=0,d===255?(d=0,h===255?h=0:++h):++d):++u,l=0,l+=u<<16,l+=d<<8,l+=h}else l+=1<<24;return l}function a(l){return(l[0]=i(l[0]))===0&&(l[1]=i(l[1])),l}var c=n.Encryptor=n.extend({processBlock:function(l,u){var d=this._cipher,h=d.blockSize,y=this._iv,m=this._counter;y&&(m=this._counter=y.slice(0),this._iv=void 0),a(m);var _=m.slice(0);d.encryptBlock(_,0);for(var R=0;R<h;R++)l[u+R]^=_[R]}});return n.Decryptor=c,n}(),r.mode.CTRGladman})}(pb)),pb.exports}var gb={exports:{}},vb;function oT(){return vb||(vb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,d=this._iv,h=this._keystream;d&&(h=this._keystream=d.slice(0),this._iv=void 0),l.encryptBlock(h,0);for(var y=0;y<u;y++)a[c+y]^=h[y]}});return n.Decryptor=i,n}(),r.mode.OFB})}(gb)),gb.exports}var yb={exports:{}},Sb;function aT(){return Sb||(Sb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(yb)),yb.exports}var bb={exports:{}},Eb;function sT(){return Eb||(Eb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,c=i*4,l=c-a%c,u=a+l-1;n.clamp(),n.words[u>>>2]|=l<<24-u%4*8,n.sigBytes+=l},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(bb)),bb.exports}var Cb={exports:{}},_b;function cT(){return _b||(_b=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,c=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(c-1)).concat(r.lib.WordArray.create([c<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Cb)),Cb.exports}var Rb={exports:{}},wb;function lT(){return wb||(wb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Rb)),Rb.exports}var Tb={exports:{}},Ab;function uT(){return Ab||(Ab=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Tb)),Tb.exports}var Pb={exports:{}},kb;function dT(){return kb||(kb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Pb)),Pb.exports}var Ib={exports:{}},Ob;function fT(){return Ob||(Ob=1,function(e,t){(function(r,n,i){e.exports=n(Or(),gi())})(Sr,function(r){return function(n){var i=r,a=i.lib,c=a.CipherParams,l=i.enc,u=l.Hex,d=i.format;d.Hex={stringify:function(h){return h.ciphertext.toString(u)},parse:function(h){var y=u.parse(h);return c.create({ciphertext:y})}}}(),r.format.Hex})}(Ib)),Ib.exports}var xb={exports:{}},Mb;function hT(){return Mb||(Mb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,c=n.algo,l=[],u=[],d=[],h=[],y=[],m=[],_=[],R=[],b=[],C=[];(function(){for(var D=[],Z=0;Z<256;Z++)Z<128?D[Z]=Z<<1:D[Z]=Z<<1^283;for(var ie=0,oe=0,Z=0;Z<256;Z++){var fe=oe^oe<<1^oe<<2^oe<<3^oe<<4;fe=fe>>>8^fe&255^99,l[ie]=fe,u[fe]=ie;var he=D[ie],ge=D[he],me=D[ge],Se=D[fe]*257^fe*16843008;d[ie]=Se<<24|Se>>>8,h[ie]=Se<<16|Se>>>16,y[ie]=Se<<8|Se>>>24,m[ie]=Se;var Se=me*16843009^ge*65537^he*257^ie*16843008;_[fe]=Se<<24|Se>>>8,R[fe]=Se<<16|Se>>>16,b[fe]=Se<<8|Se>>>24,C[fe]=Se,ie?(ie=he^D[D[D[me^he]]],oe^=D[D[oe]]):ie=oe=1}})();var H=[0,1,2,4,8,16,32,64,128,27,54],A=c.AES=a.extend({_doReset:function(){var D;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Z=this._keyPriorReset=this._key,ie=Z.words,oe=Z.sigBytes/4,fe=this._nRounds=oe+6,he=(fe+1)*4,ge=this._keySchedule=[],me=0;me<he;me++)me<oe?ge[me]=ie[me]:(D=ge[me-1],me%oe?oe>6&&me%oe==4&&(D=l[D>>>24]<<24|l[D>>>16&255]<<16|l[D>>>8&255]<<8|l[D&255]):(D=D<<8|D>>>24,D=l[D>>>24]<<24|l[D>>>16&255]<<16|l[D>>>8&255]<<8|l[D&255],D^=H[me/oe|0]<<24),ge[me]=ge[me-oe]^D);for(var Se=this._invKeySchedule=[],Ce=0;Ce<he;Ce++){var me=he-Ce;if(Ce%4)var D=ge[me];else var D=ge[me-4];Ce<4||me<=4?Se[Ce]=D:Se[Ce]=_[l[D>>>24]]^R[l[D>>>16&255]]^b[l[D>>>8&255]]^C[l[D&255]]}}},encryptBlock:function(D,Z){this._doCryptBlock(D,Z,this._keySchedule,d,h,y,m,l)},decryptBlock:function(D,Z){var ie=D[Z+1];D[Z+1]=D[Z+3],D[Z+3]=ie,this._doCryptBlock(D,Z,this._invKeySchedule,_,R,b,C,u);var ie=D[Z+1];D[Z+1]=D[Z+3],D[Z+3]=ie},_doCryptBlock:function(D,Z,ie,oe,fe,he,ge,me){for(var Se=this._nRounds,Ce=D[Z]^ie[0],Te=D[Z+1]^ie[1],Le=D[Z+2]^ie[2],ze=D[Z+3]^ie[3],Ne=4,Be=1;Be<Se;Be++){var Ue=oe[Ce>>>24]^fe[Te>>>16&255]^he[Le>>>8&255]^ge[ze&255]^ie[Ne++],et=oe[Te>>>24]^fe[Le>>>16&255]^he[ze>>>8&255]^ge[Ce&255]^ie[Ne++],Ke=oe[Le>>>24]^fe[ze>>>16&255]^he[Ce>>>8&255]^ge[Te&255]^ie[Ne++],Ie=oe[ze>>>24]^fe[Ce>>>16&255]^he[Te>>>8&255]^ge[Le&255]^ie[Ne++];Ce=Ue,Te=et,Le=Ke,ze=Ie}var Ue=(me[Ce>>>24]<<24|me[Te>>>16&255]<<16|me[Le>>>8&255]<<8|me[ze&255])^ie[Ne++],et=(me[Te>>>24]<<24|me[Le>>>16&255]<<16|me[ze>>>8&255]<<8|me[Ce&255])^ie[Ne++],Ke=(me[Le>>>24]<<24|me[ze>>>16&255]<<16|me[Ce>>>8&255]<<8|me[Te&255])^ie[Ne++],Ie=(me[ze>>>24]<<24|me[Ce>>>16&255]<<16|me[Te>>>8&255]<<8|me[Le&255])^ie[Ne++];D[Z]=Ue,D[Z+1]=et,D[Z+2]=Ke,D[Z+3]=Ie},keySize:256/32});n.AES=a._createHelper(A)}(),r.AES})}(xb)),xb.exports}var Nb={exports:{}},Db;function pT(){return Db||(Db=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,c=i.BlockCipher,l=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],_=l.DES=c.extend({_doReset:function(){for(var H=this._key,A=H.words,D=[],Z=0;Z<56;Z++){var ie=u[Z]-1;D[Z]=A[ie>>>5]>>>31-ie%32&1}for(var oe=this._subKeys=[],fe=0;fe<16;fe++){for(var he=oe[fe]=[],ge=h[fe],Z=0;Z<24;Z++)he[Z/6|0]|=D[(d[Z]-1+ge)%28]<<31-Z%6,he[4+(Z/6|0)]|=D[28+(d[Z+24]-1+ge)%28]<<31-Z%6;he[0]=he[0]<<1|he[0]>>>31;for(var Z=1;Z<7;Z++)he[Z]=he[Z]>>>(Z-1)*4+3;he[7]=he[7]<<5|he[7]>>>27}for(var me=this._invSubKeys=[],Z=0;Z<16;Z++)me[Z]=oe[15-Z]},encryptBlock:function(H,A){this._doCryptBlock(H,A,this._subKeys)},decryptBlock:function(H,A){this._doCryptBlock(H,A,this._invSubKeys)},_doCryptBlock:function(H,A,D){this._lBlock=H[A],this._rBlock=H[A+1],R.call(this,4,252645135),R.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),R.call(this,1,1431655765);for(var Z=0;Z<16;Z++){for(var ie=D[Z],oe=this._lBlock,fe=this._rBlock,he=0,ge=0;ge<8;ge++)he|=y[ge][((fe^ie[ge])&m[ge])>>>0];this._lBlock=fe,this._rBlock=oe^he}var me=this._lBlock;this._lBlock=this._rBlock,this._rBlock=me,R.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),R.call(this,16,65535),R.call(this,4,252645135),H[A]=this._lBlock,H[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function R(H,A){var D=(this._lBlock>>>H^this._rBlock)&A;this._rBlock^=D,this._lBlock^=D<<H}function b(H,A){var D=(this._rBlock>>>H^this._lBlock)&A;this._lBlock^=D,this._rBlock^=D<<H}n.DES=c._createHelper(_);var C=l.TripleDES=c.extend({_doReset:function(){var H=this._key,A=H.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var D=A.slice(0,2),Z=A.length<4?A.slice(0,2):A.slice(2,4),ie=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=_.createEncryptor(a.create(D)),this._des2=_.createEncryptor(a.create(Z)),this._des3=_.createEncryptor(a.create(ie))},encryptBlock:function(H,A){this._des1.encryptBlock(H,A),this._des2.decryptBlock(H,A),this._des3.encryptBlock(H,A)},decryptBlock:function(H,A){this._des3.decryptBlock(H,A),this._des2.encryptBlock(H,A),this._des1.decryptBlock(H,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=c._createHelper(C)}(),r.TripleDES})}(Nb)),Nb.exports}var Lb={exports:{}},Vb;function mT(){return Vb||(Vb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,c=n.algo,l=c.RC4=a.extend({_doReset:function(){for(var h=this._key,y=h.words,m=h.sigBytes,_=this._S=[],R=0;R<256;R++)_[R]=R;for(var R=0,b=0;R<256;R++){var C=R%m,H=y[C>>>2]>>>24-C%4*8&255;b=(b+_[R]+H)%256;var A=_[R];_[R]=_[b],_[b]=A}this._i=this._j=0},_doProcessBlock:function(h,y){h[y]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var h=this._S,y=this._i,m=this._j,_=0,R=0;R<4;R++){y=(y+1)%256,m=(m+h[y])%256;var b=h[y];h[y]=h[m],h[m]=b,_|=h[(h[y]+h[m])%256]<<24-R*8}return this._i=y,this._j=m,_}n.RC4=a._createHelper(l);var d=c.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)u.call(this)}});n.RC4Drop=a._createHelper(d)}(),r.RC4})}(Lb)),Lb.exports}var Ub={exports:{}},Bb;function gT(){return Bb||(Bb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,c=n.algo,l=[],u=[],d=[],h=c.Rabbit=a.extend({_doReset:function(){for(var m=this._key.words,_=this.cfg.iv,R=0;R<4;R++)m[R]=(m[R]<<8|m[R]>>>24)&16711935|(m[R]<<24|m[R]>>>8)&4278255360;var b=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],C=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var R=0;R<4;R++)y.call(this);for(var R=0;R<8;R++)C[R]^=b[R+4&7];if(_){var H=_.words,A=H[0],D=H[1],Z=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,ie=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,oe=Z>>>16|ie&4294901760,fe=ie<<16|Z&65535;C[0]^=Z,C[1]^=oe,C[2]^=ie,C[3]^=fe,C[4]^=Z,C[5]^=oe,C[6]^=ie,C[7]^=fe;for(var R=0;R<4;R++)y.call(this)}},_doProcessBlock:function(m,_){var R=this._X;y.call(this),l[0]=R[0]^R[5]>>>16^R[3]<<16,l[1]=R[2]^R[7]>>>16^R[5]<<16,l[2]=R[4]^R[1]>>>16^R[7]<<16,l[3]=R[6]^R[3]>>>16^R[1]<<16;for(var b=0;b<4;b++)l[b]=(l[b]<<8|l[b]>>>24)&16711935|(l[b]<<24|l[b]>>>8)&4278255360,m[_+b]^=l[b]},blockSize:128/32,ivSize:64/32});function y(){for(var m=this._X,_=this._C,R=0;R<8;R++)u[R]=_[R];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<u[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<u[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<u[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<u[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<u[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<u[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<u[6]>>>0?1:0)|0,this._b=_[7]>>>0<u[7]>>>0?1:0;for(var R=0;R<8;R++){var b=m[R]+_[R],C=b&65535,H=b>>>16,A=((C*C>>>17)+C*H>>>15)+H*H,D=((b&4294901760)*b|0)+((b&65535)*b|0);d[R]=A^D}m[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,m[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,m[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,m[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,m[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,m[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,m[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,m[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.Rabbit=a._createHelper(h)}(),r.Rabbit})}(Ub)),Ub.exports}var jb={exports:{}},Fb;function vT(){return Fb||(Fb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,c=n.algo,l=[],u=[],d=[],h=c.RabbitLegacy=a.extend({_doReset:function(){var m=this._key.words,_=this.cfg.iv,R=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],b=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var C=0;C<4;C++)y.call(this);for(var C=0;C<8;C++)b[C]^=R[C+4&7];if(_){var H=_.words,A=H[0],D=H[1],Z=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,ie=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,oe=Z>>>16|ie&4294901760,fe=ie<<16|Z&65535;b[0]^=Z,b[1]^=oe,b[2]^=ie,b[3]^=fe,b[4]^=Z,b[5]^=oe,b[6]^=ie,b[7]^=fe;for(var C=0;C<4;C++)y.call(this)}},_doProcessBlock:function(m,_){var R=this._X;y.call(this),l[0]=R[0]^R[5]>>>16^R[3]<<16,l[1]=R[2]^R[7]>>>16^R[5]<<16,l[2]=R[4]^R[1]>>>16^R[7]<<16,l[3]=R[6]^R[3]>>>16^R[1]<<16;for(var b=0;b<4;b++)l[b]=(l[b]<<8|l[b]>>>24)&16711935|(l[b]<<24|l[b]>>>8)&4278255360,m[_+b]^=l[b]},blockSize:128/32,ivSize:64/32});function y(){for(var m=this._X,_=this._C,R=0;R<8;R++)u[R]=_[R];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<u[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<u[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<u[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<u[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<u[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<u[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<u[6]>>>0?1:0)|0,this._b=_[7]>>>0<u[7]>>>0?1:0;for(var R=0;R<8;R++){var b=m[R]+_[R],C=b&65535,H=b>>>16,A=((C*C>>>17)+C*H>>>15)+H*H,D=((b&4294901760)*b|0)+((b&65535)*b|0);d[R]=A^D}m[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,m[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,m[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,m[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,m[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,m[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,m[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,m[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.RabbitLegacy=a._createHelper(h)}(),r.RabbitLegacy})}(jb)),jb.exports}var $b={exports:{}},Hb;function yT(){return Hb||(Hb=1,function(e,t){(function(r,n,i){e.exports=n(Or(),Yl(),Xl(),Mc(),gi())})(Sr,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,c=n.algo;const l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function y(C,H){let A=H>>24&255,D=H>>16&255,Z=H>>8&255,ie=H&255,oe=C.sbox[0][A]+C.sbox[1][D];return oe=oe^C.sbox[2][Z],oe=oe+C.sbox[3][ie],oe}function m(C,H,A){let D=H,Z=A,ie;for(let oe=0;oe<l;++oe)D=D^C.pbox[oe],Z=y(C,D)^Z,ie=D,D=Z,Z=ie;return ie=D,D=Z,Z=ie,Z=Z^C.pbox[l],D=D^C.pbox[l+1],{left:D,right:Z}}function _(C,H,A){let D=H,Z=A,ie;for(let oe=l+1;oe>1;--oe)D=D^C.pbox[oe],Z=y(C,D)^Z,ie=D,D=Z,Z=ie;return ie=D,D=Z,Z=ie,Z=Z^C.pbox[1],D=D^C.pbox[0],{left:D,right:Z}}function R(C,H,A){for(let fe=0;fe<4;fe++){C.sbox[fe]=[];for(let he=0;he<256;he++)C.sbox[fe][he]=d[fe][he]}let D=0;for(let fe=0;fe<l+2;fe++)C.pbox[fe]=u[fe]^H[D],D++,D>=A&&(D=0);let Z=0,ie=0,oe=0;for(let fe=0;fe<l+2;fe+=2)oe=m(C,Z,ie),Z=oe.left,ie=oe.right,C.pbox[fe]=Z,C.pbox[fe+1]=ie;for(let fe=0;fe<4;fe++)for(let he=0;he<256;he+=2)oe=m(C,Z,ie),Z=oe.left,ie=oe.right,C.sbox[fe][he]=Z,C.sbox[fe][he+1]=ie;return!0}var b=c.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var C=this._keyPriorReset=this._key,H=C.words,A=C.sigBytes/4;R(h,H,A)}},encryptBlock:function(C,H){var A=m(h,C[H],C[H+1]);C[H]=A.left,C[H+1]=A.right},decryptBlock:function(C,H){var A=_(h,C[H],C[H+1]);C[H]=A.left,C[H+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(b)}(),r.Blowfish})}($b)),$b.exports}(function(e,t){(function(r,n,i){e.exports=n(Or(),tg(),qw(),Jw(),Yl(),Yw(),Xl(),$1(),C0(),Xw(),J1(),Qw(),Zw(),eT(),_0(),tT(),Mc(),gi(),rT(),nT(),iT(),oT(),aT(),sT(),cT(),lT(),uT(),dT(),fT(),hT(),pT(),mT(),gT(),vT(),yT())})(Sr,function(r){return r})})(w1);var ST=w1.exports;const jh=$w(ST);function bT(e){return jh.MD5(e).toString().toUpperCase()}function ET(e,t,r,n,i,a,c,l){var u;let d="";a.set("x-log-apiversion","0.6.0"),a.set("x-log-signaturemethod","hmac-sha1"),d+=e+`
`+c+`
`+((u=a.get("Content-Type"))!=null?u:"")+`
`+l+`
`;const h=(R,b)=>R[0].localeCompare(b[0]),y=R=>R[0].startsWith("x-log-")||R[0].startsWith("x-acs-");try{const R=[...a.entries()].filter(y).sort(h).map(b=>b[0]+":"+b[1]+`
`).join("");d+=R}catch(R){}d+=t,i.size>0&&(d+="?");try{d+=[...i.entries()].sort(h).map(R=>R[0]+"="+R[1]).join("&")}catch(R){}const m=jh.HmacSHA1(d,n).toString(jh.enc.Base64),_="LOG "+r+":"+m;return a.set("Authorization",_),a.set("x-log-date",l),_}var CT=(e,t,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(d){i(d)}},c=u=>{try{l(r.throw(u))}catch(d){i(d)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,c);l((r=r.apply(e,t)).next())});function _T(e){return CT(this,null,function*(){const t=new Date;if(e.refreshSTSTokenInterval||(e.refreshSTSTokenInterval=3e5),!e.stsTokenFreshTime||+t-e.stsTokenFreshTime>=e.refreshSTSTokenInterval){e.stsTokenFreshTime=t;try{yield e.refreshSTSToken()}catch(r){typeof console.error=="function"&&console.error(`Some error occured during excuting refreshSTSToken, see:
`+r)}}return null})}var RT=(e,t,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(d){i(d)}},c=u=>{try{l(r.throw(u))}catch(d){i(d)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,c);l((r=r.apply(e,t)).next())});function R0(e){return{transString:function(t){let r={},n=0,i=!1;for(let a in t){if((a==="time"||a==="__time__")&&typeof t[a]=="number"){n=t[a],i=!0;continue}typeof t[a]=="object"?r[a]=JSON.stringify(t[a]):r[a]=String(t[a])}return r.__time__=i?n:Math.floor(new Date().getTime()/1e3),r},process:function(t,r){return RT(this,null,function*(){yield _T(e);let n=t.slice(t.indexOf("/logstores")),i=r.length,a=bT(r),c=new Date().toUTCString(),l=new Map,u=new Map([["Content-Type","application/json"],["Content-MD5",a],["x-log-bodyrawsize",i.toString()]]);e.securityToken&&u.set("x-acs-security-token",e.securityToken),ET("POST",n,e.accessKeyId,e.accessKeySecret,l,u,a,c);let d=Object.fromEntries(u);return{data:r,header:d}})}}}typeof window!="undefined"&&_1(window,"stsPlugin",R0);var wT=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,TT=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,AT=/[^-+\dA-Z]/g;function w0(e,t,r,n){if(arguments.length===1&&typeof e=="string"&&!/\d/.test(e)&&(t=e,e=void 0),e=e||e===0?e:new Date,e instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");t=String(zb[t]||t||zb.default);var i=t.slice(0,4);(i==="UTC:"||i==="GMT:")&&(t=t.slice(4),r=!0,i==="GMT:"&&(n=!0));var a=function(){return r?"getUTC":"get"},c=function(){return e[a()+"Date"]()},l=function(){return e[a()+"Day"]()},u=function(){return e[a()+"Month"]()},d=function(){return e[a()+"FullYear"]()},h=function(){return e[a()+"Hours"]()},y=function(){return e[a()+"Minutes"]()},m=function(){return e[a()+"Seconds"]()},_=function(){return e[a()+"Milliseconds"]()},R=function(){return r?0:e.getTimezoneOffset()},b=function(){return PT(e)},C=function(){return kT(e)},H={d:function(){return c()},dd:function(){return ko(c())},ddd:function(){return mo.dayNames[l()]},DDD:function(){return Wb({y:d(),m:u(),d:c(),_:a(),dayName:mo.dayNames[l()],short:!0})},dddd:function(){return mo.dayNames[l()+7]},DDDD:function(){return Wb({y:d(),m:u(),d:c(),_:a(),dayName:mo.dayNames[l()+7]})},m:function(){return u()+1},mm:function(){return ko(u()+1)},mmm:function(){return mo.monthNames[u()]},mmmm:function(){return mo.monthNames[u()+12]},yy:function(){return String(d()).slice(2)},yyyy:function(){return ko(d(),4)},h:function(){return h()%12||12},hh:function(){return ko(h()%12||12)},H:function(){return h()},HH:function(){return ko(h())},M:function(){return y()},MM:function(){return ko(y())},s:function(){return m()},ss:function(){return ko(m())},l:function(){return ko(_(),3)},L:function(){return ko(Math.floor(_()/10))},t:function(){return h()<12?mo.timeNames[0]:mo.timeNames[1]},tt:function(){return h()<12?mo.timeNames[2]:mo.timeNames[3]},T:function(){return h()<12?mo.timeNames[4]:mo.timeNames[5]},TT:function(){return h()<12?mo.timeNames[6]:mo.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":IT(e)},o:function(){return(R()>0?"-":"+")+ko(Math.floor(Math.abs(R())/60)*100+Math.abs(R())%60,4)},p:function(){return(R()>0?"-":"+")+ko(Math.floor(Math.abs(R())/60),2)+":"+ko(Math.floor(Math.abs(R())%60),2)},S:function(){return["th","st","nd","rd"][c()%10>3?0:(c()%100-c()%10!=10)*c()%10]},W:function(){return b()},WW:function(){return ko(b())},N:function(){return C()}};return t.replace(wT,function(A){return A in H?H[A]():A.slice(1,A.length-1)})}var zb={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},mo={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},ko=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(t,"0")},Wb=function(e){var t=e.y,r=e.m,n=e.d,i=e._,a=e.dayName,c=e.short,l=c===void 0?!1:c,u=new Date,d=new Date;d.setDate(d[i+"Date"]()-1);var h=new Date;h.setDate(h[i+"Date"]()+1);var y=function(){return u[i+"Date"]()},m=function(){return u[i+"Month"]()},_=function(){return u[i+"FullYear"]()},R=function(){return d[i+"Date"]()},b=function(){return d[i+"Month"]()},C=function(){return d[i+"FullYear"]()},H=function(){return h[i+"Date"]()},A=function(){return h[i+"Month"]()},D=function(){return h[i+"FullYear"]()};return _()===t&&m()===r&&y()===n?l?"Tdy":"Today":C()===t&&b()===r&&R()===n?l?"Ysd":"Yesterday":D()===t&&A()===r&&H()===n?l?"Tmw":"Tomorrow":a},PT=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);var i=(t-r)/(864e5*7);return 1+Math.floor(i)},kT=function(e){var t=e.getDay();return t===0&&(t=7),t},IT=function(e){return(String(e).match(TT)||[""]).pop().replace(AT,"").replace(/GMT\+0000/g,"UTC")};const{BrowserUtil:OT}=Tr.AliRTS,Md={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Gecko:"Gecko",WebKit:"WebKit"},rg=(e,t)=>{const r=t.match(e);return r&&r.length>0&&r[1]||""},xT=[{test:[/\sedg\//i,[/edg([ea]|ios)/i]],describe(e){if(/\sedg\//i.test(e))return{name:Md.Blink};const t=rg(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Md.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Md.Trident},r=rg(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=/gecko/i.test(e),r=/like gecko/i.test(e);return t&&!r},describe(e){const t={name:Md.Gecko},r=rg(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Md.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Md.WebKit},r=rg(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}],T0=(e,t)=>e.find(r=>{if(typeof r.test=="function")return r.test(t);if(Array.isArray(r.test))return r.test.some(n=>typeof n=="string"?t.indexOf(n)>-1:n instanceof RegExp?n.test(t):!1)}),MT=()=>{try{const e=navigator.userAgent||"",t=T0(xT,e);if(t){const r=t.describe(e);return`${r.name}/${r.version||OT.browserVersion}`}}catch(e){}return navigator.userAgent},NT=[{test:["wow64","win64","x64"],describe(){return"amd64"}},{test:["i686","x86"],describe(){return"x86"}},{test:["aarch64","arm64"],describe(){return"arm64"}},{test:["arm"],describe(){return"arm"}}],Gb=()=>{let e="unknown";try{const t=navigator.userAgent||"",r=T0(NT,t);if(!r)return e;e=r.describe(t)}catch(t){}return e},DT=[{test:[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],describe(){return"Samsung"}},{test:[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i,/\((ipad);[-\w\),; ]+apple/i,/(macintosh);/i],describe(){return"Apple"}},{test:[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],describe(){return"Huawei"}},{test:[/(?:honor)([-\w ]+)[;\)]/i],describe(){return"Honor"}},{test:[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],describe(){return"Xiaomi"}},{test:[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],describe(){return"Oppo"}},{test:[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],describe(){return"Vivo"}},{test:[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],describe(){return"Realme"}},{test:[/(pixel c)\b/i,/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],describe(){return"Google"}},{test:[/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],describe(){return"ZTE"}},{test:[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],describe(){return"Meizu"}}],LT=()=>{let e="Unknown";try{const t=navigator.userAgent||"",r=T0(DT,t);if(!r)return e;e=r.describe(t)}catch(t){}return e},{BrowserUtil:Kb,SystenUtil:qb}=Tr.AliRTS,VT=Gb(),UT="woMMssV6jmyol9fr",BT=200,ng=10*60*1e3,ig={host:"cn-hangzhou.log.aliyuncs.com",project:"alivc-aio",logstore:"logger",time:10,count:10};function A0(){return w0(new Date,"HH:MM:ss.l")}function Jb(){return w0(new Date,"isoDate")}var Yb=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.API=2]="API",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR",e[e.NONE=5]="NONE",e))(Yb||{});class jT{constructor(){ae(this,"tracker"),ae(this,"slsPlugin"),ae(this,"stsData"),ae(this,"stsExpiration",Date.now()),ae(this,"clientId",is()),ae(this,"bSesid",is()),ae(this,"logLevel",3),ae(this,"appId",""),ae(this,"sessionId",""),ae(this,"logCache",[]),ae(this,"updateTaskTimer"),ae(this,"endReported",!0),ae(this,"logSequence",0),ae(this,"sendLogBeforeUnload",t=>Ye(this,null,function*(){if(!this.slsPlugin)return;this.logSequence+=1,t.unshift(this.getLogParams(710203,{log:`[${Jb()} ${A0()}] [INF] beforeunload`,stat_log_seq:this.logSequence}));const r=`https://${ig.project}.${ig.host}/logstores/${ig.logstore}`,n={__logs__:t.map(c=>this.slsPlugin.transString(c))},{data:i,header:a}=yield this.slsPlugin.process(r,JSON.stringify(n));fetch(r,{keepalive:!0,method:"POST",headers:a,body:i})})),ae(this,"logMethod",(t,r=console.log)=>(...n)=>{let i=A0();this.logLevel<=t&&r(i,...n);let a=po.paramArrayToString(n);t>0&&this.addLog(a)}),ae(this,"d",this.logMethod(0,console.debug)),ae(this,"i",this.logMethod(1)),ae(this,"w",this.logMethod(3,console.warn)),ae(this,"e",this.logMethod(4,(...t)=>{const[r,...n]=t;console.error(r,"<error>",n)})),ae(this,"ev",this.logMethod(2)),ae(this,"a",this.logMethod(2,(...t)=>{const[r,...n]=t;if(n.length>2){const i=`${n[1]}`;i.startsWith("__g__")&&console.group(`${i.substring(5)}_${n[2]}`)}console.log(r,...n)})),ae(this,"ar",this.logMethod(2,(...t)=>{const[r,...n]=t;console.log(r,...n),n.length>2&&`${n[1]}`.startsWith("__g__")&&console.groupEnd()})),ae(this,"ae",this.logMethod(2,(...t)=>{const[r,...n]=t;console.error(r,"<error>",...n),n.length>2&&`${n[1]}`.startsWith("__g__")&&console.groupEnd()})),window.addEventListener("beforeunload",()=>{this.reportEnd(!0)})}init(){this.reset(),this.startSTSUpdateTask()}destroy(){this.updateTaskTimer&&clearTimeout(this.updateTaskTimer)}reset(){this.bSesid=is(),this.endReported=!0,this.logSequence=0,this.appId="",this.sessionId=""}startSTSUpdateTask(){return Ye(this,null,function*(){this.updateTaskTimer&&clearTimeout(this.updateTaskTimer);try{const t=yield this.refreshSTSToken();this.createTracker(t)}catch(t){}this.updateTaskTimer=setTimeout(()=>{this.startSTSUpdateTask()},ng)})}refreshSTSToken(){return Ye(this,null,function*(){if(!this.stsData||this.stsExpiration<=Date.now()-ng){const t=yield this.requestSTSToken(),r=new Date(t==null?void 0:t.Expiration).getTime()||0,n=Date.now()+ng;this.stsExpiration=Math.max(r,n),this.stsData=t}return this.stsData})}requestSTSToken(){const t=Date.now(),r=`${this.clientId}|${UT}|${t}`,n={Action:"AssumeSlsRoleV2",AuthInfo:jh.MD5(r).toString(jh.enc.Hex),ClientId:this.clientId,BusinessType:"logger",AppVersion:"1.0",Version:"2017-03-14",AuthTimestamp:`${t}`,TerminalType:"web",DeviceModel:"",Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:w0(t,"isoUtcDateTime")},i=`https://slsrole.alicdn.com/?${new URLSearchParams(n).toString()}`;return fetch(i).then(a=>a.json()).then(a=>JSON.parse(window.atob(a.SlsAuthResult)))}createTracker(t){if(!this.tracker){const r={accessKeyId:t.AccessKeyId,accessKeySecret:t.AccessKeySecret,securityToken:t.SecurityToken,refreshSTSTokenInterval:ng,stsTokenFreshTime:void 0,refreshSTSToken:()=>{this.refreshSTSToken().then(a=>{r.accessKeyId=a.AccessKeyId,r.accessKeySecret=a.AccessKeySecret,r.securityToken=a.SecurityToken}).catch(()=>{})}},n=new E0(ig),i=R0(r);n.useStsPlugin(i),this.slsPlugin=i,this.tracker=n,this.reportStartAndCache()}}changeConfig(t){t.logLevel!==void 0&&t.logLevel>=0&&t.logLevel<=5&&(this.logLevel=t.logLevel)}setSessionID(t,r){!t||!r||(this.appId=t,this.sessionId=r,this.reportStartAndCache())}reportStartAndCache(){if(!this.tracker||!this.sessionId)return;this.endReported=!1;const t={task_btm_sec:0,task_duration:0,task_etm_sec:0,task_type:"session"},r=[this.getLogParams(710201,t),this.getLogParams(710202,t)];this.tracker.sendBatchLogsImmediate(r),this.logCache.forEach(n=>{this.sendLog(n)})}reportEnd(t=!1){if(!this.tracker||!this.sessionId||this.endReported){this.reset();return}const r={task_btm_sec:0,task_duration:0,task_etm_sec:0,task_type:"session"},n=[this.getLogParams(710204,r),this.getLogParams(710205,r)];t?this.sendLogBeforeUnload(n):(this.tracker.sendBatchLogsImmediate(n),this.endReported=!0),this.reset()}getLogParams(t,r){return dr({appid:`${window.location.host}`,appid_list:this.appId,appver:"",b_sesid:this.bSesid,biz_type:"rtc",cpu_info:VT,db:Kb.browserName,dm:Kb.browserVersion,install_uuid:this.clientId,logger_v:"0.0.1",os:qb.systemName,osv:qb.systemVersion,p_sesid:this.bSesid,sdk_version:eg,sdkname:"AliRTCSdk",stm:Date.now(),tar_pf:"web",traceid:this.sessionId,event_id:t},r||{})}sendLog(t){if(!this.tracker||!this.sessionId)return;this.logSequence+=1;const r=this.getLogParams(710203,{log:t,stat_log_seq:this.logSequence});this.tracker.send(r)}addLog(t){const r=A0(),n=`[${Jb()} ${r}] ${t}`;!this.sessionId||!this.tracker?(this.logCache.push(n),this.logCache.length>=BT&&this.logCache.shift()):this.sendLog(n)}}class yt{static getLogger(){return this.logger||(this.logger=new jT),this.logger}static init(){this.getLogger().init()}static destroy(){this.getLogger().destroy()}static setLogLevel(t){this.getLogger().changeConfig({logLevel:t})}static setSessionID(t,r){this.getLogger().setSessionID(t,r)}static reportEnd(){this.getLogger().reportEnd()}static interface(...t){this.getLogger().a("[API]",...t)}static interfaceResult(t,r,n,...i){n?this.getLogger().ar("[ARE]",t,r,...i):this.getLogger().ae("[ARE]",t,r,...i)}static event(...t){this.getLogger().ev("[EVT]",...t)}static debug(...t){this.getLogger().d("[DBG]",...t)}static info(...t){this.getLogger().i("[INF]",...t)}static warn(...t){this.getLogger().w("[WARN]",...t)}static error(...t){this.getLogger().e("[ERR]",...t)}}ae(yt,"logger");const FT=e=>Ye(void 0,null,function*(){const t=new Tr.AliRTS.SupportUtil;let r={support:!1,detail:{isWebRTCSupported:t.checkMediaDevices()&&t.checkWebRtcSupport(),isH264DecodeSupported:!1,isH264EncodeSupported:!1,isScreenShareSupported:!1,isSendMediaExtensionMsgSupported:!1,isBrowserSupported:t.checkBrowser({errorCode:0,message:""})}};if(r.support=r.detail.isWebRTCSupported&&r.detail.isBrowserSupported,t.checkWebRtcSupport()&&e!=="sendonly"){const n=yield t.checkH264Decode();r.detail.isH264DecodeSupported=n,r.support=r.support&&n}if(t.checkWebRtcSupport()&&e!=="recvonly"){const n=yield t.checkH264Encode();r.detail.isH264EncodeSupported=n,r.support=r.support&&n}return r.detail.isScreenShareSupported=t.checkWebRtcSupport()&&t.checkScreenCapture()&&!Tr.AliRTS.SystenUtil.isAndroid&&!Tr.AliRTS.SystenUtil.isIos,r.detail.isSendMediaExtensionMsgSupported=t.checkWebRtcSupport()&&t.checkEncodedTransformSupport(),r}),$T=()=>new Tr.AliRTS.SupportUtil().checkScreenCapture();var vi=(e=>(e[e.AliRtcSdkStreamTypeCapture=0]="AliRtcSdkStreamTypeCapture",e[e.AliRtcSdkStreamTypeScreen=1]="AliRtcSdkStreamTypeScreen",e))(vi||{}),HT=(e=>(e[e.PRE_PROCESSOR=0]="PRE_PROCESSOR",e[e.POST_PROCESSOR=1]="POST_PROCESSOR",e))(HT||{}),og=(e=>(e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.BOTH=2]="BOTH",e))(og||{});class Nd extends ti{constructor(t,r=vi.AliRtcSdkStreamTypeCapture,n=1){super(),ae(this,"name"),ae(this,"options"),ae(this,"type",0),ae(this,"streamType"),ae(this,"trackType"),ae(this,"zIndex",1),ae(this,"_isEnable",!0),ae(this,"lastInputAudioTrack"),ae(this,"lastOutputAudioTrack"),ae(this,"lastInputVideoTrack"),ae(this,"lastOutputVideoTrack"),ae(this,"_hasCleared",!0),this.name=t,this.streamType=r,this.trackType=n,this.options=this.initOptions}get initOptions(){return{}}getOptions(){return this.options}init(){return Ye(this,null,function*(){})}enable(){this._isEnable||(this._isEnable=!0,this.init(),this.emit("enabled"))}disable(){this._isEnable&&(this._isEnable=!1,this.clear(),this.emit("disabled"))}get isEnable(){return this._isEnable}audioUpdated(t){var r,n;return((r=this.lastInputAudioTrack)==null?void 0:r.id)!==((n=t.currentAudioTrack)==null?void 0:n.id)}videoUpdated(t){var r,n;return((r=this.lastInputVideoTrack)==null?void 0:r.id)!==((n=t.currentVideoTrack)==null?void 0:n.id)}execute(t,r){return Ye(this,null,function*(){const n=this.shouldUpdate(t,r);this.lastInputAudioTrack=t.currentAudioTrack,this.lastInputVideoTrack=t.currentVideoTrack,this._hasCleared||n?(yield this.process(t,r),this._hasCleared=!1):(this.lastOutputAudioTrack&&(this.trackType===2||this.trackType===0)&&this.lastOutputAudioTrack&&t.updateAudioTrack(this.lastOutputAudioTrack),this.lastOutputVideoTrack&&(this.trackType===2||this.trackType===1)&&this.lastOutputVideoTrack&&t.updateVideoTrack(this.lastOutputVideoTrack)),this.lastOutputAudioTrack=t.currentAudioTrack,this.lastOutputVideoTrack=t.currentVideoTrack})}clear(t){this._hasCleared=!0,this.lastInputAudioTrack=void 0,this.lastInputVideoTrack=void 0,this.lastOutputAudioTrack=void 0,this.lastOutputVideoTrack=void 0}}var ag=(e=>(e[e.LiveTranscodingSingle=0]="LiveTranscodingSingle",e[e.LiveTranscodingMix=1]="LiveTranscodingMix",e))(ag||{}),Xb=(e=>(e[e.LiveTranscodingOrigin=0]="LiveTranscodingOrigin",e[e.LiveTranscodingAudio=1]="LiveTranscodingAudio",e[e.LiveTranscodingVideo=2]="LiveTranscodingVideo",e))(Xb||{}),Fh=(e=>(e[e.LiveTranscodingCamera=0]="LiveTranscodingCamera",e[e.LiveTranscodingShareScreen=1]="LiveTranscodingShareScreen",e))(Fh||{});const $h={0:"camera",1:"shareScreen"};var Qb=(e=>(e[e.LiveTranscoding_Profile_1IN_1080P=0]="LiveTranscoding_Profile_1IN_1080P",e[e.LiveTranscoding_Profile_1IN_720P=1]="LiveTranscoding_Profile_1IN_720P",e[e.LiveTranscoding_Profile_1IN_360P=2]="LiveTranscoding_Profile_1IN_360P",e[e.LiveTranscoding_Profile_2IN_1080P=3]="LiveTranscoding_Profile_2IN_1080P",e[e.LiveTranscoding_Profile_2IN_720P=4]="LiveTranscoding_Profile_2IN_720P",e[e.LiveTranscoding_Profile_2IN_360P=5]="LiveTranscoding_Profile_2IN_360P",e[e.LiveTranscoding_Profile_4IN_1080P=6]="LiveTranscoding_Profile_4IN_1080P",e[e.LiveTranscoding_Profile_4IN_720P=7]="LiveTranscoding_Profile_4IN_720P",e[e.LiveTranscoding_Profile_4IN_360P=8]="LiveTranscoding_Profile_4IN_360P",e[e.LiveTranscoding_Profile_9IN_1080P=9]="LiveTranscoding_Profile_9IN_1080P",e[e.LiveTranscoding_Profile_9IN_720P=10]="LiveTranscoding_Profile_9IN_720P",e[e.LiveTranscoding_Profile_9IN_360P=11]="LiveTranscoding_Profile_9IN_360P",e[e.LiveTranscoding_Profile_12IN_1080P=12]="LiveTranscoding_Profile_12IN_1080P",e[e.LiveTranscoding_Profile_12IN_720P=13]="LiveTranscoding_Profile_12IN_720P",e[e.LiveTranscoding_Profile_12IN_360P=14]="LiveTranscoding_Profile_12IN_360P",e[e.LiveTranscoding_Profile_16IN_1080P=15]="LiveTranscoding_Profile_16IN_1080P",e[e.LiveTranscoding_Profile_16IN_720P=16]="LiveTranscoding_Profile_16IN_720P",e[e.LiveTranscoding_Profile_16IN_360P=17]="LiveTranscoding_Profile_16IN_360P",e[e.LiveTranscoding_Profile_Mixed=9999]="LiveTranscoding_Profile_Mixed",e))(Qb||{});const zT={0:"1IN_1080P",1:"1IN_720P",2:"1IN_360P",3:"2IN_1080P",4:"2IN_720P",5:"2IN_360P",6:"4IN_1080P",7:"4IN_720P",8:"4IN_360P",9:"9IN_1080P",10:"9IN_720P",11:"9IN_360P",12:"12IN_1080P",13:"12IN_720P",14:"12IN_360P",15:"16IN_1080P",16:"16IN_720P",17:"16IN_360P",9999:"Mixed_Audio"};var P0=(e=>(e[e.LiveTranscoding_HZ_48000=48e3]="LiveTranscoding_HZ_48000",e[e.LiveTranscoding_HZ_44100=44100]="LiveTranscoding_HZ_44100",e[e.LiveTranscoding_HZ_32000=32e3]="LiveTranscoding_HZ_32000",e[e.LiveTranscoding_HZ_16000=16e3]="LiveTranscoding_HZ_16000",e[e.LiveTranscoding_HZ_8000=8e3]="LiveTranscoding_HZ_8000",e))(P0||{}),sg=(e=>(e[e.LiveTranscodingNoBody=0]="LiveTranscodingNoBody",e[e.LiveTranscodingBody=1]="LiveTranscodingBody",e))(sg||{}),cg=(e=>(e[e.NOTO_SERIF_CJKSC_REGULAR=0]="NOTO_SERIF_CJKSC_REGULAR",e[e.ALIBABA_PUHUITI_REGULAR=1]="ALIBABA_PUHUITI_REGULAR",e[e.ALIBABA_PUHUITI_BOLD=2]="ALIBABA_PUHUITI_BOLD",e[e.ALIBABA_PUHUITI_Heavy=3]="ALIBABA_PUHUITI_Heavy",e[e.ALIBABA_PUHUITI_LIGHT=4]="ALIBABA_PUHUITI_LIGHT",e[e.ALIBABA_PUHUITI_MEDIUM=5]="ALIBABA_PUHUITI_MEDIUM",e))(cg||{}),Zb=(e=>(e[e.LiveTranscodingOrigin=0]="LiveTranscodingOrigin",e[e.LiveTranscodingCrop=1]="LiveTranscodingCrop",e[e.LiveTranscodingFill=2]="LiveTranscodingFill",e))(Zb||{}),k0=(e=>(e[e.LiveTranscodingNormal=0]="LiveTranscodingNormal",e[e.LiveTranscodingVirtualBackground=1]="LiveTranscodingVirtualBackground",e))(k0||{}),eE=(e=>(e[e.LiveTranscodingState_IDLE=0]="LiveTranscodingState_IDLE",e[e.LiveTranscodingState_CONNNECT=1]="LiveTranscodingState_CONNNECT",e[e.LiveTranscodingState_RUNNING=2]="LiveTranscodingState_RUNNING",e[e.LiveTranscodingState_RECOVERING=3]="LiveTranscodingState_RECOVERING",e[e.LiveTranscodingState_FAILURE=4]="LiveTranscodingState_FAILURE",e[e.LiveTranscodingState_END=5]="LiveTranscodingState_END",e))(eE||{}),Fs=(e=>(e[e.LiveTranscodingErrorPublishOk=0]="LiveTranscodingErrorPublishOk",e[e.LiveTranscodingErrorStreamNotFound=17825793]="LiveTranscodingErrorStreamNotFound",e[e.LiveTranscodingErrorStreamAlreadyExist=17825794]="LiveTranscodingErrorStreamAlreadyExist",e[e.LiveTranscodingErrorInvalidParam=17825795]="LiveTranscodingErrorInvalidParam",e[e.LiveTranscodingErrorInternalError=17825796]="LiveTranscodingErrorInternalError",e[e.LiveTranscodingErrorRtmpServerError=17825797]="LiveTranscodingErrorRtmpServerError",e[e.LiveTranscodingErrorRtmpStreamUrlError=17825798]="LiveTranscodingErrorRtmpStreamUrlError",e[e.LiveTranscodingErrorPublishTimeout=17825799]="LiveTranscodingErrorPublishTimeout",e[e.LiveTranscodingErrorNotAuthorized=17825800]="LiveTranscodingErrorNotAuthorized",e))(Fs||{}),tE=(e=>(e[e.TrascodingPublishTaskStatusStart=0]="TrascodingPublishTaskStatusStart",e[e.TrascodingPublishTaskStatusUpdate=1]="TrascodingPublishTaskStatusUpdate",e[e.TrascodingPublishTaskStatusStop=2]="TrascodingPublishTaskStatusStop",e))(tE||{}),go=(e=>(e[e.MPU_TASK_TRANSACTION_START=0]="MPU_TASK_TRANSACTION_START",e[e.MPU_TASK_TRANSACTION_UPDATE=1]="MPU_TASK_TRANSACTION_UPDATE",e[e.MPU_TASK_TRANSACTION_STOP=2]="MPU_TASK_TRANSACTION_STOP",e[e.MPU_TASK_TRANSACTION_LIST=3]="MPU_TASK_TRANSACTION_LIST",e[e.MPU_TASK_TRANSACTION_POLLING=4]="MPU_TASK_TRANSACTION_POLLING",e[e.MPU_TASK_TRANSACTION_ACKNOWLEDGE=5]="MPU_TASK_TRANSACTION_ACKNOWLEDGE",e[e.MPU_TASK_TRANSACTION_END=6]="MPU_TASK_TRANSACTION_END",e))(go||{});const WT={0:"/libra/v1/sdk/start-task",1:"/libra/v1/sdk/update-task",2:"/libra/v1/sdk/stop-task",3:"/libra/v1/sdk/list-task",4:"/libra/v1/sdk/polling",5:"/libra/v1/sdk/acknowledge",6:"/"};class rE{constructor(t,r,n,i,a,c,l,u){ae(this,"videoWidth"),ae(this,"videoHeight"),ae(this,"videoFramerate",20),ae(this,"videoBitrate",2e3),ae(this,"videoGop",30),ae(this,"audioSamplerate",P0.LiveTranscoding_HZ_44100),ae(this,"audioBitrate",500),ae(this,"audioChannels",1),this.videoWidth=t,this.videoHeight=r,n&&(this.videoFramerate=n),i&&(this.videoBitrate=i),a&&(this.videoGop=a),c&&(this.audioSamplerate=c),l&&(this.audioBitrate=l),u&&(this.audioChannels=u)}}const I0=e=>((e&16711680)>>16)+(e&65280)+((e&255)<<16),Yo=(e=0,t)=>{if(t==0)return 0;let r=e/t;return r<0&&(r=0),r>1&&(r=1),r};class O0{constructor(t,r,n){ae(this,"mixMode",ag.LiveTranscodingSingle);ae(this,"singleParam");ae(this,"mixParam"),t&&(this.mixMode=t),r&&(this.singleParam=r),n&&(this.mixParam=n)}toJson(t,r,n,i,a){const c={appid:r.appId,channelid:r.channelId};if(t===go.MPU_TASK_TRANSACTION_POLLING||t===go.MPU_TASK_TRANSACTION_LIST||t===go.MPU_TASK_TRANSACTION_ACKNOWLEDGE)return t===go.MPU_TASK_TRANSACTION_ACKNOWLEDGE&&(c.messageid=a),c;if(c.taskid=n,t!==go.MPU_TASK_TRANSACTION_STOP){if(c.mixmode=this.mixMode,i&&(c.streamurl=i),this.mixMode===ag.LiveTranscodingSingle){const l=this.singleParam;if(l){c.streamtype=l.streamType,l.sourceType===Fh.LiveTranscodingShareScreen?c.sourcetype=$h[l.sourceType]:c.sourcetype=$h[Fh.LiveTranscodingCamera];const u=[];l.userId&&u.push(l.userId),c.subspecusers=u}}else if(t===go.MPU_TASK_TRANSACTION_START||t===go.MPU_TASK_TRANSACTION_UPDATE){const l=this.mixParam;if(l){l.taskProfile&&(c.taskprofile=zT[l.taskProfile]);const u=l.encodeParam||new rE(1280,720);let d=u.videoWidth,h=u.videoHeight;const y={};Object.keys(u).forEach(_=>{const R=u[_];R>0&&(y[_.toLowerCase()]=R)}),y.lowbitratehighquality=0,c.encodeparam=y,c.backgrounds=l.backgrounds.map(_=>_.toJson(d,h)),c.watermarks=l.watermarks.map(_=>_.toJson(d,h)),c.clockwidgets=l.clockWidgets.map(_=>_.toJson(d,h));const m=l.users.map(_=>_.userId);c.subspecusers=[...new Set(m)],c.layouts=[{audiomixcount:l.users.length,panes:l.users.map((_,R)=>_.toJson(R,d,h,l.mediaProcessMode))}],c.layoutids=["0"],c.cropmode=l.cropMode,c.backgroundcolor=I0(l.backgroundColor),c.taskmode=l.mediaProcessMode}}}return c}}var $s=(e=>(e.pre="pre",e.prod="prod",e))($s||{}),Nc=(e=>(e.AliRtcSdkCommunication="communication",e.AliRtcSdkInteractiveLive="interactive_live",e.AliRtcSdkInteractiveWithLowLatencyLive="cdn_live",e))(Nc||{}),Dc=(e=>(e.AliRtcSdkInteractive="interactive",e.AliRtcSdkLive="live",e))(Dc||{}),Hs=(e=>(e[e.AliEngineLocalDeviceTypeUnknown=0]="AliEngineLocalDeviceTypeUnknown",e[e.AliEngineLocalDeviceTypeMic=1]="AliEngineLocalDeviceTypeMic",e[e.AliEngineLocalDeviceTypeSpeaker=2]="AliEngineLocalDeviceTypeSpeaker",e[e.AliEngineLocalDeviceTypeAudioDevice=3]="AliEngineLocalDeviceTypeAudioDevice",e[e.AliEngineLocalDeviceTypeCamera=4]="AliEngineLocalDeviceTypeCamera",e[e.AliEngineLocalDeviceTypeDisplay=5]="AliEngineLocalDeviceTypeDisplay",e[e.AliEngineLocalDeviceTypeVideoDevice=6]="AliEngineLocalDeviceTypeVideoDevice",e))(Hs||{}),ri=(e=>(e[e.AliEngineLocalDeviceExceptionTypeUnknown=0]="AliEngineLocalDeviceExceptionTypeUnknown",e[e.AliEngineLocalDeviceExceptionTypeMicOpenFail=1]="AliEngineLocalDeviceExceptionTypeMicOpenFail",e[e.AliEngineLocalDeviceExceptionTypeMicInterrupt=2]="AliEngineLocalDeviceExceptionTypeMicInterrupt",e[e.AliEngineLocalDeviceExceptionTypeMicAuthFail=3]="AliEngineLocalDeviceExceptionTypeMicAuthFail",e[e.AliEngineLocalDeviceExceptionTypeMicNotAvailable=4]="AliEngineLocalDeviceExceptionTypeMicNotAvailable",e[e.AliEngineLocalDeviceExceptionTypeSpeakerOpenFail=5]="AliEngineLocalDeviceExceptionTypeSpeakerOpenFail",e[e.AliEngineLocalDeviceExceptionTypeSpeakerInterrupt=6]="AliEngineLocalDeviceExceptionTypeSpeakerInterrupt",e[e.AliEngineLocalDeviceExceptionTypeSpeakerNotAvailable=7]="AliEngineLocalDeviceExceptionTypeSpeakerNotAvailable",e[e.AliEngineLocalDeviceExceptionTypeAudioDeviceException=8]="AliEngineLocalDeviceExceptionTypeAudioDeviceException",e[e.AliEngineLocalDeviceExceptionTypeCameraOpenFail=9]="AliEngineLocalDeviceExceptionTypeCameraOpenFail",e[e.AliEngineLocalDeviceExceptionTypeCameraInterrupt=10]="AliEngineLocalDeviceExceptionTypeCameraInterrupt",e[e.AliEngineLocalDeviceExceptionTypeCameraAuthFail=11]="AliEngineLocalDeviceExceptionTypeCameraAuthFail",e[e.AliEngineLocalDeviceExceptionTypeDisplayException=12]="AliEngineLocalDeviceExceptionTypeDisplayException",e[e.AliEngineLocalDeviceExceptionTypeVideoDeviceException=13]="AliEngineLocalDeviceExceptionTypeVideoDeviceException",e))(ri||{}),qr=(e=>(e[e.AliRtcConnectionStatusInit=0]="AliRtcConnectionStatusInit",e[e.AliRtcConnectionStatusDisconnected=1]="AliRtcConnectionStatusDisconnected",e[e.AliRtcConnectionStatusConnecting=2]="AliRtcConnectionStatusConnecting",e[e.AliRtcConnectionStatusConnected=3]="AliRtcConnectionStatusConnected",e[e.AliRtcConnectionStatusReconnecting=4]="AliRtcConnectionStatusReconnecting",e[e.AliRtcConnectionStatusFailed=5]="AliRtcConnectionStatusFailed",e))(qr||{}),Dd=(e=>(e[e.AliRtcConnectionChangedDummyReason=0]="AliRtcConnectionChangedDummyReason",e[e.AliRtcConnectionMediaPathChanged=1]="AliRtcConnectionMediaPathChanged",e[e.AliRtcConnectionSignalingHeartbeatTimeout=2]="AliRtcConnectionSignalingHeartbeatTimeout",e[e.AliRtcConnectionSignalingHeartbeatAlive=3]="AliRtcConnectionSignalingHeartbeatAlive",e[e.AliRtcConnectionSignalingHttpDnsResolved=4]="AliRtcConnectionSignalingHttpDnsResolved",e[e.AliRtcConnectionSignalingHttpDnsFailure=5]="AliRtcConnectionSignalingHttpDnsFailure",e[e.AliRtcConnectionSignalingGslbFailure=6]="AliRtcConnectionSignalingGslbFailure",e[e.AliRtcConnectionSignalingGslbSuccess=7]="AliRtcConnectionSignalingGslbSuccess",e[e.AliRtcConnectionSignalingJoinRoomFailure=8]="AliRtcConnectionSignalingJoinRoomFailure",e[e.AliRtcConnectionSignalingJoinRoomSuccess=9]="AliRtcConnectionSignalingJoinRoomSuccess",e[e.AliRtcConnectionSignalingLeaveRoom=10]="AliRtcConnectionSignalingLeaveRoom",e[e.AliRtcConnectionSignalingConnecting=11]="AliRtcConnectionSignalingConnecting",e[e.AliRtcConnectionChangedNetworkInterrupted=12]="AliRtcConnectionChangedNetworkInterrupted",e))(Dd||{}),x0=(e=>(e[e.AliRtcUserOfflineQuit=0]="AliRtcUserOfflineQuit",e[e.AliRtcUserOfflineDropped=1]="AliRtcUserOfflineDropped",e[e.AliRtcUserOfflineBecomeAudience=2]="AliRtcUserOfflineBecomeAudience",e))(x0||{}),Ld=(e=>(e[e.AliRtcAudioTrackNo=0]="AliRtcAudioTrackNo",e[e.AliRtcAudioTrackMic=1]="AliRtcAudioTrackMic",e[e.AliRtcAudioTrackDual=2]="AliRtcAudioTrackDual",e))(Ld||{}),hr=(e=>(e[e.AliRtcVideoTrackNo=0]="AliRtcVideoTrackNo",e[e.AliRtcVideoTrackCamera=1]="AliRtcVideoTrackCamera",e[e.AliRtcVideoTrackScreen=2]="AliRtcVideoTrackScreen",e[e.AliRtcVideoTrackBoth=3]="AliRtcVideoTrackBoth",e))(hr||{}),ur=(e=>(e[e.AliRtcStatePublishIdle=0]="AliRtcStatePublishIdle",e[e.AliRtcStateNoPublish=1]="AliRtcStateNoPublish",e[e.AliRtcStatePublishing=2]="AliRtcStatePublishing",e[e.AliRtcStatePublished=3]="AliRtcStatePublished",e))(ur||{}),zr=(e=>(e[e.AliRtcStateSubscribeIdle=0]="AliRtcStateSubscribeIdle",e[e.AliRtcStateNoSubscribe=1]="AliRtcStateNoSubscribe",e[e.AliRtcStateSubscribing=2]="AliRtcStateSubscribing",e[e.AliRtcStateSubscribed=3]="AliRtcStateSubscribed",e))(zr||{}),Ti=(e=>(e[e.AliRtcVideoStreamTypeNone=0]="AliRtcVideoStreamTypeNone",e[e.AliRtcVideoStreamTypeHigh=1]="AliRtcVideoStreamTypeHigh",e[e.AliRtcVideoStreamTypeLow=2]="AliRtcVideoStreamTypeLow",e))(Ti||{}),Hh=(e=>(e[e.CAMERA_INVALID=-1]="CAMERA_INVALID",e[e.CAMERA_REAR=0]="CAMERA_REAR",e[e.CAMERA_FRONT=1]="CAMERA_FRONT",e))(Hh||{});const nE=10,iE=5e3,oE=class tv extends ti{constructor(t){super(),ae(this,"ws"),ae(this,"socketStatus",0),ae(this,"wsUrl",""),ae(this,"lastConnectStartTime",0),ae(this,"maxConnectRetryCount",nE),ae(this,"connectRetryCount",0),ae(this,"gotErr",!1),ae(this,"closedByInvoke",!0),ae(this,"isReconnecting",!1),ae(this,"networkAvailableChecked",!0),ae(this,"reconnectTimeoutId",0),this.maxConnectRetryCount=t!=null?t:nE,this.onOpen=this.onOpen.bind(this),this.onMessage=this.onMessage.bind(this),this.onError=this.onError.bind(this),this.onClose=this.onClose.bind(this)}get connectUrl(){return this.wsUrl}get connectStatus(){return this.socketStatus}start(t){this.wsUrl=t,this.initWebSocket()}send(t){return this.ws&&this.socketStatus===2?(this.ws.send(JSON.stringify(t)),!0):!1}close(){this.closedByInvoke=!0,this.uninitWebscoket()}reconnect(){this.reconnectTimeoutId&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=0),this.emit("onReconnectStart"),this.isReconnecting=!0,this.initWebSocket()}onOpen(t){yt.info(`[${tv.logName}]`,"onOpen"),this.socketStatus=2,this.connectRetryCount=0,this.networkAvailableChecked=!1,this.closedByInvoke=!1,this.gotErr=!1,this.isReconnecting=!1,this.emit("onOpen",t)}onMessage(t){this.emit("onMessage",t)}onError(t){this.isReconnecting&&this.emit("onReconnectFail",t),this.emit("onError",t),this.isReconnecting=!1,this.socketStatus!==2&&po.isNetworkAvailable().then(r=>{r&&console.error(tv.logName,"onError, Network is available, token may be invalid")})}onClose(t){return Ye(this,null,function*(){if(this.closedByInvoke){this.socketStatus=0;return}if(yt.info(`[${tv.logName}]`,`onClose, code: ${t.code}, reason: ${t.reason}, status: ${status}, retryCount: ${this.connectRetryCount}`),(yield po.isNetworkAvailable())&&!this.networkAvailableChecked){this.reconnect(),this.networkAvailableChecked=!0;return}else this.connectRetryCount||this.emit("onNetworkError"),this.reconnectTimeoutId||(this.connectRetryCount+=1,this.connectRetryCount>this.maxConnectRetryCount?this.emit("onConnectFail"):Date.now()-this.lastConnectStartTime>=iE?this.reconnect():this.reconnectTimeoutId=window.setTimeout(()=>{this.reconnect()},iE));this.socketStatus=0,this.emit("onClose",t)})}initWebSocket(){this.uninitWebscoket(),this.socketStatus=1,this.lastConnectStartTime=Date.now(),this.ws=new WebSocket(this.wsUrl),this.ws.addEventListener("open",this.onOpen),this.ws.addEventListener("message",this.onMessage),this.ws.addEventListener("error",this.onError),this.ws.addEventListener("close",this.onClose)}uninitWebscoket(){this.ws&&(this.ws.removeEventListener("open",this.onOpen),this.ws.removeEventListener("message",this.onMessage),this.ws.removeEventListener("error",this.onError),this.ws.removeEventListener("close",this.onClose),this.ws.readyState!==WebSocket.CLOSED&&this.ws.close(),this.ws=void 0,this.socketStatus=0)}};ae(oE,"logName","Socket");let GT=oE;var Kn=(e=>(e.KEEPALIVE="keepalive",e.JOINCHANNEL="joinchannel",e.NOTIFYJOIN="notifyjoin",e.NOTIFYSTATUS="notifystatus",e.STATUSREPORT="statusreport",e.LEAVECHANNEL="leavechannel",e.NOTIFYLEAVE="notifyleave",e.NOTIFYPUBLISH="notifypublish",e.BYE="bye",e.RECONNECT="reconnect",e.PUBLISH="publish",e.REFRESHURL="refreshurl",e.UNSUBSCRIBE="unsubscribe",e.ROLEUPDATE="roleupdate",e))(Kn||{});class KT{constructor(t,r){ae(this,"authInfo"),ae(this,"userName"),ae(this,"seqIndex",0),this.authInfo=t,this.userName=r}get roleAuth(){if(this.authInfo.role){const{timestamp:t,nonce:r,token:n,role:i}=this.authInfo;return{timestamp:t,nonce:r,token:n,tokenrole:i}}}refreshAuthInfo(t){this.authInfo=t}getSeqIndex(){return this.seqIndex}createKeepAlivePackage(){return this.createBaseSendPackage("keepalive")}createJoinPackage(){let t=this.createBaseSendPackage("joinchannel");return t.header.displayName=this.userName,t.header.clientversion=po.getVersionNumber().toString(),t.header.platform=E1,this.roleAuth&&(t.data.auth=this.roleAuth),t}crateLeavePackage(){return this.createBaseSendPackage("leavechannel")}createStatusPackage(t){let r=this.createBaseSendPackage("statusreport");return r.header.displayName=this.userName,r.data.status=t,r}createPublishPackage(){let t=this.createBaseSendPackage("publish");return t.data.users=[{}],this.roleAuth&&(t.data.auth=this.roleAuth),t}createRoleUpdatePackage(){let t=this.createBaseSendPackage("roleupdate");return t.header.displayName=this.userName,t}createReconnectPackage(t){let r=this.createBaseSendPackage("reconnect");return r.header.displayName=this.userName,r.header.clientversion=po.getVersionNumber().toString(),r.header.platform=E1,r.data=dr(dr({},r.data),t!=null?t:{}),this.roleAuth&&(r.data.auth=this.roleAuth),r}createRefreshUrlPackage(){let t=this.createBaseSendPackage("refreshurl");return t.header.displayName=this.userName,t}createResponsePackage(t,r){return{version:1,code:200,tid:t,msgtype:r}}createBaseSendPackage(t){var r;return++this.seqIndex,{version:1,msgtype:t,tid:is(),header:{appid:this.authInfo.appId,channelid:this.authInfo.channelId,sessionid:(r=this.authInfo.sessionId)!=null?r:"",userid:this.authInfo.userId},data:{seq:this.seqIndex}}}}var bt=(e=>(e[e.ERR_JOIN_ALREADY_JOINED=16843521]="ERR_JOIN_ALREADY_JOINED",e[e.ERR_JOIN_BAD_APPID=33620481]="ERR_JOIN_BAD_APPID",e[e.ERR_JOIN_INVALID_APPID=33620482]="ERR_JOIN_INVALID_APPID",e[e.ERR_JOIN_BAD_CHANNEL=33620484]="ERR_JOIN_BAD_CHANNEL",e[e.ERR_JOIN_INVALID_CHANNEL=33620483]="ERR_JOIN_INVALID_CHANNEL",e[e.ERR_JOIN_BAD_TOKEN=33620485]="ERR_JOIN_BAD_TOKEN",e[e.ERR_JOIN_TIMEOUT=16908804]="ERR_JOIN_TIMEOUT",e[e.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD=16974081]="ERR_JOIN_ERR_JOIN_BAD_PARAMBAD",e[e.ERR_JOIN_CHANNEL_FAILED=16974338]="ERR_JOIN_CHANNEL_FAILED",e[e.ERR_LOG_ALREADY_INIT=16974085]="ERR_LOG_ALREADY_INIT",e[e.ERR_LOG_ROOT_PATH_ERROR=16974086]="ERR_LOG_ROOT_PATH_ERROR",e[e.ERR_MIC_OPEN_FAIL=17040388]="ERR_MIC_OPEN_FAIL",e[e.ERR_SPEAKER_OPEN_FAIL=17040389]="ERR_SPEAKER_OPEN_FAIL",e[e.ERR_MIC_INTERRUPT=17040390]="ERR_MIC_INTERRUPT",e[e.ERR_SPEAKER_INTERRUPT=17040391]="ERR_SPEAKER_INTERRUPT",e[e.ERR_MIC_AUTH_FAIL=17040392]="ERR_MIC_AUTH_FAIL",e[e.ERR_MIC_NOT_AVAILABLE=17040393]="ERR_MIC_NOT_AVAILABLE",e[e.ERR_SPEAKER_NOT_AVAILABLE=17040400]="ERR_SPEAKER_NOT_AVAILABLE",e[e.ERR_CAMERA_OPEN_FAIL=17039620]="ERR_CAMERA_OPEN_FAIL",e[e.ERR_CAMERA_AUTH_FAIL=17039621]="ERR_CAMERA_AUTH_FAIL",e[e.ERR_CAMERA_INTERRUPT=17039622]="ERR_CAMERA_INTERRUPT",e[e.ERR_CAMERA_NOT_AVAILABLE=17039623]="ERR_CAMERA_NOT_AVAILABLE",e[e.ERR_VIDEO_DISPLAY_OPEN_FAIL=17039873]="ERR_VIDEO_DISPLAY_OPEN_FAIL",e[e.ERR_VIDEO_DISPLAY_INTERRUPT=1064992]="ERR_VIDEO_DISPLAY_INTERRUPT",e[e.ERR_ICE_CONNECTION_CONNECT_FAIL=17105409]="ERR_ICE_CONNECTION_CONNECT_FAIL",e[e.ERR_ICE_CONNECTION_RECONNECT_FAI=17105410]="ERR_ICE_CONNECTION_RECONNECT_FAI",e[e.ERR_ICE_CONNECTION_MOBILITY_FAIL=17105411]="ERR_ICE_CONNECTION_MOBILITY_FAIL",e[e.ERR_ICE_CONNECTION_HEARTBEAT_TIMEOUT=16908812]="ERR_ICE_CONNECTION_HEARTBEAT_TIMEOUT",e[e.ERR_LATENCY_LIVE_COMMUNICATION_FAILED=17235971]="ERR_LATENCY_LIVE_COMMUNICATION_FAILED",e[e.ERR_LATENCY_LIVE_MEIDASETTING_FAILED=17235972]="ERR_LATENCY_LIVE_MEIDASETTING_FAILED",e[e.ERR_LATENCY_LIVE_NONE_BROADCASTER=17235973]="ERR_LATENCY_LIVE_NONE_BROADCASTER",e[e.ERR_LATENCY_LIVE_NEED_RESTART=17235974]="ERR_LATENCY_LIVE_NEED_RESTART",e[e.ERR_LATENCY_LIVE_NEED_RESTART_AGAIN_LATER=17235975]="ERR_LATENCY_LIVE_NEED_RESTART_AGAIN_LATER",e[e.ERR_LATENCY_LIVE_SERVICE_UNAVAILABLE=17235976]="ERR_LATENCY_LIVE_SERVICE_UNAVAILABLE",e[e.ERR_LATENCY_LIVE_MEDIACONNECTION_INTERRUPTION=17235977]="ERR_LATENCY_LIVE_MEDIACONNECTION_INTERRUPTION",e[e.ERR_SDK_PUBLISH_INVAILD=16974597]="ERR_SDK_PUBLISH_INVAILD",e[e.ERR_SDK_PUBLISH_NOT_JOIN_CHANNEL=16843782]="ERR_SDK_PUBLISH_NOT_JOIN_CHANNEL",e[e.ERR_SDK_PUBLISH_AUDIO_STREAM_FAILED=16843856]="ERR_SDK_PUBLISH_AUDIO_STREAM_FAILED",e[e.ERR_SDK_PUBLISH_VIDEO_STREAM_FAILED=16843857]="ERR_SDK_PUBLISH_VIDEO_STREAM_FAILED",e[e.ERR_SDK_PUBLISH_DUAL_STREAM_FAILED=16843858]="ERR_SDK_PUBLISH_DUAL_STREAM_FAILED",e[e.ERR_SDK_PUBLISH_SCEEN_SHARE_FAILED=16843859]="ERR_SDK_PUBLISH_SCEEN_SHARE_FAILED",e[e.ERR_SDK_PUBLISH_SCREEN_SHARE_CONFIG_ERROR=16843860]="ERR_SDK_PUBLISH_SCREEN_SHARE_CONFIG_ERROR",e[e.ERR_SDK_SUBSCRIBE_INVAILD=16974852]="ERR_SDK_SUBSCRIBE_INVAILD",e[e.ERR_SDK_SUBSCRIBE_NOT_JOIN_CHANNEL=16844112]="ERR_SDK_SUBSCRIBE_NOT_JOIN_CHANNEL",e[e.ERR_SDK_SUBSCRIBE_AUDIO_STREAM_FAILED=16844113]="ERR_SDK_SUBSCRIBE_AUDIO_STREAM_FAILED",e[e.ERR_SDK_SUBSCRIBE_VIDEO_STREAM_FAILED=16844114]="ERR_SDK_SUBSCRIBE_VIDEO_STREAM_FAILED",e[e.ERR_SDK_SUBSCRIBE_DUAL_STREAM_FAILED=16844115]="ERR_SDK_SUBSCRIBE_DUAL_STREAM_FAILED",e[e.ERR_SDK_SUBSCRIBE_SCREEN_SHARE_FAILED=16844116]="ERR_SDK_SUBSCRIBE_SCREEN_SHARE_FAILED",e[e.ERR_SDK_SUBSCRIBE_DATA_FAILED=16844117]="ERR_SDK_SUBSCRIBE_DATA_FAILED",e[e.ERR_SDK_SUBSCRIBE_DATA_ERROR=16844118]="ERR_SDK_SUBSCRIBE_DATA_ERROR",e[e.ERR_SDK_INVALID_STATE=16974340]="ERR_SDK_INVALID_STATE",e[e.ERR_INVALID_ARGUMENTS=16974083]="ERR_INVALID_ARGUMENTS",e[e.ERR_SESSION_REMOVED=33620229]="ERR_SESSION_REMOVED",e[e.ERR_SDK_UPDATE_ROLE_CHANNEL=16908801]="ERR_SDK_UPDATE_ROLE_CHANNEL",e[e.ERR_INNER=-1]="ERR_INNER",e[e.ERR_SDK_MPU_TASK_PUBLISH_OK=0]="ERR_SDK_MPU_TASK_PUBLISH_OK",e[e.ERR_SDK_MPU_TASK_STREAM_NOT_FOUND=17825793]="ERR_SDK_MPU_TASK_STREAM_NOT_FOUND",e[e.ERR_SDK_MPU_TASK_STREAM_ALREADY_EXIST=17825794]="ERR_SDK_MPU_TASK_STREAM_ALREADY_EXIST",e[e.ERR_SDK_MPU_TASK_INVALID_PARAM=17825795]="ERR_SDK_MPU_TASK_INVALID_PARAM",e[e.ERR_SDK_MPU_TASK_INTERNAL_ERROR=17825796]="ERR_SDK_MPU_TASK_INTERNAL_ERROR",e[e.ERR_SDK_MPU_TASK_RTMP_SERVER_ERROR=17825797]="ERR_SDK_MPU_TASK_RTMP_SERVER_ERROR",e[e.ERR_SDK_MPU_TASK_RTMP_STREAM_URL_ERROR=17825798]="ERR_SDK_MPU_TASK_RTMP_STREAM_URL_ERROR",e[e.ERR_SDK_MPU_TASK_PUBLISH_TIMEOUT=17825799]="ERR_SDK_MPU_TASK_PUBLISH_TIMEOUT",e[e.ERR_SDK_MPU_TASK_NOT_AUTHORIZED=17825800]="ERR_SDK_MPU_TASK_NOT_AUTHORIZED",e[e.ERR_SDK_CHANNEL_RELAY_STATE_ERROR=18874369]="ERR_SDK_CHANNEL_RELAY_STATE_ERROR",e[e.ERR_SDK_CHANNEL_RELAY_SRC_NOT_ALLOW=18874370]="ERR_SDK_CHANNEL_RELAY_SRC_NOT_ALLOW",e[e.ERR_SDK_CHANNEL_RELAY_JOIN_DEST_FAILED=18874371]="ERR_SDK_CHANNEL_RELAY_JOIN_DEST_FAILED",e[e.ERR_SDK_CHANNEL_RELAY_TOKEN_INVALID=18874372]="ERR_SDK_CHANNEL_RELAY_TOKEN_INVALID",e[e.ERR_SDK_CHANNEL_RELAY_ROLE_ERROR=18874373]="ERR_SDK_CHANNEL_RELAY_ROLE_ERROR",e[e.ERR_SDK_CHANNEL_RELAY_INVALID_PARAM=18874374]="ERR_SDK_CHANNEL_RELAY_INVALID_PARAM",e[e.ERR_SDK_CHANNEL_RELAY_TO_SELF_ERROR=18874375]="ERR_SDK_CHANNEL_RELAY_TO_SELF_ERROR",e))(bt||{});class ft extends Error{constructor(t,r,n){super(r),ae(this,"_code"),ae(this,"_extra"),this._code=t,this._extra=n}static fromRtsError(t){return t instanceof ft?t:new ft((t==null?void 0:t.errorCode)||-1,(t==null?void 0:t.message)||(t==null?void 0:t.errorCodeName)||"rts error",t)}static fromError(t,r=-1,n=""){return new ft(r,(t==null?void 0:t.message)||(t==null?void 0:t.reason)||n||"error",t)}get code(){return this._code}set code(t){this._code=t}get reason(){return this.message}get extra(){return this._extra}}const qT=3e4,aE=class xa extends ti{constructor(t,r,n,i,a,c){super(),ae(this,"authInfo"),ae(this,"userName"),ae(this,"channelProfile"),ae(this,"clientRole"),ae(this,"slsReporter"),ae(this,"wsClient"),ae(this,"packageCreater"),ae(this,"keepAliveTimer",0),ae(this,"packageCache",new Map),ae(this,"isFirstConnect",!0),ae(this,"aliveChecker",0),ae(this,"reconnectData"),this.authInfo=t,this.userName=r,this.packageCreater=new KT(t,r),this.channelProfile=n,this.clientRole=i,this.slsReporter=a,this.wsClient=new GT(c),this.wsClient.on("onOpen",this.onOpen.bind(this)),this.wsClient.on("onMessage",this.onMessage.bind(this)),this.wsClient.on("onError",this.onError.bind(this)),this.wsClient.on("onClose",this.onClose.bind(this)),this.wsClient.on("onConnectFail",this.onConnectFail.bind(this)),this.wsClient.on("onAuthInvalid",this.onAuthInvalid.bind(this)),this.wsClient.on("onNetworkError",this.onNetworkError.bind(this)),this.wsClient.on("onReconnectStart",this.onReconnectStart.bind(this)),this.wsClient.on("onReconnectFail",this.onReconnectFail.bind(this))}get retryCount(){return this.wsClient.connectRetryCount}start(t){this.wsClient.start(t)}startKeepAlive(){this.keepAliveTimer===0&&(this.keepAliveTimer=window.setInterval(()=>{let t=this.packageCreater.createKeepAlivePackage();this.sendPackage(t)},5e3)),this.checkAlive()}stopKeepAlive(){this.keepAliveTimer!==0&&(clearInterval(this.keepAliveTimer),this.keepAliveTimer=0),this.aliveChecker&&(window.clearTimeout(this.aliveChecker),this.aliveChecker=0)}sendPkgCache(){this.packageCache.forEach(t=>{this.wsClient.send(t)})}leave(){let t=this.packageCreater.crateLeavePackage();this.sendPackage(t)}reportStatus(t){let r=this.packageCreater.createStatusPackage(t);this.sendPackage(r)}publish(t){const r=t,{l1ip:n}=r,i=Bh(r,["l1ip"]);let a=this.packageCreater.createPublishPackage();a.data.users=[],a.data.l1ip=n,i.subscribe.signal=this.wsClient.connectUrl;const{tracks:c,resume:l}=i;c.forEach(u=>{const{codec:d,ssrc:h}=u;u.userdata=JSON.stringify({codec:d}),u.ssrc=`${h}`,l&&(u.attr={reason:"reconnect"})}),a.data.users.push(i),this.sendPackage(a)}roleUpdate(t){let r=this.packageCreater.createRoleUpdatePackage();r.data.clientrole=t,this.sendPackage(r)}refreshUrl(t){const r=this.packageCreater.createRefreshUrlPackage();r.data=dr(ql(dr({},r.data),{sessionid:r.header.sessionid}),t),this.sendPackage(r)}refreshAuthInfo(t){this.authInfo=t,this.packageCreater.refreshAuthInfo(t)}close(){yt.info(`[${xa.logName}] close`),this.stopKeepAlive(),this.wsClient.off("onOpen",this.onOpen.bind(this)),this.wsClient.off("onMessage",this.onMessage.bind(this)),this.wsClient.off("onError",this.onError.bind(this)),this.wsClient.off("onClose",this.onClose.bind(this)),this.wsClient.off("onConnectFail",this.onConnectFail.bind(this)),this.wsClient.off("onAuthInvalid",this.onAuthInvalid.bind(this)),this.wsClient.off("onReconnectStart"),this.wsClient.off("onReconnectFail"),this.wsClient.close()}sendPackage(t){[Kn.KEEPALIVE,Kn.RECONNECT,Kn.JOINCHANNEL].includes(t.msgtype)||this.packageCache.set(t.tid,t),this.wsClient.send(t),t.msgtype!==Kn.KEEPALIVE&&this.slsReporter.reportRoomServerEvent(!0,t.msgtype,t.tid,t)}updateReconnectData(t){this.reconnectData=t}onOpen(){if(yt.info(`[${xa.logName}] onOpen`),this.isFirstConnect){let t=this.packageCreater.createJoinPackage();t.data.configure={channelprofile:this.channelProfile},(this.channelProfile===Nc.AliRtcSdkInteractiveLive||this.channelProfile===Nc.AliRtcSdkInteractiveWithLowLatencyLive)&&(t.data.configure.clientrole=this.clientRole),this.sendPackage(t)}else{this.stopKeepAlive();const t=this.packageCreater.createReconnectPackage(this.reconnectData);this.sendPackage(t)}}onMessage(t){try{let r=JSON.parse(t.data);this.packageCache.delete(r.tid),this.onRecvMessage(r),r!=null&&r.msgtype&&(r==null?void 0:r.msgtype)!==Kn.KEEPALIVE&&this.slsReporter.reportRoomServerEvent(!1,r.msgtype,r.tid,r)}catch(r){yt.warn(`[${xa.logName}] onMessage err`,r,t)}}onError(t){yt.warn(`[${xa.logName}] onError`,t),this.isFirstConnect&&this.onConnectFail()}onConnectFail(){yt.warn(`[${xa.logName}] onConnectFail`);const t=new ft(bt.ERR_INNER,"Signaling connect failed.");this.isFirstConnect?this.emit("onJoinChannelResult",t):this.emit("onConnectFail",t)}onAuthInvalid(){yt.warn(`[${xa.logName}] onAuthInvalid`),this.isFirstConnect&&this.emit("onAuthInvalid")}onNetworkError(){yt.warn(`[${xa.logName}] onNetworkError`);const t=new ft(bt.ERR_INNER,"Network error, signaling connect failed.");this.emit("onNetworkError",t)}onClose(t){yt.info(`[${xa.logName}] onClose`,t),this.stopKeepAlive()}onKeepAliveRsp(){this.emit("onKeepAliveRsp"),this.checkAlive()}onReconnectStart(){this.emit("onReconnectStart")}onReconnectFail(){this.emit("onReconnectFail",new ft(bt.ERR_INNER,"signaling reconnect failed."))}checkAlive(){window.clearTimeout(this.aliveChecker),this.aliveChecker=window.setTimeout(()=>{yt.info(`[${xa.logName}] not alive, reconnect`),this.stopKeepAlive(),this.emit("onReconnectStart"),this.wsClient.reconnect()},qT)}onRecvMessage(t){switch(t.msgtype!==Kn.KEEPALIVE&&yt.info(`[${xa.logName}] recv msg: ${t.msgtype}`),t.msgtype){case Kn.JOINCHANNEL:this.onJoinResult(t);break;case Kn.KEEPALIVE:this.onKeepAliveRsp();break;case Kn.PUBLISH:this.onPublishResult(t);break;case Kn.NOTIFYJOIN:this.onNotifyJoin(t);break;case Kn.NOTIFYSTATUS:this.onNotifyStatus(t);break;case Kn.LEAVECHANNEL:this.onLeaveResult(t);break;case Kn.NOTIFYLEAVE:this.onNotifyLeave(t);break;case Kn.NOTIFYPUBLISH:this.onNotifyPublish(t);break;case Kn.STATUSREPORT:this.onStatusReport(t);break;case Kn.BYE:this.onBye(t);break;case Kn.ROLEUPDATE:this.onRoleUpdateResult(t);break;case Kn.REFRESHURL:this.onRefreshUrlResult(t);break;case Kn.RECONNECT:this.onReconnectResult(t);break}}onJoinResult(t){this.isFirstConnect=!1,this.emit("onJoinChannelResult",t)}onLeaveResult(t){this.emit("onLeaveResult",t.code,t.tid)}onPublishResult(t){this.emit("onPublishResult",t.code,t.tid,t.description)}onRoleUpdateResult(t){this.emit("onRoleUpdateResult",t.code,t.tid,t.description)}onRefreshUrlResult(t){this.emit("onRefreshUrlResult",t)}onReconnectResult(t){if(t.code===200)this.sendPkgCache(),this.startKeepAlive(),this.emit("onReconnectSuccess",t.data.users);else{const r=new ft(bt.ERR_INNER,`reconnect failed, code: ${t.code};description: ${t.description}`);t.code===403&&(r.code=403),this.emit("onReconnectFail",r),this.close()}}onNotifyJoin(t){let r=this.packageCreater.createResponsePackage(t.tid,t.msgtype);this.wsClient.send(r),t&&t.data&&t.data.users&&this.emit("onNotifyJoin",t.data.users)}onNotifyStatus(t){let r=this.packageCreater.createResponsePackage(t.tid,t.msgtype);this.wsClient.send(r),t.data&&t.data.status&&t.data.status.length&&this.emit("onNotifyStatus",t.data.status)}onNotifyLeave(t){let r=this.packageCreater.createResponsePackage(t.tid,t.msgtype);this.wsClient.send(r),t.data&&t.data.users&&t.data.users.length&&this.emit("onNotifyLeave",t.data.users)}onNotifyPublish(t){let r=this.packageCreater.createResponsePackage(t.tid,t.msgtype);this.wsClient.send(r),t.data&&t.data.users&&t.data.users.length&&this.emit("onNotifyPublish",t.data.users)}onStatusReport(t){this.emit("onStatusReport",t.code,t.tid,t.description)}onBye(t){this.stopKeepAlive(),this.emit("onBye",t.reason,t.description)}};ae(aE,"logName","RSMessageCenter");let JT=aE;const Ze=(e,t)=>(r,n,i)=>{const a=i.value;return i.value=function(...c){var l;const u=`[${((l=r.constructor)==null?void 0:l.logName)||""}]`,d=Date.now();let h=[];if(e)try{h=e(c)}catch(m){}yt.interface(u,n,...h);const y=a.apply(this,c);return Promise.resolve(y).then(m=>m).catch(m=>m).then(m=>{var _;let R="";const b=m instanceof Error,C=b&&((_=r.constructor)==null?void 0:_.logError);if(!(!t&&!b)){if(C)R=m;else if(b)R=m.message||"";else if(t)if(m===void 0)R="";else try{R=t(m)}catch(H){}else return;yt.interfaceResult(u,n,!(b&&C),`${Date.now()-d}ms`,R)}}),y},i},Et=e=>e;var YT=Object.defineProperty,XT=Object.getOwnPropertyDescriptor,M0=(e,t,r,n)=>{for(var i=n>1?void 0:n?XT(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&YT(t,r,i),i},Io;const lg=(Io=class extends ti{constructor(e,t,r,n=$s.prod){super(),ae(this,"messageCenter"),ae(this,"authInfo"),ae(this,"userName"),ae(this,"channelProfile"),ae(this,"clientRole"),ae(this,"slsReporter"),ae(this,"reconnectData"),ae(this,"roomServerUri",""),this.channelProfile=e,this.clientRole=t,this.slsReporter=r,this.reconnectData={role:{channelprofile:e,clientrole:t}};const i=n===$s.pre?Zm.pre:Zm.prod;this.roomServerUri=`wss://${i}/roomserver/v1/ws`}updateReconnectData(e){var t;this.reconnectData=e,(t=this.messageCenter)==null||t.updateReconnectData(this.reconnectData)}reset(){yt.info("[roomsig] reset"),this.messageCenter&&(this.messageCenter.close(),this.messageCenter=void 0),this.authInfo=void 0}join(e,t,r){return Ye(this,null,function*(){return new Promise((n,i)=>{const a={};this.authInfo=e,this.userName=t,this.messageCenter=new JT(e,t,this.channelProfile,this.clientRole,this.slsReporter,r),this.initMessageCenter(),this.messageCenter.once("onJoinChannelResult",l=>{var u,d,h;if(yt.info(`[${Io.logName}]`,"join result: ",l),a.taskretrynum=((u=this.messageCenter)==null?void 0:u.retryCount)||0,l.code==200){(d=this.messageCenter)==null||d.sendPkgCache(),(h=this.messageCenter)==null||h.startKeepAlive();let y=l.data;y.tid=l.tid,y.users=l.data.users,y.timestamp=l.timestamp,a.est&&(a.joinconnecttc=Date.now()-a.est),this.slsReporter.reportJoinConnection(a),n(y)}else this.reset(),i(this.handleSignalError(l.code,l.reason,bt.ERR_JOIN_CHANNEL_FAILED))}),this.messageCenter.once("onAuthInvalid",()=>{this.reset(),i(new ft(bt.ERR_JOIN_BAD_TOKEN,"join failed because authentication failed"))}),yt.info(`[${Io.logName}]`,"start ws connecting roomserver and auto join when connected");const c={appid:this.authInfo.appId,callid:this.authInfo.sessionId,channelid:this.authInfo.channelId,userid:this.authInfo.userId,nonce:this.authInfo.nonce||"",timestamp:this.authInfo.timestamp,token:this.authInfo.token,authtype:"app",tid:is()};e.role&&(c.tokenrole=e.role),a.est=Date.now(),this.messageCenter.start(this.roomServerUri+"?"+po.queryingParam(c))})})}leave(){return yt.info("[roomsig] leave .."),new Promise((e,t)=>{this.messageCenter?(this.messageCenter.on("onLeaveResult",(r,n)=>{yt.info(`[${Io.logName}]`,"recv leave response "+r),r===200?(this.updateReconnectData(),this.reset(),e({tid:n})):t(this.handleSignalError(r,"leave error"))}),yt.info(`[${Io.logName}]`,"send leave request"),this.messageCenter.leave()):(yt.info(`[${Io.logName}]`,"no message center, ok to leave"),e({tid:""}))})}publish(e){return new Promise((t,r)=>{var n;this.messageCenter?(this.messageCenter.once("onPublishResult",(i,a,c)=>{yt.info(`[${Io.logName}]`,"recv pubish response "+i),i===200?(this.updateReconnectData(ql(dr({},this.reconnectData),{publish:{users:[e]}})),t({tid:a})):r(this.handleSignalError(i,`publish error, ${c}`))}),this.authInfo&&(e.sessionid=(n=this.authInfo.sessionId)!=null?n:""),e.callid||(e.callid=is()),yt.info(`[${Io.logName}]`,"assign callid "+e.callid+" and send publish request"),this.messageCenter.publish(e)):r(this.handleSignalError(-1,"publish error, no message center"))})}roleUpdate(e){return new Promise((t,r)=>{if(!this.messageCenter){r(this.handleSignalError(-1,"role update error, no message center"));return}this.messageCenter.on("onRoleUpdateResult",(n,i,a)=>{var c,l;yt.info(`[${Io.logName}]`,"recv role update response "+n),n===200?((l=(c=this.reconnectData)==null?void 0:c.role)!=null&&l.clientrole&&(this.reconnectData.role.clientrole=e,this.updateReconnectData(this.reconnectData)),t({tid:i})):r(this.handleSignalError(n,`role update error, ${a}`))}),this.messageCenter.roleUpdate(e)})}setChannelProfile(e){this.channelProfile=e}refreshUrl(e){return yt.info(`[${Io.logName}]`,"refreshUrl .."),new Promise((t,r)=>{if(!this.messageCenter){r(this.handleSignalError(-1,"refresh url error, no message center"));return}this.messageCenter.on("onRefreshUrlResult",n=>{const{code:i,description:a,data:c={}}=n||{};yt.info("recv refresh url response "+i),i===200?t(c):r(this.handleSignalError(i,`refresh url error, ${a}`))}),yt.info("send refresh url request"),this.messageCenter.refreshUrl(e)})}reportStatus(e){return yt.info(`[${Io.logName}]`,"reportStatus "+e),new Promise((t,r)=>{this.messageCenter?(this.messageCenter.once("onStatusReport",(n,i)=>{n===200?t():r(new ft(n,i))}),this.messageCenter.reportStatus(e)):r(new ft(-1,"No messageCenter"))})}handleSignalError(e,t,r=bt.ERR_INNER){const n=`signal error: code - ${e}; description - ${t}`;return new ft(r,n)}refreshAuthInfo(e){return Ye(this,null,function*(){var t;this.authInfo&&(this.authInfo=e,(t=this.messageCenter)==null||t.refreshAuthInfo(this.authInfo))})}initMessageCenter(){var e,t,r,n,i,a,c,l,u,d,h,y;(e=this.messageCenter)==null||e.on("onKeepAliveRsp",()=>{this.emit("onKeepAliveRsp")}),(t=this.messageCenter)==null||t.on("onNotifyJoin",m=>{this.emit("onNotifyJoin",m)}),(r=this.messageCenter)==null||r.on("onNotifyStatus",m=>{this.emit("onNotifyStatus",m)}),(n=this.messageCenter)==null||n.on("onNotifyLeave",m=>{this.emit("onNotifyLeave",m)}),(i=this.messageCenter)==null||i.on("onNotifyPublish",m=>{this.emit("onNotifyPublish",m)}),(a=this.messageCenter)==null||a.on("onBye",(m,_)=>{this.emit("onBye",m,_)}),(c=this.messageCenter)==null||c.on("onReconnectStart",()=>{this.emit("onReconnectStart")}),(l=this.messageCenter)==null||l.on("onReconnectSuccess",m=>{this.emit("onReconnectSuccess",m)}),(u=this.messageCenter)==null||u.on("onReconnectFail",m=>{this.emit("onReconnectFail",m)}),(d=this.messageCenter)==null||d.on("onConnectFail",m=>{this.emit("onConnectFail",m),this.reset()}),(h=this.messageCenter)==null||h.on("onNetworkError",m=>{this.emit("onNetworkError",m)}),(y=this.messageCenter)==null||y.on("onAuthInvalid",()=>{this.emit("onAuthInvalid")})}},ae(Io,"logName","RoomServerSignaling"),Io);M0([Ze()],lg.prototype,"join",1),M0([Ze()],lg.prototype,"publish",1),M0([Ze()],lg.prototype,"roleUpdate",1);let QT=lg;const ZT="https://pgw.rtn.aliyuncs.com",e2="https://gw.rtn.aliyuncs.com",sE=10*60*1e3,t2=12,cE=class aS extends ti{constructor(t,r){super(),ae(this,"env"),ae(this,"authInfo"),ae(this,"timer"),ae(this,"slsReporter"),ae(this,"expiration",0),ae(this,"skipTime",0),ae(this,"requestToken",()=>Ye(this,null,function*(){if(this.skipTime=0,!this.authInfo)return;const{appId:n,channelId:i,userId:a,nonce:c="",token:l,timestamp:u,sessionId:d,role:h}=this.authInfo;let y=e2;this.env===$s.pre&&(y=ZT);const m=`${y}/gslb/v1/stsupdate?appid=${n}&channelid=${i}&userid=${a}&nonce=${c}&token=${l}&timestamp=${u}&session=${d}${h?`&tokenrole=${h}`:""}&slstoken=true&osstoken=true&tokensid=false`,_=Date.now();fetch(m).then(R=>R.json()).then(R=>{var b,C;if(R.code===0){const H=(b=R.data)==null?void 0:b.oss,A=(C=R.data)==null?void 0:C.sls;this.expiration=H.expiration||A.expiration,this.emit("onTokenUpdate",H,A),yt.event(`[${aS.logName}]`,"getToken",H,A)}else throw new Error;this.slsReporter.reportSTSResult(200,_)}).catch(R=>{this.slsReporter.reportSTSResult(-1,_),yt.error(`[${aS.logName}]`,"getToken",R.message)})})),this.slsReporter=t,this.env=r}refreshAuthInfo(t){this.authInfo=t}startSTSUpdate(t){this.authInfo=t,this.requestToken(),this.timer&&clearInterval(this.timer),this.timer=window.setInterval(()=>{if(this.expiration&&Math.floor((Date.now()+sE*1.5)/1e3)<this.expiration&&this.skipTime<t2){this.skipTime+=1;return}this.requestToken()},sE)}clear(){this.timer&&clearInterval(this.timer)}};ae(cE,"logName","StsManager");let r2=cE;var n2=Object.defineProperty,i2=Object.getOwnPropertyDescriptor,o2=(e,t,r,n)=>{for(var i=n>1?void 0:n?i2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&n2(t,r,i),i};class N0 extends ti{constructor(t,r,n,i=$s.prod){super(),ae(this,"signaling"),ae(this,"authInfo"),ae(this,"userName"),ae(this,"channelProfile"),ae(this,"clientRole"),ae(this,"env",$s.prod),ae(this,"maxConnectRetryCount"),ae(this,"stsManager"),ae(this,"slsReporter"),this.channelProfile=t,this.clientRole=r,this.env=i,this.slsReporter=n,this.stsManager=new r2(n,i)}reset(){var t;yt.info("[signalingmanager] reset"),(t=this.signaling)==null||t.reset(),this.stsManager.clear(),this.signaling=void 0,this.authInfo=void 0}join(t,r=t.userId,n,i){return this.maxConnectRetryCount=n,this.userName=r,new Promise((a,c)=>{this.signaling?c(new ft(bt.ERR_JOIN_ALREADY_JOINED,"already joined")):(yt.info("[signalingmanager] create signaling"),this.signaling=new QT(this.channelProfile,this.clientRole,this.slsReporter,this.env),this.initSignaling(),i&&(i.rs=Date.now()),this.signaling.join(t,r,n).then(l=>{this.authInfo=t,i&&(i.re=Date.now()),a(l)}).catch(l=>{this.reset(),c(l)}),this.stsManager.startSTSUpdate(t))})}retryJoin(){const t=this.authInfo;this.reset(),t&&this.join(t,this.userName,this.maxConnectRetryCount)}leave(){return new Promise((t,r)=>{this.signaling?this.signaling.leave().then(n=>{this.reset(),t(n)}).catch(n=>{r(n)}):t({tid:""})})}publish(t){return new Promise((r,n)=>{var i;this.signaling&&this.authInfo?(t.userid=this.authInfo.userId,t.displayname=(i=this.userName)!=null?i:this.authInfo.userId,this.signaling.publish(t).then(a=>{r(a)}).catch(a=>{n(a)})):n(new ft(bt.ERR_SDK_PUBLISH_NOT_JOIN_CHANNEL,"no signaling"))})}reportStatus(t){return new Promise((r,n)=>{this.signaling?this.signaling.reportStatus(t).then(()=>{r()}).catch(i=>{n(i)}):n(new ft(-1,"no signaling"))})}setClientRole(t){return Ye(this,null,function*(){const r=this.clientRole;if(!this.signaling){this.clientRole=t;return}const n=Date.now();try{const i=yield this.signaling.roleUpdate(t);return this.slsReporter.reportRoleUpdateResult(r,t,Date.now()-n,0),i}catch(i){this.slsReporter.reportRoleUpdateResult(r,t,Date.now()-n,i.code||-1)}})}setChannelProfile(t){this.signaling?this.signaling.setChannelProfile(t):this.channelProfile=t}refreshUrl(t){return this.signaling?this.signaling.refreshUrl(t):Promise.reject(new ft(bt.ERR_SDK_INVALID_STATE,"should join first"))}refreshAuthInfo(t){return Ye(this,null,function*(){var r;try{this.authInfo&&(this.authInfo=dr(dr({},this.authInfo),t),(r=this.signaling)==null||r.refreshAuthInfo(this.authInfo),this.stsManager.refreshAuthInfo(this.authInfo))}catch(n){throw n}})}initSignaling(){var t,r,n,i,a,c,l,u,d,h,y,m,_;(t=this.signaling)==null||t.on("onKeepAliveRsp",this.onKeepAliveRsp.bind(this)),(r=this.signaling)==null||r.on("onNotifyJoin",this.onNotifyJoin.bind(this)),(n=this.signaling)==null||n.on("onNotifyStatus",this.onNotifyStatus.bind(this)),(i=this.signaling)==null||i.on("onNotifyLeave",this.onNotifyLeave.bind(this)),(a=this.signaling)==null||a.on("onNotifyPublish",this.onNotifyPublish.bind(this)),(c=this.signaling)==null||c.on("onBye",this.onBye.bind(this)),(l=this.signaling)==null||l.on("onReconnectStart",this.onReconnectStart.bind(this)),(u=this.signaling)==null||u.on("onReconnectSuccess",this.onReconnectSuccess.bind(this)),(d=this.signaling)==null||d.on("onReconnectFail",this.onReconnectFail.bind(this)),(h=this.signaling)==null||h.on("onConnectFail",this.onConnectFail.bind(this)),(y=this.signaling)==null||y.on("onNetworkError",this.onNetworkError.bind(this)),(m=this.signaling)==null||m.on("onAuthInvalid",this.onAuthInvalid.bind(this)),(_=this.signaling)==null||_.on("onError",this.onError.bind(this))}onKeepAliveRsp(){this.emit("onKeepAliveRsp")}onNotifyJoin(t){this.emit("onNotifyJoin",t)}onNotifyStatus(t){this.emit("onNotifyStatus",t)}onNotifyLeave(t){this.emit("onNotifyLeave",t)}onNotifyPublish(t){this.emit("onNotifyPublish",t)}onBye(t,r){this.emit("onBye",t,r)}onConnectFail(t){this.reset(),this.emit("onConnectFail",t)}onNetworkError(t){this.emit("onNetworkError",t)}onAuthInvalid(t){}onReconnectStart(){this.emit("onReconnectStart")}onReconnectSuccess(t){this.emit("onReconnectSuccess",t)}onReconnectFail(t){this.emit("onReconnectFail",t)}onError(t){this.emit("onError",t)}}ae(N0,"logName","SignalingManager"),o2([Ze(Et)],N0.prototype,"publish",1);const lE=class _p{static getInstance(){return _p.instance||(_p.instance=new AudioContext),_p.instance.resume(),_p.instance}};ae(lE,"instance");let ug=lE;function a2(e,t,r,n,i){let a=n,c=0,l;const u=e.createAnalyser();u.fftSize=256;const d=new Uint8Array(u.frequencyBinCount);t.connect(u),u.connect(r);const h=()=>{l&&window.clearInterval(l)},y=()=>{l=window.setInterval(()=>{u.getByteFrequencyData(d);let m=Math.round(d.reduce((_,R)=>_+R)/d.length);m=Math.min(100,m),c=m,i&&i(m)},a)};return y(),{updateInterval:m=>{h(),a=m,y()},getLevel:()=>c,dispose:()=>{h(),t.disconnect(),u.disconnect()}}}class s2 extends ti{constructor(){super(),ae(this,"audioContext"),ae(this,"stream"),ae(this,"sourceNode"),ae(this,"analyser"),this.audioContext=ug.getInstance(),this.stream=new MediaStream}getLevel(){return this.analyser?this.analyser.getLevel():0}start(t,r=1e3){this.sourceNode&&this.stop(),this.stream.addTrack(t),this.sourceNode=this.audioContext.createMediaStreamSource(this.stream);const n=this.audioContext.createMediaStreamDestination();this.analyser=a2(this.audioContext,this.sourceNode,n,r,i=>{this.emit("audioLevel",i)})}stop(){this.analyser&&this.analyser.dispose(),this.analyser=void 0,this.sourceNode=void 0,this.stream.getAudioTracks().forEach(t=>{this.stream.removeTrack(t)})}dispose(){this.stop()}}class uE extends ti{constructor(t,r,n,i){super(),ae(this,"uid"),ae(this,"name"),ae(this,"rtsManager"),ae(this,"callId",""),ae(this,"audioLevelMonitor"),ae(this,"audioVolumeIndicationInterval",0),this.uid=t,this.name=r,this.rtsManager=n,this.audioVolumeIndicationInterval=i,this.audioLevelMonitor=new s2}get userId(){return this.uid}get displayname(){return this.name}createCallId(){this.callId||(this.callId=po.createCallid())}setUserInfo(t,r){this.uid=t,this.name=r}refreshUserInfo(t){this.uid=t}getAudioLevel(){return this.audioLevelMonitor.getLevel()}enableAudioVolumeIndication(t){this.audioVolumeIndicationInterval=t}clear(){this.audioLevelMonitor.dispose()}}class dE{static getCurrentStatus(t){let r=0;t.micOpen&&(r+=1),t.micInterrupted&&(r+=2),t.cameraOpen&&(r+=4),t.screenShare&&(r+=128),t.audioDisable&&(r+=8),t.videoDisable&&(r+=16),t.screenDisable&&(r+=256);let n=r.toString(16);for(;n.length<16;)n="0"+n;return n}static parseStatus(t){let r=parseInt(t,16);return{micOpen:!!(r&1),micInterrupted:!!(r&2),cameraOpen:!!(r&4),screenShare:!!(r&128),audioDisable:!!(r&8),videoDisable:!!(r&16),screenDisable:!!(r&256),backgroundMode:!!(r&32),accompanyPlaying:!!(r&64)}}}const fE="customVideoProfile",hE="customScreenProfile",zh={width:1280,height:720,frameRate:30,maxBitrate:2e3},Wh={width:1920,height:1080,frameRate:30,maxBitrate:2600},c2={1e4:ri.AliEngineLocalDeviceExceptionTypeUnknown,2e4:ri.AliEngineLocalDeviceExceptionTypeUnknown,10001:ri.AliEngineLocalDeviceExceptionTypeMicNotAvailable,10002:ri.AliEngineLocalDeviceExceptionTypeMicAuthFail,10003:ri.AliEngineLocalDeviceExceptionTypeMicOpenFail,10005:ri.AliEngineLocalDeviceExceptionTypeCameraAuthFail,10004:ri.AliEngineLocalDeviceExceptionTypeVideoDeviceException,10006:ri.AliEngineLocalDeviceExceptionTypeCameraOpenFail,10010:ri.AliEngineLocalDeviceExceptionTypeDisplayException,10011:ri.AliEngineLocalDeviceExceptionTypeDisplayException,10012:ri.AliEngineLocalDeviceExceptionTypeDisplayException,10013:ri.AliEngineLocalDeviceExceptionTypeDisplayException,10014:ri.AliEngineLocalDeviceExceptionTypeDisplayException,10019:ri.AliEngineLocalDeviceExceptionTypeDisplayException},l2=e=>e.getAudioTracks()[0];function pE(e){var t;if(((t=e==null?void 0:e.nodeName)==null?void 0:t.toLowerCase())==="video")return e.setAttribute("playsinline",""),e;if(typeof e=="string"){let r=document.getElementById(e);if(r){if(r.nodeName.toLocaleLowerCase()==="video")return r.setAttribute("playsinline",""),r;throw new ft(bt.ERR_INVALID_ARGUMENTS,"element should be HtmlVideoElement")}else throw new ft(bt.ERR_INVALID_ARGUMENTS,"element not founded")}else throw new ft(bt.ERR_INVALID_ARGUMENTS,"element id should be string")}function D0(e){var t;const r=[];if(Array.isArray(e))e.forEach(n=>{try{r.push(pE(n))}catch(i){}});else if(typeof e=="string"||((t=e==null?void 0:e.nodeName)==null?void 0:t.toLowerCase())==="video")try{r.push(pE(e))}catch(n){}return r}function Lc(e){return new Promise(t=>setTimeout(t,e))}function mE(e,t,r=1e3,n=i=>!0){return Ye(this,null,function*(){let i=0,a;for(;i<t;)try{return yield e(i)}catch(c){if(i++,i>=t||!n(c))throw c||a;yield new Promise(l=>setTimeout(l,r))}})}function u2(e,t){let r=0;const n=[];for(;r<e.byteLength;){const i=Math.min(t,e.byteLength-r),a=e.slice(r,r+i);n.push(a),r+=i}return n}const gE=(e,t,r=!1)=>{const n=()=>(e.muted=!0,Promise.race([Lc(500),e._playPromise||Promise.resolve()]).catch(()=>{}).then(()=>{let i;return r&&e.srcObject===t?i=Promise.resolve():(e.load(),e.srcObject=t,i=e.play(),e._playPromise=i),i}));return new Promise(i=>{if(Tr.AliRTS.BrowserUtil.isMicroMessenger){const a=window.top!==window.self,c=window.WeixinJSBridge||window.top.WeixinJSBridge;c?c.invoke("getNetworkType",{},()=>{i(n())}):(a?window.top.document:document).addEventListener("WeixinJSBridgeReady",()=>{c.invoke("getNetworkType",{},()=>{i(n())})}),setTimeout(()=>{i(n())},1e3)}else setTimeout(()=>{i(n())},0)})},os=e=>{Promise.race([Lc(100),e._playPromise||Promise.resolve()]).catch(()=>{}).then(()=>{e.srcObject=null,e._playPromise=void 0})};var vE=(e=>(e[e.AliEngineDataMsgNone=0]="AliEngineDataMsgNone",e[e.AliEngineDataMsgMusicProgress=1]="AliEngineDataMsgMusicProgress",e[e.AliEngineDataMsgCustom=2]="AliEngineDataMsgCustom",e))(vE||{});class dg{constructor(t,r,n,i=0){ae(this,"msgType"),ae(this,"msgId"),ae(this,"protocolVersion"),ae(this,"tlvVersion"),this.msgType=t,this.msgId=r,this.protocolVersion=n,this.tlvVersion=i}build(){const t=new Uint8Array(4);return t.set(Uint8Array.from([this.protocolVersion,this.tlvVersion<<4|this.msgType&15]),0),t.set(Uint16Array.from([this.msgId]),2),t}static parse(t){const r=new DataView(t),n=r.getUint8(0),i=r.getUint8(1)>>4,a=r.getUint8(1)&15,c=r.getUint16(2);return new dg(a,c,n,i)}}const Ql=5;class fg{constructor(t,r,n){if(ae(this,"_byteArray"),this._byteArray=new Uint8Array(0),t!==void 0&&r!==void 0&&n!==void 0){const i=new dg(t,r,n).build();this._byteArray=new Uint8Array(i.byteLength+this._byteArray.byteLength),this._byteArray.set(i,0)}}write(t,r){const n=this._byteArray,i=new ArrayBuffer(Ql),a=new DataView(i);a.setUint8(0,t),a.setUint32(1,r.byteLength);const c=new Uint8Array(n.byteLength+Ql+r.byteLength);c.set(n,0),c.set(new Uint8Array(i),n.byteLength),c.set(new Uint8Array(r),n.byteLength+Ql),this._byteArray=c}static parse(t){const r={},n=new DataView(t);let i=0;for(;i<t.byteLength;){const a=n.getUint8(i),c=n.getUint32(i+1);if(i+Ql+c<=t.byteLength){const l=t.slice(i+Ql,i+Ql+c);r[a]=l,i+=Ql+c}else break}return r}get buffer(){return this._byteArray.buffer}}class Gh{constructor(t=0,r=!0,n=1,i=!1,a=0,c=!1,l=!1,u=3){ae(this,"_fin",!0),ae(this,"_hasExtension",!1),ae(this,"_version",0),ae(this,"_frameType",1),ae(this,"_isEncrypted",!1),ae(this,"_isCompressed",!1),ae(this,"_signalType",3),ae(this,"_payloadLength",0),this._fin=r,this._hasExtension=i,this._version=a,this._frameType=n,this._isEncrypted=c,this._isCompressed=l,this._signalType=u,this._payloadLength=t}get fin(){return this._fin}get hasExtension(){return this._hasExtension}get version(){return this._version}get frameType(){return this._frameType}get isEncrypted(){return this._isEncrypted}get isCompressed(){return this._isCompressed}get signalType(){return this._signalType}get payloadLength(){return this._payloadLength}toBuffer(){const t=new ArrayBuffer(4),r=new DataView(t);return r.setUint8(0,(this._fin?1:0)<<7|(this._hasExtension?1:0)<<6|this._version<<4|this._frameType&15),r.setUint8(1,(this._isEncrypted?1:0)<<7|(this._isCompressed?1:0)<<6|this._signalType&15),r.setUint16(2,this._payloadLength),t}static parse(t){const r=new DataView(t),n=r.getUint8(0)>>7===1,i=(r.getUint8(0)&64)>>6===1,a=(r.getUint8(0)&48)>>4,c=r.getUint8(0)&15,l=r.getUint8(1)>>7===1,u=(r.getUint8(1)&64)>>6===1,d=r.getUint8(1)&15,h=r.getUint16(2);return new Gh(h,n,c,i,a,l,u,d)}}class hg{constructor(t,r){ae(this,"_body"),ae(this,"_header",new Gh),this._header=t,this._body=r}get header(){return this._header}get isFin(){return this._header.fin}get body(){return this._body}toGRTNBuffer(){const t=this._header.toBuffer(),r=this._body,n=new ArrayBuffer(4);new DataView(n).setUint8(0,1*Math.pow(2,4));const i=new Uint8Array(n.byteLength+t.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(t),n.byteLength),i.set(new Uint8Array(r),n.byteLength+t.byteLength),i.buffer}static parse(t){const r=t.slice(0,4),n=Gh.parse(r);let i=new ArrayBuffer(0);return t.byteLength-4>=n.payloadLength&&(i=t.slice(4,4+n.payloadLength)),new hg(n,i)}}const L0=e=>{const t=e.byteLength,r=new DataView(e);let n=0;for(let i=0;i<t;i++)n=n*256+r.getUint8(i);return n};let yE=0;class Zl{constructor(t,r=0,n=0,i=0){ae(this,"data"),ae(this,"networkTime"),ae(this,"futureOrProgress"),ae(this,"type"),this.data=t,this.type=r,this.networkTime=n,this.futureOrProgress=i}toBuffer(){const t=new fg(0,0,0);t.write(1,Uint8Array.from([0]).buffer),t.write(2,Uint16Array.from([0]).buffer),yE++,t.write(3,Uint32Array.from([yE]).buffer);const r=new fg;return r.write(1,Uint8Array.from([0]).buffer),r.write(2,Uint8Array.from([this.type]).buffer),r.write(3,Uint32Array.from([this.futureOrProgress]).buffer),r.write(4,Uint32Array.from([Number(this.networkTime>>32&4294967295),Number(this.networkTime&4294967295)]).buffer),r.write(5,this.data),t.write(30,r.buffer),t.buffer}static parse(t){if(!t||t.byteLength<4)return;dg.parse(t.slice(0,4));const r=fg.parse(t.slice(4))[30];if(!r)return;const n=fg.parse(r),i=n[2],a=n[3],c=n[4],l=n[5];if(l.byteLength!==0)return new Zl(l,L0(i),L0(c),L0(a))}}var d2=Object.defineProperty,f2=Object.getOwnPropertyDescriptor,Tn=(e,t,r,n)=>{for(var i=n>1?void 0:n?f2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&d2(t,r,i),i};const SE=30;class Kh extends ti{constructor(){super(),ae(this,"state"),ae(this,"time"),this.state=ur.AliRtcStatePublishIdle,this.time=Date.now()}setState(t){const r=this.state,n=this.time;this.state=t,this.time=Date.now(),this.emit("change",r,t,Math.floor((this.time-n)/1e3))}}var eu;const Cn=(eu=class extends uE{constructor(e){const{rtsManager:t,localStreamManager:r,slsReporter:n,signalingManager:i,audioVolumeIndicationInterval:a,parameter:c}=e;super("","",t,a),ae(this,"url",""),ae(this,"joinTime",0),ae(this,"_isPublishing",!1),ae(this,"publishPromise",Promise.resolve({traceId:"",l1ip:void 0})),ae(this,"previewElements",[]),ae(this,"screenPreviewElements",[]),ae(this,"streamManager"),ae(this,"dc"),ae(this,"streamTracks"),ae(this,"publishId",is()),ae(this,"signalingManager"),ae(this,"traceId",""),ae(this,"monitorTimerId"),ae(this,"monitorDataCache",{}),ae(this,"trackTraceIdMap",{}),ae(this,"candidateDataCache",[]),ae(this,"pcMediaStatsMap",{}),ae(this,"slsReporter"),ae(this,"audioPubState"),ae(this,"videoPubState"),ae(this,"videoSmallPubState"),ae(this,"screenPubState"),ae(this,"dataPubState"),ae(this,"parameter",{}),ae(this,"onTrackEnd",l=>{this.emit(l)}),this.streamManager=r,this.signalingManager=i,this.slsReporter=n,this.parameter=c,this.streamManager.on("trackended",l=>{this.onTrackEnd(l)}),this.streamManager.on("publishupdate",()=>{this.publishUpdate()}),this.audioPubState=new Kh,this.audioPubState.on("change",(l,u,d)=>{this.emit("audioPublishStateChanged",l,u,d)}),this.videoPubState=new Kh,this.videoPubState.on("change",(l,u,d)=>{this.emit("videoPublishStateChanged",l,u,d)}),this.videoSmallPubState=new Kh,this.videoSmallPubState.on("change",(l,u,d)=>{this.emit("dualStreamPublishStateChanged",l,u,d)}),this.screenPubState=new Kh,this.screenPubState.on("change",(l,u,d)=>{this.emit("screenPublishStateChanged",l,u,d)}),this.dataPubState=new Kh,this.dataPubState.on("change",(l,u,d)=>{this.emit("dataPublishStateChanged",l,u,d)}),this.startStreamMonitor()}get joined(){return!!this.uid}get isPublishing(){return this._isPublishing}get publishStreams(){return this.streamManager.publishStreams}get cameraTrack(){return this.streamManager.cameraStreamInfo.originVideoTrack}get screenTrack(){return this.streamManager.screenStreamInfo.originVideoTrack}get audioTrack(){return this.streamManager.cameraStreamInfo.originAudioTrack}get hasCamera(){return!!this.streamManager.cameraStreamInfo.originVideoTrack}get hasMicrophone(){return!!this.streamManager.cameraStreamInfo.originAudioTrack}get hasScreenShare(){return!!this.streamManager.screenStreamInfo.originVideoTrack}get hasCameraTrackInMS(){var e;return!!((e=this.streamTracks)!=null&&e.find(({ssrc:t,type:r,msid:n})=>r==="video"&&t&&n===lt.VideoLarge))}get hasCameraDualTrackInMS(){var e;return!!((e=this.streamTracks)!=null&&e.find(({ssrc:t,type:r,msid:n})=>r==="video"&&t&&n===lt.VideoSmall))}get hasScreenTrackInMS(){var e;return!!((e=this.streamTracks)!=null&&e.find(({ssrc:t,type:r,msid:n})=>r==="video"&&t&&n===lt.Screen))}get hasAudioTrackInMS(){var e;return!!((e=this.streamTracks)!=null&&e.find(({ssrc:t,type:r,msid:n})=>r==="audio"&&t&&n===lt.Audio))}get cameraDirection(){var e,t;return(t=(e=this.streamManager.cameraStreamInfo)==null?void 0:e.cameraVideoConstraints)==null?void 0:t.facingMode}get audioCaptureDisabled(){return this.streamManager.audioCaptureDisabled}get cameraCaptureDisabled(){return this.streamManager.cameraCaptureDisabled}get publishLocalVideoStreamEnabled(){return this.streamManager.publishLocalVideoStreamEnabled}get publishLocalAudioStreamEnabled(){return this.streamManager.publishLocalAudioStreamEnabled}get publishLocalScreenStreamEnabled(){return this.streamManager.publishLocalScreenStreamEnabled}setPublishLocalAudioStreamEnabled(e){this.streamManager.publishLocalAudioStreamEnabled=e}setPublishLocalVideoStreamEnabled(e){this.streamManager.publishLocalVideoStreamEnabled=e}setPublishLocalScreenStreamEnabled(e){this.streamManager.publishLocalScreenStreamEnabled=e}initInfo(e,t){this.joinTime=Date.now(),this.rtsManager.localJoinTime=this.joinTime,this.setUserInfo(e.userId,e.userId),this.url=t,this.callId=e.sessionId||po.createCallid(),this.updatePubId()}setVideoProfile(e,t){return Ye(this,null,function*(){yield this.streamManager.setVideoProfile(e,t)})}setVideoContentHint(e){this.streamManager.setVideoContentHint(e)}setScreenContentHint(e){this.streamManager.setScreenContentHint(e)}setAudioProfile(e){return Ye(this,null,function*(){yield this.streamManager.setAudioProfile(e)})}setScreenProfile(e,t){return Ye(this,null,function*(){yield this.streamManager.setScreenProfile(e,t)})}setCameraDirection(e){if(e===Hh.CAMERA_FRONT)this.streamManager.setCameraVideoConstraints({facingMode:"user"});else if(e===Hh.CAMERA_REAR)this.streamManager.setCameraVideoConstraints({facingMode:"environment"});else throw new ft(bt.ERR_CAMERA_OPEN_FAIL,`camera direction set to  ${e} failed`)}setCameraDeviceId(e){this.streamManager.setCameraVideoConstraints({deviceId:e})}muteLocalCamera(e){this.streamManager.setCameraMuted(e),this.slsReporter.reportMute(this.callId,!e,"video")}muteLocalMic(e){this.streamManager.setAudioMuted(e),this.slsReporter.reportMute(this.callId,!e,"audio")}muteLocalScreen(e){this.streamManager.setScreenMuted(e),this.slsReporter.reportMute(this.callId,!e,"screen")}setMicrophoneDeviceId(e){this.streamManager.setMicAudioConstraints({deviceId:e})}updatePubId(){this.publishId=is()}clearPublishState(){this.streamTracks=void 0}leave(){return Ye(this,null,function*(){this._isPublishing&&(this._isPublishing=!1,yield this.unPublish())})}clear(){return Ye(this,null,function*(){$S(eu.prototype,this,"clear").call(this),this.stopPreview(),this.resetPreviewElements(),this.resetSecondayPreviewElements(),this.clearStream(),yield this.leave(),this.streamManager.cameraCaptureDisabled=!1})}resetElement(e){this.previewElements.includes(e)&&(os(e),this.previewElements.splice(this.previewElements.indexOf(e),1)),this.screenPreviewElements.includes(e)&&(os(e),this.screenPreviewElements.splice(this.screenPreviewElements.indexOf(e),1))}setPreviewElement(e){const{videoElement:t,screen:r}=e;r?this.screenPreviewElements.includes(t)||this.screenPreviewElements.push(t):this.previewElements.includes(t)||this.previewElements.push(t)}startDefaultCamera(e){return Ye(this,null,function*(){const{hasCamera:t,cameraCaptureDisabled:r,publishLocalVideoStreamEnabled:n}=this;let i=[];if(!t&&!e&&!r&&n){try{i=yield Tr.AliRTS.getCameraList(),i.length&&(yield this.startCameraCapture())}catch(a){throw a.code===Tr.AliRTS.ErrorCode.ERROR_DEVICE_VIDEODEVICE_NOTALLOWED?new ft(bt.ERR_CAMERA_AUTH_FAIL,"camera auth fail"):new ft(bt.ERR_CAMERA_OPEN_FAIL,`camera open fail: ${a.message}`)}if(!i.length)throw new ft(bt.ERR_CAMERA_NOT_AVAILABLE,"No camera device can be captured")}})}startDefaultAudio(){return Ye(this,null,function*(){const{hasMicrophone:e,audioCaptureDisabled:t,publishLocalAudioStreamEnabled:r}=this;let n=[];if(!e&&!t&&r){try{n=yield Tr.AliRTS.getMicList(),n.length&&(yield this.startAudioCapture())}catch(i){throw i.code===Tr.AliRTS.ErrorCode.ERROR_DEVICE_AUDIODEVICE_NOTALLOWED?new ft(bt.ERR_MIC_AUTH_FAIL,"microphone auth fail"):new ft(bt.ERR_MIC_OPEN_FAIL,`microphone open fail: ${i.message}`)}if(!n.length)throw new ft(bt.ERR_MIC_NOT_AVAILABLE,"No microphone device can be captured")}})}setViewConfig(e,t){if(!e){t===hr.AliRtcVideoTrackCamera?this.stopPreview({primary:!0,screen:!1}):this.stopPreview({primary:!1,screen:!0});return}if(![hr.AliRtcVideoTrackCamera,hr.AliRtcVideoTrackScreen].includes(t))throw new ft(bt.ERR_INVALID_ARGUMENTS,"set view config invalid track",{track:t});e.forEach(r=>{this.setPreviewElement({videoElement:r,screen:t===hr.AliRtcVideoTrackScreen})})}startCameraCapture(){return Ye(this,null,function*(){return this.streamManager.cameraCaptureDisabled=!1,yield this.createLocalStream({video:!0})})}stopCameraCapture(){return Ye(this,null,function*(){this.streamManager.cameraCaptureDisabled=!0,yield this.stopLocalStream({video:!0})})}startAudioCapture(){return Ye(this,null,function*(){return this.streamManager.audioCaptureDisabled=!1,yield this.createLocalStream({audio:!0})})}stopAudioCapture(){return Ye(this,null,function*(){this.streamManager.audioCaptureDisabled=!0,yield this.stopLocalStream({audio:!0})})}preview(e){return Ye(this,null,function*(){const{videoElement:t,screen:r}=e!=null?e:{};try{let n=r?this.streamManager.screenStreamInfo.previewStream:this.streamManager.cameraStreamInfo.previewStream;if(!t)throw new ft(bt.ERR_INVALID_ARGUMENTS,"no video element found",{videoElement:t});if(!n){yt.info(`[${eu.logName}]`,"preview no stream founded");return}return gE(t,n.mediaStream),this.setPreviewElement(e),n.mediaStream}catch(n){const i=bt.ERR_INNER;throw ft.fromError(n,i,"preview failed")}})}previewAll(e){return Ye(this,null,function*(){const{primary:t=!0,screen:r=!0}=e!=null?e:{};if(t&&this.previewElements.length)for(let n=0;n<this.previewElements.length;n++){const i=this.previewElements[n];yield this.preview({videoElement:i})}if(r&&this.screenPreviewElements.length)for(let n=0;n<this.screenPreviewElements.length;n++){const i=this.screenPreviewElements[n];yield this.preview({videoElement:i,screen:!0})}})}stopPreview(e){const{videoElement:t,primary:r=!0,screen:n=!0}=e||{};if(!t)r&&(this.previewElements.forEach(i=>{os(i)}),this.previewElements=[]),n&&(this.screenPreviewElements.forEach(i=>{os(i)}),this.screenPreviewElements=[]);else{const i=this.previewElements.findIndex(a=>a===t);if(i>=0)this.previewElements.splice(i,1),os(t);else{const a=this.screenPreviewElements.findIndex(c=>c===t);a>=0&&(this.screenPreviewElements.splice(a,1),os(t))}}}resumePublish(){return Ye(this,null,function*(){this._isPublishing=!1,yield this.startPublish(!0)})}createLocalStream(e){return Ye(this,null,function*(){try{if(e.video)for(let r=0;r<this.previewElements.length;r++){const n=this.previewElements[r];os(n)}else if(e.screen)for(let r=0;r<this.screenPreviewElements.length;r++){const n=this.screenPreviewElements[r];os(n)}const t=yield this.streamManager.createLocalStream(e);return t!=null&&t.audioTrack&&this.audioVolumeIndicationInterval>0&&this.audioLevelMonitor.start(t.audioTrack,this.audioVolumeIndicationInterval),e.video?this.previewAll({primary:!0}):e.screen&&this.previewAll({screen:!0}),t}catch(t){const r=c2[t.errorCode];throw r&&(e.audio?this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeMic,r,""):e.video?this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeCamera,r,""):e.screen?this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeDisplay,r,""):this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeUnknown,r,"")),t}})}stopLocalStream(e){return Ye(this,null,function*(){e.audio&&this.audioLevelMonitor.stop(),yield this.streamManager.stopLocalStream(e)})}compareAndPublish(e,t,r){return Ye(this,null,function*(){var n,i;if(!e&&!t)return;if(e&&!t){const c={};return r===lt.Audio?c.audio=!0:r===lt.VideoLarge||r===lt.VideoSmall?(c.video=!0,c.vMsid=r):r===lt.Screen&&(c.screen=!0),yield this.publishDeleteTracks(c)}const a={};if(t!=null&&t.hasVideo&&(a.isScreen=r===lt.Screen,a.vMsid=r),t!=null&&t.hasAudio&&(a.aMsid=r),!e&&t)return yield this.publishAdd(t,a,!1);if(e&&t){const c=e.trackId,l=((n=t.videoTrack)==null?void 0:n.id)||((i=t.audioTrack)==null?void 0:i.id);if(c!==l)return yield this.publishReplace(t,a)}})}reportAudioProfile(){const e=this.streamManager.cameraStreamInfo.audioProfile||"standard",t=Tr.AliRTS.AudioProfileMap.get(e);this.slsReporter.reportPublishProfile(lt.Audio,{a_profile:e,bits:(t==null?void 0:t.maxBitrate)||0,samplerate:(t==null?void 0:t.sampleRate)||0,channel:(t==null?void 0:t.channelCount)||0})}reportVideoProfile(){const e=this.streamManager.cameraStreamInfo.videoProfile||"",t=Tr.AliRTS.VideoProfileMap.get(e);t&&this.slsReporter.reportPublishProfile(lt.VideoLarge,{v_profile:e,wdth:(t==null?void 0:t.width)||0,hgt:(t==null?void 0:t.height)||0,fps:(t==null?void 0:t.frameRate)||0,bitrate:(t==null?void 0:t.maxBitrate)||0})}reportScreenProfile(){const e=this.streamManager.screenStreamInfo.videoProfile||"",t=Tr.AliRTS.VideoProfileMap.get(e);t&&this.slsReporter.reportPublishProfile(lt.Screen,{v_profile:e,wdth:(t==null?void 0:t.width)||0,hgt:(t==null?void 0:t.height)||0,fps:(t==null?void 0:t.frameRate)||0,bitrate:(t==null?void 0:t.maxBitrate)||0})}startPublish(){return Ye(this,arguments,function*(e=!1,t=ns.MANUAL){var r;if(!this.joined)return;const n=yield this.streamManager.publishStreams,{audio:i,video:a,videoSmall:c,screen:l}=n;if(!i&&!a&&!c&&!l){yt.event(`[${eu.logName}]`,"startPublish no stream founded");return}this.createCallId();try{const u=new Date().getTime();i&&this.audioPubState.setState(ur.AliRtcStatePublishing),a&&this.videoPubState.setState(ur.AliRtcStatePublishing),c&&this.videoSmallPubState.setState(ur.AliRtcStatePublishing),l&&this.screenPubState.setState(ur.AliRtcStatePublishing),this.publishPromise=this.rtsManager.publish(this.url,this.callId,e,t);const{traceId:d,l1ip:h}=yield this.publishPromise;if(this._isPublishing=!0,this.streamTracks=this.rtsManager.publishingTracks,this.traceId=d,(r=this.parameter.data)!=null&&r.enablePubDataChannel){this.dataPubState.setState(ur.AliRtcStatePublishing);const m=yield this.rtsManager.publishAddDataChannel(this.url);m?(this.dc=m,this.dc.datachannel&&(this.dc.datachannel.binaryType="arraybuffer"),this.dataPubState.setState(ur.AliRtcStatePublished)):this.emit("publishDataError",new ft(bt.ERR_INNER,"publishDataError"))}i&&(this.trackTraceIdMap[lt.Audio]=d,this.reportAudioProfile()),c&&(this.trackTraceIdMap[lt.VideoSmall]=d),a&&(this.trackTraceIdMap[lt.VideoLarge]=d,this.reportVideoProfile()),l&&(this.trackTraceIdMap[lt.Screen]=d,this.reportScreenProfile());const y={type:xc.Add,userid:this.userId,sessionid:"",displayname:this.name,pubid:this.publishId,resume:e,subscribe:{signal:"",pullstreamurl:this.url},l1ip:this.parameter.reportL1IP?h:void 0,callid:this.callId,tracks:this.streamTracks,traceid:d};yield this.syncPublishToRoomServer(y,n,u),i&&this.audioPubState.setState(ur.AliRtcStatePublished),a&&this.videoPubState.setState(ur.AliRtcStatePublished),c&&this.videoSmallPubState.setState(ur.AliRtcStatePublished),l&&this.screenPubState.setState(ur.AliRtcStatePublished)}catch(u){throw i&&this.audioPubState.setState(ur.AliRtcStateNoPublish),a&&this.videoPubState.setState(ur.AliRtcStateNoPublish),c&&this.videoSmallPubState.setState(ur.AliRtcStateNoPublish),l&&this.screenPubState.setState(ur.AliRtcStateNoPublish),u}})}updateStreams(){return Ye(this,null,function*(){yield this.streamManager.updateStreams()})}publishUpdate(e){return Ye(this,null,function*(){var t,r,n,i;if(!this._isPublishing)return;yield this.publishPromise;const a=this.streamManager.publishStreams;let c;const l=new Date().getTime();try{const u=(t=this.streamTracks)==null?void 0:t.find(({ssrc:C,type:H,msid:A})=>H==="audio"&&C&&A===lt.Audio),d=yield this.compareAndPublish(u,a.audio,lt.Audio);d&&(c=d);const h=(r=this.streamTracks)==null?void 0:r.find(({ssrc:C,type:H,msid:A})=>H==="video"&&C&&A===lt.VideoLarge),y=yield this.compareAndPublish(h,a.video,lt.VideoLarge);y&&(c=y);const m=(n=this.streamTracks)==null?void 0:n.find(({ssrc:C,type:H,msid:A})=>H==="video"&&C&&A===lt.VideoSmall),_=yield this.compareAndPublish(m,a.videoSmall,lt.VideoSmall);_&&(c=_);const R=(i=this.streamTracks)==null?void 0:i.find(({ssrc:C,type:H,msid:A})=>H==="video"&&C&&A===lt.Screen),b=yield this.compareAndPublish(R,a.screen,lt.Screen);if(b&&(c=b),!c)if(e===ns.RECONNECT&&this.rtsManager.publishingTracks.length>0){const C=this.rtsManager.publishingTracks.find(({type:A})=>A==="video"),H=this.rtsManager.publishingTracks.find(({type:A})=>A==="audio");(C||H)&&(yield this.rtsManager.waitPublishSender(this.url,!C,C?C.msid:H==null?void 0:H.msid)),c={type:xc.Add,userid:this.userId,sessionid:"",displayname:this.name,pubid:this.publishId,resume:!0,subscribe:{signal:"",pullstreamurl:this.url},callid:this.callId,tracks:this.rtsManager.publishingTracks,traceid:this.traceId}}else return;yield this.syncPublishToRoomServer(c,a,l)}catch(u){const{code:d}=u!=null?u:{},h=this.url;throw d===403&&h&&(yield this.refreshPushStreamUrl(),c=yield this.publishUpdate()),u}return c})}syncPublishToRoomServer(e,t,r){return Ye(this,null,function*(){var n;if(!e)throw new ft(bt.ERR_INNER,"sync publish to room server failed because  no publishInfo");let i=e;if(this.dc){const c=e,{tracks:l}=c,u=Bh(c,["tracks"]);i=ql(dr({},u),{tracks:[...l,{type:"data",msid:lt.Data,ssrc:`${((n=this.callId)==null?void 0:n.length)>8?this.callId.substring(0,8):"web"}${this.dc.datachannel.id||"0"}`,codec:"text"}]})}const a=yield this.signalingManager.publish(i);e.signaltid=a.tid})}refreshPushStreamUrl(){return Ye(this,null,function*(){const e=new ft(bt.ERR_INNER,"refresh push stream url error"),t=this.url;if(!t)throw e;const r=yield this.signalingManager.refreshUrl({pushstreamurl:t});if(!(r!=null&&r.pushstreamurl))throw e;this.url=r==null?void 0:r.pushstreamurl})}publishAdd(e,t,r=!1,n=0){return Ye(this,null,function*(){this.createCallId();const i=(t==null?void 0:t.aMsid)===lt.Audio,a=(t==null?void 0:t.vMsid)===lt.VideoLarge,c=(t==null?void 0:t.vMsid)===lt.VideoSmall,l=(t==null?void 0:t.vMsid)===lt.Screen;i&&this.audioPubState.setState(ur.AliRtcStatePublishing),a&&this.videoPubState.setState(ur.AliRtcStatePublishing),c&&this.videoSmallPubState.setState(ur.AliRtcStatePublishing),l&&this.screenPubState.setState(ur.AliRtcStatePublishing);try{const u=yield this.rtsManager.publishAdd(this.url,e,this.callId,t,!1,!0);i&&(this.audioPubState.setState(ur.AliRtcStatePublished),this.reportAudioProfile(),this.trackTraceIdMap[lt.Audio]=u),a&&(this.videoPubState.setState(ur.AliRtcStatePublished),this.reportVideoProfile(),this.trackTraceIdMap[lt.VideoLarge]=u),c&&(this.videoSmallPubState.setState(ur.AliRtcStatePublished),this.trackTraceIdMap[lt.VideoSmall]=u),l&&(this.screenPubState.setState(ur.AliRtcStatePublished),this.reportScreenProfile(),this.trackTraceIdMap[lt.Screen]=u),this.streamTracks=this.rtsManager.publishingTracks;const d={type:xc.Add,userid:this.userId,sessionid:"",displayname:this.name,pubid:this.publishId,resume:r,subscribe:{signal:"",pullstreamurl:this.url},callid:this.callId,tracks:this.streamTracks,traceid:u};return this.reportSelfDeviceStatus(),this.monitorTimerId||this.startStreamMonitor(),d}catch(u){let d=bt.ERR_SDK_PUBLISH_INVAILD;if(i&&(this.audioPubState.setState(ur.AliRtcStateNoPublish),d=bt.ERR_SDK_PUBLISH_AUDIO_STREAM_FAILED),a&&(this.videoPubState.setState(ur.AliRtcStateNoPublish),d=bt.ERR_SDK_PUBLISH_VIDEO_STREAM_FAILED),c&&(this.videoSmallPubState.setState(ur.AliRtcStateNoPublish),d=bt.ERR_SDK_PUBLISH_DUAL_STREAM_FAILED),l&&(this.screenPubState.setState(ur.AliRtcStateNoPublish),d=bt.ERR_SDK_PUBLISH_SCEEN_SHARE_FAILED),u.errorCode===15006&&n<3)return this.publishAdd(e,t,r,n+1);throw ft.fromError(u,d,"publish add failed")}})}publishReplace(e,t){return Ye(this,null,function*(){try{yield this.rtsManager.publishReplace(this.url,e,t),this.streamTracks=this.rtsManager.publishingTracks;const r={type:xc.Replace,userid:this.userId,sessionid:"",pubid:this.publishId,displayname:this.name,subscribe:{signal:"",pullstreamurl:this.url},callid:this.callId,tracks:this.streamTracks};return this.reportSelfDeviceStatus(),r}catch(r){throw ft.fromError(r,bt.ERR_INNER,`publish replace failed, vMsid: ${t==null?void 0:t.vMsid} aMsid: ${t==null?void 0:t.aMsid}`)}})}publishDeleteTracks(e){return Ye(this,null,function*(){const t={type:xc.Delete,userid:this.userId,sessionid:"",displayname:this.displayname,callid:this.callId,pubid:this.publishId,subscribe:{signal:"",pullstreamurl:this.url},tracks:[]};try{return yield this.rtsManager.publishDelete(this.url,e),this.streamTracks=this.rtsManager.publishingTracks,e.audio&&this.audioPubState.setState(ur.AliRtcStateNoPublish),e.video&&(e.vMsid===lt.VideoSmall?this.videoSmallPubState.setState(ur.AliRtcStateNoPublish):this.videoPubState.setState(ur.AliRtcStateNoPublish)),e.screen&&this.screenPubState.setState(ur.AliRtcStateNoPublish),t.tracks=this.streamTracks,this.reportSelfDeviceStatus(),t}catch(r){throw ft.fromError(r,bt.ERR_INNER,"publish delete tracks failed")}})}publishStop(){return Ye(this,null,function*(){if(!this._isPublishing)throw new ft(bt.ERR_INNER,"publish stop failed, previous localStream is required for publishing stopping");yt.info(`[${eu.logName}]`,"publishStop",{url:this.url});const e=new Date().getTime();try{const t=this.hasAudioTrackInMS,r=this.hasCameraTrackInMS,n=this.hasCameraDualTrackInMS,i=this.hasScreenTrackInMS;yield this.rtsManager.publishStop(this.url),t&&this.audioPubState.setState(ur.AliRtcStateNoPublish),r&&this.videoPubState.setState(ur.AliRtcStateNoPublish),n&&this.videoSmallPubState.setState(ur.AliRtcStateNoPublish),i&&this.screenPubState.setState(ur.AliRtcStateNoPublish),this.traceId="",Object.keys(this.monitorDataCache).forEach(c=>{this.reportPublishMonitor(c)}),this.streamTracks=[];const a={type:xc.Stop,userid:this.userId,sessionid:"",displayname:this.displayname,callid:this.callId,pubid:this.publishId,subscribe:{signal:"",pullstreamurl:this.url},tracks:[]};return this.syncPublishToRoomServer(a,{},e),a}catch(t){throw ft.fromError(t,bt.ERR_INNER,"publish stop failed")}})}unPublish(){return Ye(this,null,function*(){const e=new Date().getTime();let t={type:xc.UnPublish,userid:this.userId,sessionid:"",displayname:this.displayname,callid:this.callId,pubid:this.publishId,subscribe:{signal:"",pullstreamurl:this.url},tracks:[]};try{if(this._isPublishing){const r=this.hasAudioTrackInMS,n=this.hasCameraTrackInMS,i=this.hasCameraDualTrackInMS,a=this.hasScreenTrackInMS;yield this.rtsManager.unpublish(),this.streamTracks=[],this.stopStreamMonitor(),r&&this.audioPubState.setState(ur.AliRtcStateNoPublish),n&&this.videoPubState.setState(ur.AliRtcStateNoPublish),i&&this.videoSmallPubState.setState(ur.AliRtcStateNoPublish),a&&this.screenPubState.setState(ur.AliRtcStateNoPublish),this._isPublishing=!1,this.traceId="",this.clearStream()}return this.dc&&(this.rtsManager.publishStopDataChannel(this.url,this.dc),this.dataPubState.setState(ur.AliRtcStateNoPublish),this.dc=void 0),this.slsReporter.reportUnpublish(this.callId||"",e,0,""),t}catch(r){throw ft.fromError(r,bt.ERR_INNER,"unpublish failed")}})}reportSelfDeviceStatus(){this.emit(Ki.Local,this.getDeviceStatus())}getDeviceStatus(){var e,t,r,n;let i={micOpen:!1,micInterrupted:!1,cameraOpen:!1,screenShare:!1,audioDisable:!0,videoDisable:!0,screenDisable:!0,backgroundMode:!1,accompanyPlaying:!1};return i.cameraOpen=this.hasCamera,i.micOpen=this.hasMicrophone,i.screenShare=this.hasScreenShare,i.audioDisable=!((e=this.streamManager.cameraStreamInfo.originAudioTrack)!=null&&e.enabled),i.videoDisable=!((t=this.streamManager.cameraStreamInfo.originVideoTrack)!=null&&t.enabled),i.screenDisable=!this.hasScreenShare||!((n=(r=this.streamManager.screenStreamInfo)==null?void 0:r.originVideoTrack)!=null&&n.enabled),dE.getCurrentStatus(i)}resetPreviewElements(){this.previewElements.forEach(e=>{e.srcObject=null,e._playPromise=void 0},[]),this.previewElements=[]}resetSecondayPreviewElements(){this.screenPreviewElements.forEach(e=>{e.srcObject=null,e._playPromise=void 0},[]),this.screenPreviewElements=[]}getMediaStats(e){return this.pcMediaStatsMap[e]}reportPublishMonitor(e){if(!e)return;let t;try{e===lt.Audio?t=this.rtsManager.getStreamByMsid({url:this.url,aMsid:e}).audioTrack:t=this.rtsManager.getStreamByMsid({url:this.url,vMsid:e}).videoTrack}catch(r){}this.slsReporter.reportPublishMonitor(this.callId,this.trackTraceIdMap[e]||"",e,t,this.monitorDataCache[e]),this.monitorDataCache[e]=[]}reportNetwork(){this.slsReporter.reportNetworkMonitor(this.candidateDataCache),this.candidateDataCache=[]}startStreamMonitor(){this.monitorTimerId||(this.monitorTimerId=window.setInterval(()=>Ye(this,null,function*(){var e,t;try{const r=yield this.rtsManager.getPCStats();let n;r==null||r.forEach(c=>{c.type==="media-source"||c.type==="media-playout"?c.id&&(this.pcMediaStatsMap[c.id]=c):c.type==="candidate-pair"&&c.state==="succeeded"&&(n=c)});let i;if(((e=this.candidateDataCache)==null?void 0:e.length)>0){const c=this.candidateDataCache[this.candidateDataCache.length-1]||{},{_last:l}=c;i=Bh(c,["_last"])}((t=this.candidateDataCache)==null?void 0:t.length)>=SE&&this.reportNetwork(),n&&(n._last=i,this.candidateDataCache.push(n));let a=Object.keys(this.monitorDataCache).filter(c=>{var l;return((l=this.monitorDataCache[c])==null?void 0:l.length)>0});(this.streamTracks||[]).forEach(c=>{const l=c.msid;if(!l)return;a.includes(l)&&(a=a.filter(d=>d!==l));let u;l===lt.Audio?u=this.rtsManager.getPublishAudioStats(this.url):u=this.rtsManager.getPublishVideoStats(this.url,l),u.then(d=>{if(!d.timestamp)return;this.monitorDataCache[l]||(this.monitorDataCache[l]=[]);const h=this.getMediaStats(d.mediaSourceId);d._source=h;const y=this.monitorDataCache[l];let m;if((y==null?void 0:y.length)>0){const _=y[y.length-1]||{},{_last:R}=_;m=Bh(_,["_last"])}(y==null?void 0:y.length)>=SE&&this.reportPublishMonitor(l),d._last=m,d._codec=c.codec||"",this.monitorDataCache[l].push(d)})}),a.forEach(c=>{this.reportPublishMonitor(c)})}catch(r){}}),1e3))}stopStreamMonitor(){this.monitorTimerId&&(clearInterval(this.monitorTimerId),this.monitorTimerId=void 0),Object.keys(this.monitorDataCache).forEach(e=>{this.reportPublishMonitor(e)})}clearStream(){this.streamManager.stop(),this.audioPubState.setState(ur.AliRtcStatePublishIdle),this.videoPubState.setState(ur.AliRtcStatePublishIdle),this.videoSmallPubState.setState(ur.AliRtcStatePublishIdle),this.screenPubState.setState(ur.AliRtcStatePublishIdle)}getCurrentCameraDeviceId(){var e;return(e=this.streamManager.cameraStreamInfo.originVideoTrack)==null?void 0:e.getSettings().deviceId}getCurrentMicDeviceId(){var e;return(e=this.streamManager.cameraStreamInfo.originAudioTrack)==null?void 0:e.getSettings().deviceId}enableAudioVolumeIndication(e){this.audioVolumeIndicationInterval!==e&&(this.audioVolumeIndicationInterval>0&&e<=0&&this.audioLevelMonitor.stop(),e>0&&this.streamManager.cameraStreamInfo.originAudioTrack&&this.audioLevelMonitor.start(this.streamManager.cameraStreamInfo.originAudioTrack,e),this.audioVolumeIndicationInterval=e)}sendSEI(e,t,r){return Ye(this,null,function*(){if(!this.url)return;let n=0;return!t||t<1?n=1:n=t-1,this.rtsManager.sendSEI(this.url,e,n,r)})}sendDataChannelMessage(e){return Ye(this,null,function*(){var t;if(!((t=this.parameter.data)!=null&&t.enablePubDataChannel))throw new ft(bt.ERR_INNER,"data channel publish is not enabled");if(!this.dc)throw new ft(bt.ERR_INNER,"data channel is not ready");const r=e.toBuffer(),n=u2(r,1156);n.forEach((i,a)=>{const c=new hg(new Gh(i.byteLength,a===n.length-1,a===0?1:0),i);this.dc.send(c.toGRTNBuffer())})})}getStats(){return Ye(this,null,function*(){const e=[];if(this.hasAudioTrackInMS){const i=yield this.rtsManager.getPublishAudioStats(this.url);i&&e.push({stats:i,track:Ld.AliRtcAudioTrackMic})}const t=[];if(this.hasCameraTrackInMS){const i=yield this.rtsManager.getPublishVideoStats(this.url,lt.VideoLarge);i&&t.push({track:hr.AliRtcVideoTrackCamera,streamType:Ti.AliRtcVideoStreamTypeHigh,stats:i})}if(this.hasCameraDualTrackInMS){const i=yield this.rtsManager.getPublishVideoStats(this.url,lt.VideoSmall);i&&t.push({track:hr.AliRtcVideoTrackCamera,streamType:Ti.AliRtcVideoStreamTypeLow,stats:i})}if(this.hasScreenTrackInMS){const i=yield this.rtsManager.getPublishVideoStats(this.url,lt.Screen);i&&t.push({track:hr.AliRtcVideoTrackScreen,stats:i})}let r;const n=yield this.rtsManager.getPCStats();return n==null||n.forEach(i=>{i.type==="candidate-pair"&&i.state==="succeeded"&&(r=i)}),{audio:e,video:t,candidate:r}})}},ae(eu,"logName","LocalUser"),eu);Tn([Ze()],Cn.prototype,"clearPublishState",1),Tn([Ze()],Cn.prototype,"clear",1),Tn([Ze(Et)],Cn.prototype,"startDefaultCamera",1),Tn([Ze(Et)],Cn.prototype,"startDefaultAudio",1),Tn([Ze()],Cn.prototype,"setViewConfig",1),Tn([Ze()],Cn.prototype,"startCameraCapture",1),Tn([Ze()],Cn.prototype,"stopCameraCapture",1),Tn([Ze()],Cn.prototype,"startAudioCapture",1),Tn([Ze()],Cn.prototype,"stopAudioCapture",1),Tn([Ze()],Cn.prototype,"stopPreview",1),Tn([Ze()],Cn.prototype,"resumePublish",1),Tn([Ze()],Cn.prototype,"createLocalStream",1),Tn([Ze()],Cn.prototype,"stopLocalStream",1),Tn([Ze(Et)],Cn.prototype,"startPublish",1),Tn([Ze()],Cn.prototype,"updateStreams",1),Tn([Ze(Et)],Cn.prototype,"publishUpdate",1),Tn([Ze(([e])=>[e])],Cn.prototype,"syncPublishToRoomServer",1),Tn([Ze()],Cn.prototype,"refreshPushStreamUrl",1),Tn([Ze(([e,t,r])=>[JSON.stringify(r)])],Cn.prototype,"publishAdd",1),Tn([Ze(([e,t])=>[JSON.stringify(t)])],Cn.prototype,"publishReplace",1),Tn([Ze(Et)],Cn.prototype,"publishDeleteTracks",1),Tn([Ze()],Cn.prototype,"publishStop",1),Tn([Ze()],Cn.prototype,"unPublish",1),Tn([Ze(([e,t,r])=>[e.length,t,r])],Cn.prototype,"sendSEI",1);let bE=Cn;var Vc=(e=>(e.OPUS="opus",e.H264="H264",e.UNKNOWN="",e))(Vc||{}),Cr=(e=>(e[e.NotSubscribe=0]="NotSubscribe",e[e.Subscribing=1]="Subscribing",e[e.Subscribed=2]="Subscribed",e))(Cr||{}),tu=(e=>(e.VideoTrackEnded="videoTrackEnded",e.AudioTrackEnded="audioTrackEnded",e.ScreenTrackEnded="screenTrackEnded",e))(tu||{});const h2=e=>{const t=new MediaStream;return t.addTrack(e),t},EE=e=>Ye(void 0,null,function*(){return yield Tr.AliRTS.createStream({custom:!0,mediaStream:e})}),qh=e=>Ye(void 0,null,function*(){const t=h2(e);return yield EE(t)}),p2=e=>{const{audio:t,video:r,screen:n}=e;if(r&&n)throw new ft(bt.ERR_INNER,"create stream error, cannot create video && screen together");return!(!r&&!t&&!n)},m2=e=>e===lt.Audio||e===S0.Audio,g2=e=>e===lt.VideoLarge||e===S0.VideoLarge,v2=e=>e===lt.VideoSmall,y2=e=>e===lt.Screen,S2=e=>e===lt.Data;var b2=Object.defineProperty,E2=Object.getOwnPropertyDescriptor,C2=(e,t,r,n)=>{for(var i=n>1?void 0:n?E2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&b2(t,r,i),i};class pg extends ti{constructor(){super(),ae(this,"audioInfo",{subscribeState:Cr.NotSubscribe,ssrc:"",msid:"",pt:0,red:0,codec:Vc.UNKNOWN}),ae(this,"videoLargeInfo",{subscribeState:Cr.NotSubscribe,ssrc:"",msid:"",pt:0,red:0,codec:Vc.UNKNOWN}),ae(this,"videoSmallInfo",{subscribeState:Cr.NotSubscribe,ssrc:"",msid:"",pt:0,red:0,codec:Vc.UNKNOWN}),ae(this,"screenInfo",{subscribeState:Cr.NotSubscribe,ssrc:"",msid:"",pt:0,red:0,codec:Vc.UNKNOWN}),ae(this,"dataInfo",{subscribeState:Cr.NotSubscribe,ssrc:"",msid:"",pt:0,red:0,codec:Vc.UNKNOWN}),ae(this,"audioVolume",1),ae(this,"audioMuted",!1),ae(this,"userStatus")}getAudioInfo(){return this.audioInfo}getVideoSmallInfo(){return this.videoSmallInfo}getVideoLargeInfo(){return this.videoLargeInfo}getScreenInfo(){return this.screenInfo}getDataInfo(){return this.dataInfo}get subscribingInfos(){return[this.audioInfo,this.videoLargeInfo,this.videoSmallInfo,this.screenInfo].filter(t=>t.msid&&t.subscribeState===Cr.Subscribed)}get hasTrack(){return this.hasAudio||this.hasVideo||this.hasScreen||this.hasData}get hasAudio(){return this.audioInfo.ssrc!==""}get hasVideo(){return this.videoLargeInfo.ssrc!==""||this.videoSmallInfo.ssrc!==""}get hasVideoLarge(){return this.videoLargeInfo.ssrc!==""}get hasVideoSmall(){return this.videoSmallInfo.ssrc!==""}get hasScreen(){return this.screenInfo.ssrc!==""}get hasData(){return this.dataInfo.ssrc!==""}get isAudioSubscribed(){return this.audioInfo.subscribeState===Cr.Subscribed}get isAudioSubscribing(){return this.audioInfo.subscribeState===Cr.Subscribing}get isVideoSubscribed(){return this.isVideoLargeSubscribed||this.isVideoSmallSubscribed}get isVideoSubscribing(){return this.isVideoLargeSubscribing||this.isVideoSmallSubscribing}get isVideoLargeSubscribed(){return this.videoLargeInfo.subscribeState===Cr.Subscribed}get isVideoLargeSubscribing(){return this.videoLargeInfo.subscribeState===Cr.Subscribing}get isVideoSmallSubscribed(){return this.videoSmallInfo.subscribeState===Cr.Subscribed}get isVideoSmallSubscribing(){return this.videoSmallInfo.subscribeState===Cr.Subscribing}get isScreenSubscribed(){return this.screenInfo.subscribeState===Cr.Subscribed}get isScreenSubscribing(){return this.screenInfo.subscribeState===Cr.Subscribing}get isDataSubscribed(){return this.dataInfo.subscribeState===Cr.Subscribed}get isDataSubscribing(){return this.dataInfo.subscribeState===Cr.Subscribing}get audioCodec(){return this.audioInfo.codec}get videoCodec(){return this.hasVideoLarge?this.videoLargeInfo.codec:this.hasVideoSmall?this.videoSmallInfo.codec:this.hasScreen?this.screenInfo.codec:Vc.UNKNOWN}get audioTrackInfo(){return this.hasAudio?Ld.AliRtcAudioTrackMic:Ld.AliRtcAudioTrackNo}get videoTrackInfo(){return this.hasVideo&&this.hasScreen?hr.AliRtcVideoTrackBoth:this.hasVideo?hr.AliRtcVideoTrackCamera:this.hasScreen?hr.AliRtcVideoTrackScreen:hr.AliRtcVideoTrackNo}updateTracks(t){let r="",n="",i="",a="",c="";return t?(t.forEach(l=>{var u;let d=Vc.UNKNOWN;const h=((u=l==null?void 0:l.attr)==null?void 0:u.reason)==="reconnect";if(l.userdata){const{codec:y}=JSON.parse(l.userdata);y&&(d=y)}m2(l.msid)?(r=l.ssrc,this.audioInfo.msid=l.msid,this.audioInfo.codec=d,(h||this.audioInfo.ssrc!==r)&&(this.audioInfo.subscribeState=Cr.NotSubscribe)):v2(l.msid)?(i=l.ssrc,this.videoSmallInfo.msid=l.msid,this.videoSmallInfo.codec=d,(h||this.videoSmallInfo.ssrc!==i)&&(this.videoSmallInfo.subscribeState=Cr.NotSubscribe)):g2(l.msid)?(n=l.ssrc,this.videoLargeInfo.msid=l.msid,this.videoLargeInfo.codec=d,(h||this.videoLargeInfo.ssrc!==n)&&(this.videoLargeInfo.subscribeState=Cr.NotSubscribe)):y2(l.msid)?(a=l.ssrc,this.screenInfo.msid=l.msid,this.screenInfo.codec=d,(h||this.screenInfo.ssrc!==a)&&(this.screenInfo.subscribeState=Cr.NotSubscribe)):S2(l.msid)&&(c=l.ssrc,this.dataInfo.msid=l.msid,this.dataInfo.codec=d,(h||this.dataInfo.ssrc!==c)&&(this.dataInfo.subscribeState=Cr.NotSubscribe))}),this.updateRemoteTrackSsrc(r,n,i,a,c)):this.updateRemoteTrackSsrc(r,n,i,a,c),{}}updateRemoteTrackSsrc(t,r,n,i,a){this.audioInfo.ssrc=t,this.videoSmallInfo.ssrc=n,this.videoLargeInfo.ssrc=r,this.screenInfo.ssrc=i,this.dataInfo.ssrc=a}markRemoteTrackSubscribing(t){return t.video&&(t.vMsid===this.videoSmallInfo.msid&&(this.videoSmallInfo.subscribeState=Cr.Subscribing),(t.vMsid===this.videoLargeInfo.msid||!t.vMsid)&&(this.videoLargeInfo.subscribeState=Cr.Subscribing)),t.screen&&(this.screenInfo.subscribeState=Cr.Subscribing),t.audio&&(this.audioInfo.subscribeState=Cr.Subscribing),t.data&&(this.dataInfo.subscribeState=Cr.Subscribing),{videoLargeInfo:this.videoLargeInfo,videoSmallInfo:this.videoSmallInfo}}updateRemoteTrackSubState(t){return t.video!==void 0&&((t.vMsid===this.videoSmallInfo.msid||!t.vMsid)&&(this.videoSmallInfo.subscribeState=t.video?Cr.Subscribed:Cr.NotSubscribe),(t.vMsid===this.videoLargeInfo.msid||!t.vMsid)&&(this.videoLargeInfo.subscribeState=t.video?Cr.Subscribed:Cr.NotSubscribe)),t.screen!==void 0&&(this.screenInfo.subscribeState=t.screen?Cr.Subscribed:Cr.NotSubscribe),t.audio!==void 0&&(this.audioInfo.subscribeState=t.audio?Cr.Subscribed:Cr.NotSubscribe),t.data!==void 0&&(this.dataInfo.subscribeState=t.data?Cr.Subscribed:Cr.NotSubscribe),{audioInfo:this.audioInfo,videoLargeInfo:this.videoLargeInfo,videoSmallInfo:this.videoSmallInfo,screenInfo:this.screenInfo,dataInfo:this.dataInfo}}updateRemoteUserDeviceStatus(t){let r=dE.parseStatus(t);const{audioDisable:n,videoDisable:i,screenDisable:a}=r;return this.userStatus?(this.userStatus.audioDisable!=n&&(this.userStatus.audioDisable=n,this.emit(Ki.Remote,n?Fr.MuteAudio:Fr.UnmuteAudio)),this.userStatus.videoDisable!=i&&(this.userStatus.videoDisable=i,this.emit(Ki.Remote,i?Fr.MuteVideo:Fr.UnmuteVideo)),this.userStatus.screenDisable!=a&&(this.userStatus.screenDisable=a,this.emit(Ki.Remote,a?Fr.MuteScreen:Fr.UnmuteScreen))):(this.userStatus=r,this.emit(Ki.Remote,n?Fr.MuteAudio:Fr.UnmuteAudio),this.emit(Ki.Remote,i?Fr.MuteVideo:Fr.UnmuteVideo),this.emit(Ki.Remote,a?Fr.MuteScreen:Fr.UnmuteScreen)),!1}}ae(pg,"logName","RemoteStreamInfo"),C2([Ze()],pg.prototype,"updateRemoteTrackSubState",1);class _2{constructor(t){ae(this,"remoteUser"),this.remoteUser=t}get userId(){return this.remoteUser.userId}get displayName(){return this.remoteUser.displayname}get isMuteAudioPlaying(){return this.remoteUser.getAudioMuted()}get hasAudio(){return this.remoteUser.hasAudioTrack}get hasCamera(){return this.remoteUser.hasVideoTrack}get hasCameraLarge(){return this.remoteUser.hasVideoLargeTrack}get hasCameraSmall(){return this.remoteUser.hasVideoSmallTrack}get hasScreenShare(){return this.remoteUser.hasScreenTrack}get isAudioSubscribing(){return this.remoteUser.isAudioSubscribing}get isVideoSubscribing(){return this.remoteUser.isVideoSubscribing}get isVideoLargeSubscribing(){return this.remoteUser.isVideoLargeSubscribing}get isVideoSmallSubscribing(){return this.remoteUser.isVideoSmallSubscribing}get isScreenSubscribing(){return this.remoteUser.isScreenSubscribing}get audioElement(){return this.remoteUser.getAudioElement()}}var R2=Object.defineProperty,w2=Object.getOwnPropertyDescriptor,Ai=(e,t,r,n)=>{for(var i=n>1?void 0:n?w2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&R2(t,r,i),i};class Vd extends ti{constructor(){super(),ae(this,"state"),ae(this,"time"),ae(this,"_enabled"),this.state=zr.AliRtcStateSubscribeIdle,this.time=Date.now(),this._enabled=!0}setState(t){if(this.state===t)return;const r=this.state,n=this.time;this.state=t,this.time=Date.now(),this.emit("change",r,t,Math.floor((this.time-n)/1e3))}get currentState(){return this.state}getEnabled(){return this._enabled}setEnabled(t){this._enabled=t}}const T2=30;var Oo;const yi=(Oo=class extends uE{constructor(e){var t;const{userId:r,displayName:n,rtsManager:i,usersViewMap:a,slsReporter:c,signalingManager:l,localUser:u,audioVolumeIndicationInterval:d,playoutVolume:h,parameter:y}=e;super(r,n,i,d),ae(this,"remoteCallid",""),ae(this,"remoteUserInfo"),ae(this,"localUser"),ae(this,"lastPubId",""),ae(this,"stream"),ae(this,"screenStream"),ae(this,"viewMap"),ae(this,"audioTrack"),ae(this,"audioElement"),ae(this,"subscribed",!1),ae(this,"mediaStream"),ae(this,"secondaryMediaStream"),ae(this,"prevSubConfig"),ae(this,"signalingManager"),ae(this,"slsReporter"),ae(this,"wantSubAudio",!1),ae(this,"wantSubVideo",!1),ae(this,"wantSubScreen",!1),ae(this,"defaultVideoStreamType",Ti.AliRtcVideoStreamTypeHigh),ae(this,"audioMuted",!1),ae(this,"playoutVolume",1),ae(this,"playoutGainNode"),ae(this,"audioSubState"),ae(this,"videoSubState"),ae(this,"videoLargeSubState",new Vd),ae(this,"videoSmallSubState",new Vd),ae(this,"screenSubState"),ae(this,"dataSubState"),ae(this,"dc"),ae(this,"dcMsgWaitingPieces",[]),ae(this,"streamInfo"),ae(this,"streamUrl",""),ae(this,"parameter",{}),ae(this,"monitorTimerId"),ae(this,"monitorDataCache",{}),ae(this,"trackTraceIdMap",{}),ae(this,"handleAudioContextSuspended",m=>{m.target.state==="suspended"&&this.emit("remoteAudioPlayError",this.uid,"AudioContext suspended")}),ae(this,"onDataChannelMessage",m=>{var _;const R=hg.parse(m.slice(4));let b;if(R.body)if(R.isFin){if(this.dcMsgWaitingPieces.length>0){const C=this.dcMsgWaitingPieces.reduce((H,A)=>H+A.byteLength,R.body.byteLength);try{const H=new ArrayBuffer(C);let A=0;for(let D=0;D<this.dcMsgWaitingPieces.length;D++){const Z=this.dcMsgWaitingPieces[D];new Uint8Array(H,A,Z.byteLength).set(new Uint8Array(Z)),A+=Z.byteLength}new Uint8Array(H,A,R.body.byteLength).set(new Uint8Array(R.body)),b=Zl.parse(H)}catch(H){}this.dcMsgWaitingPieces=[],b||(b=Zl.parse(R.body))}else b=Zl.parse(R.body);b||yt.event(`[${Oo.logName}]`,`parse data channel message fail, piece count: ${this.dcMsgWaitingPieces.length+1}`)}else{R.header.frameType===1&&(this.dcMsgWaitingPieces=[]),this.dcMsgWaitingPieces.push(R.body);return}b&&(yt.event(`[${Oo.logName}]`,`receive data channel message, length: ${(_=b.data)==null?void 0:_.byteLength}`),this.emit("remoteDataChannelMessage",this.uid,b))}),ae(this,"onDataChannelError",m=>{this.emit("occurError",ft.fromError(m,bt.ERR_SDK_SUBSCRIBE_DATA_ERROR))}),ae(this,"handleAudioPaused",()=>{this.emit("remoteAudioPlayError",this.uid,"paused")}),this.streamInfo=new pg,this.remoteUserInfo=new _2(this),this.parameter=y,this.streamInfo.on(Ki.Remote,m=>{this.emit(Ki.Remote,m,this.userId)}),this.signalingManager=l,this.viewMap=(t=a[r])!=null?t:{cameraViews:[],screenViews:[]},a[r]=this.viewMap,this.slsReporter=c,this.localUser=u,this.audioSubState=new Vd,this.audioSubState.on("change",(m,_,R)=>{this.emit("audioSubscribeStateChanged",this.uid,m,_,R)}),this.videoSubState=new Vd,this.videoSubState.on("change",(m,_,R)=>{this.emit("videoSubscribeStateChanged",this.uid,m,_,R)}),this.screenSubState=new Vd,this.screenSubState.on("change",(m,_,R)=>{this.emit("screenSubscribeStateChanged",this.uid,m,_,R)}),this.dataSubState=new Vd,this.dataSubState.on("change",(m,_,R)=>{this.emit("dataSubscribeStateChanged",this.uid,m,_,R)}),this.playoutVolume=h}isWantSubAudio(){return this.wantSubAudio}setWantSubAudio(e){this.wantSubAudio=e}isWantSubVideo(){return this.wantSubVideo}setWantSubVideo(e){this.wantSubVideo=e}isWantSubScreen(){return this.wantSubScreen}setWantSubScreen(e){this.wantSubScreen=e}setRemoteDefaultVideoStreamType(e){e!==this.defaultVideoStreamType&&(this.defaultVideoStreamType=e,this.updateSubscribe(Kr.User))}setAudioMuted(e){this.audioMuted=e,this.toggleAudio(!e)}getAudioElement(){return this.audioElement}setPlayoutVolume(e){if(this.playoutVolume=e,this.audioElement)if(this.parameter.enableAudioContextPlayoutVolume)if(this.playoutGainNode)this.playoutGainNode.gain.value=e;else{const t=this.audioElement.srcObject;if(t){const r=ug.getInstance();r.addEventListener("statechange",this.handleAudioContextSuspended);const n=r.createMediaStreamSource(t);this.audioElement.muted=!0,this.playoutGainNode=r.createGain(),n.connect(this.playoutGainNode),this.playoutGainNode.gain.value=e,this.playoutGainNode.connect(r.destination)}}else this.audioElement.volume=e}getAudioMuted(){return this.audioMuted}get hasAudioTrack(){var e;return!!((e=this.streamInfo)!=null&&e.hasAudio)}get hasVideoTrack(){var e;return!!((e=this.streamInfo)!=null&&e.hasVideo)}get hasVideoLargeTrack(){var e;return!!((e=this.streamInfo)!=null&&e.hasVideoLarge)}get hasVideoSmallTrack(){var e;return!!((e=this.streamInfo)!=null&&e.hasVideoSmall)}get hasScreenTrack(){var e;return!!((e=this.streamInfo)!=null&&e.hasScreen)}get isAudioSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isAudioSubscribed)||!!((t=this.streamInfo)!=null&&t.isAudioSubscribing)}get isVideoSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isVideoSubscribed)||!!((t=this.streamInfo)!=null&&t.isVideoSubscribing)}get isVideoLargeSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isVideoLargeSubscribed)||!!((t=this.streamInfo)!=null&&t.isVideoLargeSubscribing)}get isVideoSmallSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isVideoSmallSubscribed)||!!((t=this.streamInfo)!=null&&t.isVideoSmallSubscribing)}get isScreenSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isScreenSubscribed)||!!((t=this.streamInfo)!=null&&t.isScreenSubscribing)}get isDataSubscribing(){var e,t;return!!((e=this.streamInfo)!=null&&e.isDataSubscribed)||!!((t=this.streamInfo)!=null&&t.isDataSubscribing)}get audioEnabled(){var e,t;return!!((t=(e=this.stream)==null?void 0:e.audioTrack)!=null&&t.enabled)}get videoEnabled(){var e,t;return!!((t=(e=this.stream)==null?void 0:e.videoTrack)!=null&&t.enabled)}get screenEnabled(){var e,t;return!!((t=(e=this.screenStream)==null?void 0:e.videoTrack)!=null&&t.enabled)}get getAudioTrack(){return this.audioTrack}get getCameraStream(){return this.stream}get getScreenStream(){return this.screenStream}setViewConfig(e,t){if(t!==hr.AliRtcVideoTrackScreen&&t!==hr.AliRtcVideoTrackCamera)throw new ft(bt.ERR_INVALID_ARGUMENTS,"track is not AliRtcVideoTrackScreen or AliRtcVideoTrackCamera");e?D0(e).forEach(r=>{r.setAttribute("playsinline",""),Tr.AliRTS.BrowserUtil.isMicroMessenger&&(r.setAttribute("x5-video-player-type","h5-page"),r.setAttribute("x5-playsinline",""),Tr.AliRTS.SystenUtil.isAndroid||Tr.AliRTS.SystenUtil.isIos&&r.setAttribute("x-webkit-airplay","allow")),t===hr.AliRtcVideoTrackScreen?this.viewMap.screenViews.push(r):this.viewMap.cameraViews.push(r),this.play(r,t===hr.AliRtcVideoTrackScreen)}):(this.stopPlayAll(t===hr.AliRtcVideoTrackScreen),t===hr.AliRtcVideoTrackScreen?this.viewMap.screenViews=[]:this.viewMap.cameraViews=[])}clear(e=!0){return Ye(this,null,function*(){var t;this.subscribeStopDataChannel(),e&&this.doStopSubscribe(this.streamUrl),$S(Oo.prototype,this,"clear").call(this),this.stopPlayAudio(),this.clearStream(),this.clearScreenStream(),this.playoutGainNode&&(this.playoutGainNode.disconnect(),this.playoutGainNode=void 0,ug.getInstance().removeEventListener("statechange",this.handleAudioContextSuspended)),(t=this.streamInfo)==null||t.removeAllListeners(Ki.Remote)})}updateRemoteUserDeviceStatus(e){var t;(t=this.streamInfo)==null||t.updateRemoteUserDeviceStatus(e)}updateRemoteTracks(e,t,r,n){return Ye(this,null,function*(){var i;return this.remoteCallid=e,(!this.streamUrl||!this.streamInfo.hasTrack)&&(this.streamUrl=t!=null?t:""),this.callId=e!=null?e:"",this.streamInfo||(this.streamInfo=new pg),(i=this.streamInfo)==null?void 0:i.updateTracks(n)})}subscribe(e,t){return Ye(this,arguments,function*(r,n,i=Date.now()){var a,c;let l=r;if(!l){const{hasAudio:_,hasVideo:R,hasScreen:b,hasData:C}=(a=this.streamInfo)!=null?a:{};l={audio:this.wantSubAudio&&_,video:this.wantSubVideo&&R,screen:this.wantSubScreen&&b,data:((c=this.parameter.data)==null?void 0:c.enableSubDataChannel)&&C}}this.streamInfo.markRemoteTrackSubscribing(l);const{screen:u,audio:d,video:h,vMsid:y}=l,m=[];(h||d)&&m.push({audio:d,video:h,vMsid:y}),u&&m.push({screen:u}),!(m.length===0&&!(r!=null&&r.data))&&(yield Promise.all(m.map(_=>this.subscribeProxy(_,n||Kr.User,i))),r!=null&&r.data&&this.subscribeDataChannel())})}subscribeProxy(e,t,r){return Ye(this,null,function*(){var n,i,a,c;let l=new Date().getTime(),u="";try{e.audio&&this.audioSubState.setState(zr.AliRtcStateSubscribing),e.video&&(this.videoSubState.currentState===zr.AliRtcStateSubscribeIdle||this.videoSubState.currentState===zr.AliRtcStateNoSubscribe)&&this.videoSubState.setState(zr.AliRtcStateSubscribing),e.screen&&this.screenSubState.setState(zr.AliRtcStateSubscribing);const d=yield this.rtsManager.subscribe({remoteUser:this,options:e},t,((n=this.localUser)==null?void 0:n.callId)||"",this.callId,r);this.streamInfo.updateRemoteTrackSubState(e),u=d.traceId||"";const{stream:h}=d;if(e.audio){this.trackTraceIdMap[lt.Audio]=u;const m=h.audioTrack;m&&(this.audioTrack=m,(i=h.mediaStream)==null||i.removeTrack(m),this.playAudio(),this.audioVolumeIndicationInterval&&this.audioLevelMonitor.start(m,this.audioVolumeIndicationInterval)),this.audioSubState.setState(zr.AliRtcStateSubscribed),this.audioSubState.getEnabled()||this.toggleAudio(!1)}e.video&&(this.videoSubState.setState(zr.AliRtcStateSubscribed),e.vMsid===lt.VideoSmall?(this.trackTraceIdMap[lt.VideoSmall]=u,this.videoSmallSubState.setState(zr.AliRtcStateSubscribed)):(this.trackTraceIdMap[lt.VideoLarge]=u,this.videoLargeSubState.setState(zr.AliRtcStateSubscribed)),this.videoSubState.getEnabled()||this.toggleVideo(!1),this.updateStream(h,this.isVideoLargeSubscribing&&this.isVideoSmallSubscribing)),e.screen&&(this.screenSubState.setState(zr.AliRtcStateSubscribed),this.trackTraceIdMap[lt.Screen]=u,this.videoSubState.getEnabled()||this.toggleScreen(!1),this.updateScreenStream(h));const y=new Date().getTime()-l;this.slsReporter.reportSubscribe(((a=this.localUser)==null?void 0:a.callId)||"",this.callId,!!e.video&&e.vMsid===lt.VideoLarge,!!e.video&&e.vMsid===lt.VideoSmall,!!e.screen,!!e.audio,0,"",y,{pctid:this.rtsManager.pcTraceId,subtid:u,ajsub:t===Kr.Join?1:0,url:this.streamUrl,est:l}),this.startStreamMonitor()}catch(d){const h=new Date().getTime()-l;e.audio&&this.audioSubState.setState(zr.AliRtcStateNoSubscribe),e.video&&this.videoSubState.setState(zr.AliRtcStateNoSubscribe),e.screen&&this.screenSubState.setState(zr.AliRtcStateNoSubscribe),d&&(d.message=`user(${this.uid}) subscribe error, ${(d==null?void 0:d.message)||""}`);let y=bt.ERR_INNER;e.audio&&(y=bt.ERR_SDK_SUBSCRIBE_AUDIO_STREAM_FAILED),e.video&&(e.vMsid===lt.VideoSmall?y=bt.ERR_SDK_SUBSCRIBE_DUAL_STREAM_FAILED:y=bt.ERR_SDK_SUBSCRIBE_VIDEO_STREAM_FAILED),e.screen&&(y=bt.ERR_SDK_SUBSCRIBE_SCREEN_SHARE_FAILED),this.slsReporter.reportSubscribe(((c=this.localUser)==null?void 0:c.callId)||"",this.callId,!!e.video&&e.vMsid===lt.VideoLarge,!!e.video&&e.vMsid===lt.VideoSmall,!!e.screen,!!e.audio,y,"",h,{pctid:this.rtsManager.pcTraceId,subtid:"",ajsub:t===Kr.Join?1:0,url:this.streamUrl,est:l});const m=ft.fromError(d,y);throw this.emit("remoteSubscribeError",m),m}})}subscribeDeleteTracks(e){return Ye(this,null,function*(){const{audio:t,video:r,screen:n,data:i,vMsid:a}=e,c=[];(t||r||i)&&c.push({audio:t,video:r,vMsid:a}),n&&c.push({screen:n}),c.length!==0&&(yield Promise.all(c.map(l=>this.subscribeDeleteProxy(l))),e.data&&this.subscribeStopDataChannel())})}subscribeDeleteProxy(e){return Ye(this,null,function*(){try{const t=yield this.rtsManager.subscibeDelete({remoteUser:this,options:e}),{stream:r}=t!=null?t:{},n={};e.audio===!0&&(n.audio=!1,this.audioSubState.setState(zr.AliRtcStateNoSubscribe)),e.video===!0&&(n.video=!1,e.vMsid===lt.VideoSmall?(this.videoSmallSubState.setState(zr.AliRtcStateNoSubscribe),(this.videoLargeSubState.currentState===zr.AliRtcStateNoSubscribe||this.videoLargeSubState.currentState===zr.AliRtcStateSubscribeIdle)&&this.videoSubState.setState(zr.AliRtcStateNoSubscribe)):(this.videoLargeSubState.setState(zr.AliRtcStateNoSubscribe),(this.videoSmallSubState.currentState===zr.AliRtcStateNoSubscribe||this.videoSmallSubState.currentState===zr.AliRtcStateSubscribeIdle)&&this.videoSubState.setState(zr.AliRtcStateNoSubscribe))),e.screen===!0&&(n.screen=!1,this.screenSubState.setState(zr.AliRtcStateNoSubscribe));const{callId:i,remoteCallid:a}=this,c={callid:i,remoteCallid:a,remoteStream:r};return e.audio&&(this.audioLevelMonitor.stop(),this.stopPlayAudio(),this.audioTrack=void 0),this.streamInfo.updateRemoteTrackSubState({audio:e.audio===!0?!1:void 0,video:e.video===!0?!1:void 0,screen:e.screen===!0?!1:void 0,vMsid:e.vMsid}),c}catch(t){throw ft.fromError(t,bt.ERR_INNER,"subscribe delete failed")}})}restore(){this.callId="",this.clearStream(),this.clearScreenStream(),this.audioTrack=void 0,this.streamInfo.updateRemoteTrackSubState({audio:!1,video:!1,screen:!1,data:!1}),this.audioElement&&this.audioElement.removeEventListener("pause",this.handleAudioPaused)}resumeAudio(){return Ye(this,null,function*(){const e=ug.getInstance();return e.state!=="running"&&e.resume(),this.audioElement?this.audioElement.play():this.playAudio()})}resumeVideo(e){return Ye(this,null,function*(){if(!e||e===hr.AliRtcVideoTrackCamera||e===hr.AliRtcVideoTrackBoth)return this.playAll();if(!e||e===hr.AliRtcVideoTrackScreen||e===hr.AliRtcVideoTrackBoth)return this.playAll(!0)})}resumePlay(){this.playAudio(),this.playAll(),this.playAll(!0)}stopSubscribe(e){return Ye(this,null,function*(){var t,r;let n=new Date().getTime();try{let i;e?i=yield this.subscribeDeleteTracks(e):i=yield this.doStopSubscribe(this.streamUrl),this.slsReporter.reportUnsubscribe(((t=this.localUser)==null?void 0:t.callId)||(i==null?void 0:i.callid)||"",this.callId,new Date().getTime()-n,0,"")}catch(i){throw this.slsReporter.reportUnsubscribe(((r=this.localUser)==null?void 0:r.callId)||"",this.callId,new Date().getTime()-n,0,""),i}})}doStopSubscribe(e){return Ye(this,null,function*(){var t,r,n,i;const{callId:a,remoteCallid:c}=this;if((this.isAudioSubscribing||this.isVideoSubscribing||this.isScreenSubscribing)&&e)try{this.stopStreamMonitor(),yield this.rtsManager.subscibeStop(e),this.restore();const l={callid:a,remoteCallid:c,remoteStream:this.stream};return this.callId="",l}catch(l){if(((i=(n=(r=(t=l==null?void 0:l.extraInfo)==null?void 0:t.parsedData)==null?void 0:r.streams)==null?void 0:n[0])==null?void 0:i.res_code)!==404)throw ft.fromError(l,bt.ERR_INNER,"subscribe stop failed")}})}updateStream(e,t=!1){return Ye(this,null,function*(){this.stream&&this.stream.videoTrack&&e.mediaStream&&t&&(yield new Promise(r=>{let n,i;if(e.mediaStream){i=document.createElement("video");const a=()=>{yt.event(`uid: ${this.userId} new mediaStream canplay`),i&&i.removeEventListener("canplaythrough",a,!1),i=void 0,clearTimeout(n),r(!0)};i.addEventListener("canplaythrough",a,!1),(i._playPromise||Promise.resolve()).then(()=>{i&&e.mediaStream&&(i.srcObject=e.mediaStream)})}else r(!0);n=window.setTimeout(()=>{yt.event(`uid: ${this.userId} new mediaStream timeout`),i=void 0,r(!0)},3e3)}),this.updateSubscribe(Kr.User)),this.stream=e,this.playAll(!1,t),!this.subscribed&&e&&(this.subscribed=!0),e.hasAudio&&this.isAudioSubscribing&&e.enableAudio(),e.hasVideo&&this.isVideoSubscribing&&e.enableVideo()})}updateScreenStream(e){this.screenStream=e,this.playAll(!0),!this.subscribed&&e&&(this.subscribed=!0),e.hasVideo&&this.isScreenSubscribing&&e.enableVideo()}clearStream(){var e;(e=this.stream)==null||e.stop(),this.stream=void 0}clearScreenStream(){var e;(e=this.screenStream)==null||e.stop(),this.screenStream=void 0}subscribeDataChannel(){if(this.dc)try{this.dc.dispose(),this.dcMsgWaitingPieces=[],this.dc.off("message",this.onDataChannelMessage),this.dc=void 0}catch(e){}!this.streamInfo.hasAudio&&!this.streamInfo.hasVideo&&!this.streamInfo.hasScreen||(this.dataSubState.setState(zr.AliRtcStateSubscribing),this.rtsManager.subscribeAddDataChannel(this.streamUrl).then(e=>{if(e){this.dc=e,this.dc.datachannel&&(this.dc.datachannel.binaryType="arraybuffer"),this.dc.on("message",this.onDataChannelMessage),this.dc.on("error",this.onDataChannelError),this.dataSubState.setState(zr.AliRtcStateSubscribed),this.streamInfo.updateRemoteTrackSubState({data:!0});return}else throw new Error("no dc founded")}).catch(e=>{const t=ft.fromError(e,bt.ERR_INNER,"subscribe data failed");this.emit("remoteSubscribeError",t),this.dataSubState.setState(zr.AliRtcStateNoSubscribe)}))}subscribeStopDataChannel(){if(this.dc){try{this.rtsManager.subscribeStopDatachannel(this.streamUrl,this.dc)}catch(e){}this.dcMsgWaitingPieces=[],this.dc.off("message",this.onDataChannelMessage),this.dc.off("error",this.onDataChannelError),this.dataSubState.setState(zr.AliRtcStateNoSubscribe),this.dc=void 0,this.streamInfo.updateRemoteTrackSubState({data:!1})}}getRetryOptions(){var e,t,r,n,i,a,c;const l={};this.wantSubAudio&&(e=this.streamInfo)!=null&&e.hasAudio&&(l.audio=!0,l.aMsid=((t=this.streamInfo.getAudioInfo())==null?void 0:t.msid)||lt.Audio),this.wantSubVideo&&(r=this.streamInfo)!=null&&r.hasVideo&&(this.defaultVideoStreamType===Ti.AliRtcVideoStreamTypeLow&&(n=this.streamInfo)!=null&&n.hasVideoSmall?(l.video=!0,l.vMsid=lt.VideoSmall):(i=this.streamInfo)!=null&&i.hasVideoLarge&&(l.video=!0,l.vMsid=((a=this.streamInfo.getVideoLargeInfo())==null?void 0:a.msid)||lt.VideoLarge)),this.wantSubScreen&&(c=this.streamInfo)!=null&&c.hasScreen&&(l.screen=!0);let u={};if(l.audio||l.video)u={audio:l.audio,video:l.video},this.streamInfo.updateRemoteTrackSubState({screen:!1,data:!1});else if(l.screen)u={screen:l.screen},this.streamInfo.updateRemoteTrackSubState({data:!1});else return;return{remoteUser:this,options:u}}updateSubscribe(e){var t,r,n,i,a,c,l,u,d,h,y,m,_,R,b,C,H;const A=Date.now(),D={},Z={};if(this.wantSubAudio&&!this.isAudioSubscribing&&(t=this.streamInfo)!=null&&t.hasAudio?(D.audio=!0,D.aMsid=((r=this.streamInfo.getAudioInfo())==null?void 0:r.msid)||lt.Audio):(!this.wantSubAudio||!((n=this.streamInfo)!=null&&n.hasAudio))&&this.isAudioSubscribing&&(Z.audio=!0,Z.aMsid=((i=this.streamInfo.getAudioInfo())==null?void 0:i.msid)||lt.Audio),this.wantSubVideo&&(a=this.streamInfo)!=null&&a.hasVideo?(this.defaultVideoStreamType===Ti.AliRtcVideoStreamTypeLow&&!this.isVideoSmallSubscribing&&(c=this.streamInfo)!=null&&c.hasVideoSmall?(D.video=!0,D.vMsid=lt.VideoSmall):!this.isVideoLargeSubscribing&&(l=this.streamInfo)!=null&&l.hasVideoLarge&&!(this.defaultVideoStreamType===Ti.AliRtcVideoStreamTypeLow&&this.isVideoSmallSubscribing)&&(D.video=!0,D.vMsid=((u=this.streamInfo.getVideoLargeInfo())==null?void 0:u.msid)||lt.VideoLarge),this.defaultVideoStreamType===Ti.AliRtcVideoStreamTypeLow&&this.isVideoLargeSubscribing&&this.isVideoSmallSubscribing&&this.streamInfo.hasVideoSmall?(Z.video=!0,Z.vMsid=lt.VideoLarge):this.defaultVideoStreamType===Ti.AliRtcVideoStreamTypeHigh&&this.isVideoLargeSubscribing&&this.isVideoSmallSubscribing&&(Z.video=!0,Z.vMsid=lt.VideoSmall)):(!this.wantSubVideo||!((d=this.streamInfo)!=null&&d.hasVideo))&&this.isVideoSubscribing&&(Z.video=!0,Z.vMsid=this.streamInfo.isVideoSmallSubscribed||this.streamInfo.isVideoSmallSubscribing?lt.VideoSmall:((h=this.streamInfo.getVideoLargeInfo())==null?void 0:h.msid)||lt.VideoLarge),this.wantSubScreen&&!this.isScreenSubscribing&&(y=this.streamInfo)!=null&&y.hasScreen?D.screen=!0:(!this.wantSubScreen||!((m=this.streamInfo)!=null&&m.hasScreen))&&this.isScreenSubscribing&&(Z.screen=!0),(_=this.parameter.data)!=null&&_.enableSubDataChannel&&!this.isDataSubscribing&&(R=this.streamInfo)!=null&&R.hasData?D.data=!0:(!((b=this.parameter.data)!=null&&b.enableSubDataChannel)||!((C=this.streamInfo)!=null&&C.hasData))&&this.isDataSubscribing&&(Z.data=!0),(D.audio||D.video||D.screen||D.data)&&(this.createCallId(),this.subscribe(D,e,A)),(Z.audio||Z.video||Z.screen)&&this.subscribeDeleteTracks(Z),e===Kr.Reconnect){if(yt.event(`[${Oo.logName}]`,"reconnect, try to resume"),this.streamInfo.hasAudio&&!D.audio){const ie=this.rtsManager.getStreamByMsid({url:this.streamUrl,aMsid:this.streamInfo.getAudioInfo().msid||lt.Audio}).audioTrack;ie&&(this.audioTrack=ie,this.playAudio())}if(this.streamInfo.hasVideo&&!D.video){const ie=this.rtsManager.getStreamByMsid({url:this.streamUrl,vMsid:this.streamInfo.isVideoSmallSubscribed||this.streamInfo.isVideoSmallSubscribing?lt.VideoSmall:((H=this.streamInfo.getVideoLargeInfo())==null?void 0:H.msid)||lt.VideoLarge});ie&&ie.mediaStream&&(this.stream=ie,this.playAll(!1))}if(this.streamInfo.hasScreen&&!D.screen){const ie=this.rtsManager.getStreamByMsid({url:this.streamUrl,sMsid:this.streamInfo.getScreenInfo().msid||lt.Screen});ie&&ie.mediaStream&&(this.screenStream=ie,this.playAll(!0))}}return{addOption:D,deleteOption:Z}}handleAutoPlayFailed(){yt.event(`[${Oo.logName}]`,"auto play failed"),this.emit("remoteAudioAutoPlayFail",this.uid);const e=()=>{this.resumeAudio().then(()=>{document.removeEventListener("click",e,!1),document.removeEventListener("touchstart",e,!1)})};document.addEventListener("click",e,!1),document.addEventListener("touchstart",e,!1)}handleVideoPlayFailded(e,t){this.emit("remoteVideoAutoPlayFail",this.uid,t);const r=()=>{var n;const i=(n=t===hr.AliRtcVideoTrackScreen?this.screenStream:this.stream)==null?void 0:n.mediaStream;e.srcObject===i&&this.play(e,t===hr.AliRtcVideoTrackScreen),document.removeEventListener("click",r,!1),document.removeEventListener("touchstart",r,!1)};document.addEventListener("click",r,!1),document.addEventListener("touchstart",r,!1)}playAudio(){return Ye(this,null,function*(){var e,t;if(!this.audioTrack){yt.event(`[${Oo.logName}]`,this.userId,"audio track is null");return}if(this.toggleAudio(!this.audioMuted),this.audioElement||(yt.event(`[${Oo.logName}]`,this.userId,"create audio element"),this.audioElement=document.createElement("audio"),this.audioElement.setAttribute("autoplay","autoplay"),this.audioElement.addEventListener("pause",this.handleAudioPaused),this.setPlayoutVolume(this.playoutVolume)),((t=(e=this.audioElement.srcObject)==null?void 0:e.getAudioTracks())==null?void 0:t[0])!==this.audioTrack){let r=this.audioElement.srcObject;r?r.getAudioTracks().forEach(n=>{r.removeTrack(n)}):(r=new MediaStream,this.audioElement.srcObject=r),r.addTrack(this.audioTrack)}if(Tr.AliRTS.SystenUtil.isIos&&parseInt(Tr.AliRTS.SystenUtil.systemVersion)<=13){yt.event(`[${Oo.logName}]`,"play audio for iOS 13-");const r=this.audioElement;r.setAttribute("autoplay","");const n=()=>{r.removeEventListener("playing",n),r.pause(),r.play().catch(()=>{this.handleAutoPlayFailed()})};this.audioElement.addEventListener("playing",n)}else(()=>{var r;yt.event(`[${Oo.logName}]`,"try play audio"),(r=this.audioElement)==null||r.play().then(()=>{yt.event(`[${Oo.logName}]`,"play audio success")}).catch(()=>{this.handleAutoPlayFailed()})})()})}stopPlayAudio(){this.audioElement&&(this.audioElement.pause(),this.audioElement.srcObject=null,this.audioElement.removeEventListener("pause",this.handleAudioPaused))}playAll(e=!1,t=!1){e?(this.viewMap.screenViews||[]).forEach(r=>{this.play(r,e,t)}):(this.viewMap.cameraViews||[]).forEach(r=>{this.play(r,e,t)})}play(e,t=!1,r=!1){const n=t?this.screenStream:this.stream;!e||!n||!n.mediaStream||gE(e,n.mediaStream,r).catch(i=>{i.code===20||i.name==="AbortError"||this.handleVideoPlayFailded(e,t?hr.AliRtcVideoTrackScreen:hr.AliRtcVideoTrackCamera)})}stopPlayAll(e=!1){e?this.viewMap.screenViews.forEach(t=>{os(t)}):this.viewMap.cameraViews.forEach(t=>{os(t)})}toggleAudio(e=!0){this.audioSubState.setEnabled(e),this.audioTrack&&(this.audioTrack.enabled=e)}toggleVideo(e=!0){this.videoSubState.setEnabled(e),this.stream&&(e?this.stream.enableVideo():this.stream.disableVideo())}toggleScreen(e=!0){this.screenSubState.setEnabled(e),this.screenStream&&(e?this.screenStream.enableVideo():this.screenStream.disableVideo())}getStats(){return Ye(this,null,function*(){var e,t,r,n,i;const a=[];if(this.isAudioSubscribing){const l=yield this.rtsManager.getSubscribeAudioStats(this.streamUrl);l&&a.push({uid:this.uid,track:Ld.AliRtcAudioTrackMic,stats:l})}const c=[];if((e=this.streamInfo)!=null&&e.isVideoLargeSubscribed){const l=yield this.rtsManager.getSubscribeVideoStats(this.streamUrl,((t=this.streamInfo.getVideoLargeInfo())==null?void 0:t.msid)||lt.VideoLarge);l&&c.push({uid:this.uid,track:hr.AliRtcVideoTrackCamera,streamType:Ti.AliRtcVideoStreamTypeHigh,stats:l})}if((r=this.streamInfo)!=null&&r.isVideoSmallSubscribed){const l=yield this.rtsManager.getSubscribeVideoStats(this.streamUrl,((n=this.streamInfo.getVideoSmallInfo())==null?void 0:n.msid)||lt.VideoSmall);l&&c.push({uid:this.uid,track:hr.AliRtcVideoTrackCamera,streamType:Ti.AliRtcVideoStreamTypeLow,stats:l})}if(this.isScreenSubscribing){const l=yield this.rtsManager.getSubscribeVideoStats(this.streamUrl,((i=this.streamInfo.getScreenInfo())==null?void 0:i.msid)||lt.Screen);l&&c.push({uid:this.uid,track:hr.AliRtcVideoTrackScreen,stats:l})}return{audio:a,video:c}})}enableAudioVolumeIndication(e){this.audioVolumeIndicationInterval!==e&&(this.audioVolumeIndicationInterval>0&&e<=0&&this.audioLevelMonitor.stop(),e>0&&this.audioTrack&&this.audioLevelMonitor.start(this.audioTrack,e),this.audioVolumeIndicationInterval=e)}reportSubscribeMonitor(e){var t;e&&(this.slsReporter.reportSubscribeMonitor(((t=this.localUser)==null?void 0:t.callId)||"",this.callId,this.trackTraceIdMap[e]||"",e,this.monitorDataCache[e]),this.monitorDataCache[e]=[])}startStreamMonitor(){this.monitorTimerId||(this.monitorTimerId=window.setInterval(()=>Ye(this,null,function*(){try{if(this.streamInfo.subscribingInfos.length===0){this.stopStreamMonitor();return}let e=Object.keys(this.monitorDataCache).filter(t=>{var r;return((r=this.monitorDataCache[t])==null?void 0:r.length)>0});this.streamInfo.subscribingInfos.forEach(t=>{const r=t.msid;if(!r)return;e.includes(r)&&(e=e.filter(a=>a!==r));let n;const i=r===lt.Audio;i?n=this.rtsManager.getSubscribeAudioStats(this.streamUrl):n=this.rtsManager.getSubscribeVideoStats(this.streamUrl,r),n.then(a=>{var c;if(!a.timestamp)return;this.monitorDataCache[r]||(this.monitorDataCache[r]=[]);const l=this.monitorDataCache[r];let u;if((l==null?void 0:l.length)>0){const d=l[l.length-1]||{},{_last:h}=d;u=Bh(d,["_last"])}(l==null?void 0:l.length)>=T2&&this.reportSubscribeMonitor(r),a._last=u,a._codec=t.codec,i&&(a._source=(c=this.localUser)==null?void 0:c.getMediaStats(a.playoutId)),this.monitorDataCache[r].push(a)})}),e.forEach(t=>{this.reportSubscribeMonitor(t)})}catch(e){}}),1e3))}stopStreamMonitor(){this.monitorTimerId&&(clearInterval(this.monitorTimerId),this.monitorTimerId=void 0),Object.keys(this.monitorDataCache).forEach(e=>{this.reportSubscribeMonitor(e)})}},ae(Oo,"logName","RemoteUser"),Oo);Ai([Ze()],yi.prototype,"clear",1),Ai([Ze()],yi.prototype,"updateRemoteUserDeviceStatus",1),Ai([Ze()],yi.prototype,"updateRemoteTracks",1),Ai([Ze(Et)],yi.prototype,"subscribe",1),Ai([Ze()],yi.prototype,"subscribeProxy",1),Ai([Ze(Et)],yi.prototype,"subscribeDeleteProxy",1),Ai([Ze()],yi.prototype,"restore",1),Ai([Ze(Et)],yi.prototype,"resumeAudio",1),Ai([Ze(Et)],yi.prototype,"stopSubscribe",1),Ai([Ze(Et)],yi.prototype,"doStopSubscribe",1),Ai([Ze()],yi.prototype,"clearStream",1),Ai([Ze()],yi.prototype,"clearScreenStream",1),Ai([Ze()],yi.prototype,"updateSubscribe",1),Ai([Ze()],yi.prototype,"playAudio",1),Ai([Ze()],yi.prototype,"stopPlayAudio",1),Ai([Ze((e,t,r)=>[typeof e=="string"?e:e==null?void 0:e.nodeType,t,r])],yi.prototype,"play",1),Ai([Ze()],yi.prototype,"stopPlayAll",1);let A2=yi;var Uc=(e=>(e[e.AliRtcPluginErrorCodeSuccess=0]="AliRtcPluginErrorCodeSuccess",e[e.AliRtcPluginErrorCodeFailed=-1]="AliRtcPluginErrorCodeFailed",e[e.AliRtcPluginErrorNoFindPlugin=-2]="AliRtcPluginErrorNoFindPlugin",e[e.AliRtcPluginErrorParameterError=-3]="AliRtcPluginErrorParameterError",e[e.AliRtcPluginErrorLoadError=-4]="AliRtcPluginErrorLoadError",e[e.AliRtcPluginErrorCreateError=-5]="AliRtcPluginErrorCreateError",e[e.AliRtcPluginErrorInitError=-6]="AliRtcPluginErrorInitError",e[e.AliRtcPluginErrorInitTokenError=-7]="AliRtcPluginErrorInitTokenError",e))(Uc||{});class P2 extends ti{constructor(){super(...arguments),ae(this,"plugins",new Map)}add(t,r){if(this.plugins.has(t.name))throw new ft(Uc.AliRtcPluginErrorCreateError,`Plugin ${t.name} already exists`);this.plugins.set(t.name,t),r&&t.setOptions(r),this.emit("added",t),t.on("enabled",()=>this.emit("added",t)),t.on("disabled",()=>this.emit("removed",t)),t.on("updated",()=>this.emit("updated",t))}remove(t){const r=this.plugins.get(t);if(!r)throw new ft(Uc.AliRtcPluginErrorNoFindPlugin,`Plugin ${t} not founded`);this.plugins.delete(t),r.removeAllListeners(),this.emit("removed",r)}removeAll(){this.plugins.forEach(t=>{this.remove(t.name)})}get(t){return this.plugins.get(t)}has(t){return!!this.plugins.get(t)}getAll(){return Array.from(this.plugins.values())}}var k2=Object.defineProperty,I2=Object.getOwnPropertyDescriptor,qn=(e,t,r,n)=>{for(var i=n>1?void 0:n?I2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&k2(t,r,i),i};const mg=([e])=>{const{remoteUser:t,options:r}=e;return[`user(${t.userId})`,r]},CE=5;var xo;const Hn=(xo=class extends ti{constructor(e,t,r,n,i){super(),ae(this,"rts"),ae(this,"encodedInsertableStreams",!0),ae(this,"audioRedEnabled",!1),ae(this,"localStreamManager"),ae(this,"slsReporter"),ae(this,"_rtsReconnecting",!1),ae(this,"_rtsPeerConnectionType","publish"),ae(this,"connecting",!1),ae(this,"connected",!1),ae(this,"_pcTraceId",""),ae(this,"_localJoinTime",0),ae(this,"publishRetryHook"),ae(this,"subscribeRetryOptionsHook"),ae(this,"connectionResolve"),ae(this,"connectingPromise"),ae(this,"dcResolve"),ae(this,"dcConnectingPromise"),ae(this,"_publishingTracks",[]),ae(this,"parameter",{}),this.localStreamManager=e,this.slsReporter=t,this.publishRetryHook=r,this.subscribeRetryOptionsHook=n,this.parameter=i,this.rts=Tr.AliRTS.createClient(),this.addRTSListener()}addRTSListener(){this.rts.on("connectStatusChange",e=>{var t,r,n,i;if(yt.event(`[${xo.logName}]`,"rts connectStatusChange to:",e.status),e.status===Tr.EConnectStatus.CONNECT_STATUS_DISCONNECTED)this.setConnected(!1),this.slsReporter.reportWarning("rts disconnected"),this.emit("disconnected");else if(e.status===Tr.EConnectStatus.CONNECT_STATUS_CONNECTED){const a=(i=(n=(r=(t=this.rts.commonController)==null?void 0:t.peerCore)==null?void 0:r.getSignal())==null?void 0:n.getDatachannelCore())==null?void 0:i.readyState;yt.event(`[${xo.logName}]`,"dcReadyState:",a),a==="open"&&this.dcResolve&&this.dcResolve(!0),this._rtsReconnecting&&this._rtsPeerConnectionType==="publish"&&(this._publishingTracks=this.rts.getPublishTrackInfoList());try{this.emit("connected",this._rtsReconnecting,this._rtsPeerConnectionType)}catch(c){}this.setConnected(!0)}}),this.rts.on("datachannelStatusChange",e=>{yt.event(`[${xo.logName}]`,"rts datachannelStatusChange to:",e.status),e.status===Tr.EDatachannelStatus.DATACHANNEL_STATUS_OPEN?this.dcResolve&&this.dcResolve(!0):e.status===Tr.EDatachannelStatus.DATACHANNEL_STATUS_CLOSE&&(this.dcConnectingPromise=new Promise(t=>{this.dcResolve=t}))}),this.rts.on("receivedSEI",e=>{this.emit("seimessage",e.url,e.sei.payloadType,e.sei.data)})}get pcTraceId(){return this._pcTraceId}set localJoinTime(e){this._localJoinTime=e}setEncodedInsertableStreams(e){this.encodedInsertableStreams=e}setAudioRedEnabled(e){var t;if(e!==this.audioRedEnabled){try{const r=[...((t=RTCRtpReceiver.getCapabilities("audio"))==null?void 0:t.codecs)||[]];if(r.length>0){if(e){const n=r.findIndex(a=>a.mimeType==="audio/red"),i=r.findIndex(a=>a.mimeType==="audio/opus");if(n>-1&&i>-1&&n>i){const a=r[i];r[i]=r[n],r[n]=a}}this.rts.setSenderCodecPreferences({audio:r}),this.rts.setReceiverCodecPreferences({audio:r})}}catch(r){}this.audioRedEnabled=e}}clear(){this.setConnected(!1);try{this.rts.unpublish()}catch(e){}this.rts=Tr.AliRTS.createClient(),this.addRTSListener()}startConnect(){this.connecting=!0,this.connectingPromise=new Promise(e=>{this.connectionResolve=e}),this.dcConnectingPromise=new Promise(e=>{this.dcResolve=e})}setConnected(e){var t;this.connected=e,this.connecting=!1,this._rtsReconnecting=!1,(t=this.connectionResolve)==null||t.call(this,!0),e||(this.dcConnectingPromise=new Promise(r=>{this.dcResolve=r}))}get isConnecting(){return this.connecting}get isConnected(){return this.connected}get publishingTracks(){return this._publishingTracks}getPubMsid(e,t){const{aMsid:r,vMsid:n}=t!=null?t:{},i={};return e.hasAudio&&(i.aMsid=[r!=null?r:lt.Audio]),e.hasScreen&&(i.vMsid=[lt.Screen]),e.hasVideo&&(i.vMsid=[n!=null?n:t!=null&&t.isScreen?lt.Screen:lt.VideoLarge]),i}updatePublishingTracks(e){e&&(this._publishingTracks=e.map(({msid:t,from:r,ssrc:n,codec:i,type:a,trackId:c})=>({msid:t,from:r,type:a,ssrc:`${n}`,codec:i!=null?i:"",trackId:c})))}httpPublish(e,t){return Ye(this,arguments,function*(r,n,i=!1,a=ns.MANUAL){var c,l;let u;const{publishStream:d,videoSmallStream:h,screenStream:y,vMsid:m}=yield this.localStreamManager.createHTTPPublishStream();if(!d)return yt.warn(`[${xo.logName}]`,"publishStream is null"),{traceId:"",l1ip:u};const _=this.getPubMsid(d,{vMsid:m});this.encodedInsertableStreams&&(_.encodedInsertableStreams=!0),_.answerSdpHook=A=>{const D=/\d+\.\d+\.\d+\.\d+(?=\s+1106|\s+8000)/.exec(A);return D!=null&&D[0]&&(u=D[0]),A},(l=(c=this.parameter)==null?void 0:c.net)!=null&&l.useTCP&&(_.tcpOnly=!0),_.beforeRetry=A=>Ye(this,null,function*(){this._rtsReconnecting=!0,this.publishRetryHook&&this.publishRetryHook();const{publishStream:D,vMsid:Z}=yield this.localStreamManager.createHTTPPublishStream();if(!D)return;const ie=this.getPubMsid(D,{vMsid:Z});return A.stream=D,ie.aMsid?A.aMsid=ie.aMsid:A.aMsid=[],ie.vMsid?A.vMsid=ie.vMsid:A.vMsid=[],A}),this._rtsPeerConnectionType="publish";let R=!d.hasVideo,b=m,C="";this.startConnect();const H=Date.now();try{C=yield this.rts.publish(r,d,_)}catch(A){this.setConnected(!1);const D=2e3-(Date.now()-H);throw D<=0?this.emit("disconnected"):setTimeout(()=>{this.emit("disconnected")},D),this.slsReporter.reportPublish(i,r,n,d.hasVideo&&(!m||m===lt.VideoLarge),d.hasVideo&&m===lt.VideoSmall,d.hasVideo&&m===lt.Screen,d.hasAudio,(A==null?void 0:A.errorCode)||-1,this.pcTraceId,"",H),ft.fromRtsError(A)}yt.event(`[${xo.logName}]`,"rts publish success",C),this.slsReporter.reportPublish(i,r,n,d.hasVideo&&(!m||m===lt.VideoLarge),d.hasVideo&&m===lt.VideoSmall,d.hasVideo&&m===lt.Screen,d.hasAudio,0,C,C,H);try{const A=Date.now();return this._pcTraceId=C,this.setConnected(!0),this._publishingTracks=this.rts.getPublishTrackInfoList(),h&&(yield this.publishAdd(r,h,n,{vMsid:lt.VideoSmall},i),R=!1,b=lt.VideoSmall),y&&(yield this.publishAdd(r,y,n,{vMsid:lt.Screen},i),R=!1,b=lt.Screen),yield this.waitPublishSender(r,R,b),this.slsReporter.reportPublishFirstPacket(i,n,H,A,this._localJoinTime,R?lt.Audio:_.vMsid,C||"",C||"",a),{traceId:C,l1ip:u}}catch(A){throw this.setConnected(!1),ft.fromError(A)}})}waitPublishSender(e,t=!1,r){return Ye(this,null,function*(){const n=(i,a)=>{let c=0;const l=()=>(t?this.rts.getPublishAudioStats(e,r):this.rts.getPublishVideoStats(e,r)).then(u=>!(u.bytesSent>0)&&c<i?(c++,new Promise(d=>setTimeout(()=>d(l()),a))):Promise.resolve());return l()};return Promise.race([Lc(1e3),n(5,100)]).catch(()=>{})})}getPublishVideoStats(e,t){return Ye(this,null,function*(){return yield this.rts.getPublishVideoStats(e,t)})}getPublishAudioStats(e,t){return Ye(this,null,function*(){return yield this.rts.getPublishAudioStats(e,t)})}publishAdd(e,t,r,n){return Ye(this,arguments,function*(i,a,c,l,u=!1,d=!1,h=ns.MANUAL){var y,m,_,R,b,C,H,A;const D=Date.now(),Z=this.getPubMsid(a,l);try{const ie=yield mE(oe=>Ye(this,null,function*(){return oe>0&&yt.event(`[${xo.logName}]`,`publishAdd retry times: ${oe}`),this.isConnected?(yield this.dcConnectingPromise,this.rts.publishAdd([dr({url:i,stream:a,updateSourceStream:!1},Z)])):Promise.reject(new ft(bt.ERR_INNER,"rts not connected"))}),CE,0,oe=>(oe==null?void 0:oe.errorCode)===15006);if(ie){const oe=Date.now(),[fe]=ie;return this.slsReporter.reportPublish(!1,i,c,((y=Z.vMsid)==null?void 0:y[0])===lt.VideoLarge,((m=Z.vMsid)==null?void 0:m[0])===lt.VideoSmall,((_=Z.vMsid)==null?void 0:_[0])===lt.Screen,((R=Z.aMsid)==null?void 0:R[0])===lt.Audio,0,this.pcTraceId,fe.traceId||"",D),this.updatePublishingTracks(fe.trackInfoList),d&&(yield this.waitPublishSender(i,!a.hasVideo,a.hasVideo?l==null?void 0:l.vMsid:l==null?void 0:l.aMsid)),this.slsReporter.reportPublishFirstPacket(u,c,D,oe,this._localJoinTime,(a.hasVideo?l==null?void 0:l.vMsid:l==null?void 0:l.aMsid)||"",this.pcTraceId,fe.traceId||"",h),fe.traceId||""}}catch(ie){throw this.slsReporter.reportPublish(!1,i,c,((b=Z.vMsid)==null?void 0:b[0])===lt.VideoLarge,((C=Z.vMsid)==null?void 0:C[0])===lt.VideoSmall,((H=Z.vMsid)==null?void 0:H[0])===lt.Screen,((A=Z.aMsid)==null?void 0:A[0])===lt.Audio,(ie==null?void 0:ie.errorCode)||-1,this.pcTraceId,"",D),ie!=null&&ie.errorCode?ft.fromRtsError(ie):ft.fromError(ie)}return""})}publishDelete(e,t){return Ye(this,null,function*(){var r,n,i,a,c,l,u,d;yield this.dcConnectingPromise;const h=(n=(r=this.publishingTracks)==null?void 0:r.find(({msid:b})=>b===lt.Audio))==null?void 0:n.msid,y=(a=(i=this.publishingTracks)==null?void 0:i.find(({msid:b})=>b===lt.VideoLarge))==null?void 0:a.msid,m=(l=(c=this.publishingTracks)==null?void 0:c.find(({msid:b})=>b===lt.Screen))==null?void 0:l.msid,_=[];t.screen&&m?_.push(m):t.video&&_.push(t.vMsid||y);const R=[];t.audio&&h&&R.push(h),yt.event(xo.logName,"publishDelete",{streamUrl:e,aMsid:R,vMsid:_});try{const[b]=(yield this.rts.publishDeleteTracks([{url:e,aMsid:R,vMsid:_}]))||[];return yt.event(xo.logName,"publishDelete",{result:b}),b&&this.updatePublishingTracks(b.trackInfoList),((d=(u=b==null?void 0:b.trackInfoList)==null?void 0:u[0])==null?void 0:d.trackId)||""}catch(b){throw ft.fromRtsError(b)}})}publishReplace(e,t,r){return Ye(this,null,function*(){var n,i;yield this.dcConnectingPromise;const{vMsid:a,aMsid:c}=r!=null?r:{};try{const l=yield this.rts.publishReplaceTracks([{url:e,stream:t,updateSourceStream:!1,vMsid:a,aMsid:c}]),[u]=l;return this.updatePublishingTracks(u.trackInfoList),((i=(n=u==null?void 0:u.trackInfoList)==null?void 0:n[0])==null?void 0:i.trackId)||""}catch(l){throw ft.fromRtsError(l)}})}publishStop(e){return Ye(this,null,function*(){return yield this.rts.publishStop([{url:e}]),this._publishingTracks=[],""})}publishAddDataChannel(e){return Ye(this,null,function*(){yield this.dcConnectingPromise;const t=yield this.rts.publishAddDatachannel({signalUrl:e,url:e,label:lt.Data,msid:lt.Data}),r=t==null?void 0:t.datachannel;if(r&&r.send){const n=new ArrayBuffer(4);new DataView(n).setUint8(0,240),r.datachannel.send(n)}return r})}publishStopDataChannel(e,t){return Ye(this,null,function*(){return yield this.rts.publishStopDatachannel({url:e,datachannel:t})})}unpublish(){return Ye(this,null,function*(){yield this.rts.unpublish(),this.connecting=!1,this.connected=!1})}getSubConfig(e,t){let r=t!=null?t:{};t||(r={audio:!0,video:!0,screen:!0});const n={};return r.audio&&(n.aMsid=[(e==null?void 0:e.getAudioInfo().msid)||lt.Audio]),r.video?r.vMsid?n.vMsid=[r.vMsid]:e!=null&&e.hasVideoLarge?n.vMsid=[(e==null?void 0:e.getVideoLargeInfo().msid)||lt.VideoLarge]:e!=null&&e.hasVideoSmall?n.vMsid=[(e==null?void 0:e.getVideoSmallInfo().msid)||lt.VideoSmall]:n.vMsid=[lt.VideoLarge]:r.screen&&e!=null&&e.hasScreen&&(n.vMsid=[(e==null?void 0:e.getScreenInfo().msid)||lt.Screen]),n}httpSubscribe(e){return Ye(this,null,function*(){var t,r;const{remoteUser:n,options:i}=e;let a=n.streamUrl;i.video||i.screen?i!=null&&i.audio||(a+="@subaudio=no"):a+="@subvideo=no";const c=this.getSubConfig(n.streamInfo,i);this.encodedInsertableStreams&&(c.encodedInsertableStreams=!0),(r=(t=this.parameter)==null?void 0:t.net)!=null&&r.useTCP&&(c.tcpOnly=!0),c.beforeRetry=l=>Ye(this,null,function*(){this._rtsReconnecting=!0;try{this.emit("reconnecting","subscribe")}catch(u){}if(this._publishingTracks=[],this.subscribeRetryOptionsHook){const u=this.subscribeRetryOptionsHook();if(u){let d=n.streamUrl;i.video||i.screen?i!=null&&i.audio||(d+="@subaudio=no"):d+="@subvideo=no",l.url=d;const h=this.getSubConfig(u.remoteUser.streamInfo,u.options);h.aMsid&&(l.aMsid=h.aMsid),h.vMsid&&(l.vMsid=h.vMsid)}else return}return l}),this._rtsPeerConnectionType="subscribe";try{this.startConnect();const l=yield this.rts.subscribe(a,c);return this._pcTraceId=l.traceId,this.setConnected(!0),{traceId:l.traceId,stream:l}}catch(l){throw this.setConnected(!1),this.emit("disconnected"),ft.fromRtsError(l)}})}subscribeAdd(e){return Ye(this,null,function*(){var t,r,n,i;const{remoteUser:a,options:c}=e,l=ql(dr({url:a.streamUrl,subAudio:!!c.audio,subVideo:!!(c.screen||c.video)},this.getSubConfig(a.streamInfo,c)),{targetStream:c.screen?a.getScreenStream:a.getCameraStream});try{return(yield mE(u=>Ye(this,null,function*(){return yield this.dcConnectingPromise,u>0&&yt.event(`[${xo.logName}]`,`subscribeAdd retry times: ${u}`),this.isConnected?this.rts.subscribeAdd([l]):Promise.reject()}),CE,0,u=>(u==null?void 0:u.errorCode)===15006))[0]}catch(u){if(((i=(n=(r=(t=u==null?void 0:u.extraInfo)==null?void 0:t.parsedData)==null?void 0:r.streams)==null?void 0:n[0])==null?void 0:i.res_code)===508)return this.emit("subscribeexceeds"),null;throw ft.fromRtsError(u)}})}subscibeDelete(e){return Ye(this,null,function*(){var t,r,n,i;yield this.dcConnectingPromise;const{remoteUser:a,options:c}=e,l=ql(dr({url:a.streamUrl,subAudio:!!c.audio,subVideo:!!(c.screen||c.video)},this.getSubConfig(a.streamInfo,c)),{targetStream:c.screen?a.getScreenStream:a.getCameraStream});try{return(yield this.rts.subscribeDeleteTracks([l]))[0]}catch(u){if(((i=(n=(r=(t=u==null?void 0:u.extraInfo)==null?void 0:t.parsedData)==null?void 0:r.streams)==null?void 0:n[0])==null?void 0:i.res_code)===404)return;throw ft.fromRtsError(u)}})}subscibeStop(e){return Ye(this,null,function*(){var t,r,n,i;try{yield this.rts.subscribeStop([{url:e}])}catch(a){if(((i=(n=(r=(t=a==null?void 0:a.extraInfo)==null?void 0:t.parsedData)==null?void 0:r.streams)==null?void 0:n[0])==null?void 0:i.res_code)===404)return;throw ft.fromRtsError(a)}})}subscribeAddDataChannel(e){return Ye(this,null,function*(){yield this.dcConnectingPromise;const t=yield this.rts.subscribeAddDatachannel({signalUrl:e,url:e,label:lt.Data,msid:lt.Data}),r=t==null?void 0:t.datachannel;if(r&&r.send){const n=new ArrayBuffer(4);new DataView(n).setUint8(0,240),r.send(n)}return r})}subscribeStopDatachannel(e,t){return Ye(this,null,function*(){let r;try{r=yield this.rts.subscribeStopDatachannel({url:e,datachannel:t})}catch(n){}return t==null||t.dispose(),r})}publish(e,t){return Ye(this,arguments,function*(r,n,i=!1,a=ns.MANUAL){let c="",l;if(this.connecting&&(yield this.connectingPromise),this.connected){yield this.dcConnectingPromise;let u=!1,d;const{audio:h,video:y,videoSmall:m,screen:_}=this.localStreamManager.publishStreams;h&&(c=yield this.publishAdd(r,h,n,{aMsid:lt.Audio},i),u=!0,d=lt.Audio,yield Lc(100)),y&&(c=yield this.publishAdd(r,y,n,{vMsid:lt.VideoLarge},i),u=!1,d=lt.VideoLarge,yield Lc(100)),m&&(c=yield this.publishAdd(r,m,n,{vMsid:lt.VideoSmall},i),u=!1,d=lt.VideoSmall,yield Lc(100)),_&&(c=yield this.publishAdd(r,_,n,{isScreen:!0,vMsid:lt.Screen},i),u=!1,d=lt.Screen),d&&(yield this.waitPublishSender(r,u,d))}else{const u=yield this.httpPublish(r,n,i,a);c=u.traceId,l=u.l1ip}return{traceId:c,l1ip:l}})}subscribe(e,t,r,n,i){return Ye(this,null,function*(){let a=!1;const{options:c,remoteUser:l}=e;if(c.video&&c.screen)throw new ft(bt.ERR_INNER,"subscribe error, video and screen cannot be subscribed at the same time");this.connecting&&(yield this.connectingPromise);let u,d=Date.now();this.connected?(d=Date.now(),u=yield this.subscribeAdd(e)):(a=!0,u=yield this.httpSubscribe(e));const h=Date.now();let y=lt.VideoLarge,m=c.video||c.screen,_=c.audio;c.video&&c.vMsid?y=c.vMsid:c.screen&&(y=lt.Screen);let R=0,b=0,C=0;const H=((A,D)=>{let Z=0;const ie=()=>{let oe;return _&&!R&&(oe=this.rts.getSubscribeAudioStats(l.streamUrl).then(fe=>{if(fe.packetsReceived>0)R=Date.now();else if(!m)return Z<A?(Z++,new Promise(he=>setTimeout(()=>he(ie()),D))):!1;return!0})),m&&!C&&(oe=this.rts.getSubscribeVideoStats(l.streamUrl,y).then(fe=>{if(fe.packetsReceived>0&&(b=Date.now()),fe.framesDecoded>0)C=Date.now();else return Z<A?(Z++,new Promise(he=>setTimeout(()=>he(ie()),D))):(yt.error(`[${xo.logName}]`,l.userId,"\u5C1D\u8BD5\u83B7\u53D6\u9996\u5E27\u6570\u636E\u5931\u8D25"),!1);return!0})),Promise.resolve(oe)};return ie()})(40,100);return H.then(()=>{b&&this.slsReporter.reportSubscribeFirstPacket(t===Kr.Resume,r,n,y,{fprt:b-d,ifsprtc:C?C-d:0,ajsub:t===Kr.Join?1:0,pctid:this.pcTraceId,subtid:(u==null?void 0:u.traceId)||"",sstc:h-d}),C&&this.slsReporter.reportSubscribeFirstFrame(t===Kr.Resume,r,n,y,{fvfrt:C-d,fp2fftc:C-b,ajsub:t===Kr.Join?1:0,tffrtc:t===Kr.Join?C-this.localJoinTime:C-i,pctid:this.pcTraceId,subtid:(u==null?void 0:u.traceId)||"",fvfdtc:C-d}),R&&this.slsReporter.reportSubscribeFirstPacket(t===Kr.Resume,r,n,lt.Audio,{fprt:R-d,ifsprtc:R-d,ajsub:t===Kr.Join?1:0,pctid:this.pcTraceId,subtid:(u==null?void 0:u.traceId)||"",sstc:h-d})}),a&&(yield Promise.race([H,Lc(1500)])),u})}getSubscribeVideoStats(e,t){return Ye(this,null,function*(){return yield this.rts.getSubscribeVideoStats(e,t)})}getSubscribeAudioStats(e,t){return Ye(this,null,function*(){return yield this.rts.getSubscribeAudioStats(e,t)})}getStreamByMsid(e){return this.rts.commonController.streamManager.getStreamByMsid(e)}getPCStats(){return Ye(this,null,function*(){var e,t;return(t=(e=this.rts.commonController.peerCore)==null?void 0:e.pc)==null?void 0:t.getStats()})}sendSEI(e,t,r,n){return Ye(this,null,function*(){return this.rts.sendSEI({url:e,vMsid:lt.VideoLarge,data:t,repeatCount:r,payloadType:n})})}},ae(xo,"logName","RtsManager"),xo);qn([Ze(Et)],Hn.prototype,"startConnect",1),qn([Ze()],Hn.prototype,"updatePublishingTracks",1),qn([Ze(Et,Et)],Hn.prototype,"httpPublish",1),qn([Ze(Et,Et)],Hn.prototype,"waitPublishSender",1),qn([Ze(([e,t,r])=>[e,JSON.stringify(r)],Et)],Hn.prototype,"publishAdd",1),qn([Ze(Et,Et)],Hn.prototype,"publishDelete",1),qn([Ze(([e,t,r])=>[e,JSON.stringify(r)])],Hn.prototype,"publishReplace",1),qn([Ze(Et)],Hn.prototype,"publishStop",1),qn([Ze(Et)],Hn.prototype,"publishAddDataChannel",1),qn([Ze(Et)],Hn.prototype,"publishStopDataChannel",1),qn([Ze()],Hn.prototype,"unpublish",1),qn([Ze(mg,({traceId:e})=>e)],Hn.prototype,"httpSubscribe",1),qn([Ze(mg,({traceId:e})=>e)],Hn.prototype,"subscribeAdd",1),qn([Ze(mg)],Hn.prototype,"subscibeDelete",1),qn([Ze(Et)],Hn.prototype,"subscibeStop",1),qn([Ze(Et)],Hn.prototype,"subscribeAddDataChannel",1),qn([Ze(Et)],Hn.prototype,"subscribeStopDatachannel",1),qn([Ze(Et)],Hn.prototype,"publish",1),qn([Ze(mg)],Hn.prototype,"subscribe",1),qn([Ze()],Hn.prototype,"sendSEI",1);let O2=Hn;class V0{constructor(){ae(this,"profile"),ae(this,"profileMap",new Map),ae(this,"audioProfile"),ae(this,"contentHint")}updateProfile(t,r){r&&this.profileMap.set(t,r),this.profile=t}get videoProfile(){return this.profile}updateAudioProfile(t){this.audioProfile=t}setContentHint(t,r){r&&(this.contentHint=r),this.contentHint&&t&&(t.contentHint=this.contentHint)}setVideoProfile(t,r,n=!1){return Ye(this,null,function*(){if(!this.profile)return;const i=this.profileMap.get(this.profile)||(r==null?void 0:r.VideoProfileMap.get(this.profile));if(i){if(!n&&t&&t.applyConstraints)try{yield t.applyConstraints(i)}catch(a){}r&&(r==null||r.VideoProfileMap.set(this.profile,i),yield r.setVideoProfile(this.profile))}})}}class _E extends ti{constructor(t){super(),ae(this,"type"),ae(this,"originVideoTrack"),ae(this,"videoSource"),ae(this,"_videoMuted",!1),ae(this,"originAudioTrack"),ae(this,"audioSource"),ae(this,"_audioMuted",!1),ae(this,"_targetVideoTrack"),ae(this,"_targetDualVideoTrack"),ae(this,"_targetAudioTrack"),ae(this,"_publishVideoStream"),ae(this,"_publishDualVideoStream"),ae(this,"_publishAudioStream"),ae(this,"_previewStream"),ae(this,"plugins",[]),ae(this,"_profileManager"),ae(this,"cameraVideoConstraints"),ae(this,"micAudioConstraints"),ae(this,"onVideoTrackEnded",()=>{this.emit("videotrackended")}),ae(this,"onAudioTrackEnded",()=>{this.emit("audiotrackended")}),this.type=t}get profileManager(){return this._profileManager}get audioProfile(){var t;return(t=this.profileManager)==null?void 0:t.audioProfile}updateSource(t,r,n){return Ye(this,null,function*(){var i,a,c,l,u,d;const{videoTrack:h,audioTrack:y}=t;h&&((i=this.originVideoTrack)==null||i.removeEventListener("ended",this.onVideoTrackEnded)),y&&((a=this.originAudioTrack)==null||a.removeEventListener("ended",this.onAudioTrackEnded)),this.type===vi.AliRtcSdkStreamTypeScreen?this.stop():(h&&((c=this.originVideoTrack)==null||c.stop()),y&&((l=this.originAudioTrack)==null||l.stop())),h&&(this.originVideoTrack=h,(u=this.originVideoTrack)==null||u.addEventListener("ended",this.onVideoTrackEnded),this.videoSource=r||xd.Camera,this.updateVideoTrack(h)),y&&(this.originAudioTrack=y,(d=this.originAudioTrack)==null||d.addEventListener("ended",this.onAudioTrackEnded),this.audioSource=n||Xm.Microphone,this.updateAudioTrack(y))})}get currentProfile(){var t;return(t=this.profileManager)==null?void 0:t.profile}get currentVideoTrack(){return this._targetVideoTrack}get currentDualVideoTrack(){return this._targetDualVideoTrack}get publishVideoStream(){return this._publishVideoStream}get publishDualVideoStream(){return this._publishDualVideoStream}get currentAudioTrack(){return this._targetAudioTrack}get publishAudioStream(){return this._publishAudioStream}get previewStream(){return this._previewStream}updateVideoTrack(t,r=!1){return Ye(this,null,function*(){(this._targetVideoTrack!==t||r)&&(this._targetVideoTrack=t)})}updateDualVideoTrack(t,r=!1){return Ye(this,null,function*(){(this._targetDualVideoTrack!==t||r)&&(this._targetDualVideoTrack=t)})}updateAudioTrack(t,r=!1){return Ye(this,null,function*(){(this._targetAudioTrack!==t||r)&&(this._targetAudioTrack=t)})}setAudioMuted(t){var r,n;this._audioMuted=t,t?(r=this.publishAudioStream)==null||r.disableAudio():(n=this.publishAudioStream)==null||n.enableAudio()}get isAudioMuted(){return this._audioMuted}setVideoMuted(t){var r,n;this._videoMuted=t,t?(r=this.publishVideoStream)==null||r.disableVideo():(n=this.publishVideoStream)==null||n.enableVideo()}get isVideoMuted(){return this._videoMuted}process(t){return Ye(this,null,function*(){var r,n,i,a,c,l,u,d,h,y,m,_;this._targetAudioTrack=this.originAudioTrack,this._targetVideoTrack=this.originVideoTrack;for(const R of this.plugins)try{yield R.execute(this,t)}catch(b){console.error(`error in plugin-${R.name}, error: ${b}`)}this._targetVideoTrack?((n=(r=this._publishVideoStream)==null?void 0:r.videoTrack)==null?void 0:n.id)!==this._targetVideoTrack.id&&(this._publishVideoStream=yield qh(this._targetVideoTrack),this.setVideoMuted(this._videoMuted),(i=this.profileManager)==null||i.setVideoProfile(this.originVideoTrack,this._publishVideoStream,!0),(a=this.profileManager)==null||a.setContentHint(this._targetVideoTrack),this.previewStream?(c=this.previewStream)==null||c.mergeStream(this._publishVideoStream):this._previewStream=yield qh(this._targetVideoTrack)):(this._publishVideoStream=void 0,(l=this.previewStream)==null||l.deleteTracks({video:!0})),this._targetDualVideoTrack?((d=(u=this._publishDualVideoStream)==null?void 0:u.videoTrack)==null?void 0:d.id)!==this._targetDualVideoTrack.id&&(this._publishDualVideoStream=yield qh(this._targetDualVideoTrack),this._videoMuted?this._publishDualVideoStream.disableVideo():this._publishDualVideoStream.enableVideo()):this._publishDualVideoStream=void 0,this._targetAudioTrack?((y=(h=this._publishAudioStream)==null?void 0:h.audioTrack)==null?void 0:y.id)!==this._targetAudioTrack.id&&(this._publishAudioStream=yield qh(this._targetAudioTrack),this.setAudioMuted(this._audioMuted),this.previewStream?(m=this.previewStream)==null||m.mergeStream(this._publishAudioStream):this._previewStream=yield qh(this._targetAudioTrack)):(this._publishAudioStream=void 0,(_=this.previewStream)==null||_.deleteTracks({audio:!0}))})}stopVideo(){var t,r;this.originVideoTrack&&((t=this.originVideoTrack)==null||t.removeEventListener("ended",this.onAudioTrackEnded),(r=this.originVideoTrack)==null||r.stop(),this.originVideoTrack=void 0),this.updateVideoTrack(void 0)}stopAudio(){var t,r;this.originAudioTrack&&((t=this.originAudioTrack)==null||t.removeEventListener("ended",this.onAudioTrackEnded),(r=this.originAudioTrack)==null||r.stop(),this.originAudioTrack=void 0),this.updateAudioTrack(void 0)}stop(){this.stopVideo(),this.stopAudio()}updateVideoProfile(t,r){return Ye(this,null,function*(){this._profileManager||(this._profileManager=new V0),t&&this._profileManager.updateProfile(t,r),yield this._profileManager.setVideoProfile(this.originVideoTrack,this._publishVideoStream,this.type===vi.AliRtcSdkStreamTypeScreen)})}get videoProfile(){var t;return(t=this.profileManager)==null?void 0:t.videoProfile}setVideoContentHint(t){this._profileManager||(this._profileManager=new V0),this._profileManager.setContentHint(this.currentVideoTrack,t)}updateAudioProfile(t){return Ye(this,null,function*(){this._profileManager||(this._profileManager=new V0),this._profileManager.updateAudioProfile(t)})}cloneVideoProfile(t){return Ye(this,null,function*(){var r;yield(r=this.profileManager)==null?void 0:r.setVideoProfile(void 0,t)})}addPlugin(t){const r=this.plugins.findIndex(n=>n.zIndex>t.zIndex);r>-1?this.plugins.splice(r,0,t):this.plugins.push(t)}removePlugin(t){const r=this.plugins.indexOf(t);return r>-1?(t.clear(this),this.plugins.splice(r,1),!0):!1}}var x2=Object.defineProperty,M2=Object.getOwnPropertyDescriptor,Ta=(e,t,r,n)=>{for(var i=n>1?void 0:n?M2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&x2(t,r,i),i},Jh;const Xo=(Jh=class extends ti{constructor(e,t){super(),ae(this,"pluginManager"),ae(this,"slsReporter"),ae(this,"publishingCameraVideoStream"),ae(this,"publishingScreenVideoStream"),ae(this,"cameraStreamInfo",new _E(vi.AliRtcSdkStreamTypeCapture)),ae(this,"screenStreamInfo",new _E(vi.AliRtcSdkStreamTypeScreen)),ae(this,"streamInfos",[this.cameraStreamInfo,this.screenStreamInfo]),ae(this,"_audioCaptureDisabled",!1),ae(this,"_cameraCaptureDisabled",!1),ae(this,"_publishLocalAudioStreamEnabled",!0),ae(this,"_publishLocalVideoStreamEnabled",!0),ae(this,"_publishLocalScreenStreamEnabled",!0),this.screenStreamInfo.setVideoContentHint("motion"),this.pluginManager=e,this.slsReporter=t;const r=n=>Ye(this,null,function*(){if(yt.info(`[${Jh.logName}]`,"plugin added",n.name),!n.isSupported("6.13.6")){console.warn(`${n.name} is not supported!!!`),n.emit("unsupported");return}try{yield n.init()}catch(i){n.emit("error",ft.fromError(i,Uc.AliRtcPluginErrorInitError))}n.streamType===vi.AliRtcSdkStreamTypeCapture&&(this.cameraStreamInfo.addPlugin(n),yield this.cameraStreamInfo.process(this.streamInfos)),n.streamType===vi.AliRtcSdkStreamTypeScreen&&(this.screenStreamInfo.addPlugin(n),yield this.screenStreamInfo.process(this.streamInfos)),this.emit("publishupdate")});this.cameraStreamInfo.updateVideoProfile(fE,zh),this.cameraStreamInfo.on("videotrackended",()=>Ye(this,null,function*(){yield this.stopLocalStream({video:!0}),this.emit("trackended",tu.VideoTrackEnded)})),this.cameraStreamInfo.on("audiotrackended",()=>Ye(this,null,function*(){yield this.stopLocalStream({audio:!0}),this.emit("trackended",tu.AudioTrackEnded)})),this.screenStreamInfo.updateVideoProfile(hE,Wh),this.screenStreamInfo.on("videotrackended",()=>Ye(this,null,function*(){yield this.stopLocalStream({screen:!0}),this.emit("trackended",tu.ScreenTrackEnded)})),this.pluginManager.on("added",r),this.pluginManager.on("removed",n=>Ye(this,null,function*(){this.cameraStreamInfo.removePlugin(n)&&(yield this.cameraStreamInfo.process(this.streamInfos)),this.screenStreamInfo.removePlugin(n)&&(yield this.screenStreamInfo.process(this.streamInfos)),this.emit("publishupdate")})),this.pluginManager.on("updated",()=>Ye(this,null,function*(){yield this.updateStreams()}))}get hasCamera(){return!!this.cameraStreamInfo.originVideoTrack}get audioCaptureDisabled(){return this._audioCaptureDisabled}set audioCaptureDisabled(e){this._audioCaptureDisabled=e}get cameraCaptureDisabled(){return this._cameraCaptureDisabled}set cameraCaptureDisabled(e){this._cameraCaptureDisabled=e}setAudioMuted(e){this.cameraStreamInfo.setAudioMuted(e)}get isAudioMuted(){return this.cameraStreamInfo.isAudioMuted}setCameraMuted(e){this.cameraStreamInfo.setVideoMuted(e)}get isCameraMuted(){return this.cameraStreamInfo.isVideoMuted}setScreenMuted(e){this.screenStreamInfo.setVideoMuted(e)}get isScreenMuted(){return this.screenStreamInfo.isVideoMuted}get publishLocalAudioStreamEnabled(){return this._publishLocalAudioStreamEnabled}set publishLocalAudioStreamEnabled(e){this._publishLocalAudioStreamEnabled=e}get publishLocalVideoStreamEnabled(){return this._publishLocalVideoStreamEnabled}set publishLocalVideoStreamEnabled(e){this._publishLocalVideoStreamEnabled=e}get publishLocalScreenStreamEnabled(){return this._publishLocalScreenStreamEnabled}set publishLocalScreenStreamEnabled(e){this._publishLocalScreenStreamEnabled=e}updateStreams(){return Ye(this,null,function*(){yield this.cameraStreamInfo.process(this.streamInfos),yield this.screenStreamInfo.process(this.streamInfos),this.emit("publishupdate")})}setAvailableCameraDeviceId(){return Ye(this,null,function*(){var e,t,r,n;if((e=this.cameraStreamInfo.cameraVideoConstraints)!=null&&e.deviceId){let i=(t=this.cameraStreamInfo.cameraVideoConstraints)==null?void 0:t.deviceId;const a=yield Tr.AliRTS.getCameraList();a.find(c=>c.deviceId===i)||(i=(n=(r=a.find(c=>!!c.deviceId))==null?void 0:r.deviceId)!=null?n:""),this.cameraStreamInfo.cameraVideoConstraints.deviceId=i}})}setAvailableMicrophoneDeviceId(){return Ye(this,null,function*(){var e,t,r,n;if((e=this.cameraStreamInfo.micAudioConstraints)!=null&&e.deviceId){let i=(t=this.cameraStreamInfo.micAudioConstraints)==null?void 0:t.deviceId;const a=yield Tr.AliRTS.getMicList();a.find(c=>c.deviceId===i)||(i=(n=(r=a.find(c=>!!c.deviceId))==null?void 0:r.deviceId)!=null?n:""),this.cameraStreamInfo.micAudioConstraints.deviceId=i}})}createLocalStream(e){return Ye(this,null,function*(){var t;const{screen:r,mediaStream:n,videoProfile:i,screenProfile:a}=e;let{video:c,audio:l}=e;const u=p2(e);let d;if(u){n||(c===!0&&this.cameraStreamInfo.cameraVideoConstraints?(yield this.setAvailableCameraDeviceId(),c=dr({},this.cameraStreamInfo.cameraVideoConstraints)):typeof c=="object"&&(yield this.setAvailableCameraDeviceId(),c=dr(dr({},c),this.cameraStreamInfo.cameraVideoConstraints)),l===void 0&&this.audioCaptureDisabled?l=!1:l&&(l===!0&&this.cameraStreamInfo.micAudioConstraints?(yield this.setAvailableMicrophoneDeviceId(),l=dr({},this.cameraStreamInfo.micAudioConstraints)):typeof l=="object"&&(yield this.setAvailableMicrophoneDeviceId(),l=dr(dr({},l),this.cameraStreamInfo.micAudioConstraints)),this._audioCaptureDisabled=!1));const h=Date.now();try{d=yield Tr.AliRTS.createStream({audio:l,video:c,screen:r,custom:!!n,mediaStream:n,skipProfile:!0}),l&&!n&&this.slsReporter.reportAudio(null,Date.now()-h,((t=d==null?void 0:d.audioTrack)==null?void 0:t.label)||""),r&&!n&&this.slsReporter.reportScreen(null,Date.now()-h)}catch(y){throw l&&!n&&this.slsReporter.reportAudio(y,Date.now()-h,""),r&&!n&&this.slsReporter.reportScreen(null,Date.now()-h),y}if(r)yield this.screenStreamInfo.updateSource(d,xd.Screen,Xm.Screen),yield this.setScreenProfile(a),this.setScreenContentHint(),this.publishingScreenVideoStream=void 0;else if(yield this.cameraStreamInfo.updateSource(d,xd.Camera,Xm.Microphone),d.hasVideo&&(yield this.setVideoProfile(i),this.setVideoContentHint(),this.publishingCameraVideoStream=void 0),d.hasAudio&&typeof l=="boolean"){const y=this.cameraStreamInfo.audioProfile;y&&(yield d.setAudioProfile(y))}}return Tr.AliRTS.SystenUtil.isIos&&Tr.AliRTS.SystenUtil.compareVersion("15.1")&&!Tr.AliRTS.SystenUtil.compareVersion("15.2")&&(yield Lc(1e3)),yield this.updateStreams(),d})}stopLocalStream(e){return Ye(this,null,function*(){const{screen:t,video:r,audio:n}=e!=null?e:{};let i=!1;r&&this.cameraStreamInfo.originVideoTrack&&(i=!0,this.cameraStreamInfo.stopVideo(),this.publishingCameraVideoStream=void 0),n&&this.cameraStreamInfo.originAudioTrack&&(i=!0,this.cameraStreamInfo.stopAudio()),t&&this.screenStreamInfo.originVideoTrack&&(i=!0,this.screenStreamInfo.stop(),this.publishingScreenVideoStream=void 0,this.slsReporter.reportScreenStop(null)),i&&(yield this.updateStreams())})}get publishStreams(){const{publishLocalVideoStreamEnabled:e,publishLocalAudioStreamEnabled:t,publishLocalScreenStreamEnabled:r}=this;return{video:e?this.cameraStreamInfo.publishVideoStream:void 0,videoSmall:e?this.cameraStreamInfo.publishDualVideoStream:void 0,audio:t?this.cameraStreamInfo.publishAudioStream:void 0,screen:r?this.screenStreamInfo.publishVideoStream:void 0}}createHTTPPublishStream(){return Ye(this,null,function*(){var e,t,r,n;let i,a=!1,c,l,u;const d=yield this.publishStreams;try{if(!d.audio&&!d.video&&!d.videoSmall&&!d.screen)throw yt.error(`[${Jh.logName}]`,"no tracks founded"),new ft(bt.ERR_SDK_PUBLISH_INVAILD,"no tracks founded");const h=new MediaStream;(e=d.audio)!=null&&e.audioTrack&&h.addTrack(d.audio.audioTrack),(t=d.video)!=null&&t.videoTrack?(h.addTrack(d.video.videoTrack),l=d.videoSmall,u=d.screen):(r=d.screen)!=null&&r.videoTrack&&(c=lt.Screen,h.addTrack((n=d.screen)==null?void 0:n.videoTrack),a=!0),i=yield EE(h),a?(this.screenStreamInfo.cloneVideoProfile(i),this.publishingScreenVideoStream=i):(this.cameraStreamInfo.cloneVideoProfile(i),this.publishingCameraVideoStream=i)}catch(h){}return{publishStream:i,videoSmallStream:l,screenStream:u,vMsid:c}})}stop(){this.cameraStreamInfo.stop(),this.screenStreamInfo.stop(),this.updateStreams()}setVideoProfile(e,t){return Ye(this,null,function*(){yield this.cameraStreamInfo.updateVideoProfile(e,t),this.publishingCameraVideoStream&&this.cameraStreamInfo.cloneVideoProfile(this.publishingCameraVideoStream)})}setVideoContentHint(e){this.cameraStreamInfo.setVideoContentHint(e)}setAudioProfile(e){return Ye(this,null,function*(){var t;yield this.cameraStreamInfo.updateAudioProfile(e),yield(t=this.publishingCameraVideoStream)==null?void 0:t.setAudioProfile(e)})}setScreenProfile(e,t){return Ye(this,null,function*(){yield this.screenStreamInfo.updateVideoProfile(e,t),this.publishingScreenVideoStream&&this.screenStreamInfo.cloneVideoProfile(this.publishingScreenVideoStream)})}setScreenContentHint(e){this.screenStreamInfo.setVideoContentHint(e)}setCameraVideoConstraints(e){var t;this.cameraStreamInfo.cameraVideoConstraints=dr(dr({},(t=this.cameraStreamInfo.cameraVideoConstraints)!=null?t:{}),e)}setMicAudioConstraints(e){var t;this.cameraStreamInfo.micAudioConstraints=dr(dr({},(t=this.cameraStreamInfo.micAudioConstraints)!=null?t:{}),e)}},ae(Jh,"logName","LocalStreamManager"),Jh);Ta([Ze(([e])=>{const{audio:t,video:r,screen:n,custom:i,skipProfile:a,videoProfile:c,screenProfile:l}=e;return[{audio:t,video:r,screen:n,custom:i,skipProfile:a,videoProfile:c,screenProfile:l}]})],Xo.prototype,"createLocalStream",1),Ta([Ze(Et)],Xo.prototype,"stopLocalStream",1),Ta([Ze()],Xo.prototype,"createHTTPPublishStream",1),Ta([Ze()],Xo.prototype,"stop",1),Ta([Ze(Et)],Xo.prototype,"setVideoProfile",1),Ta([Ze(Et)],Xo.prototype,"setVideoContentHint",1),Ta([Ze(Et)],Xo.prototype,"setAudioProfile",1),Ta([Ze(Et)],Xo.prototype,"setScreenProfile",1),Ta([Ze(Et)],Xo.prototype,"setScreenContentHint",1),Ta([Ze(Et)],Xo.prototype,"setCameraVideoConstraints",1),Ta([Ze(Et)],Xo.prototype,"setMicAudioConstraints",1);let N2=Xo;class D2 extends Nd{constructor(){super("AliRtcScreenStandardize",vi.AliRtcSdkStreamTypeScreen),ae(this,"canvas"),ae(this,"lastWidth"),ae(this,"lastHeight"),ae(this,"hasScreenTrack",!1)}get initOptions(){return{base:4}}setOptions(t){this.options=t}isSupported(){return!(typeof TransformStream=="undefined"||typeof MediaStreamTrackProcessor=="undefined"||typeof MediaStreamTrackGenerator=="undefined")}updateProcessCanvas(t,r){if(this.canvas&&this.lastWidth===t&&this.lastHeight===r)return;const n=Math.ceil(t/this.options.base)*this.options.base,i=Math.ceil(r/this.options.base)*this.options.base;if(this.canvas||(this.canvas=document.createElement("canvas")),this.canvas.width=n,this.canvas.height=i,this.lastWidth&&t>this.lastWidth||this.lastHeight&&r>this.lastHeight){const a=this.canvas.getContext("2d");a&&a.clearRect(0,0,n,i)}this.lastWidth=t,this.lastHeight=r}shouldUpdate(t){return this.hasScreenTrack!==(!!t.originVideoTrack&&t.videoSource===xd.Screen)}handleFrame(t,r){return Ye(this,null,function*(){var n;const{displayWidth:i,displayHeight:a}=t;if(!i||!a||i%this.options.base===0&&a%this.options.base===0)return this.clear(r),t;this.updateProcessCanvas(i,a);const c=(n=this.canvas)==null?void 0:n.getContext("2d");if(this.canvas&&c){c.drawImage(t,0,0,i,a);const l=new VideoFrame(this.canvas,{timestamp:t.timestamp});return t.close(),l}return t})}process(t){return Ye(this,null,function*(){var r;if(!t.originVideoTrack||t.videoSource!==xd.Screen){this.clear(t),this.hasScreenTrack=!1;return}const n=new MediaStreamTrackProcessor({track:t.originVideoTrack}),i=new MediaStreamTrackGenerator({kind:"video"}),a=new MediaStream([i]),c=this,l=new TransformStream({transform(d,h){return Ye(this,null,function*(){const y=yield c.handleFrame(d,t);yield h.enqueue(y),y==null||y.close()})}});n.readable.pipeThrough(l).pipeTo(i.writable);const u=(r=a.getVideoTracks())==null?void 0:r[0];t.updateVideoTrack(u),this.hasScreenTrack=!0})}clear(t){this.canvas=void 0,this.lastWidth=void 0,this.lastHeight=void 0,super.clear(t)}}class L2 extends Nd{constructor(){super("blankAudio",vi.AliRtcSdkStreamTypeCapture,og.BOTH),ae(this,"hasTrack",!1),ae(this,"oscillator",null),ae(this,"audioTrack",null),ae(this,"createAudioTrack",()=>{const t=new AudioContext;this.oscillator=t.createOscillator();const r=t.createGain();r.gain.value=0;const n=t.createMediaStreamDestination();this.oscillator.connect(r),r.connect(n),this.oscillator.start();const i=n.stream;return this.audioTrack=i.getAudioTracks()[0],this.audioTrack}),this.zIndex=9}isSupported(){return!0}setOptions(){throw new Error("Method not implemented.")}shouldUpdate(t,r){return this.hasTrack!==r.some(n=>n.originVideoTrack||n.originAudioTrack)}process(t,r){return Ye(this,null,function*(){var n;const i=r.some(a=>a.originVideoTrack||a.originAudioTrack);this.hasTrack=i,i?this.audioTrack&&((n=this.oscillator)==null||n.stop(),this.oscillator=null,this.audioTrack.stop(),this.audioTrack=null):(this.audioTrack||(this.audioTrack=this.createAudioTrack()),t.updateAudioTrack(this.audioTrack))})}}class RE{constructor(t){ae(this,"name","COMMON"),this.name=t||this.name}info(...t){}warn(...t){}print(t,...r){const n=t.toLowerCase();n&&console[n](`[${t}][${this.name}]`,...r)}}ae(RE,"LEVEL",0);class V2{constructor(){ae(this,"logger",new RE("AudioMixer")),ae(this,"audioContext",new AudioContext),ae(this,"audioDestination",this.audioContext.createMediaStreamDestination()),ae(this,"audioTrack",l2(this.audioDestination.stream)),ae(this,"sourceNodeMap",{})}get sourceNodeList(){return Object.values(this.sourceNodeMap).map(t=>t.sourceNode).filter(t=>!!t)}get gainNodeList(){return Object.values(this.sourceNodeMap).map(t=>t.gainNode).filter(t=>!!t)}get sourceCount(){return this.sourceNodeList.length}resume(){var t;return(t=this.audioContext)==null?void 0:t.resume()}addTrack(t){this.connectTrack(t)}hasTrack(t){return!!this.sourceNodeMap[t]}removeTrack(t){const{sourceNode:r,gainNode:n}=this.sourceNodeMap[t]||{};n==null||n.disconnect(),r==null||r.disconnect(),delete this.sourceNodeMap[t],r?this.logger.info("SourceNode disconnected. Active source node:",this.sourceNodeList.length):this.logger.warn(`SourceNode ${t} does not exit. Active source node: ${this.sourceNodeList.length}`)}getAudioTrack(){return this.audioTrack}setVolume(t,r){const{gainNode:n}=this.sourceNodeMap[r]||{};n?(this.logger.info(`Setting node(${r}) volume to ${this.scale(t)}`),n.gain.value=this.scale(t)):this.logger.warn(`GainNode ${r} does not exit.`)}reset(){this.disconnectSourceNode(),this.sourceNodeMap={}}dispose(){var t;this.reset(),(t=this.audioTrack)==null||t.stop(),this.audioDestination.disconnect(),this.audioContext.close()}connectTrack(t){if(!this.audioContext)return this.logger.warn("AudioContext not initialized");let r=new MediaStream;r.addTrack(t);const n=this.audioContext.createMediaStreamSource(r),i=this.audioContext.createGain();i.gain.value=1,n.connect(i),i.connect(this.audioDestination),this.sourceNodeMap[t.id]={track:t,sourceNode:n,gainNode:i},this.logger.info("New sourceNode connected. Active source node:",this.sourceNodeList.length)}disconnectSourceNode(){this.sourceNodeList.forEach(t=>t.disconnect()),this.gainNodeList.forEach(t=>t.disconnect())}scale(t){return t/100}}const U2=4;class B2 extends Nd{constructor(){super("audioMixer",vi.AliRtcSdkStreamTypeCapture,og.AUDIO),ae(this,"audioMixer"),ae(this,"primaryAudioTrackId"),ae(this,"screenAudioTrackId"),ae(this,"dirty",!1),this.zIndex=8}get initOptions(){return{audio:1,screen:1}}setOptions(t){Object.entries(t).forEach(([r,n])=>{this.isValidVolume(n)&&(this.options[r]=n)}),this.dirty=!0,this.emit("updated")}isSupported(){return"AudioContext"in window}shouldUpdate(t,r){var n,i;if(t.type!==vi.AliRtcSdkStreamTypeCapture)return!1;const a=r.find(l=>l.type===vi.AliRtcSdkStreamTypeCapture),c=r.find(l=>l.type===vi.AliRtcSdkStreamTypeScreen);return!(this.primaryAudioTrackId===((n=a==null?void 0:a.currentAudioTrack)==null?void 0:n.id)&&this.screenAudioTrackId===((i=c==null?void 0:c.currentAudioTrack)==null?void 0:i.id)&&!this.dirty)}process(t,r){return Ye(this,null,function*(){var n,i;this.dirty=!1;const a=r.find(u=>u.type===vi.AliRtcSdkStreamTypeScreen),c=t.currentAudioTrack,l=a==null?void 0:a.currentAudioTrack;if(!l&&this.options.audio===1){this.audioMixer&&(this.audioMixer.dispose(),this.audioMixer=void 0),this.primaryAudioTrackId=c==null?void 0:c.id,t.updateAudioTrack(c);return}this.audioMixer||(this.audioMixer=new V2),yield this.audioMixer.resume(),this.primaryAudioTrackId&&(c==null?void 0:c.id)!==this.primaryAudioTrackId&&((n=this.audioMixer)==null||n.removeTrack(this.primaryAudioTrackId)),c&&!this.audioMixer.hasTrack(c==null?void 0:c.id)&&this.audioMixer.addTrack(c),this.primaryAudioTrackId=c==null?void 0:c.id,this.screenAudioTrackId&&(l==null?void 0:l.id)!==this.screenAudioTrackId&&((i=this.audioMixer)==null||i.removeTrack(this.screenAudioTrackId)),l&&!this.audioMixer.hasTrack(l==null?void 0:l.id)&&this.audioMixer.addTrack(l),this.screenAudioTrackId=l==null?void 0:l.id,this.updateVolume(),t.updateAudioTrack(this.audioMixer.getAudioTrack())})}isValidVolume(t){return t!==void 0&&t>=0&&t<=U2}updateVolume(){this.audioMixer&&(this.primaryAudioTrackId&&this.audioMixer.setVolume(this.options.audio*100,this.primaryAudioTrackId),this.screenAudioTrackId&&this.audioMixer.setVolume(this.options.screen*100,this.screenAudioTrackId))}clear(t){var r;(r=this.audioMixer)==null||r.dispose(),super.clear(t)}}class U0{constructor(t,r){ae(this,"originTrack"),ae(this,"originVideo"),ae(this,"targetWidth"),ae(this,"targetHeight"),ae(this,"targetFrameRate"),ae(this,"targetCanvas"),ae(this,"animationFrameId"),ae(this,"resultTrack"),this.targetWidth=r.width,this.targetHeight=r.height,this.targetFrameRate=r.frameRate,this.originTrack=t,this.originVideo=document.createElement("video"),this.originVideo.muted=!0,this.originVideo.autoplay=!0,this.originVideo.controls=!1,this.targetCanvas=document.createElement("canvas"),this.targetCanvas.width=this.targetWidth,this.targetCanvas.height=this.targetHeight}updateOptions(t){this.targetWidth=t.width,this.targetHeight=t.height,this.targetFrameRate=t.frameRate,this.targetCanvas.width=this.targetWidth,this.targetCanvas.height=this.targetHeight,this.resultTrack&&this.resultTrack.applyConstraints({frameRate:this.targetFrameRate})}dispose(){}getVideoTrack(){return this.resultTrack||(this.resultTrack=this.targetCanvas.captureStream().getVideoTracks()[0],this.resultTrack.applyConstraints({frameRate:this.targetFrameRate})),this.resultTrack}cancelAnimation(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0)}getPositionAndSize(t,r,n,i){const a=r/t,c=i/n;let l=n,u=i,d=0,h=0;return c>a?(l=Math.round(u/a),d=Math.round((n-l)/2)):c<a&&(u=Math.round(l*a),h=Math.round((i-u)/2)),{x:d,y:h,width:l,height:u}}}class j2 extends U0{constructor(t,r){super(t,r),ae(this,"targetCtx"),this.targetCtx=this.targetCanvas.getContext("2d"),this.startRender=this.startRender.bind(this),this.stopRender=this.startRender.bind(this),this.initStream(t)}initStream(t){const r=new MediaStream;r.addTrack(t),this.originVideo.srcObject=r,this.originVideo.play(),this.originVideo.addEventListener("canplay",this.startRender),this.originVideo.addEventListener("pause",this.stopRender),this.originVideo.addEventListener("ended",this.stopRender)}startRender(){this.cancelAnimation();const t=()=>{if(!this.targetCtx)return;const r=this.getPositionAndSize(this.originVideo.videoWidth,this.originVideo.videoHeight,this.targetWidth,this.targetHeight);this.targetCtx.drawImage(this.originVideo,0,0,this.originVideo.videoWidth,this.originVideo.videoHeight,r.x,r.y,r.width,r.height),!this.originVideo.paused&&!this.originVideo.ended&&(this.animationFrameId=requestAnimationFrame(t))};t()}stopRender(){this.cancelAnimation()}dispose(){this.stopRender(),this.originVideo.removeEventListener("play",this.startRender),this.originVideo.removeEventListener("pause",this.stopRender),this.originVideo.removeEventListener("ended",this.stopRender),this.originVideo.pause(),this.originVideo.srcObject=null}}const F2=`
attribute vec2 a_position;
attribute vec2 a_texCoord;

uniform vec2 u_resolution;
varying vec2 v_texCoord;

void main() {
  // convert the rectangle from pixels to 0.0 to 1.0
  vec2 zeroToOne = a_position / u_resolution;

  // convert from 0->1 to 0->2
  vec2 zeroToTwo = zeroToOne * 2.0;

  // convert from 0->2 to -1->+1 (clipspace)
  vec2 clipSpace = zeroToTwo - 1.0;

  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);

  v_texCoord = a_texCoord;
}
`,$2=`
precision mediump float;

varying lowp vec2 v_texCoord;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, v_texCoord);
}
`;function H2(){let e;try{const t=document.createElement("canvas");t.width=1,t.height=1;const r={alpha:!1,depth:!1,stencil:!1,antialias:!1,preferLowPowerToHighPerformance:!0};e=t.getContext("webgl2",r)}catch(t){return!1}return!!e}function z2(e){const t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),t}function wE(e,t,r){const n=e.createShader(t);if(!n){console.error("create shader failed");return}return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(n)}`),e.deleteShader(n),null)}function W2(e,t,r){const n=wE(e,e.VERTEX_SHADER,t),i=wE(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(!(!a||!n||!i))return e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(console.error(`Unable to initialize the shader program: ${e.getProgramInfoLog(a)}`),null)}function G2(e,t,r,n=0,i=0){const a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);const c=n,l=i,u=t+n,d=r+i,h=[c,l,u,l,c,d,c,d,u,l,u,d];return e.bufferData(e.ARRAY_BUFFER,new Float32Array(h),e.STATIC_DRAW),a}class TE extends U0{constructor(t,r){super(t,r),ae(this,"targetCtx"),ae(this,"targetTexture"),ae(this,"locationMap"),this.targetCtx=this.targetCanvas.getContext("webgl2"),this.locationMap={},this.startRender=this.startRender.bind(this),this.stopRender=this.startRender.bind(this),this.updateBuffer=this.updateBuffer.bind(this),this.initGL(),this.initStream(t)}static isSupport(){return H2()}initGL(){const t=this.targetCtx;if(!t)return;this.targetTexture=z2(t);const r=W2(t,F2,$2);if(!r){console.log("[ScalerWebGL] program is null.");return}t.useProgram(r);const n=t.getAttribLocation(r,"a_position"),i=t.getAttribLocation(r,"a_texCoord"),a=t.getUniformLocation(r,"u_resolution");if(!a){console.log("[ScalerWebGL] resolutionLocation is null.");return}const c=t.getUniformLocation(r,"u_texture");if(!c){console.log("[ScalerWebGL] textureLocation is null.");return}this.locationMap={program:r,positionLocation:n,texCoordLocation:i,resolutionLocation:a,textureLocation:c},this.updateBuffer()}initStream(t){const r=new MediaStream;r.addTrack(t),this.originVideo.srcObject=r,this.originVideo.play(),this.originVideo.addEventListener("canplay",this.startRender),this.originVideo.addEventListener("pause",this.stopRender),this.originVideo.addEventListener("ended",this.stopRender),this.originVideo.addEventListener("resize",this.updateBuffer)}startRender(){this.cancelAnimation();const t=()=>{this.targetCtx&&(this.renderTexture(),!this.originVideo.paused&&!this.originVideo.ended&&(this.animationFrameId=requestAnimationFrame(t)))};t()}updateBuffer(){const t=this.targetCtx,r=this.locationMap.positionLocation,n=this.locationMap.texCoordLocation,i=this.locationMap.resolutionLocation;if(!t||!this.originVideo.videoWidth||!this.originVideo.videoHeight)return;const a=this.getPositionAndSize(this.originVideo.videoWidth,this.originVideo.videoHeight,this.targetWidth,this.targetHeight),c=G2(t,a.width,a.height,a.x,a.y);t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n);const l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.uniform2f(i,this.targetWidth,this.targetHeight)}renderTexture(){const t=this.targetTexture,r=this.targetCtx,n=this.locationMap.textureLocation;!t||!r||(r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this.originVideo),r.useProgram(this.locationMap.program),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t),r.uniform1i(n,0),r.viewport(0,0,r.canvas.width,r.canvas.height),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLES,0,6))}stopRender(){this.cancelAnimation()}updateOptions(t){super.updateOptions(t),this.updateBuffer()}dispose(){this.stopRender(),this.originVideo.removeEventListener("play",this.startRender),this.originVideo.removeEventListener("pause",this.stopRender),this.originVideo.removeEventListener("ended",this.stopRender),this.originVideo.removeEventListener("resize",this.updateBuffer),this.originVideo.pause(),this.originVideo.srcObject=null}}const K2=`
var targetOptions={
  width: 320,
  height: 180,
  ratio: 0.5625,
  interval: 66,
};
var timer;
var reader;
var writer;

function updateOptions(data) {
  targetOptions.width=data.width||320;
  targetOptions.height=data.height||180;
  targetOptions.ratio=targetOptions.height/targetOptions.width;
  targetOptions.interval=Math.floor(1000/data.frameRate)||66;
}

function postError(err, defaultMsg) {
  var msg=err ? err.message : '';
  postMessage({ type: 'error', messge: msg || defaultMsg });
}

function startLoop(data) {
  if(timer){
    clearInterval(timer);
  }
  timer=setInterval(() => {
    reader.read().then(function (ret){
      var videoFrame=ret.value;
      if(ret.done || !videoFrame) {
        return;
      }

      var vratio=videoFrame.displayHeight/videoFrame.displayWidth;
      var vw=videoFrame.displayWidth;
      var vh=videoFrame.displayHeight;
      var vx=0;
      var vy=0;
      if(targetOptions.ratio>vratio){
        vw=Math.round(vh/targetOptions.ratio);
        vx=Math.round((videoFrame.displayWidth-vw)/2);
      }else if(targetOptions.ratio<vratio){
        vh=Math.round(vw*targetOptions.ratio);
        vy=Math.round((videoFrame.displayHeight-vh)/2);
      }
      var newFrame=new VideoFrame(videoFrame,{
        displayWidth:targetOptions.width,
        displayHeight:targetOptions.height,
        visibleRect:{
          x:vx,
          y:vy,
          width:vw,
          height:vh,
        },
        timestamp:videoFrame.timestamp,
      });

      writer.write(newFrame).catch(function (err){
        postError(err, 'write error');
      });
      videoFrame.close();
    }).catch(function (err){
      postError(err, 'read error');
    });
  }, targetOptions.interval);
}

onmessage = function(evt) {
  var data=evt.data;
  switch (data.type) {
    case 'startRender':
      updateOptions(data);
      reader=data.readable.getReader();
      writer=data.writable.getWriter();
      startLoop(data);
      break;
    case 'updateOptions':
      updateOptions(data);
      startLoop(data);
      break;
    default:
      break;
  }
}
`;class AE extends U0{constructor(t,r){super(t,r),ae(this,"processor"),ae(this,"trackGenerator"),ae(this,"worker"),this.processor=new MediaStreamTrackProcessor({track:t}),this.trackGenerator=new MediaStreamTrackGenerator({kind:"video"}),this.startTransform()}static isSupport(){return"MediaStreamTrackProcessor"in window&&"MediaStreamTrackGenerator"in window&&"TransformStream"in window&&"VideoFrame"in window}startTransform(){const t=new Blob([K2],{type:"text/javascript"}),r=(window.URL||window.webkitURL).createObjectURL(t);this.worker=new Worker(r);const{readable:n}=this.processor,{writable:i}=this.trackGenerator;this.worker.postMessage({type:"startRender",readable:n,writable:i,width:this.targetWidth,height:this.targetHeight,frameRate:this.targetFrameRate},[n,i])}updateOptions(t){super.updateOptions(t),this.worker&&this.worker.postMessage(dr({type:"updateOptions"},t))}dispose(){try{this.processor.readable.cancel(),this.trackGenerator.writable.close()}catch(t){}}getVideoTrack(){return this.trackGenerator}}class B0{static isSupport(){return typeof HTMLCanvasElement.prototype.captureStream=="function"}static getInstance(t,r){return AE.isSupport()?new AE(t,r):TE.isSupport()?new TE(t,r):new j2(t,r)}}class q2 extends Nd{constructor(){super(...arguments),ae(this,"hasVideoTrack",!1),ae(this,"videoScaler")}get initOptions(){return{width:320,height:180,frameRate:15}}setOptions(t){var r;this.options=t,(r=this.videoScaler)==null||r.updateOptions(t)}isSupported(){return B0.isSupport()}shouldUpdate(t){return this.hasVideoTrack!==!!t.currentVideoTrack}process(t){return Ye(this,null,function*(){if(t.currentVideoTrack){if(this.hasVideoTrack=!0,!this.videoScaler){const n=this.options||this.initOptions;this.videoScaler=B0.getInstance(t.currentVideoTrack,n)}const r=this.videoScaler.getVideoTrack();r&&t.updateDualVideoTrack(r)}else t.updateDualVideoTrack(),this.emit("updated"),this.videoScaler&&this.videoScaler.dispose()})}clear(t){super.clear(t),this.hasVideoTrack=!1,t==null||t.updateDualVideoTrack()}}var J2=Object.defineProperty,Y2=Object.getOwnPropertyDescriptor,vo=(e,t,r,n)=>{for(var i=n>1?void 0:n?Y2(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&J2(t,r,i),i};class Bi extends ti{constructor(t){super(),ae(this,"self"),ae(this,"userMap",{}),ae(this,"usersViewMap",{}),ae(this,"rtsManager"),ae(this,"localStreamManager"),ae(this,"authInfo"),ae(this,"signalingManager"),ae(this,"pluginManager"),ae(this,"audioMixerPlugin"),ae(this,"dualVideoPlugin"),ae(this,"blankAudioPlugin"),ae(this,"slsReporter"),ae(this,"statsMonitorId"),ae(this,"autoSubAudio",!0),ae(this,"autoSubVideo",!0),ae(this,"autoSubScreen",!0),ae(this,"wantSubAudio",!0),ae(this,"wantSubVideo",!0),ae(this,"wantSubScreen",!0),ae(this,"defaultStreamType",Ti.AliRtcVideoStreamTypeHigh),ae(this,"audioMuted",!1),ae(this,"playoutVolume",1),ae(this,"audioVolumeIndicationInterval",0),ae(this,"indicationTimer",0),ae(this,"parameter",{}),ae(this,"publishRetryOptionsHook",()=>{for(const i of this.remoteUsers)i.restore()}),ae(this,"subscribeRetryOptionsHook",()=>{let i=!1,a;for(const c of this.remoteUsers)if(i)c.restore();else{const l=c.getRetryOptions();l&&(a=l,i=!0)}return a});const{signalingManager:r,slsReporter:n}=t;this.signalingManager=r,this.addSignalingManagerListener(),this.slsReporter=n,this.pluginManager=new P2,this.localStreamManager=new N2(this.pluginManager,this.slsReporter),this.rtsManager=new O2(this.localStreamManager,this.slsReporter,this.publishRetryOptionsHook,this.subscribeRetryOptionsHook,this.parameter),this.self=new bE({rtsManager:this.rtsManager,localStreamManager:this.localStreamManager,slsReporter:this.slsReporter,signalingManager:this.signalingManager,pluginManager:this.pluginManager,audioVolumeIndicationInterval:this.audioVolumeIndicationInterval,parameter:this.parameter}),this.audioMixerPlugin=new B2,this.pluginManager.add(this.audioMixerPlugin),this.dualVideoPlugin=new q2("dualVideoPlugin"),$T()&&this.pluginManager.add(new D2)}addSignalingManagerListener(){this.signalingManager.on("onNotifyPublish",t=>{yt.event("[Signaling] Notify Publish ",t),t.forEach(r=>{this.onRemotePublishStateChange(r)})}),this.signalingManager.stsManager.on("onTokenUpdate",(t,r)=>{this.slsReporter.updateToken(r,t)})}isAutoSubAudio(){return this.autoSubAudio}setAutoSubAudio(t){this.autoSubAudio=t}isAutoSubVideo(){return this.autoSubVideo}setAutoSubVideo(t){this.autoSubVideo=t}isAutoSubScreen(){return this.autoSubScreen}setAutoSubScreen(t){this.autoSubScreen=t}isWantSubAudio(){return this.wantSubAudio}setWantSubAudio(t){this.wantSubAudio=t,this.remoteUsers.forEach(r=>{r.setWantSubAudio(t),r.updateSubscribe(Kr.User)})}isWantSubVideo(){return this.wantSubVideo}setWantSubVideo(t){this.wantSubVideo=t,this.remoteUsers.forEach(r=>{r.setWantSubVideo(t),r.updateSubscribe(Kr.User)})}isWantSubScreen(){return this.wantSubScreen}setWantSubScreen(t){this.wantSubScreen=t,this.remoteUsers.forEach(r=>{r.setWantSubScreen(t),r.updateSubscribe(Kr.User)})}setRemoteDefaultVideoStreamType(t){this.defaultStreamType=t,this.remoteUsers.forEach(r=>{r.setRemoteDefaultVideoStreamType(t)})}setRemoteUserVideoStreamType(t,r){var n;(n=this.getRemoteUser(t))==null||n.setRemoteDefaultVideoStreamType(r)}setAudioMuted(t){this.audioMuted=t,this.remoteUsers.forEach(r=>{r.setAudioMuted(t)})}setLocalViewConfig(t,r){var n;if(!t)return(n=this.publisher)==null?void 0:n.setViewConfig(null,r);const i=D0(t);i.length!==0&&i.forEach(a=>{var c,l;(c=this.publisher)==null||c.resetElement(a),Object.values(this.usersViewMap).forEach(({cameraViews:u=[],screenViews:d=[]})=>{u.includes(a)&&u.splice(u.indexOf(a),1),d.includes(a)&&d.splice(d.indexOf(a),1)}),(l=this.publisher)==null||l.setViewConfig(i,r)})}setRemoteViewConfig(t,r,n){var i,a;if(!r)return(i=this.userMap[t])==null?void 0:i.setViewConfig(null,n);const c=D0(r);c.length!==0&&(c.forEach(l=>{var u;(u=this.publisher)==null||u.resetElement(l),Object.values(this.usersViewMap).forEach(({cameraViews:d=[],screenViews:h=[]})=>{d.includes(l)&&d.splice(d.indexOf(l),1),h.includes(l)&&h.splice(h.indexOf(l),1)})}),(a=this.userMap[t])==null||a.setViewConfig(c,n))}get channel(){var t;return(t=this.authInfo)==null?void 0:t.channelId}get userId(){var t;return(t=this.authInfo)==null?void 0:t.userId}get remoteUsers(){return Object.values(this.userMap)}get publisher(){return this.self}get isSubscribing(){var t;return((t=this.remoteUsers)!=null?t:[]).some(r=>{const{isAudioSubscribing:n,isVideoSubscribing:i,isScreenSubscribing:a}=r;return n||i||a})}onRemotePublishStateChange(t){var r;const{userid:n,callid:i,subscribe:a,pubid:c="",tracks:l}=t,u=(r=a==null?void 0:a.pullstreamurl)!=null?r:"";let d=this.getRemoteUser(n);if(!d)return;const h=d.streamInfo.audioTrackInfo,y=d.streamInfo.videoTrackInfo;d.updateRemoteTracks(i,u,c,l),d.updateSubscribe(Kr.Publish),(h!==d.streamInfo.audioTrackInfo||y!==d.streamInfo.videoTrackInfo)&&this.emit("remoteTrackAvailableChange",n,d.streamInfo.audioTrackInfo,d.streamInfo.videoTrackInfo)}init(t,r){var n;this.authInfo=t,this.self||(this.self=new bE({rtsManager:this.rtsManager,localStreamManager:this.localStreamManager,slsReporter:this.slsReporter,signalingManager:this.signalingManager,pluginManager:this.pluginManager,audioVolumeIndicationInterval:this.audioVolumeIndicationInterval,parameter:this.parameter})),this.self.enableAudioVolumeIndication(this.audioVolumeIndicationInterval),(n=this.self)==null||n.initInfo(t,r.pushstreamurl),r.users.forEach(i=>{const a=i.userid;if(a){const c=this.addUser(a,i.displayname,Kr.InRoom),{callid:l,subscribe:u,tracks:d}=i;c.updateRemoteTracks(l,(u==null?void 0:u.pullstreamurl)||"","",d),this.emit("remoteTrackAvailableChange",a,c.streamInfo.audioTrackInfo,c.streamInfo.videoTrackInfo)}}),this.startStatsMonitor()}leave(){return Ye(this,null,function*(){var t;this.stopStatsMonitor(),Object.values(this.usersViewMap).forEach(({cameraViews:r=[],screenViews:n=[]})=>{r.forEach(i=>{i.srcObject=null,i._playPromise=void 0}),n.forEach(i=>{i.srcObject=null,i._playPromise=void 0})}),this.usersViewMap={};for(let r in this.userMap)this.userMap[r]&&(this.userMap[r].clear(),delete this.userMap[r]);(t=this.self)==null||t.leave(),this.localStreamManager.stop(),this.rtsManager.clear(),this.authInfo=void 0})}clear(){return Ye(this,null,function*(){var t;yield this.leave(),(t=this.self)==null||t.clear(),this.pluginManager.removeAll()})}startStatsMonitor(){this.statsMonitorId=window.setInterval(()=>Ye(this,null,function*(){if(this.publisher){const{audio:n,video:i,candidate:a}=yield this.publisher.getStats();n&&n.length>0&&this.emit("rtcLocalAudioStats",n),i&&i.length>0&&this.emit("rtcLocalVideoStats",i),a&&this.emit("rtcStats",a)}const t=[],r=[];for(const n of this.remoteUsers){const{audio:i,video:a}=yield n.getStats();i&&i.forEach(c=>{t.push(c)}),a&&a.forEach(c=>{r.push(c)})}t.length>0&&this.emit("rtcRemoteAudioStats",t),r.length>0&&this.emit("rtcRemoteVideoStats",r)}),2e3)}stopStatsMonitor(){this.statsMonitorId&&clearInterval(this.statsMonitorId)}addUser(t,r,n){return this.userMap[t]||(this.userMap[t]=this.executeAddUser(t,r,n)),this.userMap[t]}executeAddUser(t,r,n){const i=new A2({userId:t,displayName:r,rtsManager:this.rtsManager,signalingManager:this.signalingManager,usersViewMap:this.usersViewMap,slsReporter:this.slsReporter,localUser:this.self,audioVolumeIndicationInterval:this.audioVolumeIndicationInterval,playoutVolume:this.playoutVolume,parameter:this.parameter});return i.on(Ki.Remote,this.onRemoteDeviceStatusChange.bind(this)),i.on(Fr.PullStreamStats,this.onRemoteStatReport.bind(this)),i.on(Fr.RtsSubscribeExceeds,this.onSubscribeExceeds.bind(this)),i.on("audioSubscribeStateChanged",(a,c,l,u)=>{this.emit("audioSubscribeStateChanged",a,c,l,u,this.channel||"")}),i.on("videoSubscribeStateChanged",(a,c,l,u)=>{this.emit("videoSubscribeStateChanged",a,c,l,u,this.channel||"")}),i.on("screenSubscribeStateChanged",(a,c,l,u)=>{this.emit("screenSubscribeStateChanged",a,c,l,u,this.channel||"")}),i.on("dataSubscribeStateChanged",(a,c,l,u)=>{this.emit("dataSubscribeStateChanged",a,c,l,u,this.channel||"")}),i.on("remoteAudioAutoPlayFail",a=>{this.emit("remoteAudioAutoPlayFail",a)}),i.on("remoteVideoAutoPlayFail",(a,c)=>{this.emit("remoteVideoAutoPlayFail",a,c)}),i.on("remoteAudioPlayError",(a,c)=>{this.emit("remoteAudioPlayError",a,c)}),i.on("remoteVideoPlayError",(a,c)=>{this.emit("remoteVideoPlayError",a,c)}),i.on("remoteSubscribeError",a=>{this.emit("remoteSubscribeError",a,i.userId)}),i.on("occurError",a=>{this.emit("occurError",a,i.userId)}),i.on("remoteDataChannelMessage",(a,c)=>{this.emit("remoteDataChannelMessage",a,c)}),i.setWantSubAudio(this.autoSubAudio&&this.wantSubAudio),i.setWantSubVideo(this.autoSubVideo&&this.wantSubVideo),i.setWantSubScreen(this.autoSubScreen&&this.wantSubScreen),i.setRemoteDefaultVideoStreamType(this.defaultStreamType),i.setAudioMuted(this.audioMuted),(this.autoSubAudio||this.autoSubVideo||this.autoSubScreen)&&i.updateSubscribe(n),i}onRemoteDeviceStatusChange(t,r){t===Fr.MuteAudio?this.emit("userAudioMuted",r,!0):t===Fr.UnmuteAudio?this.emit("userAudioMuted",r,!1):t===Fr.MuteVideo?this.emit("userVideoMuted",r,!0):t===Fr.UnmuteVideo?this.emit("userVideoMuted",r,!1):t===Fr.MuteScreen?this.emit("userScreenMuted",r,!0):t===Fr.UnmuteScreen&&this.emit("userScreenMuted",r,!1)}onRemoteStatReport(t,r,n){this.emit(Fr.PullStreamStats,t,r,n)}onSubscribeExceeds(t,r){this.emit(Fr.RtsSubscribeExceeds,t,r)}removeLeftUser(t){return Ye(this,null,function*(){t.userid&&this.userMap[t.userid]&&(yield this.userMap[t.userid].clear(!1),delete this.userMap[t.userid])})}updateUsers(t){const r=[],n=[],i={};t.forEach(l=>{l.userid&&(this.userMap[l.userid]?(n.push(l),i[l.userid]=this.userMap[l.userid]):(r.push(l),i[l.userid]=this.executeAddUser(l.userid,l.displayname,Kr.Resume)))});const a=Object.keys(this.userMap),c=[];return a.forEach(l=>{i[l]||c.push({userid:l,reason:"",leavecode:x0.AliRtcUserOfflineQuit})}),this.userMap=i,{joinList:r,leaveList:c,presentList:n}}getRemoteUser(t){return this.userMap[t]}updateRemoteUserDeviceStatus(t){t&&t.userid&&this.userMap[t.userid]&&this.userMap[t.userid].updateRemoteUserDeviceStatus(t.status)}updateAudioWant(t,r){const n=this.userMap[t];if(!n)throw new ft(bt.ERR_INNER,`no remote user(${t}) founded`);n.setWantSubAudio(r),r?n.updateSubscribe(Kr.User):n.stopSubscribe({audio:!0})}updateVideoWant(t,r){const n=this.userMap[t];if(!n)throw new ft(bt.ERR_INNER,`no remote user(${t}) founded`);n.setWantSubVideo(r),r?n.updateSubscribe(Kr.User):n.stopSubscribe({video:!0})}updateScreenWant(t,r){const n=this.userMap[t];if(!n)throw new ft(bt.ERR_INNER,`no remote user(${t}) founded`);n.setWantSubScreen(r),r?n.updateSubscribe(Kr.User):n.stopSubscribe({screen:!0})}stopIndication(){this.indicationTimer&&window.clearInterval(this.indicationTimer)}startIndication(t){this.stopIndication(),this.indicationTimer=window.setInterval(()=>{var r;const n=this.remoteUsers.map(i=>({userId:i.userId,volume:i.getAudioLevel()||0}));n.unshift({userId:"",volume:((r=this.self)==null?void 0:r.getAudioLevel())||0}),this.emit("audioVolume",n)},t)}setEnableDualVideoStream(t,r){if(!this.dualVideoPlugin)return;r&&this.dualVideoPlugin.setOptions(r);const n=this.pluginManager.has(this.dualVideoPlugin.name);t?!n&&this.pluginManager.add(this.dualVideoPlugin):n&&this.pluginManager.remove(this.dualVideoPlugin.name)}setAudioVolume(t){var r;(r=this.audioMixerPlugin)==null||r.setOptions(t)}enableAudioVolumeIndication(t){var r;this.audioVolumeIndicationInterval!==t&&(this.audioVolumeIndicationInterval>0&&t<=0&&this.stopIndication(),t>0&&this.startIndication(t),this.audioVolumeIndicationInterval=t,this.remoteUsers.forEach(n=>{n.enableAudioVolumeIndication(t)}),(r=this.self)==null||r.enableAudioVolumeIndication(t))}setPlayoutVolume(t){this.playoutVolume=t,this.remoteUsers.forEach(r=>{r.setPlayoutVolume(t)})}refreshAuthInfo(t){var r;this.authInfo&&(this.authInfo=dr(dr({},this.authInfo),t)),t.userId&&((r=this.self)==null||r.refreshUserInfo(t.userId))}setEnableMediaExtensionMsg(t){this.rtsManager.setEncodedInsertableStreams(t)}setAudioRedEnabled(t){this.rtsManager.setAudioRedEnabled(t)}setParameter(t){var r,n,i;const a=JSON.parse(t);Object.keys(a).forEach(c=>{const l=this.parameter[c],u=a[c];typeof l=="object"&&typeof u=="object"?this.parameter[c]=dr(dr({},l),u):this.parameter[c]=u}),a.enableBlankAudio===!0?(this.blankAudioPlugin||(this.blankAudioPlugin=new L2),this.pluginManager.has((r=this.blankAudioPlugin)==null?void 0:r.name)||this.pluginManager.add(this.blankAudioPlugin)):a.enableBlankAudio===!1&&(this.blankAudioPlugin&&this.pluginManager.remove((n=this.blankAudioPlugin)==null?void 0:n.name),(i=this.blankAudioPlugin)==null||i.clear(),this.blankAudioPlugin=void 0)}getParameter(){return JSON.stringify(this.parameter)}sendDataChannelMessage(t){var r;return(r=this.self)==null?void 0:r.sendDataChannelMessage(t)}}ae(Bi,"logName","BizControl"),vo([Ze()],Bi.prototype,"init",1),vo([Ze()],Bi.prototype,"leave",1),vo([Ze()],Bi.prototype,"clear",1),vo([Ze(Et)],Bi.prototype,"addUser",1),vo([Ze()],Bi.prototype,"removeLeftUser",1),vo([Ze()],Bi.prototype,"updateUsers",1),vo([Ze(Et)],Bi.prototype,"updateAudioWant",1),vo([Ze(Et)],Bi.prototype,"updateVideoWant",1),vo([Ze(Et)],Bi.prototype,"updateScreenWant",1),vo([Ze()],Bi.prototype,"stopIndication",1),vo([Ze()],Bi.prototype,"startIndication",1),vo([Ze(Et)],Bi.prototype,"setEnableDualVideoStream",1),vo([Ze(Et)],Bi.prototype,"setAudioVolume",1),vo([Ze()],Bi.prototype,"enableAudioVolumeIndication",1);const j0=e=>Ye(void 0,null,function*(){const t=new Uint8Array(160).fill(170),r=new TextEncoder().encode(e),n=yield window.crypto.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]),i=yield window.crypto.subtle.sign("HMAC",n,r);return Array.from(new Uint8Array(i)).map(a=>a.toString(16).padStart(2,"0")).join("")});class X2{constructor(t){ae(this,"authInfo"),ae(this,"slsReporter"),this.slsReporter=t}doRequest(t,r){var n;const i=this.authInfo;if(!i)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const a="https://gw.rtn.aliyuncs.com",c=WT[t],l={appid:i.appId,userid:i.userId,channelid:i.channelId,timestamp:i.timestamp,token:i.token,nonce:i.nonce?i.nonce:"",requestid:po.createCallid(),tokensid:!1,session:(n=i.sessionId)!=null?n:po.createCallid()},u=Object.keys(l).map(h=>`${h}=${encodeURIComponent(l[h])}`).join("&"),d=`${a}${c}?${u}`;return fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then(h=>h.status!==200?(this.slsReporter.reportTranscodingError(h.status,r.taskid||""),Promise.reject(new ft(bt.ERR_INNER,`transcoding request failed, status: ${h.status}`))):h).catch(h=>Promise.reject(new ft(bt.ERR_INNER,`transcoding request failed, err: ${h.message}`)))}setAuthInfo(t){this.authInfo=t}clear(){this.authInfo=void 0}startPublishLiveStream(t,r){return Ye(this,null,function*(){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const n=yield j0(t.split("?")[0]),i=go.MPU_TASK_TRANSACTION_UPDATE,a=r.toJson(i,this.authInfo,n,t);return this.doRequest(i,a)})}startPublishLiveStreamWithTaskId(t,r){return Ye(this,null,function*(){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const n=go.MPU_TASK_TRANSACTION_UPDATE,i=r.toJson(n,this.authInfo,t);return this.doRequest(n,i)})}updatePublishLiveStream(t,r){return Ye(this,null,function*(){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const n=yield j0(t.split("?")[0]),i=go.MPU_TASK_TRANSACTION_UPDATE,a=r.toJson(i,this.authInfo,n,t);return this.doRequest(i,a)})}updatePublishLiveStreamWithTaskId(t,r){return Ye(this,null,function*(){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const n=go.MPU_TASK_TRANSACTION_UPDATE,i=r.toJson(n,this.authInfo,t);return this.doRequest(n,i)})}stopPublishLiveStream(t){return Ye(this,null,function*(){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const r=yield j0(t.split("?")[0]),n=go.MPU_TASK_TRANSACTION_STOP,i=new O0().toJson(n,this.authInfo,r,t);return this.doRequest(n,i)})}stopPublishLiveStreamWithTaskId(t){if(!this.authInfo)return Promise.reject(Fs.LiveTranscodingErrorInvalidParam);const r=go.MPU_TASK_TRANSACTION_STOP,n=new O0().toJson(r,this.authInfo,t);return this.doRequest(r,n)}refreshAuthInfo(t){this.authInfo&&this.setAuthInfo(dr(dr({},this.authInfo),t))}}class F0{static checkString(t){return typeof t=="string"}static checkNumber(t){return typeof t=="number"}static checkHtmlVideoElement(t){return t&&t.nodeName==="VIDEO"}static checkHtmlAudioElement(t){return t&&t.nodeName==="AUDIO"}static checkAuthInfo(t){if(!t)return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no authInfo founded");if(!t.appId)return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no appId founded");if(!t.channelId)return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no channelId founded");if(!t.userId)return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no userId founded");if(t.timestamp){if(!F0.checkNumber(t.timestamp))return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"timestamp is not number")}else return new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no timestamp founded");return t.token?null:new ft(bt.ERR_JOIN_ERR_JOIN_BAD_PARAMBAD,"no token founded")}static checkMediaStreamTrack(t){return t instanceof MediaStreamTrack}static checkVideoEncoderConfiguration(t){return t&&(t.width||t.height||t.frameRate||t.bitrateMax)}}class Q2{constructor(t){ae(this,"taskProfile"),ae(this,"encodeParam"),ae(this,"users",[]),ae(this,"backgroundColor",0),ae(this,"backgrounds",[]),ae(this,"watermarks",[]),ae(this,"clockWidgets",[]),ae(this,"cropMode"),ae(this,"mediaProcessMode"),this.taskProfile=t}}class Z2{constructor(t,r,n){ae(this,"userId"),ae(this,"streamType"),ae(this,"sourceType"),this.userId=t,this.streamType=r,this.sourceType=n}}class eA{constructor(t,r,n,i=0,a=16777215,c=cg.NOTO_SERIF_CJKSC_REGULAR){ae(this,"x"),ae(this,"y"),ae(this,"fontSize"),ae(this,"zOrder"),ae(this,"fontColor"),ae(this,"fontType"),this.x=t,this.y=r,this.fontSize=n,this.zOrder=i,this.fontColor=a,this.fontType=c}toJson(t,r){return{x:Yo(this.x,t),y:Yo(this.y,r),fonttype:this.fontType,fontsize:this.fontSize,fontcolor:I0(this.fontColor),zorder:this.zOrder}}}var PE=(e=>(e[e.NOT_DISPLAY=0]="NOT_DISPLAY",e[e.ALWAYS=1]="ALWAYS",e[e.WHEN_NO_VIDEO=2]="WHEN_NO_VIDEO",e))(PE||{});class kE{constructor(t,r,n,i,a,c=0,l=1,u=1){ae(this,"url"),ae(this,"x"),ae(this,"y"),ae(this,"width"),ae(this,"height"),ae(this,"alpha"),ae(this,"display",1),ae(this,"zOrder"),this.url=t,this.x=r,this.y=n,this.width=i,this.height=a,this.zOrder=c,this.alpha=l,this.display=u}toJson(t,r){return{url:this.url,alpha:this.alpha,display:this.display,x:Yo(this.x,t),y:Yo(this.y,r),width:Yo(this.width,t),height:Yo(this.height,r),zorder:this.zOrder}}}ae(kE,"DisplayType",PE);class tA{constructor(t,r,n,i,a=0,c=16777215,l=cg.NOTO_SERIF_CJKSC_REGULAR){ae(this,"text"),ae(this,"x"),ae(this,"y"),ae(this,"fontSize"),ae(this,"zOrder"),ae(this,"fontColor"),ae(this,"fontType"),this.text=t,this.x=r,this.y=n,this.fontSize=i,this.zOrder=a,this.fontColor=c,this.fontType=l}toJson(t,r){return{text:this.text,x:Yo(this.x,t),y:Yo(this.y,r),fonttype:this.fontType,fontsize:this.fontSize,fontcolor:I0(this.fontColor),zorder:this.zOrder}}}class rA{constructor(t,r,n,i,a,c=0,l){ae(this,"userId"),ae(this,"x"),ae(this,"y"),ae(this,"width"),ae(this,"height"),ae(this,"zOrder"),ae(this,"sourceType"),ae(this,"segmentType",sg.LiveTranscodingNoBody),ae(this,"images",[]),ae(this,"texts",[]),typeof t=="number"?this.userId=t.toString():this.userId=t,this.x=r,this.y=n,this.width=i,this.height=a,this.zOrder=c,l&&(this.sourceType=l)}toJson(t,r,n,i){const a={paneid:t,majorpane:0,x:Yo(this.x,r),y:Yo(this.y,n),width:Yo(this.width,r),height:Yo(this.height,n),zorder:this.zOrder,userid:this.userId,images:this.images.map(c=>c.toJson(r,n)),texts:this.texts.map(c=>c.toJson(r,n))};return this.sourceType&&$h[this.sourceType]?a.sourcetype=$h[this.sourceType]:a.sourcetype=$h[Fh.LiveTranscodingCamera],this.segmentType&&i===k0.LiveTranscodingVirtualBackground?a.segmenttype=this.segmentType:a.segmenttype=sg.LiveTranscodingNoBody,a}}const{BrowserUtil:$0,SystenUtil:IE}=Tr.AliRTS;class OE{constructor(){ae(this,"tracker"),ae(this,"param"),ae(this,"msgCacheArr",[]),ae(this,"index",0),ae(this,"stsOpt"),ae(this,"slsToken"),ae(this,"ossToken")}createTracker(){if(!this.tracker&&this.slsToken&&this.param){const t=this.slsToken;this.ossToken&&(this.param.ossbn=this.ossToken.bucket_name,this.param.ossep=this.ossToken.region_endpoint);const r=new E0({host:t.region_endpoint,project:t.project,logstore:t.log_store_stats}),n={accessKeyId:t.access_key_id,accessKeySecret:t.access_key_secret,securityToken:t.security_token,refreshSTSToken:()=>{this.slsToken&&(n.accessKeyId=this.slsToken.access_key_id,n.accessKeySecret=this.slsToken.access_key_secret,n.securityToken=this.slsToken.security_token)}};this.stsOpt=n;const i=R0(n);r.useStsPlugin(i),this.tracker=r,this.msgCacheArr.forEach((a,c)=>{var l,u;(u=this.tracker)==null||u.send(dr(ql(dr({},this.param),{stat_log_id:`${((l=this.param)==null?void 0:l.sesid)||"nosession"}-${c}`}),a))}),this.index=this.index+this.msgCacheArr.length,this.msgCacheArr=[]}}start(t){this.initParam(t),this.createTracker()}updateToken(t,r){this.slsToken=t,this.ossToken=r,this.createTracker()}stop(){this.tracker=void 0,this.param=void 0,this.msgCacheArr=[],this.index=0,this.stsOpt=void 0,this.slsToken=void 0,this.ossToken=void 0}sendReport(t){var r,n;t.tm=Date.now();let i;try{i=JSON.parse(JSON.stringify(dr(ql(dr({bt:$0.browserName||"unknown"},this.param),{stat_log_id:`${((r=this.param)==null?void 0:r.sesid)||"nosession"}-${this.index}`}),t)))}catch(a){}if(i){if(!this.tracker){this.msgCacheArr.push(i);return}(n=this.tracker)==null||n.send(i),this.index++}}initParam(t){let r=localStorage==null?void 0:localStorage.getItem("AliRtcUUID");r||(r=is(),localStorage==null||localStorage.setItem("AliRtcUUID",r)),this.param||(this.param={apid:t.appId,usrid:t.userId,statsvrs:"0.6.1",evetid:0,sesid:t.sessionId,sessionId:t.sessionId,channelid:t.channelId,usrn:t.userId,osn:IE.systemName,osv:IE.systemVersion,deb:LT(),den:MT(),udid:r,sdkvrs:eg,acs:"Unknown",cput:Gb(),dm:`${window.location.protocol}//${window.location.host}`,bt:$0.browserName,bv:$0.browserVersion,envir:"PRODUCT",args:""})}}const fn=(e,t=1,r=6e4,n=0)=>{let i=e;return i||(i=0),Math.min(r,Math.max(n,Math.round(i*t)))},Qo=(e,t,r=2e7,n=0)=>{let i=t;(!t||t<0||t>1e4)&&(i=1e3);let a=e;return a||(a=0),Math.min(r,Math.max(n,Math.round(a/(i/1e3))))},ru=(e,t)=>{if(t===0||!t)return"0.00";let r=e;return(!r||r<0)&&(r=0),(r/t*100).toFixed(2)},xE=e=>e>=0&&e<=1?fn(Math.floor(32767*e),1,32767):0,gn=(e,t)=>{var r,n,i;let a=((r=e._last)==null?void 0:r[t])||0;return e.ssrc&&(n=e._last)!=null&&n.ssrc&&e.ssrc!==((i=e._last)==null?void 0:i.ssrc)&&(a=0),((e==null?void 0:e[t])||0)-a},nA=(e,t)=>{var r,n,i;return(((r=e==null?void 0:e._source)==null?void 0:r[t])||0)-(((i=(n=e==null?void 0:e._last)==null?void 0:n._source)==null?void 0:i[t])||0)},ME=(e,t)=>fn(gn(e,t),1e3,1e4),nu=(e,t=2e7)=>fn(e,1,t),NE=class sS{constructor(t){ae(this,"engine"),ae(this,"logClient"),ae(this,"authInfo"),this.logClient=new OE,this.engine=t}static getLogClient(){return this.staticClient||(this.staticClient=new OE),this.staticClient}static reportOSSUpload(t,r,n=0){sS.getLogClient().sendReport({errmsg:`${r}/${t}.log`,errtype:n,evetid:70017,sesid:t,sessionId:t,stat_log_id:`${t}-70017`})}start(t){this.authInfo=t,this.logClient.start(t)}updateToken(t,r){this.logClient.updateToken(t,r),sS.getLogClient().updateToken(t,r)}stop(){this.logClient.stop()}reportPublishMonitor(t,r,n,i,a){if(!n||a.length<=0)return;const c=n===lt.Audio,l={ctm:Math.floor(a[0].timestamp||0),src:a[0].ssrc||"",codec:a[0]._codec||""},u=[],d=[],h=[],y=[],m=[],_=[],R=[],b=[],C=[],H=[],A=[],D=[],Z=[],ie=[],oe=[],fe=[],he=[],ge=[],me=[];try{if(a.forEach(Se=>{var Ce,Te,Le,ze,Ne,Be;if(!Se||!Se.timestamp)return;const Ue=(Ce=Se._last)!=null&&Ce.timestamp?Se.timestamp-Se._last.timestamp:1e3,et=gn(Se,"bytesSent"),Ke=gn(Se,"headerBytesSent"),Ie=Qo(fn(et+Ke,8,2e7),Ue);u.push(Ie);const Ae=Qo(fn(et,8,2e7),Ue);d.push(Ae);const $e=Qo(fn(Ke,8,2e7),Ue);h.push($e);const Oe=gn(Se,"packetsSent"),ct=Qo(Oe,Ue);y.push(ct);const ot=gn(Se,"packetsLost"),Rt=Qo(ot,Ue);m.push(Rt);const Tt=ru(ot,Oe);if(_.push(Tt),c)(Te=Se._source)!=null&&Te.audioLevel&&R.push(xE(Se._source.audioLevel)),b.push(0);else{C.push(ME(Se,"totalEncodeTime")),H.push(nu((Le=Se._source)==null?void 0:Le.framesPerSecond,100)),A.push(nu((ze=Se._source)==null?void 0:ze.framesPerSecond,100)),D.push(nu(Se.framesPerSecond,100)),Z.push(nu((Ne=Se._source)==null?void 0:Ne.height,4400)),ie.push(nu((Be=Se._source)==null?void 0:Be.width,7700)),oe.push(nu(Se.frameHeight,4400)),fe.push(nu(Se.frameWidth,7700));const zt=gn(Se,"totalPacketSendDelay");he.push(fn(zt,1/(ot||1),2e3));const Wt=gn(Se,"qpSum");ge.push(fn(Wt,1/(Se.framesPerSecond||1),51)),me.push(0)}}),l.sbr=u.join(","),l.mbrs=d.join(","),l.pbrs=h.join(","),l.ps=y.join(","),l.pl=m.join(","),l.plr=_.join(","),c){const Se=(i==null?void 0:i.getSettings().sampleRate)||0;l.ailevel=R.join(","),l.arpc=b.join(","),l.arsr=Se,l.aesr=Se,l.publevel=-90,l.rawlevel=-90}else l.em=C.join(","),l.cfps=H.join(","),l.ifps=A.join(","),l.sfps=D.join(","),l.ih=Z.join(","),l.iw=ie.join(","),l.sh=oe.join(","),l.sw=fe.join(","),l.sd=he.join(","),l.aqp=ge.join(","),l.caf=me.join(","),l.can=me.join(","),l.cav=d.join(","),l.ifimax=me.join(","),l.ifimin=me.join(","),l.efimax=me.join(","),l.efimin=me.join(","),l.sfimax=me.join(","),l.sfimin=me.join(","),l.apsnr=me.join(",")}catch(Se){}this.log({evetid:10070,traceid:r,calid:t,args:this.data2String(dr({calid:t,tckid:n,traceid:r},l))})}reportSubscribeMonitor(t,r,n,i,a){if(!i||!a||a.length<=0)return;const c=i===lt.Audio,l={ctm:Math.floor(a[0].timestamp||0),src:a[0].ssrc||"",codec:a[0]._codec||""},u=[],d=[],h=[],y=[],m=[],_=[],R=[],b=[],C=[],H=[],A=[],D=[],Z=[],ie=[],oe=[],fe=[],he=[],ge=[],me=[],Se=[],Ce=[],Te=[],Le=[],ze=[],Ne=[],Be=[],Ue=[],et=[],Ke=[],Ie=[],Ae=[],$e=[],Oe=[],ct=[];try{a.forEach(ot=>{var Rt,Tt;if(!ot||!ot.timestamp)return;const zt=(Rt=ot._last)!=null&&Rt.timestamp?ot.timestamp-ot._last.timestamp:1e3,Wt=gn(ot,"bytesReceived"),gr=gn(ot,"headerBytesReceived"),or=Qo(fn(Wt+gr,8,2e7),zt);u.push(or);const Xt=Qo(fn(Wt,8,2e7),zt);d.push(Xt);const ar=Qo(fn(gr,8,2e7),zt);h.push(ar);const Kt=gn(ot,"packetsReceived"),Er=Qo(Kt,zt);y.push(Er);const Nr=gn(ot,"packetsLost"),_r=Qo(Nr,zt);m.push(_r);const rn=ru(Nr,Kt);_.push(rn);const Jr=gn(ot,"jitterBufferDelay"),Yt=gn(ot,"jitterBufferEmittedCount");if(ot.jitterBufferDelay&&ot.jitterBufferEmittedCount){const Rr=fn(Jr,1e3/Yt,1e4);R.push(Rr)}else R.push(0);const fr=gn(ot,"fecPacketsReceived");D.push(ru(fr,Kt));const Ht=gn(ot,"retransmittedPacketsReceived"),Yr=Kt+Nr-Ht;if(C.push(ru(Kt-Ht,Yr)),H.push(ru(Nr,Yr)),b.push(ru(Ht,Yr)),A.push(Yr),Oe.push(0),ct.push(""),c){ie.push(xE(ot.audioLevel));const Rr=nA(ot,"synthesizedSamplesEvents");oe.push(Rr);const Pr=ME(ot,"synthesizedSamplesDuration");fe.push(Pr);const _n=ru(Pr,zt);Z.push(_n),he.push(0)}else{const Rr=(Tt=ot._last)!=null&&Tt.totalInterFrameDelay?ot.totalInterFrameDelay-ot._last.totalInterFrameDelay:0;ge.push(fn(Rr,1e3/(ot.framesDecoded||30),500)),me.push(fn(ot.framesPerSecond,1,100)),Se.push(gn(ot,"framesReceived")),$e.push(gn(ot,"framesRendered")),Ce.push(fn(ot.frameHeight,1,4400)),Te.push(fn(ot.frameWidth,1,7700));const Pr=gn(ot,"totalProcessingDelay");Le.push(fn(Pr,1e3/(ot.framesDecoded||30),12e4));const _n=gn(ot,"nackCount");Ne.push(_n);const Jn=gn(ot,"pliCount");ze.push(Jn);const Yi=gn(ot,"qpSum");Be.push(fn(Yi,1/(ot.framesPerSecond||1),51)),Ue.push(fn(ot.framesDropped));const nn=gn(ot,"totalFreezesDuration");et.push(fn(nn,1e3,3e4));const Gr=gn(ot,"jitterBufferEmittedCount"),jr=gn(ot,"jitterBufferDelay");jr&&Gr?Ke.push(fn(jr,1e3/Gr,3e4)):Ke.push(0);const Dr=gn(ot,"jitterBufferTargetDelay");Dr&&Gr?Ie.push(fn(Dr,1e3/Gr,3e4)):Ie.push(0);const Xr=gn(ot,"jitterBufferMinimumDelay");Xr&&Gr?Ae.push(fn(Xr,1e3/Gr,3e4)):Ae.push(0)}}),l.rbr=u.join(","),l.mbrs=d.join(","),l.pbrs=h.join(","),l.pr=y.join(","),l.pl=m.join(","),l.plr=_.join(","),l.jd=R.join(","),l.fecr=D.join(","),l.retransr=b.join(","),l.baser=C.join(","),l.basel=H.join(","),l.recoverr=Oe.join(","),l.alll=H.join(","),l.totalc=A.join(","),c?(l.er=Z.join(","),l.aolevel=ie.join(","),l.asrc=he.join(","),l.scnt=oe.join(","),l.sdura=fe.join(",")):(l.dm=ge.join(","),l.dfps=me.join(","),l.rfps=Se.join(","),l.rh=Ce.join(","),l.rw=Te.join(","),l.fpt=ct.join(","),l.ns=Ne.join(","),l.pliss=ze.join(","),l.aqp=Be.join(","),l.ofimax=Oe.join(","),l.ofimin=Oe.join(","),l.dfimax=Oe.join(","),l.dfimin=Oe.join(","),l.rfimax=Oe.join(","),l.rfimin=Oe.join(","),l.vrstutter=et.join(","),l.cdm=Ke.join(","),l.tdm=Ie.join(","),l.pdm=Ae.join(","),l.ofps=$e.join(","),l.dfbd=Ue.join(","))}catch(ot){}this.log({evetid:10080,traceid:n,rmtid:r,calid:t,args:this.data2String(dr({calid:t,rmtid:r,tckid:i,traceid:n},l))})}reportNetworkMonitor(t){if(t.length<=0)return;const r=[],n=[],i=[],a=[],c=[],l=[],u=[],d=[],h=[],y=[];t.forEach((_,R)=>{var b;if(!_.timestamp)return;const C=(b=_._last)!=null&&b.timestamp?_.timestamp-_._last.timestamp:1e3;r.push(fn(_.currentRoundTripTime,1e3)),n.push(fn(_.availableOutgoingBitrate,8,2e8)),i.push(Qo(fn(_.bytesSent,8,2e7),C,25e6)),a.push(Qo(fn(_.bytesReceived,8,2e7),C,25e6)),c.push(0),l.push(0),R%5===0&&(u.push(""),d.push(""),h.push(""),y.push(""))});const m={ctm:Math.floor(t[0].timestamp||0),rtt:r.join(","),bsps:i.join(","),brps:a.join(","),cpu:u.join(","),mem:d.join(","),sysmem:h.join(","),systotalmem:y.join(","),audioonly:this.engine.isAudioOnly()?1:0};this.log({evetid:10071,args:this.data2String(dr({asb:n.join(","),abms:c.join(","),vbms:l.join(",")},m))}),this.log({evetid:10081,args:this.data2String(dr({},m))})}reportJoin(t,r,n=""){var i,a;const{start:c,rs:l=0,re:u=0}=r,d=Date.now()-c,h=u-l;let y=0;l&&(y=l-c);let m=0;u&&(m=u-l),this.log({evetid:10010,args:this.data2String({sesid:((i=this.authInfo)==null?void 0:i.sessionId)||"",joitm:d,rslt:t,gslbtm:0,dnstm:0,avcftm:0,gslbrslt:0,dnsrslt:0,avcfrslt:0,mode:2,jrtc:h,usrn:(a=this.authInfo)==null?void 0:a.userId,mgt:"cdn",cttc:y,iptc:m,ndn:1,gslbloc:1,ccag:0,ucag:0,cpg:0,upg:0,tid:n})})}reportJoinConnection(t){this.log({evetid:20002,args:this.data2String(dr({transretrynum:0,ldnstc:0,tcptc:0,ssltc:0,url:""},t))})}reportLeave(t,r,n){this.log({evetid:10020,args:this.data2String({lvetm:t,rslt:r,tid:n})})}reportPublish(t,r,n,i,a,c,l,u,d,h,y){this.log({evetid:t?10032:10030,calid:n,args:this.data2String({calid:n,url:r,isvl:i?1:0,isvs:a?1:0,isvss:c?1:0,isaudio:l?1:0,rslt:u,tid:"123",pubtm:Date.now()-y,pctid:d,pubtid:h,isvp:0,isarecording:0,isad:0,isdc:0,pubretry:0,pbrttimes:0})})}reportPublishFirstPacket(t,r,n,i,a,c,l,u,d){const h=Date.now();this.log({evetid:t?10033:10031,calid:r,args:this.data2String({calid:r,fpst:h-n,tckid:c,est:n,pctid:l,pubtid:u,totaltm:h-a,jorm:d===ns.JOIN_CHANNEL?1:0,cptc:0,sptc:i-n,iptc:0,ipc2fptc:0,dctc:0,patc:0})})}reportUnpublish(t,r,n,i){var a;this.log({evetid:10040,args:this.data2String({calid:t,unpubtm:r,rslt:n,tid:i,sesid:((a=this.authInfo)==null?void 0:a.sessionId)||""})})}reportSubscribe(t,r,n,i,a,c,l,u,d,h){this.log({evetid:10050,calid:t,rmtid:r,args:this.data2String(dr({calid:t,rmtid:r,isvl:n?1:0,isvs:i?1:0,isvss:a?1:0,isaudio:c?1:0,rslt:l,tid:u,subtm:d,isvp:0,isaplaying:0,isad:0,isdc:0,subretry:0,sbrttimes:0},h))})}reportSubscribeFirstPacket(t,r,n,i,a){this.log({evetid:t?10054:10051,calid:r,rmtid:n,args:this.data2String(dr({calid:r,rmtid:n,tckid:i,cptc:0,iptc:0,ipc2fptc:0,dctc:0,patc:0},a))})}reportSubscribeFirstFrame(t,r,n,i,a){this.log({evetid:t?10055:10052,calid:r,rmtid:n,args:this.data2String(dr({calid:r,rmtid:n,tckid:i},a))}),this.log({evetid:t?10058:10057,args:this.data2String(dr({calid:r,rmtid:n,tckid:i},a))})}reportUnsubscribe(t,r,n,i,a){this.log({evetid:10060,calid:t,args:this.data2String({calid:t,rmtid:r,unsubtm:n,rslt:i,tid:a})})}reportMute(t,r,n){this.log({evetid:11030,args:this.data2String({calid:t,rmtid:"",enable:r?1:0,mt:n})})}reportRoleUpdate(t,r){this.log({evetid:11040,args:this.data2String({or:t||"",nr:r,ctm:Date.now(),rslt:0})})}reportRoleUpdateResult(t,r,n,i){this.log({evetid:11041,args:this.data2String({or:t||"",nr:r,ctm:n,rslt:i})})}reportVideoProfile(t){this.log({evetid:20074,args:this.data2String({pf:t,tckid:"sophon_camera_large"})})}reportScreenProfile(t){this.log({evetid:20074,args:this.data2String({pf:t,tckid:"sophon_screenshare"})})}reportError(t){this.log({evetid:10091,args:this.data2String({rslt:(t==null?void 0:t.code)||-1})})}reportWarning(t){this.log({evetid:10092,args:this.data2String({rslt:-1,errmsg:t})})}reportRoomServerEvent(t,r,n,i){this.log({evetid:20005,args:this.data2String({calid:"",rmtid:"",rt:t?0:1,dr:t?"s":"r",mt:r,ri:n,cs:1,srt:Date.now(),rspc:(i==null?void 0:i.code)||"",mc:JSON.stringify(i)})})}reportTranscodingError(t,r){this.log({evetid:10101,args:this.data2String({rslt:t,taskid:r})})}reportBye(t){var r;this.log({evetid:10093,args:this.data2String({rslt:t,sesid:((r=this.authInfo)==null?void 0:r.sessionId)||""})})}reportAudio(t,r,n){var i;this.log({evetid:80013,args:this.data2String({rslt:t?-1:0,adm:1,adt:0,adr:t?2:0,acms:r,adrpn:n})}),this.log({evetid:80014,args:this.data2String({sesid:((i=this.authInfo)==null?void 0:i.sessionId)||"",rslt:t?-1:0,adm:1,adt:0,adr:t?2:0,acms:r,adrpn:n})})}reportScreen(t,r){var n,i,a,c;this.log({evetid:90013,args:this.data2String({rslt:t?-1:0,vcms:r,vde:(n=t==null?void 0:t.code)!=null?n:-1,sesid:((i=this.authInfo)==null?void 0:i.sessionId)||""})}),this.log({evetid:90014,args:this.data2String({rslt:t?-1:0,vcms:r,vde:(a=t==null?void 0:t.code)!=null?a:-1,sesid:((c=this.authInfo)==null?void 0:c.sessionId)||""})})}reportScreenStop(t){this.log({evetid:90019,args:this.data2String({rslt:t?t.code||-1:0})}),this.log({evetid:90020,args:this.data2String({rslt:t?t.code||-1:0})})}reportSwitchCamera(t){var r;this.log({evetid:90025,args:this.data2String({rslt:0,td:t,sesid:((r=this.authInfo)==null?void 0:r.sessionId)||""})})}reportPublishProfile(t,r){this.log({evetid:10201,args:this.data2String(dr({tckid:t},r))})}reportSDKCreated(t){this.log({evetid:70011,createtm:Date.now()-t,tm:t})}reportJoinInvoked(t){this.log({evetid:70012,jnnonce:t.nonce||"",jntoken:t.token||"",jntm:t.timestamp||""})}reportJoinResult(t){this.log({evetid:70013,rslt:t?t.code||-1:0,dnsrslt:0})}reportSTSResult(t,r){this.log({evetid:70014,rslt:t,asty:1,reqtm:Date.now()-r})}reportLeaveInvoked(){this.log({evetid:70015})}reportSEIMessage(t,r,n,i,a){this.log({evetid:40301,args:this.data2String({tm:Date.now(),sei_pt:t,sei_len:r,sei_rep:n,sei_delay:i,sei_key:a})})}log(t){t&&(t.tm=new Date().getTime(),yt.debug("[ConsoleLogger]","log",t),this.logClient.sendReport(t))}data2String(t){let r="";for(let n in t)r.length&&(r+="&"),r+=n+"="+t[n];return r}};ae(NE,"staticClient");let iA=NE;var oA=Object.defineProperty,aA=Object.getOwnPropertyDescriptor,Ot=(e,t,r,n)=>{for(var i=n>1?void 0:n?aA(t,r):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(i=(n?c(t,r,i):c(i))||i);return n&&i&&oA(t,r,i),i},Ut;const It=(Ut=class extends ti{constructor(e){super(),ae(this,"channelProfile"),ae(this,"clientRole"),ae(this,"signalingManager"),ae(this,"bizControl"),ae(this,"liveTranscoding"),ae(this,"maxSignalingConnectRetryCount"),ae(this,"slsReporter"),ae(this,"connectState",qr.AliRtcConnectionStatusInit),ae(this,"networkError",!1),ae(this,"_audioOnlyMode",!1),ae(this,"_authInfoWillExpireTimer",null),ae(this,"_authInfoExpiredTimer",null),ae(this,"_serverCheckAuthInfoTimestamp",null),ae(this,"_localCheckAuthInfoTimestamp",null);const t=Date.now();yt.init(),this.slsReporter=new iA(this),this.channelProfile=Nc.AliRtcSdkCommunication,this.clientRole=Dc.AliRtcSdkLive,this.liveTranscoding=new X2(this.slsReporter),this.signalingManager=new N0(this.channelProfile,this.clientRole,this.slsReporter,(e==null?void 0:e.env)===$s.pre?$s.pre:$s.prod),this.addSignalingManagerListeners(),this.maxSignalingConnectRetryCount=e==null?void 0:e.maxSignalingConnectRetryCount,this.bizControl=new Bi({slsReporter:this.slsReporter,signalingManager:this.signalingManager}),this.addBizControlListeners(),this.addPublisherListeners(),this.slsReporter.reportSDKCreated(t)}static getSdkVersion(){return eg}static setLogLevel(e){yt.setLogLevel(e)}static getInstance(e){return Ut._instance||(Ut._instance=new Ut(e)),Ut._instance}destroy(){return Ye(this,null,function*(){Ut._instance=void 0,yield this.leaveChannel(),yield this.bizControl.clear(),yt.destroy()})}get channel(){return this.bizControl.channel}get userId(){return this.bizControl.userId}get remoteUsers(){return this.bizControl.remoteUsers}get publisher(){return this.bizControl.publisher}get publishAudioStream(){var e;return(e=this.publisher)==null?void 0:e.publishStreams.audio}get isPublishing(){const{publisher:e}=this.bizControl;return e?e.isPublishing:!1}get currentRoleCanPublish(){return this.channelProfile===Nc.AliRtcSdkCommunication||this.clientRole===Dc.AliRtcSdkInteractive}addPublisherListeners(){var e,t,r,n,i,a,c,l,u,d;(e=this.publisher)==null||e.on(Ki.Local,h=>{yt.event("[Publisher] Device Status Change",h),this.onLocalDeviceStatusChange(h)}),(t=this.publisher)==null||t.on(tu.VideoTrackEnded,()=>{yt.event("[Publisher] VideoTrack Ended"),this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeCamera,ri.AliEngineLocalDeviceExceptionTypeCameraInterrupt,"")}),(r=this.publisher)==null||r.on(tu.ScreenTrackEnded,()=>{yt.event("[Publisher] ScreenTrack Ended"),this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeDisplay,ri.AliEngineLocalDeviceExceptionTypeDisplayException,"")}),(n=this.publisher)==null||n.on(tu.AudioTrackEnded,()=>{yt.event("[Publisher] AudioTrack Ended"),this.emit("localDeviceException",Hs.AliEngineLocalDeviceTypeMic,ri.AliEngineLocalDeviceExceptionTypeMicInterrupt,"")}),(i=this.publisher)==null||i.on("localDeviceException",(h,y,m="")=>{this.emit("localDeviceException",h,y,m)}),(a=this.publisher)==null||a.on("audioPublishStateChanged",(h,y,m)=>{var _;this.emit("audioPublishStateChanged",h,y,m,(_=this.channel)!=null?_:"")}),(c=this.publisher)==null||c.on("videoPublishStateChanged",(h,y,m)=>{var _;this.emit("videoPublishStateChanged",h,y,m,(_=this.channel)!=null?_:"")}),(l=this.publisher)==null||l.on("dualStreamPublishStateChanged",(h,y,m)=>{var _;this.emit("dualStreamPublishStateChanged",h,y,m,(_=this.channel)!=null?_:"")}),(u=this.publisher)==null||u.on("screenPublishStateChanged",(h,y,m)=>{var _;this.emit("screenSharePublishStateChanged",h,y,m,(_=this.channel)!=null?_:"")}),(d=this.publisher)==null||d.on("dataPublishStateChanged",(h,y,m)=>{var _;this.emit("dataPublishStateChanged",h,y,m,(_=this.channel)!=null?_:"")})}occurError(e,t){yt.event(`[${Ut.logName}]`,"Occur Error",e,t),this.emit("onOccurError",e,t),this.emit("occurError",e,t)}addBizControlListeners(){this.bizControl.rtsManager.on("connected",e=>{var t;e&&((t=this.publisher)==null||t.publishUpdate(ns.RECONNECT),this.remoteUsers.forEach(r=>{r.updateSubscribe(Kr.Reconnect)}))}),this.bizControl.rtsManager.on("disconnected",()=>Ye(this,null,function*(){yt.event(`[${Ut.logName}]`,"RTS Disconnected"),(yield po.isNetworkAvailable())?this.onNetworkRecovery():this.onNetworkError()})),this.bizControl.rtsManager.on("subscribeexceeds",()=>Ye(this,null,function*(){yield this.resumePublishForNetworkRecovery(),yield this.resumeSubList()})),this.bizControl.rtsManager.on("seimessage",(e,t,r)=>{const n=this.remoteUsers.find(i=>i.streamUrl===e);n&&this.emit("mediaExtensionMsgReceived",n.userId,r,t)}),this.bizControl.on(Ki.Remote,(e,t)=>{yt.event(`[${Ut.logName}]`,"RemoteUser Device Status Change",e,t)}),this.bizControl.on("remoteTrackAvailableChange",(e,t,r)=>{this.emit("remoteTrackAvailableNotify",e,t,r)}),this.bizControl.on("audioSubscribeStateChanged",(e,t,r,n,i)=>{this.emit("audioSubscribeStateChanged",e,t,r,n,i)}),this.bizControl.on("videoSubscribeStateChanged",(e,t,r,n,i)=>{this.emit("videoSubscribeStateChanged",e,t,r,n,i)}),this.bizControl.on("screenSubscribeStateChanged",(e,t,r,n,i)=>{this.emit("screenShareSubscribeStateChanged",e,t,r,n,i)}),this.bizControl.on("dataSubscribeStateChanged",(e,t,r,n,i)=>{this.emit("dataSubscribeStateChanged",e,t,r,n,i)}),this.bizControl.on("userAudioMuted",(e,t)=>{this.emit("userAudioMuted",e,t)}),this.bizControl.on("userVideoMuted",(e,t)=>{this.emit("userVideoMuted",e,t)}),this.bizControl.on("userScreenMuted",(e,t)=>{this.emit("userScreenMuted",e,t)}),this.bizControl.on("audioVolume",e=>{this.emit("audioVolume",e)}),this.bizControl.on("remoteAudioAutoPlayFail",e=>{this.emit("remoteAudioAutoPlayFail",e)}),this.bizControl.on("remoteVideoAutoPlayFail",(e,t)=>{this.emit("remoteVideoAutoPlayFail",e,t)}),this.bizControl.on("remoteAudioPlayError",(e,t)=>{this.emit("remoteAudioPlayError",e,t)}),this.bizControl.on("remoteVideoPlayError",(e,t)=>{this.emit("remoteVideoPlayError",e,t)}),this.bizControl.on("rtcStats",e=>{this.emit("rtcStats",e)}),this.bizControl.on("rtcLocalAudioStats",e=>{this.emit("rtcLocalAudioStats",e)}),this.bizControl.on("rtcLocalVideoStats",e=>{this.emit("rtcLocalVideoStats",e)}),this.bizControl.on("rtcRemoteAudioStats",e=>{this.emit("rtcRemoteAudioStats",e)}),this.bizControl.on("rtcRemoteVideoStats",e=>{this.emit("rtcRemoteVideoStats",e)}),this.bizControl.on("remoteSubscribeError",(e,t)=>{this.occurError(e,t),this.slsReporter.reportError(e)}),this.bizControl.on("occurError",(e,t)=>{this.occurError(e,t),this.slsReporter.reportError(e)}),this.bizControl.on("remoteDataChannelMessage",(e,t)=>{this.emit("dataChannelMsg",e,t)})}addSignalingManagerListeners(){this.signalingManager.on("onKeepAliveRsp",()=>{this.networkError&&(yt.event("[Signaling] Receive KeepAlive Response",`networkError: ${this.networkError}`),this.onNetworkRecovery())}),this.signalingManager.on("onNotifyJoin",e=>{yt.event("[Signaling] Notify Join ",e),this.handleUsersJoin(e),e.forEach(t=>{this.emit("remoteUserOnLineNotify",t.userid,0)})}),this.signalingManager.on("onNotifyStatus",e=>{yt.event("[Signaling] Notify Status ",e),e.forEach(t=>{this.bizControl.updateRemoteUserDeviceStatus(t)})}),this.signalingManager.on("onNotifyLeave",e=>{yt.event("[Signaling] Notify Leave ",e),e.forEach(t=>{this.emit("remoteUserOffLineNotify",t.userid,t.leavecode),this.bizControl.removeLeftUser(t)})}),this.signalingManager.on("onBye",(e,t)=>{yt.event("[Signaling] Bye ",e,t),this.slsReporter.reportError({message:`reason: ${e}, description: ${t}`}),this.emit("bye",e),this.leaveChannel(),this.slsReporter.reportBye(e)}),this.signalingManager.on("onConnectFail",e=>{yt.event("[Signaling] Connect Failed ",e),this.onError(e),this.backToUnpublishStatus(),this.connectState=qr.AliRtcConnectionStatusFailed,this.emit("connectionStatusChange",qr.AliRtcConnectionStatusFailed,Dd.AliRtcConnectionChangedNetworkInterrupted)}),this.signalingManager.on("onNetworkError",e=>{this.slsReporter.reportWarning("signaling network error"),yt.event("[Signaling] Network error ",e),this.onNetworkError()}),this.signalingManager.on("onAuthInvalid",()=>{yt.event("[Signaling] Auth Invalid")}),this.signalingManager.on("onReconnectStart",()=>{yt.event("[Signaling] Reconnect Start "),this.connectState=qr.AliRtcConnectionStatusReconnecting,this.emit("connectionStatusChange",qr.AliRtcConnectionStatusReconnecting,Dd.AliRtcConnectionSignalingConnecting)}),this.signalingManager.on("onReconnectSuccess",e=>{yt.event("[Signaling] Reconnect Success ",e),this.onNetworkRecovery(e)}),this.signalingManager.on("onReconnectFail",e=>{this.slsReporter.reportWarning("signaling reconnect fail: ${err.code}"),yt.event("[Signaling] Reconnect Failed ",e),e.code===403&&this.emit("authInfoExpired")}),this.signalingManager.on("onError",e=>{this.slsReporter.reportWarning("signaling error: ${err.message}"),yt.event("[Signaling] Error ",e),this.onError(e)})}backToUnpublishStatus(){var e,t;this.connectState=qr.AliRtcConnectionStatusDisconnected,(e=this.publisher)!=null&&e.isPublishing&&((t=this.publisher)==null||t.clearPublishState()),this.networkError=!1}handleUsersJoin(e){e.forEach(t=>{const r=t.userid;if(r){const n=this.bizControl.addUser(r,t.displayname,Kr.Join);yt.event(`[${Ut.logName}]`,Fr.UserJoined,n)}})}onLocalDeviceStatusChange(e){yt.event(`[${Ut.logName}]`,Ki.Local,e),this.signalingManager.reportStatus(e).then(()=>{yt.debug("[signaling] reportStatus suc")}).catch(t=>{yt.error("[signaling] reportStatus failed",t)})}resumePublishForNetworkRecovery(){return Ye(this,null,function*(){var e;try{yield(e=this.publisher)==null?void 0:e.resumePublish()}catch(t){const{code:r}=t;if(r===10205){let n=1;try{yield new Promise((i,a)=>{const c=setInterval(()=>Ye(this,null,function*(){var l;n>1&&(clearInterval(c),a()),n+=1;try{yield(l=this.publisher)==null?void 0:l.resumePublish(),clearInterval(c),i()}catch(u){const{code:d}=u;d!==10205&&(clearInterval(c),a())}}),1e3)})}catch(i){}}throw t}})}onNetworkRecovery(e){return Ye(this,null,function*(){var t;yt.event(Ut.logName,"onNetworkRecovery",`rts isConnected: ${this.bizControl.rtsManager.isConnected}; rts isConnecting: ${this.bizControl.rtsManager.isConnecting}`,{users:e}),!this.bizControl.rtsManager.isConnected&&!this.bizControl.rtsManager.isConnecting?(yield this.resumePublishForNetworkRecovery(),yield this.resumeSubList()):e&&(yield this.resumeSubList(e)),this.networkError&&(this.networkError=!1,(t=this.publisher)==null||t.reportSelfDeviceStatus(),this.connectState=qr.AliRtcConnectionStatusConnected,this.emit("connectionStatusChange",qr.AliRtcConnectionStatusConnected,Dd.AliRtcConnectionSignalingHeartbeatAlive))})}resumeSubList(e){return Ye(this,null,function*(){if(e!=null&&e.length){const{joinList:t,leaveList:r,presentList:n}=this.bizControl.updateUsers(e);yt.info(`[${Ut.logName}]`,"resumeSubList",{joinList:t,leaveList:r,presentList:n}),this.handleUsersJoin(t),r.forEach(i=>{yt.event(Ut.logName,Fr.UserLeft,i.userid,i.reason),this.emit("remoteUserOffLineNotify",i.userid,x0.AliRtcUserOfflineQuit)});for(let i=0;i<n.length;i++){const a=n[i],c=a.userid,l=this.bizControl.getRemoteUser(c);this.bizControl.onRemotePublishStateChange(a),l==null||l.restore(),l==null||l.updateSubscribe(Kr.Resume)}}else for(let t=0;t<this.remoteUsers.length;t++){const r=this.remoteUsers[t];try{r.restore(),r.updateSubscribe(Kr.Resume)}catch(n){}}})}retrySubscribe(e){return Ye(this,null,function*(){const t=this.bizControl.getRemoteUser(e);if(!t)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);t.restore(),t.updateSubscribe(Kr.Retry)})}onNetworkError(){this.connectState===qr.AliRtcConnectionStatusConnected&&(this.networkError||(this.connectState=qr.AliRtcConnectionStatusDisconnected,this.emit("connectionStatusChange",qr.AliRtcConnectionStatusDisconnected,Dd.AliRtcConnectionChangedNetworkInterrupted)),this.networkError=!0)}onError(e){this.slsReporter.reportError(e),yt.event(Ut.logName,Fr.Error,e)}setEnableDualVideoStream(e,t){this.bizControl.setEnableDualVideoStream(e,t)}hadPushStream(e){if(!(this.publisher&&e))throw new ft(bt.ERR_INNER,"stream is not publishing")}getCurrentMicDeviceId(){var e;return(e=this.publisher)==null?void 0:e.getCurrentMicDeviceId()}setChannelProfile(e){if(![qr.AliRtcConnectionStatusInit,qr.AliRtcConnectionStatusDisconnected,qr.AliRtcConnectionStatusFailed].includes(this.connectState))throw new ft(bt.ERR_INNER,"cannot set channel profile in call");this.channelProfile=e,this.channelProfile===Nc.AliRtcSdkCommunication&&(this.clientRole=Dc.AliRtcSdkLive),this.signalingManager.setChannelProfile(e)}startAndPublishDefaultDevices(e){return Ye(this,null,function*(){var t,r,n,i,a;if(!this.publisher)return;const{hasCamera:c,hasMicrophone:l,hasScreenShare:u}=this.publisher;if(c||l||u)return;try{yield(t=this.publisher)==null?void 0:t.startDefaultCamera(this._audioOnlyMode)}catch(h){yt.warn(`[${Ut.logName}]`,"startDefaultCamera failed",h.code,h.message),h instanceof ft&&this.occurError(h),this.occurError(new ft(bt.ERR_SDK_PUBLISH_VIDEO_STREAM_FAILED,`auto start video failed, ${h.message||""}`))}try{yield(r=this.publisher)==null?void 0:r.startDefaultAudio()}catch(h){yt.warn(`[${Ut.logName}]`,"startDefaultAUdio failed",h.code,h.message),h instanceof ft&&this.occurError(h),this.occurError(new ft(bt.ERR_SDK_PUBLISH_AUDIO_STREAM_FAILED,`auto start audio failed, ${h.message||""}`))}yield(n=this.publisher)==null?void 0:n.previewAll();const d=((i=this.publisher)==null?void 0:i.publishStreams)||{};if(Object.values(d).some(h=>h))try{yield(a=this.publisher)==null?void 0:a.startPublish(!1,e)}catch(h){const y=[];d!=null&&d.audio&&y.push(bt.ERR_SDK_PUBLISH_AUDIO_STREAM_FAILED),d!=null&&d.video&&y.push(bt.ERR_SDK_PUBLISH_VIDEO_STREAM_FAILED),y.forEach(m=>{this.occurError(new ft(m,`auto publish stream failed, ${h.message||""}`))})}})}setClientRole(e){return Ye(this,null,function*(){var t,r;try{if(this.channelProfile===Nc.AliRtcSdkCommunication)return;if(!Object.values(Dc).includes(e))throw new ft(bt.ERR_INVALID_ARGUMENTS,`set client role error, role value(${e}) is invalid`);if(this.clientRole===e)return;this.slsReporter.reportRoleUpdate(this.clientRole,e),this.isInCall()?this.clientRole===Dc.AliRtcSdkInteractive?(this.bizControl.isSubscribing?yield(t=this.publisher)==null?void 0:t.clearStream():yield(r=this.publisher)==null?void 0:r.unPublish(),yield this.signalingManager.setClientRole(e)):(yield this.signalingManager.setClientRole(e),yield this.startAndPublishDefaultDevices(ns.JOIN_CHANNEL)):yield this.signalingManager.setClientRole(e),this.clientRole=e}catch(n){throw n.code===403&&this.emit("authInfoExpired"),n}})}getCurrentClientRole(){return this.clientRole}setAudioOnlyMode(e){if(this.isInCall())throw new ft(bt.ERR_INNER,"can not change audioOnly mode in call");this._audioOnlyMode=e}setAudioRedEnabled(e){if(this.isInCall())throw new ft(bt.ERR_INNER,"can not change audioRedEnabled in call");this.bizControl.setAudioRedEnabled(e)}setCheckAuthInfoTimer(e,t){const r=(e-t)*1e3;this._authInfoExpiredTimer=window.setTimeout(()=>{this.emit("authInfoExpired")},r),this._authInfoWillExpireTimer=window.setTimeout(()=>{this.emit("authInfoWillExpire")},r-3e4),this._serverCheckAuthInfoTimestamp=t,this._localCheckAuthInfoTimestamp=+Date.now()/1e3}clearCheckAuthInfoTimer(){this._authInfoExpiredTimer&&window.clearTimeout(this._authInfoExpiredTimer),this._authInfoWillExpireTimer&&window.clearTimeout(this._authInfoWillExpireTimer)}joinChannel(e,t){return Ye(this,null,function*(){var r,n;let i,a=t;if(typeof e=="string")try{const u=JSON.parse(window.atob(e));i={appId:u.appid,channelId:u.channelid,userId:u.userid,timestamp:u.timestamp,nonce:u.nonce,token:u.token}}catch(u){throw new ft(bt.ERR_INVALID_ARGUMENTS,`authInfo is invalid: ${u.message||""}`)}else i=e;a||(a=i.userId);const c={start:Date.now()};let l=F0.checkAuthInfo(i);if(qr.AliRtcConnectionStatusInit===this.connectState||qr.AliRtcConnectionStatusDisconnected===this.connectState||qr.AliRtcConnectionStatusFailed===this.connectState){if(this.connectState=qr.AliRtcConnectionStatusConnecting,l)throw this.connectState=qr.AliRtcConnectionStatusFailed,this.slsReporter.reportJoin(l.code,c,""),this.slsReporter.reportJoinResult(l),l;i.sessionId=po.createCallid("web"),yt.setSessionID(i.appId,i.sessionId),this.slsReporter.start(i);try{const u=yield this.signalingManager.join(i,a,this.maxSignalingConnectRetryCount,c);this.connectState=qr.AliRtcConnectionStatusConnected,(r=this.publisher)==null||r.reportSelfDeviceStatus(),this.bizControl.init(i,u),this.setCheckAuthInfoTimer(i.timestamp,u.timestamp),this.liveTranscoding.setAuthInfo(i),this.slsReporter.reportJoin(0,c,u.tid),this.slsReporter.reportJoinResult(null)}catch(u){const d=(n=u.code)!=null?n:-1,h=u.reason||u.message||"";throw this.connectState=qr.AliRtcConnectionStatusDisconnected,this.slsReporter.reportJoin(d,c,""),this.slsReporter.reportJoinResult(u),new ft(d,h)}this.currentRoleCanPublish&&(yield this.startAndPublishDefaultDevices(ns.ROLE_CHANGE)),this.remoteUsers.forEach(u=>{u.updateSubscribe(Kr.Join)})}else{const u=new ft(bt.ERR_JOIN_ALREADY_JOINED,"already joined");throw this.connectState===qr.AliRtcConnectionStatusConnecting&&(u.message="Repeated operation during login"),this.slsReporter.reportJoin(u.code,c,""),u}})}leaveChannel(){return Ye(this,null,function*(){var e;this.slsReporter.reportLeaveInvoked(),yield this.bizControl.leave();let t=new Date().getTime();if(qr.AliRtcConnectionStatusConnected===this.connectState)try{let r;r=yield this.signalingManager.leave(),this.slsReporter.reportLeave(new Date().getTime()-t,0,(e=r==null?void 0:r.tid)!=null?e:"")}catch(r){this.slsReporter.reportLeave(new Date().getTime()-t,r.code,r.reason)}else this.slsReporter.reportLeave(0,0,"");this.networkError=!1,this.connectState=qr.AliRtcConnectionStatusDisconnected,this.clearCheckAuthInfoTimer(),this.liveTranscoding.clear(),this.slsReporter.stop(),this.signalingManager.reset(),yt.reportEnd()})}isInCall(){return this.connectState===qr.AliRtcConnectionStatusConnected}refreshAuthInfo(e){return Ye(this,null,function*(){let t;if(typeof e=="string")try{const u=JSON.parse(window.atob(e));t={userId:u.userid,timestamp:u.timestamp,nonce:u.nonce,token:u.token}}catch(u){throw new ft(bt.ERR_INVALID_ARGUMENTS,`authInfo is invalid: ${u.message||""}`)}else t=e;const{userId:r,nonce:n,timestamp:i,token:a,role:c}=t,l={userId:r,nonce:n,timestamp:i,token:a,role:c};try{yield this.signalingManager.refreshAuthInfo(l),this.bizControl.refreshAuthInfo(l),this.liveTranscoding.refreshAuthInfo(l),this.clearCheckAuthInfoTimer(),this._serverCheckAuthInfoTimestamp&&this._localCheckAuthInfoTimestamp&&t.timestamp&&this.setCheckAuthInfoTimer(t.timestamp,this._serverCheckAuthInfoTimestamp+(Date.now()-this._localCheckAuthInfoTimestamp))}catch(u){throw u}})}isAudioOnly(){return this._audioOnlyMode}publishLocalAudioStream(e){return Ye(this,null,function*(){var t,r,n,i;(t=this.publisher)==null||t.setPublishLocalAudioStreamEnabled(e),this.connectState===qr.AliRtcConnectionStatusConnected&&(e?(r=this.publisher)!=null&&r.hasMicrophone?yield(n=this.publisher)==null?void 0:n.updateStreams():yield this.startAudioCapture():yield(i=this.publisher)==null?void 0:i.publishUpdate())})}isLocalAudioStreamPublished(){var e,t;return(t=(e=this.publisher)==null?void 0:e.publishLocalAudioStreamEnabled)!=null?t:!0}setDefaultSubscribeAllRemoteAudioStreams(e){this.bizControl.setAutoSubAudio(e)}subscribeAllRemoteAudioStreams(e){this.bizControl.setWantSubAudio(e)}subscribeRemoteAudioStream(e,t){if(t&&!this.bizControl.isWantSubAudio)throw new ft(bt.ERR_INVALID_ARGUMENTS,"subscribeAllRemoteAudioStreams(true) must be called first");this.bizControl.updateAudioWant(e,t)}resumeRemoteAudioStream(e){const t=this.bizControl.getRemoteUser(e);if(!t)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);t.resumeAudio()}stopRemoteAudioPlay(e){const t=this.bizControl.getRemoteUser(e);if(!t)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);t.stopPlayAudio()}publishLocalVideoStream(e){return Ye(this,null,function*(){var t,r,n,i;(t=this.publisher)==null||t.setPublishLocalVideoStreamEnabled(e),this.connectState===qr.AliRtcConnectionStatusConnected&&(e?(r=this.publisher)!=null&&r.hasCamera?yield(n=this.publisher)==null?void 0:n.updateStreams():yield this.enableLocalVideo():yield(i=this.publisher)==null?void 0:i.publishUpdate())})}isLocalVideoStreamPublished(){var e,t;return(t=(e=this.publisher)==null?void 0:e.publishLocalVideoStreamEnabled)!=null?t:!0}setRemoteDefaultVideoStreamType(e){[Ti.AliRtcVideoStreamTypeHigh,Ti.AliRtcVideoStreamTypeLow].includes(e)&&this.bizControl.setRemoteDefaultVideoStreamType(e)}setRemoteUserVideoStreamType(e,t){[Ti.AliRtcVideoStreamTypeHigh,Ti.AliRtcVideoStreamTypeLow].includes(t)&&this.bizControl.setRemoteUserVideoStreamType(e,t)}setDefaultSubscribeAllRemoteVideoStreams(e){this.bizControl.setAutoSubVideo(e),this.bizControl.setAutoSubScreen(e)}subscribeAllRemoteVideoStreams(e){this.bizControl.setWantSubVideo(e),this.bizControl.setWantSubScreen(e)}subscribeRemoteMediaStream(e,t,r,n){const i=this.bizControl.getRemoteUser(e);if(!i)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);r&&(t===hr.AliRtcVideoTrackScreen||t===hr.AliRtcVideoTrackBoth)?i.setWantSubScreen(!0):i.setWantSubScreen(!1),r&&(t===hr.AliRtcVideoTrackCamera||t===hr.AliRtcVideoTrackBoth)?i.setWantSubVideo(!0):i.setWantSubVideo(!1),i.setWantSubAudio(n),i.updateSubscribe(Kr.User)}resumeRemoteMediaStream(e,t){const r=this.bizControl.getRemoteUser(e);r&&r.resumeVideo(t)}getOnlineRemoteUsers(){return this.bizControl.remoteUsers.map(e=>e.userId)}getUserInfo(e){var t;return(t=this.bizControl.getRemoteUser(e))==null?void 0:t.remoteUserInfo}isUserOnline(e){return!!this.bizControl.remoteUsers.find(t=>t.userId===e)}startScreenShare(e){return Ye(this,null,function*(){var t;const r={video:!1,audio:!1},{audio:n=!1,videoTrack:i,audioTrack:a}=e||{};if(i||a){r.screen=!0;const c=new MediaStream;i&&c.addTrack(i),a&&c.addTrack(a),r.mediaStream=c}else r.screen=n?{audio:!0}:!0;yield(t=this.publisher)==null?void 0:t.createLocalStream(r)})}stopScreenShare(){return Ye(this,null,function*(){var e;(e=this.publisher)==null||e.stopLocalStream({screen:!0})})}setScreenShareConfiguration(e){return Ye(this,null,function*(){var t;const{frameRate:r=Wh.frameRate,bitrate:n=Wh.maxBitrate}=e;yield(t=this.publisher)==null?void 0:t.setScreenProfile(hE,{width:Wh.width,height:Wh.height,frameRate:r,maxBitrate:n})})}setScreenShareContentHint(e){return Ye(this,null,function*(){var t;e&&((t=this.publisher)==null||t.setScreenContentHint(e))})}publishLocalScreenShareStream(e,t){return Ye(this,null,function*(){var r,n,i;(r=this.publisher)==null||r.setPublishLocalScreenStreamEnabled(e),this.connectState===qr.AliRtcConnectionStatusConnected&&(e?(n=this.publisher)!=null&&n.hasScreenShare?yield this.publisher.updateStreams():yield this.startScreenShare(t):yield(i=this.publisher)==null?void 0:i.publishUpdate())})}isScreenSharePublished(){var e,t;return(t=(e=this.publisher)==null?void 0:e.publishLocalScreenStreamEnabled)!=null?t:!0}setAudioShareVolume(e){if(typeof e!="number")throw new ft(bt.ERR_INVALID_ARGUMENTS,"volume must be a number");this.bizControl.setAudioVolume({screen:Math.max(0,Math.min(e,400))/100})}enableAudioVolumeIndication(e){this.bizControl.enableAudioVolumeIndication(e)}muteLocalMic(e=!1){var t;this.isPublishing&&this.onLocalDeviceStatusChange(e?Fr.MuteAudio:Fr.UnmuteAudio),(t=this.publisher)==null||t.muteLocalMic(e)}muteRemoteAudioPlaying(e,t=!1){const r=this.bizControl.getRemoteUser(e);if(!r)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);r.setAudioMuted(t)}muteAllRemoteAudioPlaying(e=!1){this.bizControl.setAudioMuted(e)}startAudioCapture(e){return Ye(this,null,function*(){var t;const r={audio:e||!0};yield(t=this.publisher)==null?void 0:t.createLocalStream(r)})}stopAudioCapture(){var e;(e=this.publisher)==null||e.stopAudioCapture()}switchMicrophone(e,t){return Ye(this,null,function*(){var r,n,i,a;if(yield(r=this.publisher)==null?void 0:r.setMicrophoneDeviceId(e),!((n=this.publisher)!=null&&n.audioCaptureDisabled)){if(t){yield(i=this.publisher)==null?void 0:i.createLocalStream({audio:!0,mediaStream:new MediaStream([t])});return}yield(a=this.publisher)==null?void 0:a.createLocalStream({audio:{deviceId:e}})}})}setRecordingVolume(e){if(typeof e!="number")throw new ft(bt.ERR_INVALID_ARGUMENTS,"volume must be a number");this.bizControl.setAudioVolume({audio:Math.max(0,Math.min(e,400))/100})}setPlayoutVolume(e){if(typeof e!="number")throw new ft(bt.ERR_INVALID_ARGUMENTS,"volume must be a number");this.bizControl.setPlayoutVolume(Math.max(0,Math.min(e,100))/100)}setRemoteAudioVolume(e,t){const r=this.bizControl.getRemoteUser(e);if(!r)throw new ft(bt.ERR_INNER,`no remote user(${e}) founded`);if(typeof t!="number")throw new ft(bt.ERR_INVALID_ARGUMENTS,"volume must be a number");r.setPlayoutVolume(Math.max(0,Math.min(t,100))/100)}setAudioProfile(e){return Ye(this,null,function*(){var t;yield(t=this.publisher)==null?void 0:t.setAudioProfile(e)})}getAudioTrack(e){return Ye(this,null,function*(){var t;if(!e)return(t=this.publisher)==null?void 0:t.audioTrack;const r=this.bizControl.getRemoteUser(e);return r==null?void 0:r.getAudioTrack})}setLocalViewConfig(e,t){return Ye(this,null,function*(){var r,n,i;if(this._audioOnlyMode)throw new ft(bt.ERR_INNER,"Cannot set local view in audio only mode");(r=this.bizControl)==null||r.setLocalViewConfig(e,t),t===hr.AliRtcVideoTrackCamera&&(n=this.publisher)!=null&&n.hasCamera?yield this.startPreview():t===hr.AliRtcVideoTrackScreen&&(i=this.publisher)!=null&&i.hasScreenShare&&(yield this.startPreviewScreen())})}setCameraCapturerConfiguration(e){return Ye(this,null,function*(){var t,r,n;const{width:i=zh.width,height:a=zh.height,frameRate:c=zh.frameRate,bitrate:l=zh.maxBitrate,cameraDirection:u,deviceId:d}=e;yield(t=this.publisher)==null?void 0:t.setVideoProfile(fE,{width:i,height:a,frameRate:c,maxBitrate:l}),u!==void 0&&((r=this.publisher)==null||r.setCameraDirection(u)),d&&((n=this.publisher)==null||n.setCameraDeviceId(d))})}setCameraCapturerContentHint(e){return Ye(this,null,function*(){var t;e&&((t=this.publisher)==null||t.setVideoContentHint(e))})}enableLocalVideo(e=!0){return Ye(this,null,function*(){var t,r,n,i,a,c,l,u,d,h,y;if(this._audioOnlyMode)throw new ft(bt.ERR_INNER,"Cannot enable local video in audio only mode");e?((r=(t=this.publisher)==null?void 0:t.publishStreams)!=null&&r.video&&((a=(i=(n=this.publisher)==null?void 0:n.publishStreams)==null?void 0:i.video)==null||a.disableVideo(),(d=(u=(l=(c=this.publisher)==null?void 0:c.publishStreams)==null?void 0:l.video)==null?void 0:u.videoTrack)==null||d.stop()),yield(h=this.publisher)==null?void 0:h.startCameraCapture()):yield(y=this.publisher)==null?void 0:y.stopCameraCapture()})}muteLocalCamera(e){return Ye(this,null,function*(){var t;this.isPublishing&&this.onLocalDeviceStatusChange(e?Fr.MuteVideo:Fr.UnmuteVideo),(t=this.publisher)==null||t.muteLocalCamera(e)})}muteLocalScreen(e){return Ye(this,null,function*(){var t;this.isPublishing&&this.onLocalDeviceStatusChange(e?Fr.MuteScreen:Fr.UnmuteScreen),(t=this.publisher)==null||t.muteLocalScreen(e)})}setRemoteViewConfig(e,t,r){this.bizControl.setRemoteViewConfig(t,e,r)}isCameraOn(){var e,t;return(t=(e=this.publisher)==null?void 0:e.hasCamera)!=null?t:!1}switchCamera(e,t){return Ye(this,null,function*(){var r,n,i,a,c,l,u,d,h,y,m,_,R;if(this._audioOnlyMode)throw new ft(bt.ERR_INNER,"Cannot switch camera in audio only mode");const b={};if(e?(b.deviceId=e,this.slsReporter.reportSwitchCamera(e)):(b.cameraDirection=((r=this.publisher)==null?void 0:r.cameraDirection)==="environment"?Hh.CAMERA_FRONT:Hh.CAMERA_REAR,this.slsReporter.reportSwitchCamera(((n=this.publisher)==null?void 0:n.cameraDirection)||"")),yield this.setCameraCapturerConfiguration(b),!((i=this.publisher)!=null&&i.cameraCaptureDisabled)){(c=(a=this.publisher)==null?void 0:a.publishStreams)!=null&&c.video&&((d=(u=(l=this.publisher)==null?void 0:l.publishStreams)==null?void 0:u.video)==null||d.disableVideo(),(_=(m=(y=(h=this.publisher)==null?void 0:h.publishStreams)==null?void 0:y.video)==null?void 0:m.videoTrack)==null||_.stop());const C={video:!0};t&&(C.mediaStream=new MediaStream([t])),yield(R=this.publisher)==null?void 0:R.createLocalStream(C)}})}getCurrentCameraDeviceId(){var e;return(e=this.publisher)==null?void 0:e.getCurrentCameraDeviceId()}startPreview(){return Ye(this,null,function*(){var e,t;if(this._audioOnlyMode)throw new ft(bt.ERR_INNER,"Cannot start preview camera in audio only mode");(e=this.publisher)!=null&&e.hasCamera||(yield this.enableLocalVideo(!0)),yield(t=this.publisher)==null?void 0:t.previewAll({screen:!1})})}startPreviewScreen(e){return Ye(this,null,function*(){var t,r;if(this._audioOnlyMode)throw new ft(bt.ERR_INNER,"Cannot start preview screen share in audio only mode");(t=this.publisher)!=null&&t.hasScreenShare||(yield this.startScreenShare(e)),yield(r=this.publisher)==null?void 0:r.previewAll({primary:!1})})}stopPreview(){return Ye(this,null,function*(){var e;yield(e=this.publisher)==null?void 0:e.stopPreview({primary:!0,screen:!1})})}stopPreviewScreen(){return Ye(this,null,function*(){var e;yield(e=this.publisher)==null?void 0:e.stopPreview({primary:!1,screen:!0})})}getVideoTrack(e){return Ye(this,null,function*(){var t,r,n,i;const{userId:a,streamType:c}=e;if(!a)return c===vi.AliRtcSdkStreamTypeCapture?(t=this.publisher)==null?void 0:t.cameraTrack:(r=this.publisher)==null?void 0:r.screenTrack;const l=this.bizControl.getRemoteUser(a);return c===vi.AliRtcSdkStreamTypeCapture?(n=l==null?void 0:l.getCameraStream)==null?void 0:n.videoTrack:(i=l==null?void 0:l.getScreenStream)==null?void 0:i.videoTrack})}startPublishLiveStream(e,t){return Ye(this,null,function*(){return this.liveTranscoding.startPublishLiveStream(e,t)})}updatePublishLiveStream(e,t){return Ye(this,null,function*(){return this.liveTranscoding.updatePublishLiveStream(e,t)})}updatePublishLiveStreamWithTaskId(e,t){return this.liveTranscoding.updatePublishLiveStreamWithTaskId(e,t)}stopPublishLiveStream(e){return Ye(this,null,function*(){return this.liveTranscoding.stopPublishLiveStream(e)})}stopPublishLiveStreamWithTaskId(e){return this.liveTranscoding.stopPublishLiveStreamWithTaskId(e)}setEnableMediaExtensionMsg(e){var t;(t=this.bizControl)==null||t.setEnableMediaExtensionMsg(!!e)}sendMediaExtensionMsg(e,t){return Ye(this,null,function*(){return this.sendMediaExtensionMsgEx(e,t,5)})}sendMediaExtensionMsgEx(e,t,r){return Ye(this,null,function*(){var n;if(!this.publisher||!this.isPublishing)throw new ft(bt.ERR_INNER,"you should publish first");return this.slsReporter.reportSEIMessage(r,e.byteLength,t,0,!1),(n=this.publisher)==null?void 0:n.sendSEI(e,t,r)})}enablePlugin(e,t){this.bizControl.pluginManager.add(e,t)}removePlugin(e){this.bizControl.pluginManager.remove(e)}setPluginOption(e,t){const r=this.bizControl.pluginManager.get(e);r&&t&&r.setOptions(t)}getPluginOption(e){const t=this.bizControl.pluginManager.get(e);return t==null?void 0:t.getOptions()}isBeautyAvailable(){return this.bizControl.pluginManager.has("AliRtcBeauty")}isBeautyEnabled(){const e=this.bizControl.pluginManager.get("AliRtcBeauty");if(!e)throw new ft(Uc.AliRtcPluginErrorNoFindPlugin,"you should enable beautyPlugin first");return!!(e!=null&&e.isEnable)}setBeautyEffect(e,t){const r=this.bizControl.pluginManager.get("AliRtcBeauty");if(!r)throw new ft(Uc.AliRtcPluginErrorNoFindPlugin,"you should enable beautyPlugin first");e?r.enable():r.disable(),r.setOptions({basicBeauty:{skinBuffing:Math.max(Math.min(1,+t.smoothnessLevel),0),whitening:Math.max(Math.min(1,+t.whiteningLevel),0)}})}enableBackgroundExchange(e,t){const r=this.bizControl.pluginManager.get("AliRtcBeauty");if(!r||!r.isEnable)throw new ft(Uc.AliRtcPluginErrorNoFindPlugin,"you should enable beautyPlugin first");const n={setSegmentBackgroundImage:{backgroundImgUrl:e?t:""}};e&&(n.segmentBackgroundProcess={enable:!1}),r.setOptions(n)}enableBackgroundBlur(e){const t=this.bizControl.pluginManager.get("AliRtcBeauty");if(!t||!t.isEnable)throw new ft(Uc.AliRtcPluginErrorNoFindPlugin,"you should enable beautyPlugin first");const r={segmentBackgroundProcess:{type:0,enable:e}};e&&(r.setSegmentBackgroundImage={type:0,backgroundImgUrl:""}),t.setOptions(r)}setParameter(e){this.bizControl.setParameter(e)}getParameter(){return this.bizControl.getParameter()}sendDataChannelMessage(e){this.bizControl.sendDataChannelMessage(e)}},ae(Ut,"logName","AliRtcEngine"),ae(Ut,"logError",!0),ae(Ut,"isSupported",FT),ae(Ut,"isDualVideoStreamSupported",B0.isSupport),ae(Ut,"getCameraList",()=>Ye(Ut,null,function*(){return(yield Tr.AliRTS.getCameraList()).filter(e=>e.deviceId)})),ae(Ut,"getMicrophoneList",()=>Ye(Ut,null,function*(){return(yield Tr.AliRTS.getMicList()).filter(e=>e.deviceId)})),ae(Ut,"getSpeakerList",()=>Ye(Ut,null,function*(){return(yield Tr.AliRTS.getSpeakerList()).filter(e=>e.deviceId)})),ae(Ut,"_instance"),ae(Ut,"AliRtcSdkChannelProfile",Nc),ae(Ut,"AliRtcSdkClientRole",Dc),ae(Ut,"AliRtcVideoStreamType",Ti),ae(Ut,"AliRtcVideoTrack",hr),ae(Ut,"AliRtcAudioTrack",Ld),ae(Ut,"AliRtcPublishState",ur),ae(Ut,"AliRtcSubscribeState",zr),ae(Ut,"AliRtcRawDataStreamType",vi),ae(Ut,"AliRtcLogLevel",Yb),ae(Ut,"AliRtcEngineLocalDeviceType",Hs),ae(Ut,"AliRtcEngineLocalDeviceExceptionType",ri),ae(Ut,"AliRtcConnectionStatus",qr),ae(Ut,"AliRtcConnectionStatusChangeReason",Dd),ae(Ut,"AliRtcPlugin",Nd),ae(Ut,"AliRtcPluginTrackType",og),ae(Ut,"AliRtcLiveTranscodingParam",O0),ae(Ut,"AliRtcLiveTranscodingEncodeParam",rE),ae(Ut,"AliRtcLiveTranscodingMixParam",Q2),ae(Ut,"AliRtcLiveTranscodingSingleParam",Z2),ae(Ut,"AliRtcTranscodingClockWidget",eA),ae(Ut,"AliRtcTranscodingImage",kE),ae(Ut,"AliRtcTranscodingText",tA),ae(Ut,"AliRtcTranscodingUser",rA),ae(Ut,"AliRtcLiveTranscodingMixMode",ag),ae(Ut,"AliRtcLiveTranscodingStreamType",Xb),ae(Ut,"AliRtcLiveTranscodingSourceType",Fh),ae(Ut,"AliRtcLiveTranscodingTaskProfile",Qb),ae(Ut,"AliRtcLiveTranscodingAudioSampleRate",P0),ae(Ut,"AliRtcLiveTranscodingSegmentType",sg),ae(Ut,"AliRtcLiveTranscodingFontType",cg),ae(Ut,"AliRtcLiveTranscodingCropMode",Zb),ae(Ut,"AliRtcLiveTranscodingMediaProcessMode",k0),ae(Ut,"AliRtcLiveTranscodingState",eE),ae(Ut,"AliRtcLiveTranscodingErrorCode",Fs),ae(Ut,"AliRtcTrascodingPublishTaskStatus",tE),ae(Ut,"AliRtcDataChannelMsg",Zl),ae(Ut,"AliRtcDataMsgType",vE),ae(Ut,"Plugin",Nd),Ut);Ot([Ze()],It.prototype,"destroy",1),Ot([Ze()],It.prototype,"backToUnpublishStatus",1),Ot([Ze()],It.prototype,"resumePublishForNetworkRecovery",1),Ot([Ze()],It.prototype,"onNetworkRecovery",1),Ot([Ze()],It.prototype,"resumeSubList",1),Ot([Ze(Et)],It.prototype,"retrySubscribe",1),Ot([Ze(Et)],It.prototype,"setEnableDualVideoStream",1),Ot([Ze(Et)],It.prototype,"setChannelProfile",1),Ot([Ze(Et)],It.prototype,"setClientRole",1),Ot([Ze(Et)],It.prototype,"setAudioOnlyMode",1),Ot([Ze()],It.prototype,"clearCheckAuthInfoTimer",1),Ot([Ze(Et)],It.prototype,"joinChannel",1),Ot([Ze(Et)],It.prototype,"leaveChannel",1),Ot([Ze(Et)],It.prototype,"refreshAuthInfo",1),Ot([Ze(Et)],It.prototype,"publishLocalAudioStream",1),Ot([Ze(Et)],It.prototype,"setDefaultSubscribeAllRemoteAudioStreams",1),Ot([Ze(Et)],It.prototype,"subscribeAllRemoteAudioStreams",1),Ot([Ze(Et)],It.prototype,"subscribeRemoteAudioStream",1),Ot([Ze(Et)],It.prototype,"resumeRemoteAudioStream",1),Ot([Ze(Et)],It.prototype,"stopRemoteAudioPlay",1),Ot([Ze(Et)],It.prototype,"publishLocalVideoStream",1),Ot([Ze(Et)],It.prototype,"setRemoteDefaultVideoStreamType",1),Ot([Ze(Et)],It.prototype,"setRemoteUserVideoStreamType",1),Ot([Ze(Et)],It.prototype,"setDefaultSubscribeAllRemoteVideoStreams",1),Ot([Ze(Et)],It.prototype,"subscribeAllRemoteVideoStreams",1),Ot([Ze(Et)],It.prototype,"subscribeRemoteMediaStream",1),Ot([Ze(Et)],It.prototype,"resumeRemoteMediaStream",1),Ot([Ze(([e])=>[`${e==null?void 0:e.audio}`])],It.prototype,"startScreenShare",1),Ot([Ze()],It.prototype,"stopScreenShare",1),Ot([Ze(Et)],It.prototype,"setScreenShareConfiguration",1),Ot([Ze(Et)],It.prototype,"setScreenShareContentHint",1),Ot([Ze()],It.prototype,"publishLocalScreenShareStream",1),Ot([Ze(Et)],It.prototype,"setAudioShareVolume",1),Ot([Ze(Et)],It.prototype,"enableAudioVolumeIndication",1),Ot([Ze(Et)],It.prototype,"muteLocalMic",1),Ot([Ze(Et)],It.prototype,"muteRemoteAudioPlaying",1),Ot([Ze(Et)],It.prototype,"muteAllRemoteAudioPlaying",1),Ot([Ze(Et)],It.prototype,"startAudioCapture",1),Ot([Ze()],It.prototype,"stopAudioCapture",1),Ot([Ze(Et)],It.prototype,"switchMicrophone",1),Ot([Ze(Et)],It.prototype,"setRecordingVolume",1),Ot([Ze(Et)],It.prototype,"setPlayoutVolume",1),Ot([Ze(Et)],It.prototype,"setRemoteAudioVolume",1),Ot([Ze(Et)],It.prototype,"setAudioProfile",1),Ot([Ze(Et)],It.prototype,"getAudioTrack",1),Ot([Ze(Et)],It.prototype,"setLocalViewConfig",1),Ot([Ze(Et)],It.prototype,"setCameraCapturerConfiguration",1),Ot([Ze(Et)],It.prototype,"setCameraCapturerContentHint",1),Ot([Ze(Et)],It.prototype,"enableLocalVideo",1),Ot([Ze(Et)],It.prototype,"muteLocalCamera",1),Ot([Ze(Et)],It.prototype,"muteLocalScreen",1),Ot([Ze(Et)],It.prototype,"setRemoteViewConfig",1),Ot([Ze(Et)],It.prototype,"switchCamera",1),Ot([Ze()],It.prototype,"startPreview",1),Ot([Ze()],It.prototype,"startPreviewScreen",1),Ot([Ze()],It.prototype,"stopPreview",1),Ot([Ze()],It.prototype,"stopPreviewScreen",1),Ot([Ze()],It.prototype,"startPublishLiveStream",1),Ot([Ze()],It.prototype,"updatePublishLiveStream",1),Ot([Ze()],It.prototype,"updatePublishLiveStreamWithTaskId",1),Ot([Ze()],It.prototype,"stopPublishLiveStream",1),Ot([Ze()],It.prototype,"stopPublishLiveStreamWithTaskId",1),Ot([Ze(Et)],It.prototype,"setEnableMediaExtensionMsg",1),Ot([Ze(([e,t,r])=>[e.byteLength,t,r])],It.prototype,"sendMediaExtensionMsgEx",1),Ot([Ze(([e,t])=>[e.name||"",t])],It.prototype,"enablePlugin",1),Ot([Ze(Et)],It.prototype,"removePlugin",1),Ot([Ze(Et)],It.prototype,"setPluginOption",1),Ot([Ze(Et)],It.prototype,"getPluginOption",1),Ot([Ze(Et)],It.prototype,"setBeautyEffect",1),Ot([Ze(Et)],It.prototype,"enableBackgroundExchange",1),Ot([Ze(Et)],It.prototype,"enableBackgroundBlur",1),Ot([Ze(Et)],It.prototype,"setParameter",1),Ot([Ze(([e])=>{var t;return[(t=e.data)==null?void 0:t.byteLength]})],It.prototype,"sendDataChannelMessage",1),Ot([Ze(Et)],It,"setLogLevel",1);let DE=It;var LE;const VE=new y0({businessName:"imp-web-rtc",version:(LE=DE.getSdkVersion())!=null?LE:"unknown",env:"prod",disabled:window.AliRtcOptionsDisableProxy===!0});VE.setReady();const gg=VE.wrap(DE);var sA=Object.defineProperty,cA=(e,t,r)=>t in e?sA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pr=(e,t,r)=>cA(e,typeof t!="symbol"?t+"":t,r),Pi=(e,t,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(d){i(d)}},c=u=>{try{l(r.throw(u))}catch(d){i(d)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,c);l((r=r.apply(e,t)).next())});function lA(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return new TextDecoder("utf-8").decode(r)}var zn=(e=>(e[e.VoiceAgent=0]="VoiceAgent",e[e.AvatarAgent=1]="AvatarAgent",e[e.VisionAgent=2]="VisionAgent",e))(zn||{}),Ur=(e=>(e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Over=3]="Over",e[e.Error=4]="Error",e))(Ur||{}),iu=(e=>(e[e.Listening=1]="Listening",e[e.Thinking=2]="Thinking",e[e.Speaking=3]="Speaking",e))(iu||{}),Wr=(e=>(e[e.None=0]="None",e[e.InvalidAction=-1]="InvalidAction",e[e.InvalidParames=-2]="InvalidParames",e[e.BeginCallFailed=-1e4]="BeginCallFailed",e[e.ConnectionFailed=-10001]="ConnectionFailed",e[e.PublishFailed=-10002]="PublishFailed",e[e.SubscribeFailed=-10003]="SubscribeFailed",e[e.TokenExpired=-10004]="TokenExpired",e[e.KickedByUserReplace=-10005]="KickedByUserReplace",e[e.KickedBySystem=-10006]="KickedBySystem",e[e.KickedByChannelTerminated=-10007]="KickedByChannelTerminated",e[e.LocalDeviceException=-10008]="LocalDeviceException",e[e.AgentLeaveChannel=-10101]="AgentLeaveChannel",e[e.AgentPullFailed=-10102]="AgentPullFailed",e[e.AgentASRFailed=-10103]="AgentASRFailed",e[e.AvatarServiceFailed=-10201]="AvatarServiceFailed",e[e.AvatarRoutesExhausted=-10202]="AvatarRoutesExhausted",e[e.AgentSubscriptionRequired=-10203]="AgentSubscriptionRequired",e[e.AgentNotFound=-10204]="AgentNotFound",e[e.UnknowError=-4e4]="UnknowError",e))(Wr||{});class H0{constructor(t,r,n,i,a,c){pr(this,"shareId"),pr(this,"agentType"),pr(this,"expireTime"),pr(this,"templateConfig"),pr(this,"region"),pr(this,"userData"),this.shareId=t,this.agentType=r,this.expireTime=n,this.templateConfig=i,this.region=a,this.userData=c}static fromToken(t){const r=lA(decodeURIComponent(t).split(" ").join("+")),n=JSON.parse(r),i=n.ExpireTime;let a=0;return n.WorkflowType==="AvatarChat3D"?a=1:n.WorkflowType==="VisionChat"&&(a=2),new H0(n.TemporaryAIAgentId,a,new Date(i.replace(" ","T")+"Z"),n.TemplateConfig,n.Region,n.UserData)}}class ni extends Error{constructor(t,r){super(t),pr(this,"code"),this.code=r||-4e4}}class Bc{constructor(){pr(this,"agentGreeting"),pr(this,"userOnlineTimeout",-1),pr(this,"userOfflineTimeout",-1),pr(this,"workflowOverrideParams"),pr(this,"bailianAppParams"),pr(this,"asrMaxSilence",-1),pr(this,"volume",-1),pr(this,"enableVoiceInterrupt",!0),pr(this,"agentVoiceId"),pr(this,"avatarUrl"),pr(this,"enableIntelligentSegment",!0),pr(this,"agentMaxIdleTime",-1),pr(this,"enablePushToTalk",!1),pr(this,"agentAvatarId"),pr(this,"agentGracefulShutdown",!1)}getJsonString(t){const r={},n={EnableVoiceInterrupt:this.enableVoiceInterrupt,EnablePushToTalk:this.enablePushToTalk,EnableIntelligentSegment:this.enableIntelligentSegment,GracefulShutdown:this.agentGracefulShutdown};return this.agentGreeting!==void 0&&(n.Greeting=this.agentGreeting),this.userOnlineTimeout>-1&&(n.UserOnlineTimeout=this.userOnlineTimeout),this.userOfflineTimeout>-1&&(n.UserOfflineTimeout=this.userOfflineTimeout),this.workflowOverrideParams!==void 0&&(n.WorkflowOverrideParams=JSON.stringify(this.workflowOverrideParams)),this.bailianAppParams!==void 0&&(n.BailianAppParams=JSON.stringify(this.bailianAppParams)),this.asrMaxSilence>-1&&(n.AsrMaxSilence=this.asrMaxSilence),this.volume>-1&&(n.Volume=this.volume),this.agentVoiceId!==void 0&&(n.VoiceId=this.agentVoiceId),this.agentMaxIdleTime>-1&&(n.MaxIdleTime=this.agentMaxIdleTime),t===zn.AvatarAgent&&this.agentAvatarId!==void 0&&(n.AvatarId=this.agentAvatarId),r[Bc.getTemplateConfigKey(t)]=n,JSON.stringify(r)}static getTemplateConfigKey(t){switch(t){case zn.AvatarAgent:return"AvatarChat3D";case zn.VisionAgent:return"VisionChat";default:return"VoiceChat"}}static fromJsonString(t,r){try{const n=JSON.parse(r),i=Bc.getTemplateConfigKey(t),a=n[i],c=new Bc;return a.EnablePushToTalk!==void 0&&(c.enablePushToTalk=a.EnablePushToTalk),a.EnableIntelligentSegment!==void 0&&(c.enableIntelligentSegment=a.EnableIntelligentSegment),a.EnableVoiceInterrupt!==void 0&&(c.enableVoiceInterrupt=a.EnableVoiceInterrupt),a.Greeting!==void 0&&(c.agentGreeting=a.Greeting),a.UserOnlineTimeout!==void 0&&(c.userOnlineTimeout=a.UserOnlineTimeout),a.WorkflowOverrideParams!==void 0&&(c.workflowOverrideParams=JSON.parse(a.WorkflowOverrideParams)),a.BailianAppParams!==void 0&&(c.bailianAppParams=JSON.parse(a.BailianAppParams)),a.AsrMaxSilence!==void 0&&(c.asrMaxSilence=a.AsrMaxSilence),a.Volume!==void 0&&(c.volume=a.Volume),a.VoiceId!==void 0&&(c.agentVoiceId=a.VoiceId),a.MaxIdleTime!==void 0&&(c.agentMaxIdleTime=a.MaxIdleTime),t===zn.AvatarAgent&&a.AvatarId!==void 0&&(c.agentAvatarId=a.AvatarId),c}catch(n){return console.error(n),new Bc}}}var On=(e=>(e[e.None=0]="None",e[e.AgentErrorOccurs=1e3]="AgentErrorOccurs",e[e.AgentStateChanged=1001]="AgentStateChanged",e[e.AgentSubtitleNotify=1002]="AgentSubtitleNotify",e[e.UserSubtitleNotify=1003]="UserSubtitleNotify",e[e.VoiceInterruptChanged=1004]="VoiceInterruptChanged",e[e.VoiceIdChanged=1005]="VoiceIdChanged",e[e.RTCTokenResponsed=1006]="RTCTokenResponsed",e[e.PushToTalkChanged=1007]="PushToTalkChanged",e[e.VoiceprintUsingChanged=1008]="VoiceprintUsingChanged",e[e.VoiceprintClearSucceed=1009]="VoiceprintClearSucceed",e[e.AgentWillLeave=1010]="AgentWillLeave",e[e.CustomMessageReceived=1011]="CustomMessageReceived",e[e.HumanTakeoverWillStart=1012]="HumanTakeoverWillStart",e[e.HumanTakeoverConnected=1013]="HumanTakeoverConnected",e[e.AgentEmotionNotify=1014]="AgentEmotionNotify",e[e.StopAgent=1100]="StopAgent",e[e.InterruptSpeaking=1101]="InterruptSpeaking",e[e.EnableVoiceInterrupt=1102]="EnableVoiceInterrupt",e[e.SwitchVoiceId=1103]="SwitchVoiceId",e[e.RequestRTCToken=1104]="RequestRTCToken",e[e.EnablePushToTalk=1105]="EnablePushToTalk",e[e.StartPushToTalk=1106]="StartPushToTalk",e[e.FinishPushToTalk=1107]="FinishPushToTalk",e[e.CancelPushToTalk=1108]="CancelPushToTalk",e))(On||{});const uA="https://ice-smart-aiagent-fcapp-appserver.aliyuncs.com",vg=class{};pr(vg,"generateAIAgent",(e,t,r,n,i,a)=>Pi(vg,null,function*(){if(!e||!t)throw new Error("userId or sharedId is empty");const c={user_id:e,expire:24*60*60,ai_agent_id:t};let l={};if(n)try{l=JSON.parse(n)}catch(u){console.log(u)}return c.template_config=JSON.stringify(l),i&&(c.region=i),a&&(c.user_data=a),fetch(`${uA}/api/v1/aiagent/generateAIAgentCall`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(u=>Pi(vg,null,function*(){let d={};try{d=yield u.json()}catch(h){console.error(h)}if(d.error_code==="Forbidden.SubscriptionRequired")throw new ni("Forbidden.SubscriptionRequired",Wr.AgentSubscriptionRequired);if(d.error_code==="AgentNotFound")throw new ni("AgentNotFound",Wr.AgentNotFound);if(u.status!==200)throw new ni(`response status is ${u.status}`);return d})).then(u=>{if(u.code===200)return{agentType:r,instanceId:u.ai_agent_instance_id,channelId:u.channel_id,userId:u.ai_agent_user_id,rtcToken:u.rtc_auth_token,reqId:u.request_id||""};throw new ni(u.message||"request error")})}));let dA=vg;class Ud extends ti{constructor(t){super(),pr(this,"_isCalling",!1),pr(this,"_rtcEngine"),pr(this,"_seqId",1),pr(this,"_isOnCall",!1),pr(this,"_userId"),pr(this,"_agentInfo"),pr(this,"_agentState",iu.Listening),pr(this,"_avatarUserId"),pr(this,"_avatarViewSeted",!1),pr(this,"_takeoverUid"),pr(this,"_takeoverMode"),pr(this,"_view"),pr(this,"_config"),pr(this,"_enablePushToTalk",!1),pr(this,"_isStartPushToTalk",!1),pr(this,"onDataChannelMsg",(r,n)=>{var i,a,c;try{const l=JSON.parse(new TextDecoder().decode(n.data));if(l.type===On.AgentStateChanged)this._agentState=l.data.state,this.emit("agentStateChange",l.data.state);else if(l.type===On.AgentSubtitleNotify)this.emit("agentSubtitleNotify",l.data);else if(l.type===On.UserSubtitleNotify)this.emit("userSubtitleNotify",l.data);else if(l.type===On.AgentEmotionNotify)this.emit("agentEmotionNotify",l.data.emotion,l.data.sentenceId);else if(l.type===On.VoiceInterruptChanged)this.emit("voiceInterruptChanged",l.data.enable);else if(l.type===On.VoiceIdChanged)this.emit("voiceIdChanged",l.data.voiceId);else if(l.type===On.PushToTalkChanged)this.emit("pushToTalkChanged",l.data.enable);else if(l.type===On.RTCTokenResponsed)this.emit("newRTCToken",l.data.token);else if(l.type===On.AgentErrorOccurs){let u=0;const d=l.data.code;d===4001?u=Wr.AvatarRoutesExhausted:d===4004?u=Wr.AgentPullFailed:d===4005?u=Wr.AgentASRFailed:d===4006&&(u=Wr.AvatarServiceFailed),u&&this.emit("errorOccurred",u)}else if(l.type===On.AgentWillLeave)this.emit("agentWillLeave",l.data.reason,l.data.message);else if(l.type===On.CustomMessageReceived){const u=l.data.message||"";try{const d=JSON.parse(u);this.emit("receivedAgentCustomMessage",d)}catch(d){console.error(d)}}else if(l.type===On.HumanTakeoverWillStart){const u=(i=l.data)==null?void 0:i.takeoverUid,d=(a=l.data)==null?void 0:a.takeoverMode;if(this._takeoverUid=u,this._takeoverMode=d,d===0)try{(c=this._rtcEngine)==null||c.subscribeRemoteAudioStream(u,!1)}catch(h){}this.emit("humanTakeoverWillStart",u,d)}else if(l.type===On.HumanTakeoverConnected){const u=l.data.takeoverUid;this.emit("humanTakeoverConnected",u)}else console.log(`AICallEngine dataChannelMsg unknown: ${JSON.stringify(l)}`)}catch(l){console.log(`AICallEngine dataChannelMsg failed: ${l}`)}}),pr(this,"handleLocalUserVolume",(r,n)=>{this.emit("speakingVolumeChanged",r,n)}),this._config=t||{}}static parseShareAgentCall(t){return H0.fromToken(t)}get userId(){return this._userId}get isOnCall(){return this._isOnCall}get agentInfo(){return this._agentInfo}get agentState(){return this._agentState}getRTCInstance(){return this._rtcEngine}standardAgentInfo(t){const r=t,n=t;return!r.channelId&&n.channel_id&&(r.channelId=n.channel_id),!r.rtcToken&&n.rtc_auth_token&&(r.rtcToken=n.rtc_auth_token),!r.instanceId&&n.ai_agent_instance_id&&(r.instanceId=n.ai_agent_instance_id),!r.userId&&n.ai_agent_user_id&&(r.userId=n.ai_agent_user_id),r}call(t,r,n){return Pi(this,null,function*(){var i,a,c,l,u,d,h,y,m,_,R,b;const C=this.standardAgentInfo(r);if(n&&(this._config=n),(n==null?void 0:n.enablePushToTalk)!==void 0&&((i=this._config.templateConfig)==null?void 0:i.enablePushToTalk)===void 0&&(this._config.templateConfig||(this._config.templateConfig=new Bc),this._config.templateConfig.enablePushToTalk=n.enablePushToTalk),this._enablePushToTalk=((a=this._config.templateConfig)==null?void 0:a.enablePushToTalk)||!1,this._isCalling)return;this._userId=t,this._agentInfo=C,this._isCalling=!0;const H={};if(((c=n==null?void 0:n.rtcEngineConfig)==null?void 0:c.environment)==="PRE"&&(H.env="pre"),this._rtcEngine=gg.getInstance(H),this._rtcEngine.setParameter(JSON.stringify({data:{enablePubDataChannel:!0,enableSubDataChannel:!0}})),this._rtcEngine.setClientRole(Dc.AliRtcSdkInteractive),C.agentType===zn.VisionAgent){(l=this._config)!=null&&l.previewElement&&this._rtcEngine.setLocalViewConfig((u=this._config)==null?void 0:u.previewElement,hr.AliRtcVideoTrackCamera);const A={};let D=!1;(d=this._config.cameraConfig)!=null&&d.width&&(D=!0,A.width=this._config.cameraConfig.width),(h=this._config.cameraConfig)!=null&&h.height&&(D=!0,A.height=this._config.cameraConfig.height),(y=this._config.cameraConfig)!=null&&y.frameRate&&(D=!0,A.frameRate=this._config.cameraConfig.frameRate),(m=this._config.cameraConfig)!=null&&m.bitrate&&(D=!0,A.bitrate=this._config.cameraConfig.bitrate),D&&this._rtcEngine.setCameraCapturerConfiguration(A)}else this._rtcEngine.publishLocalVideoStream(!1);this._rtcEngine.enableAudioVolumeIndication(200),this._rtcEngine.on("dataChannelMsg",this.onDataChannelMsg),this._rtcEngine.on("audioVolume",A=>{A.forEach(({volume:D,userId:Z})=>{this.handleLocalUserVolume(Z,D)})}),this._rtcEngine.on("onOccurError",A=>{console.log(A)}),this._rtcEngine.on("authInfoWillExpire",()=>{this.emit("authInfoWillExpire")}),this._rtcEngine.on("authInfoExpired",()=>{this.emit("authInfoExpired")}),this._rtcEngine.on("remoteUserOnLineNotify",A=>{var D;this._takeoverUid===A&&this._takeoverMode===0&&((D=this._rtcEngine)==null||D.subscribeRemoteAudioStream(A,!1))}),this._rtcEngine.on("remoteUserOffLineNotify",A=>{var D;(((D=this.agentInfo)==null?void 0:D.userId)===A||this._avatarUserId===A)&&this.emit("errorOccurred",Wr.AgentLeaveChannel)}),this._rtcEngine.on("localDeviceException",A=>{var D,Z;A===1?(D=this._rtcEngine)==null||D.startAudioCapture():A===4&&((Z=this._rtcEngine)==null||Z.enableLocalVideo(!0))}),this._rtcEngine.on("bye",A=>{A===1?this.emit("errorOccurred",Wr.KickedBySystem):A===2?this.emit("errorOccurred",Wr.KickedByChannelTerminated):A===3&&this.emit("errorOccurred",Wr.KickedByUserReplace)}),this._rtcEngine.on("remoteTrackAvailableNotify",(A,D,Z)=>{var ie,oe;((ie=this.agentInfo)==null?void 0:ie.agentType)===zn.AvatarAgent&&Z===hr.AliRtcVideoTrackCamera&&A!==((oe=this.agentInfo)==null?void 0:oe.userId)&&!this._avatarUserId&&(this._avatarUserId=A,this.startPlayAgentVideo())}),this._rtcEngine.on("audioSubscribeStateChanged",(A,D,Z)=>{var ie,oe,fe,he;A===((ie=this.agentInfo)==null?void 0:ie.userId)&&Z===zr.AliRtcStateSubscribed&&this.emit("audioSubscribed",A,(he=(fe=this._rtcEngine)==null?void 0:fe.getUserInfo((oe=this.agentInfo)==null?void 0:oe.userId))==null?void 0:he.audioElement)});try{yield this._rtcEngine.joinChannel(C.rtcToken,t);const A=((_=this._rtcEngine)==null?void 0:_.remoteUsers)||[];if(A.length>0){const D=A[0];D.hasVideoTrack&&(this._avatarUserId=D.userId,this.startPlayAgentVideo())}this._isOnCall=!0,this._enablePushToTalk&&(this.mute(!0),(R=this._config.pushToTalkConfig)!=null&&R.closeMicrophoneOnRelease&&(this._rtcEngine.setParameter(JSON.stringify({enableBlankAudio:!0})),this._rtcEngine.stopAudioCapture()),(b=this._config.pushToTalkConfig)!=null&&b.pushVideoOnRelease||this._rtcEngine.publishLocalVideoStream(!1)),this.emit("callBegin")}catch(A){throw console.log(`AICallEngine joinChannel failed: ${A.code} - ${A.message}`),A}})}startPlayAgentVideo(){var t;!this._view||!this._avatarUserId||this._avatarViewSeted||((t=this._rtcEngine)==null||t.setRemoteViewConfig(this._view,this._avatarUserId,hr.AliRtcVideoTrackCamera),this._avatarViewSeted=!0)}setAgentView(t){this._view=t,this.startPlayAgentVideo()}startPreview(t){var r;this._config.previewElement=t,(r=this._rtcEngine)==null||r.setLocalViewConfig(t,hr.AliRtcVideoTrackCamera)}stopPreview(){var t;(t=this._rtcEngine)==null||t.setLocalViewConfig(null,hr.AliRtcVideoTrackCamera)}handup(){return Pi(this,null,function*(){this.emit("callEnd"),this.destroy()})}destroy(){return Pi(this,null,function*(){var t,r;(t=this._rtcEngine)==null||t.off("dataChannelMsg",this.onDataChannelMsg),yield(r=this._rtcEngine)==null?void 0:r.destroy(),this._rtcEngine=void 0,this._userId=void 0,this._agentInfo=void 0,this._isCalling=!1,this._isOnCall=!1})}mute(t){return Pi(this,null,function*(){!this.isOnCall||!this._rtcEngine||this._rtcEngine.muteLocalMic(t)})}switchMicrophone(t){return Pi(this,null,function*(){!this.isOnCall||!this._rtcEngine||this._rtcEngine.switchMicrophone(t)})}muteLocalCamera(t){return Pi(this,null,function*(){var r,n;!this.isOnCall||!this._rtcEngine||(t?(this._rtcEngine.enableLocalVideo(!1),this._rtcEngine.setLocalViewConfig(null,hr.AliRtcVideoTrackCamera)):(this._rtcEngine.enableLocalVideo(!0),(r=this._config)!=null&&r.previewElement&&this._rtcEngine.setLocalViewConfig((n=this._config)==null?void 0:n.previewElement,hr.AliRtcVideoTrackCamera)))})}switchCamera(t){return Pi(this,null,function*(){!this.isOnCall||!this._rtcEngine||this._rtcEngine.switchCamera(t)})}updateToken(t){return Pi(this,null,function*(){this.isOnCall&&this._rtcEngine&&this._rtcEngine.refreshAuthInfo(t)})}stopAgent(){return Pi(this,null,function*(){if(!this.isOnCall)return;const t={type:On.StopAgent};this.sendMsgToDataChannel(t)})}interruptSpeaking(){return Pi(this,null,function*(){if(!this.isOnCall)return;const t={type:On.InterruptSpeaking};this.sendMsgToDataChannel(t)})}enableVoiceInterrupt(t){return Pi(this,null,function*(){if(!this.isOnCall)return;const r={type:On.EnableVoiceInterrupt,data:{enable:t}};this.sendMsgToDataChannel(r)})}switchVoiceId(t){return Pi(this,null,function*(){if(!this.isOnCall)return;const r={type:On.SwitchVoiceId,data:{voiceId:t}};this.sendMsgToDataChannel(r)})}requestRTCToken(){return Pi(this,null,function*(){if(!this.isOnCall||!this.userId)return;const t={type:On.RequestRTCToken,data:{userId:this.userId}};this.sendMsgToDataChannel(t)})}enablePushToTalk(t){var r,n;if(this._enablePushToTalk===t)return!1;if(this._isStartPushToTalk=!1,this._enablePushToTalk=t,!this._rtcEngine)return!0;if((r=this._config.pushToTalkConfig)!=null&&r.closeMicrophoneOnRelease&&((n=this._rtcEngine)==null||n.setParameter(JSON.stringify({enableBlankAudio:!0}))),t?this.rtcStopTalk():this.rtcStartTalk(),this.isOnCall){const i={type:On.EnablePushToTalk,data:{enable:this._enablePushToTalk}};return this.sendMsgToDataChannel(i),!0}return!1}rtcStartTalk(){var t,r,n,i,a;((t=this.agentInfo)==null?void 0:t.agentType)===zn.VisionAgent&&((r=this._rtcEngine)==null||r.publishLocalVideoStream(!0)),(n=this._config.pushToTalkConfig)!=null&&n.closeMicrophoneOnRelease?(i=this._rtcEngine)==null||i.startAudioCapture():(a=this._rtcEngine)==null||a.muteLocalMic(!1)}startPushToTalk(){return!this.isOnCall||!this._enablePushToTalk||this._isStartPushToTalk?!1:(this.rtcStartTalk(),this._isStartPushToTalk=!0,this.sendMsgToDataChannel({type:On.StartPushToTalk}),!0)}rtcStopTalk(){var t,r,n,i,a,c;((t=this.agentInfo)==null?void 0:t.agentType)===zn.VisionAgent&&!((r=this._config.pushToTalkConfig)!=null&&r.pushVideoOnRelease)&&((n=this._rtcEngine)==null||n.publishLocalVideoStream(!1)),(i=this._config.pushToTalkConfig)!=null&&i.closeMicrophoneOnRelease?(a=this._rtcEngine)==null||a.stopAudioCapture():(c=this._rtcEngine)==null||c.muteLocalMic(!0)}finishPushToTalk(){return!this.isOnCall||!this._enablePushToTalk||!this._isStartPushToTalk?!1:(this._isStartPushToTalk=!1,this.rtcStopTalk(),this.sendMsgToDataChannel({type:On.FinishPushToTalk}),!0)}cancelPushToTalk(){return!this.isOnCall||!this._enablePushToTalk||!this._isStartPushToTalk?!1:(this._isStartPushToTalk=!1,this.rtcStopTalk(),this.sendMsgToDataChannel({type:On.CancelPushToTalk}),!0)}generateShareAgentCall(t,r){return Pi(this,null,function*(){if(!t||!t.shareId){const n=new ni("InvalidParames, shareConfig.shareId is required");throw n.code=Wr.InvalidParames,n}if(t.expireTime&&t.expireTime.getTime()<Date.now()){const n=new ni("TokenExpired");throw n.code=Wr.TokenExpired,n}return dA.generateAIAgent(r,t.shareId,t.agentType||zn.VoiceAgent,t.templateConfig,t.region,t.userData)})}sendMsgToDataChannel(t){return Pi(this,null,function*(){var r;if(!this._rtcEngine)return;const n=JSON.stringify({type:t.type,data:t.data,seqId:this._seqId++,senderId:this._userId,receiverId:(r=this._agentInfo)==null?void 0:r.userId}),i=new TextEncoder().encode(n);this._rtcEngine.sendDataChannelMessage(new Zl(i))})}}pr(Ud,"isSupported",gg.isSupported),pr(Ud,"getMicrophoneList",gg.getMicrophoneList),pr(Ud,"getCameraList",gg.getCameraList);var UE={callState:Ur.None,agentType:void 0,agentState:iu.Listening,isSpeaking:!1,currentSubtitle:void 0,currentAgentSubtitle:void 0,subtitleList:[],enablePushToTalk:!1,updatingPushToTalk:!1,pushingToTalk:!1,enableVoiceInterrupt:!0,updatingVoiceInterrupt:!1,voiceId:"",updatingVoiceId:!1,microphoneMuted:!1,cameraMuted:!1,callParams:{biz_params:{difficulty:"\u57FA\u7840\u82F1\u8BED",scene:"\u65E5\u5E38\u4EA4\u6D41"}}},fA=BS(function(e){return Id()(Id()({},UE),{},{setCurrentSubtitle:function(r){return e(function(n){var i,a=r,c=n.currentAgentSubtitle,l={};if(r.source==="agent"&&r.data.sentenceId===(c==null||(i=c.data)===null||i===void 0?void 0:i.sentenceId)?(c.data.text=c.data.text+r.data.text,c.data.end=r.data.end,l.currentAgentSubtitle=c,a=c):(r.source==="agent"&&(c!=null&&c.data.text&&!c.data.end&&(l.subtitleList=[].concat(e0()(n.subtitleList),[c])),l.currentAgentSubtitle=r),a=r),l.currentSubtitle=Id()({},a),a.data.text){var u=n.subtitleList.find(function(d){return d.source===a.source&&d.data.sentenceId===a.data.sentenceId});u?(u.data.text=a.data.text,l.subtitleList=e0()(n.subtitleList)):l.subtitleList=[].concat(e0()(n.subtitleList),[a])}return l})},reset:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e(function(n){return Id()(Id()({},UE),{},{agentType:r?n.agentType:void 0})})}})}),An=fA,hA=(0,S.createContext)(null),z0=hA,pA=Dt(5009),Mr=Dt.n(pA),mA=Dt(9289),ki=Dt.n(mA),gA=Dt(2444),Yh=Dt.n(gA),vA=Dt(2004),Xh=Dt.n(vA),yA=Dt(5098),Aa=Dt.n(yA),SA=Dt(8785),bA=Dt.n(SA),EA=Dt(8374),CA=Dt.n(EA),_A=Dt(1996),BE=Dt.n(_A),RA=Dt(6037),jE=Dt.n(RA),wA=Dt(9783),tr=Dt.n(wA),TA=Xh()(function e(){Yh()(this,e),tr()(this,"agentId",void 0),tr()(this,"agentType",zn.VoiceAgent),tr()(this,"limitSecond",0),tr()(this,"muteMicrophone",!1),tr()(this,"muteCamera",!1),tr()(this,"previewView",void 0),tr()(this,"agentView",void 0),tr()(this,"region",void 0),tr()(this,"templateConfig",new Bc),tr()(this,"agentVoiceIdList",[]),tr()(this,"userData",void 0),tr()(this,"fromShare",void 0)}),AA=TA,zs=function(e){return e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e}({}),PA=tr()(tr()(tr()(tr()({},zs.DEBUG,"DEBUG"),zs.INFO,"INFO"),zs.WARN,"WARN"),zs.ERROR,"ERROR"),kA=function(){function e(){Yh()(this,e),tr()(this,"_logLevel",zs.ERROR),tr()(this,"externalTarget",void 0)}return Xh()(e,[{key:"getLogLevel",value:function(){return this._logLevel}},{key:"setLogLevel",value:function(r){this._logLevel=r}},{key:"setExternalLogger",value:function(r){this.externalTarget=r}},{key:"setParams",value:function(r){try{this.externalTarget&&this.externalTarget.setParams(r)}catch(n){}}},{key:"debug",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];this.log.apply(this,[zs.DEBUG].concat(n))}},{key:"info",value:function(r,n,i){this.log(zs.INFO,r,n,i)}},{key:"warn",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.log.apply(this,[zs.WARN,r].concat(i))}},{key:"error",value:function(r,n){this.log(zs.ERROR,r,n)}},{key:"log",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(r>this._logLevel){var c;(c=console).log.apply(c,[["[".concat(PA[r],"]")]].concat(i))}try{if(this.externalTarget){var l;(l=this.externalTarget).log.apply(l,[r].concat(i))}}catch(u){}}}]),e}(),Br=new kA,IA=function(e){BE()(r,e);var t=jE()(r);function r(n,i,a){var c;return Yh()(this,r),c=t.call(this),tr()(Aa()(c),"_userId",void 0),tr()(Aa()(c),"_token",void 0),tr()(Aa()(c),"_currentEngine",void 0),tr()(Aa()(c),"_state",Ur.None),tr()(Aa()(c),"_config",void 0),tr()(Aa()(c),"_errorCode",void 0),tr()(Aa()(c),"_agentInfo",void 0),tr()(Aa()(c),"_agentState",void 0),tr()(Aa()(c),"_shareConfig",void 0),tr()(Aa()(c),"_agentAudioElement",void 0),c._userId="".concat(n),c._token=i,c._config=a||new AA,c}return Xh()(r,[{key:"engine",get:function(){return this._currentEngine}},{key:"userId",get:function(){return this._userId}},{key:"token",get:function(){return this._token}},{key:"updateToken",value:function(i){this._token=i}},{key:"state",get:function(){return this._state},set:function(i){this.emit("AICallStateChanged",i),this._state=i}},{key:"config",get:function(){return this._config}},{key:"errorCode",get:function(){return this._errorCode}},{key:"agentInfo",get:function(){return this._agentInfo}},{key:"agentState",get:function(){return this._agentState}},{key:"shareConfig",get:function(){return this._shareConfig},set:function(i){Br.info("Controller","SetShareConfig",{shareToken:i});try{this._shareConfig=Ud.parseShareAgentCall(i),this._shareConfig.agentType!==void 0&&(this.config.agentType=this._shareConfig.agentType)}catch(a){Br.error("ParseShareAgentCallFailed",a)}}},{key:"agentAudioElement",get:function(){return this._agentAudioElement}},{key:"checkMicrophone",value:function(){var n=ki()(Mr()().mark(function a(){var c,l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Br.info("Controller","CheckMicrophone"),d.prev=1,d.next=4,Ud.getMicrophoneList();case 4:if(c=d.sent,(c==null?void 0:c.length)!==0){d.next=8;break}throw l=new ni("no microphone available",Wr.LocalDeviceException),l;case 8:d.next=16;break;case 10:throw d.prev=10,d.t0=d.catch(1),this.state=Ur.Error,this._errorCode=Wr.LocalDeviceException,Br.error("LocalDeviceException",d.t0),d.t0;case 16:case"end":return d.stop()}},a,this,[[1,10]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"start",value:function(){var n=ki()(Mr()().mark(function a(){var c=this,l,u,d,h,y,m;return Mr()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(Br.info("Controller","Start"),!(this.state===Ur.Connected||this.state===Ur.Connecting)){R.next=3;break}return R.abrupt("return");case 3:return this.state=Ur.Connecting,R.next=6,this.checkMicrophone();case 6:return this._currentEngine=new Ud,R.prev=7,u=Date.now(),R.next=11,this.startAIAgent();case 11:l=R.sent,Br.setParams({instanceId:l.instanceId,agentType:l.agentType,channelId:l.channelId,userId:l.userId,reqId:l.reqId||"-"}),Br.info("Controller","StartAIAgentSuccess",{value:Date.now()-u}),R.next=23;break;case 16:throw R.prev=16,R.t0=R.catch(7),this._errorCode=R.t0.code||Wr.BeginCallFailed,R.t0.name==="ServiceAuthError"&&this.emit("AICallUserTokenExpired"),this.state=Ur.Error,Br.error("StartAIAgentFailed",R.t0),R.t0;case 23:return this._agentInfo=l,this.emit("AICallAIAgentStarted",l),this._currentEngine.on("errorOccurred",function(b){var C;c._errorCode=b,c.state=Ur.Error,(C=c.engine)===null||C===void 0||C.handup(),Br.error("AICallErrorOccurred",new Error("code: ".concat(b)))}),this._currentEngine.on("agentStateChange",function(b){c.emit("AICallAgentStateChanged",b)}),this._currentEngine.on("agentSubtitleNotify",function(b){c.state===Ur.Connected&&c.emit("AICallAgentSubtitleNotify",b)}),this._currentEngine.on("userSubtitleNotify",function(b){c.state===Ur.Connected&&c.emit("AICallUserSubtitleNotify",b)}),this._currentEngine.on("agentEmotionNotify",function(b,C){c.emit("AICallAgentEmotionNotify",b,C)}),this._currentEngine.on("authInfoWillExpire",ki()(Mr()().mark(function b(){var C,H;return Mr()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,c.requestRTCToken();case 2:H=D.sent,(C=c.engine)===null||C===void 0||C.updateToken(H);case 4:case"end":return D.stop()}},b)}))),this._currentEngine.on("authInfoExpired",ki()(Mr()().mark(function b(){var C,H;return Mr()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,c.requestRTCToken();case 2:H=D.sent,(C=c.engine)===null||C===void 0||C.updateToken(H);case 4:case"end":return D.stop()}},b)}))),this._currentEngine.on("speakingVolumeChanged",function(b,C){c.emit("AICallActiveSpeakerVolumeChanged",b,C)}),this._currentEngine.on("pushToTalkChanged",function(b){c.emit("AICallPushToTalkChanged",b)}),this._currentEngine.on("agentWillLeave",function(b,C){c.emit("AICallAgentWillLeave",b,C)}),this._currentEngine.on("receivedAgentCustomMessage",function(b){c.emit("AICallReceivedAgentCustomMessage",b)}),this._currentEngine.on("audioSubscribed",function(b,C){C&&(c._agentAudioElement=C),c.emit("AICallAgentAudioSubscribed",C)}),this._currentEngine.on("humanTakeoverWillStart",function(b,C){c.emit("AICallHumanTakeoverWillStart",b,C)}),this._currentEngine.on("humanTakeoverConnected",function(b){c.emit("AICallHumanTakeoverConnected",b)}),R.prev=39,R.next=42,(d=this.engine)===null||d===void 0?void 0:d.call(this.userId,l,{muteMicrophone:this._config.muteMicrophone,muteCamera:this._config.muteCamera,previewElement:this._config.previewView,templateConfig:this._config.templateConfig});case 42:if(this.config.agentView&&((h=this.engine)===null||h===void 0||h.setAgentView(this.config.agentView)),this.config.muteMicrophone&&((y=this.engine)===null||y===void 0||y.mute(!0)),this.config.muteCamera&&((m=this.engine)===null||m===void 0||m.muteLocalCamera(!0)),this.state!==Ur.Over){R.next=47;break}throw new ni("call has been over");case 47:R.next=56;break;case 49:throw R.prev=49,R.t1=R.catch(39),this._errorCode=R.t1.errorCode||Wr.BeginCallFailed,this.state=Ur.Error,this.handup(),Br.error("StartCallFailed",R.t1),R.t1;case 56:this.emit("AICallBegin"),this.state=Ur.Connected;case 58:case"end":return R.stop()}},a,this,[[7,16],[39,49]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"handup",value:function(){var n=ki()(Mr()().mark(function a(){var c,l,u;return Mr()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return Br.info("Controller","Handup"),u=(c=this.engine)===null||c===void 0?void 0:c.agentInfo,this.state=Ur.Over,h.next=5,(l=this.engine)===null||l===void 0?void 0:l.handup();case 5:if(!u){h.next=8;break}return h.next=8,this.stopAIAgent(u.instanceId);case 8:this.removeAllListeners();case 9:case"end":return h.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"setAgentView",value:function(i){var a;Br.info("Controller","SetAgentView",{view:typeof i=="string"?"#".concat(i):i.nodeType}),this._config.agentView=i,(a=this.engine)===null||a===void 0||a.setAgentView(i)}},{key:"interruptSpeaking",value:function(){var n=ki()(Mr()().mark(function a(){var c;return Mr()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:Br.info("Controller","InterruptSpeaking"),this.state===Ur.Connected&&((c=this.engine)===null||c===void 0||c.interruptSpeaking());case 2:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"muteMicrophone",value:function(i){if(Br.info("Controller","MuteMicrophone",{mute:i?"off":"on"}),this.state===Ur.Connected){var a;return(a=this.engine)===null||a===void 0||a.mute(i),!0}return!1}},{key:"switchMicrophone",value:function(i){if(Br.info("Controller","SwitchMicrophone",{deviceId:i}),this.state===Ur.Connected){var a;return(a=this.engine)===null||a===void 0||a.switchMicrophone(i),!0}return!1}},{key:"muteCamera",value:function(i){if(Br.info("Controller","MuteCamera",{mute:i?"off":"on"}),this.config.agentType===zn.VisionAgent&&this.state===Ur.Connected){var a;return(a=this.engine)===null||a===void 0||a.muteLocalCamera(i),!0}return!1}},{key:"switchCamera",value:function(i){if(Br.info("Controller","SwitchCamera",{deviceId:i||"-"}),this.config.agentType===zn.VisionAgent&&this.state===Ur.Connected){var a;return(a=this.engine)===null||a===void 0||a.switchCamera(i),!0}return!1}},{key:"startPreview",value:function(i){var a;Br.info("Controller","StartPreview",{elementOrId:typeof i=="string"?"#".concat(i):i.nodeType}),this.config.previewView=i,(a=this.engine)===null||a===void 0||a.startPreview(i)}},{key:"stopPreview",value:function(){var i;(i=this.engine)===null||i===void 0||i.stopPreview()}},{key:"enablePushToTalk",value:function(){var n=ki()(Mr()().mark(function a(c){var l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(Br.info("Controller","EnablePushToTalk",{enable:c?"on":"off"}),this.state!==Ur.Connected){d.next=3;break}return d.abrupt("return",((l=this.engine)===null||l===void 0?void 0:l.enablePushToTalk(c))||!1);case 3:return d.abrupt("return",!1);case 4:case"end":return d.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"startPushToTalk",value:function(){if(Br.info("Controller","StartPushToTalk"),this.state===Ur.Connected){var i;return((i=this.engine)===null||i===void 0?void 0:i.startPushToTalk())||!1}return!1}},{key:"finishPushToTalk",value:function(){if(Br.info("Controller","FinishPushToTalk"),this.state===Ur.Connected){var i;return((i=this.engine)===null||i===void 0?void 0:i.finishPushToTalk())||!1}return!1}},{key:"cancelPushToTalk",value:function(){if(Br.info("Controller","CancelPushToTalk"),this.state===Ur.Connected){var i;return((i=this.engine)===null||i===void 0?void 0:i.cancelPushToTalk())||!1}return!1}},{key:"destroy",value:function(){var i,a;Br.info("Controller","destroy"),(i=this._currentEngine)===null||i===void 0||i.destroy(),(a=this._currentEngine)===null||a===void 0||a.removeAllListeners(),this.removeAllListeners()}}]),r}(ti),FE="",jc=function(e){return e.VoiceChat="VoiceChat",e.AvatarChat3D="AvatarChat3D",e.VisionChat="VisionChat",e}({}),$E=tr()(tr()(tr()({},jc.AvatarChat3D,zn.AvatarAgent),jc.VoiceChat,zn.VoiceAgent),jc.VisionChat,zn.VisionAgent),p6=function(t){return $E[t]?$E[t]:AICallAgentType.VoiceAgent},HE=tr()(tr()(tr()({},zn.AvatarAgent,jc.AvatarChat3D),zn.VoiceAgent,jc.VoiceChat),zn.VisionAgent,jc.VisionChat),OA=function(t){return t&&HE[t]?HE[t]:jc.VoiceChat},xA=function(){function e(){var t=this;Yh()(this,e),tr()(this,"appServer",FE),tr()(this,"generateAIAgent",function(){var r=ki()(Mr()().mark(function n(i,a,c){var l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i){d.next=2;break}throw new ni("userId is empty");case 2:return l={user_id:i,expire:86400,template_config:c.templateConfig.getJsonString(c.agentType)},c.agentId?l.ai_agent_id=c.agentId:l.workflow_type=OA(c.agentType),c.userData&&(l.user_data=c.userData),c.region&&(l.region=c.region),d.abrupt("return",fetch("".concat(t.appServer,"/api/v2/aiagent/generateAIAgentCall"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a||""},body:JSON.stringify(l)}).then(function(){var h=ki()(Mr()().mark(function y(m){var _,R;return Mr()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return _={},C.prev=1,C.next=4,m.json();case 4:_=C.sent,C.next=10;break;case 7:C.prev=7,C.t0=C.catch(1),console.error(C.t0);case 10:if(_.error_code!=="Forbidden.SubscriptionRequired"){C.next=14;break}throw new ni("Forbidden.SubscriptionRequired",Wr.AgentSubscriptionRequired);case 14:if(_.error_code!=="AgentNotFound"){C.next=16;break}throw new ni("AgentNotFound",Wr.AgentNotFound);case 16:if(m.status!==403){C.next=22;break}throw R=new ni("token is invalid"),R.name="ServiceAuthError",R;case 22:if(m.status===200){C.next=24;break}throw new ni("response status is ".concat(m.status));case 24:return C.abrupt("return",_);case 25:case"end":return C.stop()}},y,null,[[1,7]])}));return function(y){return h.apply(this,arguments)}}()).then(function(h){if(h.code===200)return{agentType:c.agentType,instanceId:h.ai_agent_instance_id,channelId:h.channel_id,userId:h.ai_agent_user_id,rtcToken:h.rtc_auth_token,reqId:h.request_id||""};throw new ni(h.message||"request error")}));case 7:case"end":return d.stop()}},n)}));return function(n,i,a){return r.apply(this,arguments)}}()),tr()(this,"describeAIAgent",function(){var r=ki()(Mr()().mark(function n(i,a,c){var l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!i||!c)){d.next=2;break}throw new ni("userId or instanceId is empty");case 2:return l={user_id:i,ai_agent_instance_id:c},d.abrupt("return",fetch("".concat(t.appServer,"/api/v2/aiagent/describeAIAgentInstance"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a||""},body:JSON.stringify(l)}).then(function(h){if(h.status===403){var y=new ni("token is invalid");throw y.name="ServiceAuthError",y}else if(h.status!==200)throw new ni("describeAIAgentInstance error, response status: ".concat(h.status));return h.json()}).then(function(h){if(h.code===200)return JSON.parse(h.template_config);throw new ni("describeAIAgentInstance error, message: ".concat(h.message||"request error"))}));case 4:case"end":return d.stop()}},n)}));return function(n,i,a){return r.apply(this,arguments)}}())}return Xh()(e,[{key:"setAppServer",value:function(r){this.appServer=r}}]),e}(),W0=new xA,MA=function(e){BE()(r,e);var t=jE()(r);function r(n,i,a,c){var l;return Yh()(this,r),l=t.call(this,n,i,a),tr()(Aa()(l),"props",void 0),l.props=c||{},l}return Xh()(r,[{key:"appServer",set:function(i){W0.setAppServer(i)}},{key:"startAIAgent",value:function(){var n=ki()(Mr()().mark(function a(){var c,l,u,d,h,y,m,_;return Mr()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(Br.info("StandardController","StartAIAgent"),c=null,b.prev=2,!this.shareConfig){b.next=10;break}return Br.info("StandardController","StartAIAgent",{config:JSON.stringify(this.shareConfig)}),b.next=7,(l=this.engine)===null||l===void 0?void 0:l.generateShareAgentCall(this.shareConfig,this.userId);case 7:c=b.sent,b.next=17;break;case 10:return console.log(this.config,"this.config"),u=localStorage.getItem("selectedDifficultyValue"),d=localStorage.getItem("selectedSceneValue"),this.config.templateConfig.bailianAppParams={biz_params:{difficulty:u,scene:d}},b.next=16,W0.generateAIAgent(this.userId,this.token,this.config);case 16:c=b.sent;case 17:b.next=23;break;case 19:throw b.prev=19,b.t0=b.catch(2),Br.error("GenerateAIAgentFailed",b.t0),b.t0;case 23:if(c){b.next=27;break}throw h=new ni("generate ai agent failed"),Br.error("NoAIAgent",h),h;case 27:return b.prev=27,this.config.templateConfig.avatarUrl="",this.config.templateConfig.agentVoiceId="",this.config.agentVoiceIdList=[],b.next=33,W0.describeAIAgent(this.userId,this.token,c.instanceId);case 33:y=b.sent,m=Bc.getTemplateConfigKey(c.agentType),_=y[m],_!=null&&_.AvatarUrl&&(this.config.templateConfig.avatarUrl=_==null?void 0:_.AvatarUrl),_!=null&&_.VoiceId&&(this.config.templateConfig.agentVoiceId=_==null?void 0:_.VoiceId),_!=null&&_.VoiceIdList&&(this.config.agentVoiceIdList=_.VoiceIdList),b.next=45;break;case 41:b.prev=41,b.t1=b.catch(27),Br.error("DescribeAIAgentFailed",b.t1),console.log(b.t1);case 45:return b.abrupt("return",c);case 46:case"end":return b.stop()}},a,this,[[2,19],[27,41]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"stopAIAgent",value:function(){var n=ki()(Mr()().mark(function a(){var c;return Mr()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Br.info("StandardController","StopAIAgent"),(c=this.engine)===null||c===void 0||c.stopAgent(),u.next=4,new Promise(function(d){setTimeout(function(){d(!0)},200)});case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"enableVoiceInterrupt",value:function(){var n=ki()(Mr()().mark(function a(c){var l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Br.info("StandardController","EnableVoiceInterrupt",{enable:c}),this.state===Ur.Connected&&((l=this.engine)===null||l===void 0||l.enableVoiceInterrupt(c)),d.abrupt("return",!0);case 3:case"end":return d.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"switchVoiceId",value:function(){var n=ki()(Mr()().mark(function a(c){var l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Br.info("StandardController","SwitchVoiceId",{voiceId:c}),this.state===Ur.Connected&&((l=this.engine)===null||l===void 0||l.switchVoiceId(c)),d.abrupt("return",!0);case 3:case"end":return d.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"requestRTCToken",value:function(){var n=ki()(Mr()().mark(function a(){var c=this,l;return Mr()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(Br.info("StandardController","RequestRTCToken"),this.state!==Ur.Connected){d.next=4;break}return(l=this.engine)===null||l===void 0||l.requestRTCToken(),d.abrupt("return",new Promise(function(h){var y;(y=c.engine)===null||y===void 0||y.once("newRTCToken",function(m){h(m)})}));case 4:return d.abrupt("return","");case 5:case"end":return d.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"destroy",value:function(){Br.info("StandardController","destroy"),bA()(CA()(r.prototype),"destroy",this).call(this),this.appServer=FE}}]),r}(IA),NA=MA;const G0=S.createContext({});var zE=S.createContext({message:{},notification:{},modal:{}});function DA(){}let LA=null;function g6(){LA=null,rcResetWarned()}let v6=null;const VA=S.createContext({}),Qh=()=>{const e=()=>{};return e.deprecated=DA,e};var y6=null,UA=(0,S.createContext)(void 0),BA={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},jA=BA,FA={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},$A=ee(ee({},FA),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),HA=$A,WE={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},GE={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},HA),timePickerLocale:Object.assign({},WE)},zA=GE;const Mo="${label} is not a valid ${type}";var ou={locale:"en",Pagination:jA,DatePicker:GE,TimePicker:WE,Calendar:zA,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Mo,method:Mo,array:Mo,object:Mo,number:Mo,date:Mo,boolean:Mo,integer:Mo,float:Mo,regexp:Mo,email:Mo,url:Mo,hex:Mo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let yg=Object.assign({},ou.Modal),Sg=[];const KE=()=>Sg.reduce((e,t)=>Object.assign(Object.assign({},e),t),ou.Modal);function WA(e){if(e){const t=Object.assign({},e);return Sg.push(t),yg=KE(),()=>{Sg=Sg.filter(r=>r!==t),yg=KE()}}yg=Object.assign({},ou.Modal)}function GA(){return yg}var K0=(0,S.createContext)(void 0);const KA="internalMark";var qA=e=>{const{locale:t={},children:r,_ANT_MARK__:n}=e;S.useEffect(()=>WA(t==null?void 0:t.Modal),[t]);const i=S.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return S.createElement(K0.Provider,{value:i},r)};const JA=`-ant-${Date.now()}-${Math.random()}`;function YA(e,t){const r={},n=(c,l)=>{let u=c.clone();return u=(l==null?void 0:l(u))||u,u.toRgbString()},i=(c,l)=>{const u=new mn(c),d=Wo(u.toRgbString());r[`${l}-color`]=n(u),r[`${l}-color-disabled`]=d[1],r[`${l}-color-hover`]=d[4],r[`${l}-color-active`]=d[6],r[`${l}-color-outline`]=u.clone().setA(.2).toRgbString(),r[`${l}-color-deprecated-bg`]=d[0],r[`${l}-color-deprecated-border`]=d[2]};if(t.primaryColor){i(t.primaryColor,"primary");const c=new mn(t.primaryColor),l=Wo(c.toRgbString());l.forEach((d,h)=>{r[`primary-${h+1}`]=d}),r["primary-color-deprecated-l-35"]=n(c,d=>d.lighten(35)),r["primary-color-deprecated-l-20"]=n(c,d=>d.lighten(20)),r["primary-color-deprecated-t-20"]=n(c,d=>d.tint(20)),r["primary-color-deprecated-t-50"]=n(c,d=>d.tint(50)),r["primary-color-deprecated-f-12"]=n(c,d=>d.setA(d.a*.12));const u=new mn(l[0]);r["primary-color-active-deprecated-f-30"]=n(u,d=>d.setA(d.a*.3)),r["primary-color-active-deprecated-d-02"]=n(u,d=>d.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(c=>`--${e}-${c}: ${r[c]};`).join(`
`)}
  }
  `.trim()}function XA(e,t){const r=YA(e,t);Xe()&&Lr(r,`${JA}-dynamic-theme`)}function QA(){const e=(0,S.useContext)(Ms),t=(0,S.useContext)(_c);return{componentDisabled:e,componentSize:t}}var ZA=QA;const eP=Object.assign({},Me),{useId:qE}=eP;var tP=typeof qE=="undefined"?()=>"":qE;function rP(e,t,r){var n,i;const a=Qh("ConfigProvider"),c=e||{},l=c.inherit===!1||!t?Object.assign(Object.assign({},Dl),{hashed:(n=t==null?void 0:t.hashed)!==null&&n!==void 0?n:Dl.hashed,cssVar:t==null?void 0:t.cssVar}):t,u=tP();return N(()=>{var d,h;if(!e)return t;const y=Object.assign({},l.components);Object.keys(e.components||{}).forEach(R=>{y[R]=Object.assign(Object.assign({},y[R]),e.components[R])});const m=`css-var-${u.replace(/:/g,"")}`,_=((d=c.cssVar)!==null&&d!==void 0?d:l.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:r==null?void 0:r.prefixCls},typeof l.cssVar=="object"?l.cssVar:{}),typeof c.cssVar=="object"?c.cssVar:{}),{key:typeof c.cssVar=="object"&&((h=c.cssVar)===null||h===void 0?void 0:h.key)||m});return Object.assign(Object.assign(Object.assign({},l),c),{token:Object.assign(Object.assign({},l.token),c.token),components:y,cssVar:_})},[c,l],(d,h)=>d.some((y,m)=>{const _=h[m];return!Pe(y,_,!0)}))}function nP(e){const{children:t}=e,[,r]=zi(),{motion:n}=r,i=S.useRef(!1);return i.current=i.current||n===!1,i.current?S.createElement(Lv,{motion:n},t):t}const T6=null;var iP=()=>null,oP=(e,t)=>{const[r,n]=zi();return Uu({theme:r,token:n,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>[un(e)])},aP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let P6=!1;const k6=null,I6=null,sP=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let bg,JE,YE,XE;function Eg(){return bg||w}function cP(){return JE||F}function lP(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const uP=e=>{const{prefixCls:t,iconPrefixCls:r,theme:n,holderRender:i}=e;t!==void 0&&(bg=t),r!==void 0&&(JE=r),"holderRender"in e&&(XE=i),n&&(lP(n)?XA(Eg(),n):YE=n)},QE=()=>({getPrefixCls:(e,t)=>t||(e?`${Eg()}-${e}`:Eg()),getIconPrefixCls:cP,getRootPrefixCls:()=>bg||Eg(),getTheme:()=>YE,holderRender:XE}),dP=e=>{const{children:t,csp:r,autoInsertSpaceInButton:n,alert:i,anchor:a,form:c,locale:l,componentSize:u,direction:d,space:h,splitter:y,virtual:m,dropdownMatchSelectWidth:_,popupMatchSelectWidth:R,popupOverflow:b,legacyLocale:C,parentContext:H,iconPrefixCls:A,theme:D,componentDisabled:Z,segmented:ie,statistic:oe,spin:fe,calendar:he,carousel:ge,cascader:me,collapse:Se,typography:Ce,checkbox:Te,descriptions:Le,divider:ze,drawer:Ne,skeleton:Be,steps:Ue,image:et,layout:Ke,list:Ie,mentions:Ae,modal:$e,progress:Oe,result:ct,slider:ot,breadcrumb:Rt,menu:Tt,pagination:zt,input:Wt,textArea:gr,empty:or,badge:Xt,radio:ar,rate:Kt,switch:Er,transfer:Nr,avatar:_r,message:rn,tag:Jr,table:Yt,card:fr,tabs:Ht,timeline:Yr,timePicker:Rr,upload:Pr,notification:_n,tree:Jn,colorPicker:Yi,datePicker:nn,rangePicker:Gr,flex:jr,wave:Dr,dropdown:Xr,warning:ia,tour:Pa,tooltip:ji,popover:Lo,popconfirm:uu,floatButtonGroup:Ks,variant:du,inputNumber:Hc,treeSelect:yo}=e,Si=S.useCallback((hn,vn)=>{const{prefixCls:Xi}=e;if(vn)return vn;const bo=Xi||H.getPrefixCls("");return hn?`${bo}-${hn}`:bo},[H.getPrefixCls,e.prefixCls]),Vo=A||H.iconPrefixCls||F,Pn=r||H.csp;oP(Vo,Pn);const So=rP(D,H.theme,{prefixCls:Si("")}),$r={csp:Pn,autoInsertSpaceInButton:n,alert:i,anchor:a,locale:l||C,direction:d,space:h,splitter:y,virtual:m,popupMatchSelectWidth:R!=null?R:_,popupOverflow:b,getPrefixCls:Si,iconPrefixCls:Vo,theme:So,segmented:ie,statistic:oe,spin:fe,calendar:he,carousel:ge,cascader:me,collapse:Se,typography:Ce,checkbox:Te,descriptions:Le,divider:ze,drawer:Ne,skeleton:Be,steps:Ue,image:et,input:Wt,textArea:gr,layout:Ke,list:Ie,mentions:Ae,modal:$e,progress:Oe,result:ct,slider:ot,breadcrumb:Rt,menu:Tt,pagination:zt,empty:or,badge:Xt,radio:ar,rate:Kt,switch:Er,transfer:Nr,avatar:_r,message:rn,tag:Jr,table:Yt,card:fr,tabs:Ht,timeline:Yr,timePicker:Rr,upload:Pr,notification:_n,tree:Jn,colorPicker:Yi,datePicker:nn,rangePicker:Gr,flex:jr,wave:Dr,dropdown:Xr,warning:ia,tour:Pa,tooltip:ji,popover:Lo,popconfirm:uu,floatButtonGroup:Ks,variant:du,inputNumber:Hc,treeSelect:yo},xr=Object.assign({},H);Object.keys($r).forEach(hn=>{$r[hn]!==void 0&&(xr[hn]=$r[hn])}),sP.forEach(hn=>{const vn=e[hn];vn&&(xr[hn]=vn)}),typeof n!="undefined"&&(xr.button=Object.assign({autoInsertSpace:n},xr.button));const Yn=N(()=>xr,xr,(hn,vn)=>{const Xi=Object.keys(hn),bo=Object.keys(vn);return Xi.length!==bo.length||Xi.some(ss=>hn[ss]!==vn[ss])}),oa=S.useMemo(()=>({prefixCls:Vo,csp:Pn}),[Vo,Pn]);let wr=S.createElement(S.Fragment,null,S.createElement(iP,{dropdownMatchSelectWidth:_}),t);const kn=S.useMemo(()=>{var hn,vn,Xi,bo;return Hi(((hn=ou.Form)===null||hn===void 0?void 0:hn.defaultValidateMessages)||{},((Xi=(vn=Yn.locale)===null||vn===void 0?void 0:vn.Form)===null||Xi===void 0?void 0:Xi.defaultValidateMessages)||{},((bo=Yn.form)===null||bo===void 0?void 0:bo.validateMessages)||{},(c==null?void 0:c.validateMessages)||{})},[Yn,c==null?void 0:c.validateMessages]);Object.keys(kn).length>0&&(wr=S.createElement(UA.Provider,{value:kn},wr)),l&&(wr=S.createElement(qA,{locale:l,_ANT_MARK__:KA},wr)),(Vo||Pn)&&(wr=S.createElement(Ac.Provider,{value:oa},wr)),u&&(wr=S.createElement(md,{size:u},wr)),wr=S.createElement(nP,null,wr);const qs=S.useMemo(()=>{const hn=So||{},{algorithm:vn,token:Xi,components:bo,cssVar:ss}=hn,zc=aP(hn,["algorithm","token","components","cssVar"]),Wc=vn&&(!Array.isArray(vn)||vn.length>0)?gu(vn):ed,ka={};Object.entries(bo||{}).forEach(Ia=>{let[Gc,Js]=Ia;const Eo=Object.assign({},Js);"algorithm"in Eo&&(Eo.algorithm===!0?Eo.theme=Wc:(Array.isArray(Eo.algorithm)||typeof Eo.algorithm=="function")&&(Eo.theme=gu(Eo.algorithm)),delete Eo.algorithm),ka[Gc]=Eo});const cs=Object.assign(Object.assign({},Ja),Xi);return Object.assign(Object.assign({},zc),{theme:Wc,token:cs,components:ka,override:Object.assign({override:cs},ka),cssVar:ss})},[So]);return D&&(wr=S.createElement(Jf.Provider,{value:qs},wr)),Yn.warning&&(wr=S.createElement(VA.Provider,{value:Yn.warning},wr)),Z!==void 0&&(wr=S.createElement(Nn,{disabled:Z},wr)),S.createElement(re.Provider,{value:Yn},wr)},Bd=e=>{const t=S.useContext(re),r=S.useContext(K0);return S.createElement(dP,Object.assign({parentContext:t,legacyLocale:r},e))};Bd.ConfigContext=re,Bd.SizeContext=_c,Bd.config=uP,Bd.useConfig=ZA,Object.defineProperty(Bd,"SizeContext",{get:()=>_c});var q0=Bd,fP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},hP=fP,pP=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:hP}))},mP=S.forwardRef(pP),Zh=mP,gP={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},vP=gP,yP=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:vP}))},SP=S.forwardRef(yP),ep=SP,bP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},EP=bP,CP=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:EP}))},_P=S.forwardRef(CP),tp=_P,RP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},wP=RP,TP=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:wP}))},AP=S.forwardRef(TP),rp=AP,nr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=nr.F1&&r<=nr.F12)return!1;switch(r){case nr.ALT:case nr.CAPS_LOCK:case nr.CONTEXT_MENU:case nr.CTRL:case nr.DOWN:case nr.END:case nr.ESC:case nr.HOME:case nr.INSERT:case nr.LEFT:case nr.MAC_FF_META:case nr.META:case nr.NUMLOCK:case nr.NUM_CENTER:case nr.PAGE_DOWN:case nr.PAGE_UP:case nr.PAUSE:case nr.PRINT_SCREEN:case nr.RIGHT:case nr.SHIFT:case nr.UP:case nr.WIN_KEY:case nr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=nr.ZERO&&t<=nr.NINE||t>=nr.NUM_ZERO&&t<=nr.NUM_MULTIPLY||t>=nr.A&&t<=nr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case nr.SPACE:case nr.QUESTION_MARK:case nr.NUM_PLUS:case nr.NUM_MINUS:case nr.NUM_PERIOD:case nr.NUM_DIVISION:case nr.SEMICOLON:case nr.DASH:case nr.EQUALS:case nr.COMMA:case nr.PERIOD:case nr.SLASH:case nr.APOSTROPHE:case nr.SINGLE_QUOTE:case nr.OPEN_SQUARE_BRACKET:case nr.BACKSLASH:case nr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},J0=nr,PP=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,kP=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,IP="".concat(PP," ").concat(kP).split(/[\s\n]+/),OP="aria-",xP="data-";function ZE(e,t){return e.indexOf(t)===0}function jd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;t===!1?r={aria:!0,data:!0,attr:!0}:t===!0?r={aria:!0}:r=ee({},t);var n={};return Object.keys(e).forEach(function(i){(r.aria&&(i==="role"||ZE(i,OP))||r.data&&ZE(i,xP)||r.attr&&IP.includes(i))&&(n[i]=e[i])}),n}var MP=S.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,i=e.className,a=e.duration,c=a===void 0?4.5:a,l=e.showProgress,u=e.pauseOnHover,d=u===void 0?!0:u,h=e.eventKey,y=e.content,m=e.closable,_=e.closeIcon,R=_===void 0?"x":_,b=e.props,C=e.onClick,H=e.onNoticeClose,A=e.times,D=e.hovering,Z=S.useState(!1),ie=X(Z,2),oe=ie[0],fe=ie[1],he=S.useState(0),ge=X(he,2),me=ge[0],Se=ge[1],Ce=S.useState(0),Te=X(Ce,2),Le=Te[0],ze=Te[1],Ne=D||oe,Be=c>0&&l,Ue=function(){H(h)},et=function(ct){(ct.key==="Enter"||ct.code==="Enter"||ct.keyCode===J0.ENTER)&&Ue()};S.useEffect(function(){if(!Ne&&c>0){var Oe=Date.now()-Le,ct=setTimeout(function(){Ue()},c*1e3-Le);return function(){d&&clearTimeout(ct),ze(Date.now()-Oe)}}},[c,Ne,A]),S.useEffect(function(){if(!Ne&&Be&&(d||Le===0)){var Oe=performance.now(),ct,ot=function Rt(){cancelAnimationFrame(ct),ct=requestAnimationFrame(function(Tt){var zt=Tt+Le-Oe,Wt=Math.min(zt/(c*1e3),1);Se(Wt*100),Wt<1&&Rt()})};return ot(),function(){d&&cancelAnimationFrame(ct)}}},[c,Le,Ne,Be,A]);var Ke=S.useMemo(function(){return W(m)==="object"&&m!==null?m:m?{closeIcon:R}:{}},[m,R]),Ie=jd(Ke,!0),Ae=100-(!me||me<0?0:me>100?100:me),$e="".concat(r,"-notice");return S.createElement("div",br({},b,{ref:t,className:Ve()($e,i,z({},"".concat($e,"-closable"),m)),style:n,onMouseEnter:function(ct){var ot;fe(!0),b==null||(ot=b.onMouseEnter)===null||ot===void 0||ot.call(b,ct)},onMouseLeave:function(ct){var ot;fe(!1),b==null||(ot=b.onMouseLeave)===null||ot===void 0||ot.call(b,ct)},onClick:C}),S.createElement("div",{className:"".concat($e,"-content")},y),m&&S.createElement("a",br({tabIndex:0,className:"".concat($e,"-close"),onKeyDown:et,"aria-label":"Close"},Ie,{onClick:function(ct){ct.preventDefault(),ct.stopPropagation(),Ue()}}),Ke.closeIcon),Be&&S.createElement("progress",{className:"".concat($e,"-progress"),max:"100",value:Ae},Ae+"%"))}),eC=MP,tC=S.createContext({}),NP=function(t){var r=t.children,n=t.classNames;return S.createElement(tC.Provider,{value:{classNames:n}},r)},rC=NP,nC=8,iC=3,oC=16,DP=function(t){var r={offset:nC,threshold:iC,gap:oC};if(t&&W(t)==="object"){var n,i,a;r.offset=(n=t.offset)!==null&&n!==void 0?n:nC,r.threshold=(i=t.threshold)!==null&&i!==void 0?i:iC,r.gap=(a=t.gap)!==null&&a!==void 0?a:oC}return[!!t,r]},LP=DP,VP=["className","style","classNames","styles"],UP=function(t){var r=t.configList,n=t.placement,i=t.prefixCls,a=t.className,c=t.style,l=t.motion,u=t.onAllNoticeRemoved,d=t.onNoticeClose,h=t.stack,y=(0,S.useContext)(tC),m=y.classNames,_=(0,S.useRef)({}),R=(0,S.useState)(null),b=X(R,2),C=b[0],H=b[1],A=(0,S.useState)([]),D=X(A,2),Z=D[0],ie=D[1],oe=r.map(function(Ne){return{config:Ne,key:String(Ne.key)}}),fe=LP(h),he=X(fe,2),ge=he[0],me=he[1],Se=me.offset,Ce=me.threshold,Te=me.gap,Le=ge&&(Z.length>0||oe.length<=Ce),ze=typeof l=="function"?l(n):l;return(0,S.useEffect)(function(){ge&&Z.length>1&&ie(function(Ne){return Ne.filter(function(Be){return oe.some(function(Ue){var et=Ue.key;return Be===et})})})},[Z,oe,ge]),(0,S.useEffect)(function(){var Ne;if(ge&&_.current[(Ne=oe[oe.length-1])===null||Ne===void 0?void 0:Ne.key]){var Be;H(_.current[(Be=oe[oe.length-1])===null||Be===void 0?void 0:Be.key])}},[oe,ge]),S.createElement(fi,br({key:n,className:Ve()(i,"".concat(i,"-").concat(n),m==null?void 0:m.list,a,z(z({},"".concat(i,"-stack"),!!ge),"".concat(i,"-stack-expanded"),Le)),style:c,keys:oe,motionAppear:!0},ze,{onAllRemoved:function(){u(n)}}),function(Ne,Be){var Ue=Ne.config,et=Ne.className,Ke=Ne.style,Ie=Ne.index,Ae=Ue,$e=Ae.key,Oe=Ae.times,ct=String($e),ot=Ue,Rt=ot.className,Tt=ot.style,zt=ot.classNames,Wt=ot.styles,gr=Vr(ot,VP),or=oe.findIndex(function(Yr){return Yr.key===ct}),Xt={};if(ge){var ar=oe.length-1-(or>-1?or:Ie-1),Kt=n==="top"||n==="bottom"?"-50%":"0";if(ar>0){var Er,Nr,_r;Xt.height=Le?(Er=_.current[ct])===null||Er===void 0?void 0:Er.offsetHeight:C==null?void 0:C.offsetHeight;for(var rn=0,Jr=0;Jr<ar;Jr++){var Yt;rn+=((Yt=_.current[oe[oe.length-1-Jr].key])===null||Yt===void 0?void 0:Yt.offsetHeight)+Te}var fr=(Le?rn:ar*Se)*(n.startsWith("top")?1:-1),Ht=!Le&&C!==null&&C!==void 0&&C.offsetWidth&&(Nr=_.current[ct])!==null&&Nr!==void 0&&Nr.offsetWidth?((C==null?void 0:C.offsetWidth)-Se*2*(ar<3?ar:3))/((_r=_.current[ct])===null||_r===void 0?void 0:_r.offsetWidth):1;Xt.transform="translate3d(".concat(Kt,", ").concat(fr,"px, 0) scaleX(").concat(Ht,")")}else Xt.transform="translate3d(".concat(Kt,", 0, 0)")}return S.createElement("div",{ref:Be,className:Ve()("".concat(i,"-notice-wrapper"),et,zt==null?void 0:zt.wrapper),style:ee(ee(ee({},Ke),Xt),Wt==null?void 0:Wt.wrapper),onMouseEnter:function(){return ie(function(Rr){return Rr.includes(ct)?Rr:[].concat(be(Rr),[ct])})},onMouseLeave:function(){return ie(function(Rr){return Rr.filter(function(Pr){return Pr!==ct})})}},S.createElement(eC,br({},gr,{ref:function(Rr){or>-1?_.current[ct]=Rr:delete _.current[ct]},prefixCls:i,classNames:zt,styles:Wt,className:Ve()(Rt,m==null?void 0:m.notice),style:Tt,times:Oe,key:$e,eventKey:$e,onNoticeClose:d,hovering:ge&&Z.length>0})))})},BP=UP,jP=S.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-notification":r,i=e.container,a=e.motion,c=e.maxCount,l=e.className,u=e.style,d=e.onAllRemoved,h=e.stack,y=e.renderNotifications,m=S.useState([]),_=X(m,2),R=_[0],b=_[1],C=function(ge){var me,Se=R.find(function(Ce){return Ce.key===ge});Se==null||(me=Se.onClose)===null||me===void 0||me.call(Se),b(function(Ce){return Ce.filter(function(Te){return Te.key!==ge})})};S.useImperativeHandle(t,function(){return{open:function(ge){b(function(me){var Se=be(me),Ce=Se.findIndex(function(ze){return ze.key===ge.key}),Te=ee({},ge);if(Ce>=0){var Le;Te.times=(((Le=me[Ce])===null||Le===void 0?void 0:Le.times)||0)+1,Se[Ce]=Te}else Te.times=0,Se.push(Te);return c>0&&Se.length>c&&(Se=Se.slice(-c)),Se})},close:function(ge){C(ge)},destroy:function(){b([])}}});var H=S.useState({}),A=X(H,2),D=A[0],Z=A[1];S.useEffect(function(){var he={};R.forEach(function(ge){var me=ge.placement,Se=me===void 0?"topRight":me;Se&&(he[Se]=he[Se]||[],he[Se].push(ge))}),Object.keys(D).forEach(function(ge){he[ge]=he[ge]||[]}),Z(he)},[R]);var ie=function(ge){Z(function(me){var Se=ee({},me),Ce=Se[ge]||[];return Ce.length||delete Se[ge],Se})},oe=S.useRef(!1);if(S.useEffect(function(){Object.keys(D).length>0?oe.current=!0:oe.current&&(d==null||d(),oe.current=!1)},[D]),!i)return null;var fe=Object.keys(D);return(0,Bl.createPortal)(S.createElement(S.Fragment,null,fe.map(function(he){var ge=D[he],me=S.createElement(BP,{key:he,configList:ge,placement:he,prefixCls:n,className:l==null?void 0:l(he),style:u==null?void 0:u(he),motion:a,onNoticeClose:C,onAllNoticeRemoved:ie,stack:h});return y?y(me,{prefixCls:n,key:he}):me})),i)}),FP=jP,$P=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],HP=function(){return document.body},aC=0;function zP(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(i){i&&Object.keys(i).forEach(function(a){var c=i[a];c!==void 0&&(e[a]=c)})}),e}function sC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,r=t===void 0?HP:t,n=e.motion,i=e.prefixCls,a=e.maxCount,c=e.className,l=e.style,u=e.onAllRemoved,d=e.stack,h=e.renderNotifications,y=Vr(e,$P),m=S.useState(),_=X(m,2),R=_[0],b=_[1],C=S.useRef(),H=S.createElement(FP,{container:R,ref:C,prefixCls:i,motion:n,maxCount:a,className:c,style:l,onAllRemoved:u,stack:d,renderNotifications:h}),A=S.useState([]),D=X(A,2),Z=D[0],ie=D[1],oe=S.useMemo(function(){return{open:function(he){var ge=zP(y,he);(ge.key===null||ge.key===void 0)&&(ge.key="rc-notification-".concat(aC),aC+=1),ie(function(me){return[].concat(be(me),[{type:"open",config:ge}])})},close:function(he){ie(function(ge){return[].concat(be(ge),[{type:"close",key:he}])})},destroy:function(){ie(function(he){return[].concat(be(he),[{type:"destroy"}])})}}},[]);return S.useEffect(function(){b(r())}),S.useEffect(function(){C.current&&Z.length&&(Z.forEach(function(fe){switch(fe.type){case"open":C.current.open(fe.config);break;case"close":C.current.close(fe.key);break;case"destroy":C.current.destroy();break}}),ie(function(fe){return fe.filter(function(he){return!Z.includes(he)})}))},[Z]),[oe,H]}var Fd=e=>{const[,,,,t]=zi();return t?`${e}-css-var`:""},Y0=S.createContext(void 0);const Ws=100,Cg=Ws*10,N6=Cg+Ws,cC={Modal:Ws,Drawer:Ws,Popover:Ws,Popconfirm:Ws,Tooltip:Ws,Tour:Ws,FloatButton:Ws},WP={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function GP(e){return e in cC}const lC=(e,t)=>{const[,r]=zi(),n=S.useContext(Y0),i=GP(e);let a;if(t!==void 0)a=[t,t];else{let c=n!=null?n:0;i?c+=(n?0:r.zIndexPopupBase)+cC[e]:c+=WP[e],a=[n===void 0?t:c,c]}return a},KP=e=>{const{componentCls:t,iconCls:r,boxShadow:n,colorText:i,colorSuccess:a,colorError:c,colorWarning:l,colorInfo:u,fontSizeLG:d,motionEaseInOutCirc:h,motionDurationSlow:y,marginXS:m,paddingXS:_,borderRadiusLG:R,zIndexPopup:b,contentPadding:C,contentBg:H}=e,A=`${t}-notice`,D=new ir("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:_,transform:"translateY(0)",opacity:1}}),Z=new ir("MessageMoveOut",{"0%":{maxHeight:e.height,padding:_,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),ie={padding:_,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${r}`]:{marginInlineEnd:m,fontSize:d},[`${A}-content`]:{display:"inline-block",padding:C,background:H,borderRadius:R,boxShadow:n,pointerEvents:"all"},[`${t}-success > ${r}`]:{color:a},[`${t}-error > ${r}`]:{color:c},[`${t}-warning > ${r}`]:{color:l},[`${t}-info > ${r},
      ${t}-loading > ${r}`]:{color:u}};return[{[t]:Object.assign(Object.assign({},ci(e)),{color:i,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:b,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:D,animationDuration:y,animationPlayState:"paused",animationTimingFunction:h},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:Z,animationDuration:y,animationPlayState:"paused",animationTimingFunction:h},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${A}-wrapper`]:Object.assign({},ie)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},ie),{padding:0,textAlign:"start"})}]};var uC=co("Message",e=>{const t=Zr(e,{height:150});return[KP(t)]},e=>({zIndexPopup:e.zIndexPopupBase+Cg+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`})),qP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const JP={info:S.createElement(rp,null),success:S.createElement(Zh,null),error:S.createElement(ep,null),warning:S.createElement(tp,null),loading:S.createElement(Kl,null)},dC=e=>{let{prefixCls:t,type:r,icon:n,children:i}=e;return S.createElement("div",{className:Ve()(`${t}-custom-content`,`${t}-${r}`)},n||JP[r],S.createElement("span",null,i))};var YP=e=>{const{prefixCls:t,className:r,type:n,icon:i,content:a}=e,c=qP(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=S.useContext(re),u=t||l("message"),d=Fd(u),[h,y,m]=uC(u,d);return h(S.createElement(eC,Object.assign({},c,{prefixCls:u,className:Ve()(r,y,`${u}-notice-pure-panel`,m,d),eventKey:"pure",duration:null,content:S.createElement(dC,{prefixCls:u,type:n,icon:i},a)})))},XP={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},QP=XP,ZP=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:QP}))},ek=S.forwardRef(ZP),$d=ek;function tk(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function X0(e){let t;const r=new Promise(i=>{t=e(()=>{i(!0)})}),n=()=>{t==null||t()};return n.then=(i,a)=>r.then(i,a),n.promise=r,n}var rk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const nk=8,ik=3,ok=e=>{let{children:t,prefixCls:r}=e;const n=Fd(r),[i,a,c]=uC(r,n);return i(S.createElement(rC,{classNames:{list:Ve()(a,c,n)}},t))},ak=(e,t)=>{let{prefixCls:r,key:n}=t;return S.createElement(ok,{prefixCls:r,key:n},e)},sk=S.forwardRef((e,t)=>{const{top:r,prefixCls:n,getContainer:i,maxCount:a,duration:c=ik,rtl:l,transitionName:u,onAllRemoved:d}=e,{getPrefixCls:h,getPopupContainer:y,message:m,direction:_}=S.useContext(re),R=n||h("message"),b=()=>({left:"50%",transform:"translateX(-50%)",top:r!=null?r:nk}),C=()=>Ve()({[`${R}-rtl`]:l!=null?l:_==="rtl"}),H=()=>tk(R,u),A=S.createElement("span",{className:`${R}-close-x`},S.createElement($d,{className:`${R}-close-icon`})),[D,Z]=sC({prefixCls:R,style:b,className:C,motion:H,closable:!1,closeIcon:A,duration:c,getContainer:()=>(i==null?void 0:i())||(y==null?void 0:y())||document.body,maxCount:a,onAllRemoved:d,renderNotifications:ak});return S.useImperativeHandle(t,()=>Object.assign(Object.assign({},D),{prefixCls:R,message:m})),Z});let fC=0;function hC(e){const t=S.useRef(null),r=Qh("Message");return[S.useMemo(()=>{const i=d=>{var h;(h=t.current)===null||h===void 0||h.close(d)},a=d=>{if(!t.current){const fe=()=>{};return fe.then=()=>{},fe}const{open:h,prefixCls:y,message:m}=t.current,_=`${y}-notice`,{content:R,icon:b,type:C,key:H,className:A,style:D,onClose:Z}=d,ie=rk(d,["content","icon","type","key","className","style","onClose"]);let oe=H;return oe==null&&(fC+=1,oe=`antd-message-${fC}`),X0(fe=>(h(Object.assign(Object.assign({},ie),{key:oe,content:S.createElement(dC,{prefixCls:y,type:C,icon:b},R),placement:"top",className:Ve()(C&&`${_}-${C}`,A,m==null?void 0:m.className),style:Object.assign(Object.assign({},m==null?void 0:m.style),D),onClose:()=>{Z==null||Z(),fe()}})),()=>{i(oe)}))},l={open:a,destroy:d=>{var h;d!==void 0?i(d):(h=t.current)===null||h===void 0||h.destroy()}};return["info","success","warning","error","loading"].forEach(d=>{const h=(y,m,_)=>{let R;y&&typeof y=="object"&&"content"in y?R=y:R={content:y};let b,C;typeof m=="function"?C=m:(b=m,C=_);const H=Object.assign(Object.assign({onClose:C,duration:b},R),{type:d});return a(H)};l[d]=h}),l},[]),S.createElement(sk,Object.assign({key:"message-holder"},e,{ref:t}))]}function pC(e){return hC(e)}let Zo=null,au=e=>e(),np=[],ip={};function mC(){const{getContainer:e,duration:t,rtl:r,maxCount:n,top:i}=ip,a=(e==null?void 0:e())||document.body;return{getContainer:()=>a,duration:t,rtl:r,maxCount:n,top:i}}const ck=S.forwardRef((e,t)=>{const{messageConfig:r,sync:n}=e,{getPrefixCls:i}=(0,S.useContext)(re),a=ip.prefixCls||i("message"),c=(0,S.useContext)(G0),[l,u]=hC(Object.assign(Object.assign(Object.assign({},r),{prefixCls:a}),c.message));return S.useImperativeHandle(t,()=>{const d=Object.assign({},l);return Object.keys(d).forEach(h=>{d[h]=function(){return n(),l[h].apply(l,arguments)}}),{instance:d,sync:n}}),u}),lk=S.forwardRef((e,t)=>{const[r,n]=S.useState(mC),i=()=>{n(mC)};S.useEffect(i,[]);const a=QE(),c=a.getRootPrefixCls(),l=a.getIconPrefixCls(),u=a.getTheme(),d=S.createElement(ck,{ref:t,sync:i,messageConfig:r});return S.createElement(q0,{prefixCls:c,iconPrefixCls:l,theme:u},a.holderRender?a.holderRender(d):d)});function _g(){if(!Zo){const e=document.createDocumentFragment(),t={fragment:e};Zo=t,au(()=>{Rh()(S.createElement(lk,{ref:n=>{const{instance:i,sync:a}=n||{};Promise.resolve().then(()=>{!t.instance&&i&&(t.instance=i,t.sync=a,_g())})}}),e)});return}Zo.instance&&(np.forEach(e=>{const{type:t,skipped:r}=e;if(!r)switch(t){case"open":{au(()=>{const n=Zo.instance.open(Object.assign(Object.assign({},ip),e.config));n==null||n.then(e.resolve),e.setCloseFn(n)});break}case"destroy":au(()=>{Zo==null||Zo.instance.destroy(e.key)});break;default:au(()=>{var n;const i=(n=Zo.instance)[t].apply(n,be(e.args));i==null||i.then(e.resolve),e.setCloseFn(i)})}}),np=[])}function uk(e){ip=Object.assign(Object.assign({},ip),e),au(()=>{var t;(t=Zo==null?void 0:Zo.sync)===null||t===void 0||t.call(Zo)})}function dk(e){const t=X0(r=>{let n;const i={type:"open",config:e,resolve:r,setCloseFn:a=>{n=a}};return np.push(i),()=>{n?au(()=>{n()}):i.skipped=!0}});return _g(),t}function fk(e,t){const r=QE(),n=X0(i=>{let a;const c={type:e,args:t,resolve:i,setCloseFn:l=>{a=l}};return np.push(c),()=>{a?au(()=>{a()}):c.skipped=!0}});return _g(),n}const hk=e=>{np.push({type:"destroy",key:e}),_g()},pk=["success","info","warning","error","loading"],gC={open:dk,destroy:hk,config:uk,useMessage:pC,_InternalPanelDoNotUseOrYouWillBeFired:YP};pk.forEach(e=>{gC[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fk(e,r)}});const U6=()=>{};let B6=null,j6=null;var vC=gC;const Rg=(e,t,r,n,i)=>({background:e,border:`${er(n.lineWidth)} ${n.lineType} ${t}`,[`${i}-icon`]:{color:r}}),mk=e=>{const{componentCls:t,motionDurationSlow:r,marginXS:n,marginSM:i,fontSize:a,fontSizeLG:c,lineHeight:l,borderRadiusLG:u,motionEaseInOutCirc:d,withDescriptionIconSize:h,colorText:y,colorTextHeading:m,withDescriptionPadding:_,defaultPadding:R}=e;return{[t]:Object.assign(Object.assign({},ci(e)),{position:"relative",display:"flex",alignItems:"center",padding:R,wordWrap:"break-word",borderRadius:u,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:a,lineHeight:l},"&-message":{color:m},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${d}, opacity ${r} ${d},
        padding-top ${r} ${d}, padding-bottom ${r} ${d},
        margin-bottom ${r} ${d}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:_,[`${t}-icon`]:{marginInlineEnd:i,fontSize:h,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:n,color:m,fontSize:c},[`${t}-description`]:{display:"block",color:y}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},gk=e=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:n,colorSuccessBg:i,colorWarning:a,colorWarningBorder:c,colorWarningBg:l,colorError:u,colorErrorBorder:d,colorErrorBg:h,colorInfo:y,colorInfoBorder:m,colorInfoBg:_}=e;return{[t]:{"&-success":Rg(i,n,r,e,t),"&-info":Rg(_,m,y,e,t),"&-warning":Rg(l,c,a,e,t),"&-error":Object.assign(Object.assign({},Rg(h,d,u,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},vk=e=>{const{componentCls:t,iconCls:r,motionDurationMid:n,marginXS:i,fontSizeIcon:a,colorIcon:c,colorIconHover:l}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:a,lineHeight:er(a),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:c,transition:`color ${n}`,"&:hover":{color:l}}},"&-close-text":{color:c,transition:`color ${n}`,"&:hover":{color:l}}}}};var yk=co("Alert",e=>[mk(e),gk(e),vk(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`})),yC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Sk={success:Zh,info:rp,error:ep,warning:tp},bk=e=>{const{icon:t,prefixCls:r,type:n}=e,i=Sk[n]||null;return t?L(t,S.createElement("span",{className:`${r}-icon`},t),()=>({className:Ve()(`${r}-icon`,t.props.className)})):S.createElement(i,{className:`${r}-icon`})},Ek=e=>{const{isClosable:t,prefixCls:r,closeIcon:n,handleClose:i,ariaProps:a}=e,c=n===!0||n===void 0?S.createElement($d,null):n;return t?S.createElement("button",Object.assign({type:"button",onClick:i,className:`${r}-close-icon`,tabIndex:0},a),c):null};var SC=S.forwardRef((e,t)=>{const{description:r,prefixCls:n,message:i,banner:a,className:c,rootClassName:l,style:u,onMouseEnter:d,onMouseLeave:h,onClick:y,afterClose:m,showIcon:_,closable:R,closeText:b,closeIcon:C,action:H,id:A}=e,D=yC(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[Z,ie]=S.useState(!1),oe=S.useRef(null);S.useImperativeHandle(t,()=>({nativeElement:oe.current}));const{getPrefixCls:fe,direction:he,alert:ge}=S.useContext(re),me=fe("alert",n),[Se,Ce,Te]=yk(me),Le=Ae=>{var $e;ie(!0),($e=e.onClose)===null||$e===void 0||$e.call(e,Ae)},ze=S.useMemo(()=>e.type!==void 0?e.type:a?"warning":"info",[e.type,a]),Ne=S.useMemo(()=>typeof R=="object"&&R.closeIcon||b?!0:typeof R=="boolean"?R:C!==!1&&C!==null&&C!==void 0?!0:!!(ge!=null&&ge.closable),[b,C,R,ge==null?void 0:ge.closable]),Be=a&&_===void 0?!0:_,Ue=Ve()(me,`${me}-${ze}`,{[`${me}-with-description`]:!!r,[`${me}-no-icon`]:!Be,[`${me}-banner`]:!!a,[`${me}-rtl`]:he==="rtl"},ge==null?void 0:ge.className,c,l,Te,Ce),et=jd(D,{aria:!0,data:!0}),Ke=S.useMemo(()=>{var Ae,$e;return typeof R=="object"&&R.closeIcon?R.closeIcon:b||(C!==void 0?C:typeof(ge==null?void 0:ge.closable)=="object"&&(!((Ae=ge==null?void 0:ge.closable)===null||Ae===void 0)&&Ae.closeIcon)?($e=ge==null?void 0:ge.closable)===null||$e===void 0?void 0:$e.closeIcon:ge==null?void 0:ge.closeIcon)},[C,R,b,ge==null?void 0:ge.closeIcon]),Ie=S.useMemo(()=>{const Ae=R!=null?R:ge==null?void 0:ge.closable;if(typeof Ae=="object"){const{closeIcon:$e}=Ae;return yC(Ae,["closeIcon"])}return{}},[R,ge==null?void 0:ge.closable]);return Se(S.createElement(Is,{visible:!Z,motionName:`${me}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Ae=>({maxHeight:Ae.offsetHeight}),onLeaveEnd:m},(Ae,$e)=>{let{className:Oe,style:ct}=Ae;return S.createElement("div",Object.assign({id:A,ref:M(oe,$e),"data-show":!Z,className:Ve()(Ue,Oe),style:Object.assign(Object.assign(Object.assign({},ge==null?void 0:ge.style),u),ct),onMouseEnter:d,onMouseLeave:h,onClick:y,role:"alert"},et),Be?S.createElement(bk,{description:r,icon:e.icon,prefixCls:me,type:ze}):null,S.createElement("div",{className:`${me}-content`},i?S.createElement("div",{className:`${me}-message`},i):null,r?S.createElement("div",{className:`${me}-description`},r):null),H?S.createElement("div",{className:`${me}-action`},H):null,S.createElement(Ek,{isClosable:Ne,prefixCls:me,closeIcon:Ke,handleClose:Le,ariaProps:Ie}))}))});function Ck(e,t,r){return t=ua(t),Bu(e,cc()?Reflect.construct(t,r||[],ua(e).constructor):t.apply(e,r))}var _k=function(e){function t(){var r;return De(this,t),r=Ck(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return ro(t,e),qe(t,[{key:"componentDidCatch",value:function(n,i){this.setState({error:n,info:i})}},{key:"render",value:function(){const{message:n,description:i,id:a,children:c}=this.props,{error:l,info:u}=this.state,d=(u==null?void 0:u.componentStack)||null,h=typeof n=="undefined"?(l||"").toString():n,y=typeof i=="undefined"?d:i;return l?S.createElement(SC,{id:a,type:"error",message:h,description:S.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},y)}):c}}])}(S.Component);const bC=SC;bC.ErrorBoundary=_k;var Rk=bC,Q0,qi={"login.tokenExpired":"\u767B\u5F55\u6001\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55\uFF01","agent.voice":"\u8BED\u97F3\u901A\u8BDD","agent.avatar":"\u6570\u5B57\u4EBA\u901A\u8BDD","agent.vision":"\u89C6\u89C9\u7406\u89E3\u901A\u8BDD","push.pushtoTalk":"\u6309\u4F4F\u8BB2\u8BDD","push.releaseToSend":"\u677E\u5F00\u53D1\u9001","push.pushToTalkMode":"\u5BF9\u8BB2\u673A\u6A21\u5F0F","push.pushtoTalk_releaseToSend":"\u6309\u4E0B\u6309\u94AE\u540E\u8BB2\u8BDD\uFF0C\u677E\u5F00\u6309\u94AE\u540E\u7ED3\u675F\u8BB2\u8BDD ","push.openFail":"\u6253\u5F00/\u5173\u95ED\u5BF9\u8BB2\u673A\u6A21\u5F0F\u5931\u8D25","push.turnedOn":"\u5BF9\u8BB2\u673A\u6A21\u5F0F\u5DF2\u6253\u5F00","push.turnedOff":"\u5BF9\u8BB2\u673A\u6A21\u5F0F\u5DF2\u5173\u95ED","setting.modeTitle":"\u901A\u8BDD\u6A21\u5F0F","setting.voiceInterruptTitle":"\u667A\u80FD\u6253\u65AD","setting.voiceInterruptHelp":"\u6839\u636E\u58F0\u97F3\u548C\u73AF\u5883\u667A\u80FD\u6253\u65ADAI\u667A\u80FD\u4F53","setting.voiceIdTitle":"\u9009\u62E9\u97F3\u8272","setting.voiceIdHelp":"\u5207\u6362\u97F3\u8272\u540E\uFF0CAI\u5C06\u5728\u4E0B\u4E00\u6B21\u56DE\u7B54\u4E2D\u4F7F\u7528\u65B0\u7684\u97F3\u8272","status.listeningToStart":"\u8BF7\u5F00\u59CB\u8BF4\u8BDD","status.listening":"\u4F60\u8BF4\uFF0C\u6211\u5728\u542C...","status.thinking":"\u601D\u8003\u4E2D...","status.speaking":"\u6211\u6B63\u5728\u56DE\u590D\u4E2D\uFF0C\u53EF\u4EE5\u70B9\u51FB\u201Ctab\u201D\u952E\u6216\u8BF4\u8BDD\u6253\u65AD\u6211","status.speakingNoInterrupt":"\u6211\u6B63\u5728\u56DE\u590D\u4E2D\uFF0C\u53EF\u4EE5\u70B9\u51FB\u201Ctab\u201D\u952E\u6253\u65AD\u6211","status.mobile.speaking":"\u6211\u6B63\u5728\u56DE\u590D\u4E2D\uFF0C\u53EF\u4EE5\u8F7B\u89E6\u5C4F\u5E55\u6216\u8BF4\u8BDD\u6253\u65AD\u6211","status.mobile.speakingNoInterrupt":"\u6211\u6B63\u5728\u56DE\u590D\u4E2D\uFF0C\u53EF\u4EE5\u8F7B\u89E6\u5C4F\u5E55\u6253\u65AD\u6211","error.localDeviceException":"\u901A\u8BDD\u5931\u8D25\uFF0C\u672C\u5730\u8BBE\u5907\u51FA\u73B0\u4E86\u9519\u8BEF","error.tokenExpired":"\u901A\u8BDD\u5931\u8D25\uFF0C\u5F53\u524D\u6388\u6743\u5DF2\u8FC7\u671F","error.connectionFailed":"\u901A\u8BDD\u5931\u8D25\uFF0C\u5F53\u524D\u7F51\u7EDC\u8FDE\u63A5\u51FA\u73B0\u95EE\u9898","error.kickedByUserReplace":"\u901A\u8BDD\u5931\u8D25\uFF0C\u5F53\u524D\u7528\u6237\u53EF\u80FD\u767B\u5F55\u4E86\u5176\u4ED6\u8BBE\u5907","error.kickedBySystem":"\u901A\u8BDD\u5931\u8D25\uFF0C\u88AB\u7CFB\u7EDF\u7ED3\u675F\u901A\u8BDD","error.agentLeaveChannel":"\u901A\u8BDD\u5931\u8D25\uFF0C\u667A\u80FD\u4F53\u505C\u6B62\u901A\u8BDD\u4E86","error.agentPullFailed":"\u901A\u8BDD\u5931\u8D25\uFF0C\u667A\u80FD\u4F53\u62C9\u6D41\u5931\u8D25","error.agentASRFailed":"\u7B2C\u4E09\u65B9ASR\u670D\u52A1\u4E0D\u53EF\u7528","error.avatarServiceFailed":"\u6570\u5B57\u4EBA\u670D\u52A1\u4E0D\u53EF\u7528","error.avatarRoutesExhausted":"\u6570\u5B57\u4EBA\u901A\u8BDD\u706B\u7206\uFF0C\u8BF7\u7A0D\u540E\u5C1D\u8BD5\u6216\u5148\u4EABAI\u97F3\u9891\u901A\u8BDD\u65B0\u4F53\u9A8C\u3002","error.subscriptionRequired":"\u63A5\u901A\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u60A8\u8D26\u53F7\u662F\u5426\u6B63\u786E\u8BA2\u8D2D\u5957\u9910","error.agentNotFound":"\u63A5\u901A\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u667A\u80FD\u4F53ID\u662F\u5426\u6B63\u786E","error.unknown":"\u901A\u8BDD\u5931\u8D25\uFF0C\u53D1\u751F\u672A\u77E5\u9519\u8BEF","avatar.timeLimit":"\u901A\u8BDD\u7ED3\u675F\uFF0C\u6570\u5B57\u4EBA\u901A\u8BDD\u4EC5\u53EF\u4EE5\u4F53\u9A8C5\u5206\u949F\u3002","humanTakeover.willStart":"\u5F53\u524D\u901A\u8BDD\u5373\u5C06\u88AB\u771F\u4EBA\u63A5\u7BA1","humanTakeover.connected":"\u5F53\u524D\u901A\u8BDD\u5DF2\u7ECF\u88AB\u771F\u4EBA\u63A5\u7BA1"},wk=(Q0={},tr()(tr()(tr()(tr()(tr()(tr()(tr()(tr()(tr()(tr()(Q0,Wr.ConnectionFailed,qi["error.connectionFailed"]),Wr.KickedByUserReplace,qi["error.kickedByUserReplace"]),Wr.KickedBySystem,qi["error.kickedBySystem"]),Wr.LocalDeviceException,qi["error.localDeviceException"]),Wr.AgentLeaveChannel,qi["error.agentLeaveChannel"]),Wr.AgentPullFailed,qi["error.agentPullFailed"]),Wr.AgentASRFailed,qi["error.agentASRFailed"]),Wr.AvatarServiceFailed,qi["error.avatarServiceFailed"]),Wr.AvatarRoutesExhausted,qi["error.avatarRoutesExhausted"]),Wr.TokenExpired,qi["error.tokenExpired"]),tr()(tr()(Q0,Wr.AgentSubscriptionRequired,qi["error.subscriptionRequired"]),Wr.AgentNotFound,qi["error.agentNotFound"])),EC=function(t){return t&&wk[t]||qi["error.unknown"]},Hd=qi;function Tk(){var e=(0,S.useState)(0),t=st()(e,2),r=t[0],n=t[1],i=(0,S.useRef)(0),a=(0,S.useRef)(0),c=(0,S.useState)(!1),l=st()(c,2),u=l[0],d=l[1],h=An(),y=h.callState,m=h.agentState,_=h.isSpeaking,R=h.enableVoiceInterrupt;(0,S.useEffect)(function(){_&&d(!0)},[_]),(0,S.useEffect)(function(){y===Ur.Connected?(n(0),a.current=Date.now(),i.current=window.setInterval(function(){n(Math.floor((Date.now()-a.current)/1e3))},1e3)):clearInterval(i.current)},[y]);var b=(0,S.useMemo)(function(){return m===iu.Listening?u?Hd["status.listening"]:Hd["status.listeningToStart"]:m===iu.Thinking?Hd["status.thinking"]:m===iu.Speaking?R?Hd["status.speaking"]:Hd["status.speakingNoInterrupt"]:""},[u,m,R]),C=(0,S.useMemo)(function(){var H=Math.floor(r/3600),A=Math.floor(r%3600/60),D=r%60;return"".concat(H>0?(H<10?"0":"")+H+":":"").concat(A<10?"0":"").concat(A,":").concat(D<10?"0":"").concat(D)},[r]);return(0,St.jsxs)("div",{className:"call-tip",children:[y!==Ur.Connected?"\u5EFA\u7ACB\u8FDE\u63A5\u4E2D...":(0,St.jsx)("div",{className:"call-tip-icon"}),y===Ur.Connected&&(0,St.jsx)("div",{className:"_time",children:C})]})}function z6(e){var t=e.type,r=useState([]),n=_slicedToArray(r,2),i=n[0],a=n[1],c=useState(""),l=_slicedToArray(c,2),u=l[0],d=l[1],h=useContext(ControllerContext);useEffect(function(){var _=function(){var b=t==="microphone"?ARTCAICallEngine.getMicrophoneList:ARTCAICallEngine.getCameraList;b().then(function(C){a(C.filter(function(H){return H.deviceId!=="default"}).map(function(H){return{key:H.deviceId,label:H.label}}))})};return _(),navigator.mediaDevices.addEventListener("devicechange",_),function(){return navigator.mediaDevices.removeEventListener("devicechange",_)}},[t]);var y=useMemo(function(){return i.forEach(function(_){_.key===u?_.disabled=!0:_.disabled=!1}),_toConsumableArray(i)},[i,u]),m=function(R){d(R),t==="microphone"?h==null||h.switchMicrophone(R):h==null||h.switchCamera(R)};return u&&y.length>0&&!y.find(function(_){return _.key===u})&&m(y[0].key),_jsx(Dropdown,{trigger:["click"],overlayClassName:"_dropdown-overlay",menu:{items:y,onClick:function(R){return m(R.key)}},children:_jsx(Button,{className:"_dropdown",children:_jsx(DownOutlined,{})})})}function Ak(e){var t=e.onStop,r=An(),n=r.microphoneMuted,i=r.enablePushToTalk,a=r.callState,c=vC.useMessage(),l=st()(c,2),u=l[0],d=l[1],h=(0,S.useContext)(z0),y=function(){if(!i){var H=!An.getState().microphoneMuted;h==null||h.muteMicrophone(H),u.success(H?"\u9EA6\u514B\u98CE\u5DF2\u5173\u95ED":"\u9EA6\u514B\u98CE\u5DF2\u5F00\u542F"),An.setState({microphoneMuted:H})}},m="https://img.alicdn.com/imgextra/i4/O1CN01Ovnzb020ToTUOEId9_!!6000000006851-2-tps-60-60.png",_="https://img.alicdn.com/imgextra/i4/O1CN013cXV4A1RzPFDomR8e_!!6000000002182-2-tps-60-60.png",R=(0,St.jsxs)("li",{className:"call-btn",style:{"--Microphone":n?m:_},children:[(0,St.jsx)(Pd,{onClick:y,className:"_mic-btn",disabled:a!==Ur.Connected,children:(0,St.jsx)("img",{src:n?m:_,alt:""})}),(0,St.jsx)("div",{className:"_label",children:(0,St.jsxs)("span",{className:"_text",children:[n?"\u6253\u5F00":"\u5173\u95ED","\u9EA6\u514B\u98CE"]})})]}),b="https://img.alicdn.com/imgextra/i2/O1CN01GjList29Nhjcoy7sw_!!6000000008056-2-tps-60-60.png";return(0,St.jsxs)("div",{className:"call-footer",children:[d,(0,St.jsx)(Tk,{}),(0,St.jsx)("div",{className:"call-actions",children:(0,St.jsxs)("ul",{children:[(0,St.jsxs)("li",{className:"call-btn",children:[(0,St.jsx)(Pd,{onClick:t,className:"call-stop-btn",children:(0,St.jsx)("img",{src:b,alt:""})}),(0,St.jsx)("div",{className:"_label",children:(0,St.jsx)("span",{className:"_text",children:"\u6302\u65AD"})})]}),R]})})]})}var Pk=Ak;function kk(e){var t=e.onStop,r=An(),n=r.enablePushToTalk,i="https://img.alicdn.com/imgextra/i1/O1CN01O7c5wV23ekmfZSZIm_!!6000000007281-2-tps-192-192.png";return(0,St.jsx)("div",{className:"call-block stage-block",children:(0,St.jsx)("div",{className:"call-block-container",children:(0,St.jsxs)("div",{className:"call-block-bd stage-bd",children:[n&&(0,St.jsx)(Rk,{className:"stage-push-to-talk-tip",message:"\u5DF2\u5F00\u542F\u5BF9\u8BB2\u673A\u6A21\u5F0F\uFF0C\u957F\u6309\u7A7A\u683C\u5F00\u59CB\u8BB2\u8BDD\uFF0C\u5BF9\u8BB2\u673A\u72B6\u6001\u4E0B\uFF0C\u9EA6\u514B\u98CE\u9ED8\u8BA4\u5F00\u542F\u3002",closable:!0}),(0,St.jsxs)("div",{className:"call-profilePicture",children:[(0,St.jsx)("img",{src:i}),(0,St.jsx)("div",{className:"call-profilePicture-text",children:"\u82F1\u8BED\u53E3\u8BED\u4E13\u5BB6"})]}),(0,St.jsx)(Pk,{onStop:t})]})})})}var Ik=kk;function Z0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let su=Z0();function CC(e){su=e}const op={exec:()=>null};function en(e,t=""){let r=typeof e=="string"?e:e.source;const n={replace:(i,a)=>{let c=typeof a=="string"?a:a.source;return c=c.replace(Ji.caret,"$1"),r=r.replace(i,c),n},getRegex:()=>new RegExp(r,t)};return n}const Ji={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Ok=/^(?:[ \t]*(?:\n|$))+/,xk=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Mk=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ap=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Nk=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_C=/(?:[*+-]|\d{1,9}[.)])/,RC=en(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,_C).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ey=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Dk=/^[^\n]+/,ty=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Lk=en(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ty).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Vk=en(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_C).getRegex(),wg="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ry=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Uk=en("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ry).replace("tag",wg).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wC=en(ey).replace("hr",ap).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wg).getRegex(),ny={blockquote:en(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wC).getRegex(),code:xk,def:Lk,fences:Mk,heading:Nk,hr:ap,html:Uk,lheading:RC,list:Vk,newline:Ok,paragraph:wC,table:op,text:Dk},TC=en("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ap).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wg).getRegex(),Bk=af(Co({},ny),{table:TC,paragraph:en(ey).replace("hr",ap).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",TC).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wg).getRegex()}),jk=af(Co({},ny),{html:en(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ry).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:op,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:en(ey).replace("hr",ap).replace("heading",` *#{1,6} *[^
]`).replace("lheading",RC).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Fk=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$k=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,AC=/^( {2,}|\\)\n(?!\s*$)/,Hk=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Tg=/[\p{P}\p{S}]/u,iy=/[\s\p{P}\p{S}]/u,PC=/[^\s\p{P}\p{S}]/u,zk=en(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,iy).getRegex(),kC=/(?!~)[\p{P}\p{S}]/u,Wk=/(?!~)[\s\p{P}\p{S}]/u,Gk=/(?:[^\s\p{P}\p{S}]|~)/u,Kk=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,IC=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qk=en(IC,"u").replace(/punct/g,Tg).getRegex(),Jk=en(IC,"u").replace(/punct/g,kC).getRegex(),OC="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Yk=en(OC,"gu").replace(/notPunctSpace/g,PC).replace(/punctSpace/g,iy).replace(/punct/g,Tg).getRegex(),Xk=en(OC,"gu").replace(/notPunctSpace/g,Gk).replace(/punctSpace/g,Wk).replace(/punct/g,kC).getRegex(),Qk=en("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,PC).replace(/punctSpace/g,iy).replace(/punct/g,Tg).getRegex(),Zk=en(/\\(punct)/,"gu").replace(/punct/g,Tg).getRegex(),eI=en(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tI=en(ry).replace("(?:-->|$)","-->").getRegex(),rI=en("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tI).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ag=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,nI=en(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ag).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xC=en(/^!?\[(label)\]\[(ref)\]/).replace("label",Ag).replace("ref",ty).getRegex(),MC=en(/^!?\[(ref)\](?:\[\])?/).replace("ref",ty).getRegex(),iI=en("reflink|nolink(?!\\()","g").replace("reflink",xC).replace("nolink",MC).getRegex(),oy={_backpedal:op,anyPunctuation:Zk,autolink:eI,blockSkip:Kk,br:AC,code:$k,del:op,emStrongLDelim:qk,emStrongRDelimAst:Yk,emStrongRDelimUnd:Qk,escape:Fk,link:nI,nolink:MC,punctuation:zk,reflink:xC,reflinkSearch:iI,tag:rI,text:Hk,url:op},oI=af(Co({},oy),{link:en(/^!?\[(label)\]\((.*?)\)/).replace("label",Ag).getRegex(),reflink:en(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ag).getRegex()}),ay=af(Co({},oy),{emStrongRDelimAst:Xk,emStrongLDelim:Jk,url:en(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),aI=af(Co({},ay),{br:en(AC).replace("{2,}","*").getRegex(),text:en(ay.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Pg={normal:ny,gfm:Bk,pedantic:jk},sp={normal:oy,gfm:ay,breaks:aI,pedantic:oI},sI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NC=e=>sI[e];function as(e,t){if(t){if(Ji.escapeTest.test(e))return e.replace(Ji.escapeReplace,NC)}else if(Ji.escapeTestNoEncode.test(e))return e.replace(Ji.escapeReplaceNoEncode,NC);return e}function DC(e){try{e=encodeURI(e).replace(Ji.percentDecode,"%")}catch(t){return null}return e}function LC(e,t){var a;const r=e.replace(Ji.findPipe,(c,l,u)=>{let d=!1,h=l;for(;--h>=0&&u[h]==="\\";)d=!d;return d?"|":" |"}),n=r.split(Ji.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Ji.slashPipe,"|");return n}function cp(e,t,r){const n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function cI(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function VC(e,t,r,n,i){const a=t.href,c=t.title||null,l=e[1].replace(i.other.outputLinkReplace,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const u={type:"link",raw:r,href:a,title:c,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}return{type:"image",raw:r,href:a,title:c,text:l}}function lI(e,t,r){const n=e.match(r.other.indentCodeCompensation);if(n===null)return t;const i=n[1];return t.split(`
`).map(a=>{const c=a.match(r.other.beginningSpace);if(c===null)return a;const[l]=c;return l.length>=i.length?a.slice(i.length):a}).join(`
`)}class kg{constructor(t){pn(this,"options");pn(this,"rules");pn(this,"lexer");this.options=t||su}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:cp(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],i=lI(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){const i=cp(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:cp(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=cp(r[0],`
`).split(`
`),i="",a="";const c=[];for(;n.length>0;){let l=!1;const u=[];let d;for(d=0;d<n.length;d++)if(this.rules.other.blockquoteStart.test(n[d]))u.push(n[d]),l=!0;else if(!l)u.push(n[d]);else break;n=n.slice(d);const h=u.join(`
`),y=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,a=a?`${a}
${y}`:y;const m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(y,c,!0),this.lexer.state.top=m,n.length===0)break;const _=c.at(-1);if((_==null?void 0:_.type)==="code")break;if((_==null?void 0:_.type)==="blockquote"){const R=_,b=R.raw+`
`+n.join(`
`),C=this.blockquote(b);c[c.length-1]=C,i=i.substring(0,i.length-R.raw.length)+C.raw,a=a.substring(0,a.length-R.text.length)+C.text;break}else if((_==null?void 0:_.type)==="list"){const R=_,b=R.raw+`
`+n.join(`
`),C=this.list(b);c[c.length-1]=C,i=i.substring(0,i.length-_.raw.length)+C.raw,a=a.substring(0,a.length-R.raw.length)+C.raw,n=b.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:c,text:a}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const c=this.rules.other.listItemRegex(n);let l=!1;for(;t;){let d=!1,h="",y="";if(!(r=c.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let m=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),_=t.split(`
`,1)[0],R=!m.trim(),b=0;if(this.options.pedantic?(b=2,y=m.trimStart()):R?b=r[1].length+1:(b=r[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,y=m.slice(b),b+=r[1].length),R&&this.rules.other.blankLine.test(_)&&(h+=_+`
`,t=t.substring(_.length+1),d=!0),!d){const A=this.rules.other.nextBulletRegex(b),D=this.rules.other.hrRegex(b),Z=this.rules.other.fencesBeginRegex(b),ie=this.rules.other.headingBeginRegex(b),oe=this.rules.other.htmlBeginRegex(b);for(;t;){const fe=t.split(`
`,1)[0];let he;if(_=fe,this.options.pedantic?(_=_.replace(this.rules.other.listReplaceNesting,"  "),he=_):he=_.replace(this.rules.other.tabCharGlobal,"    "),Z.test(_)||ie.test(_)||oe.test(_)||A.test(_)||D.test(_))break;if(he.search(this.rules.other.nonSpaceChar)>=b||!_.trim())y+=`
`+he.slice(b);else{if(R||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Z.test(m)||ie.test(m)||D.test(m))break;y+=`
`+_}!R&&!_.trim()&&(R=!0),h+=fe+`
`,t=t.substring(fe.length+1),m=he.slice(b)}}a.loose||(l?a.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(l=!0));let C=null,H;this.options.gfm&&(C=this.rules.other.listIsTask.exec(y),C&&(H=C[0]!=="[ ] ",y=y.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:h,task:!!C,checked:H,loose:!1,text:y,tokens:[]}),a.raw+=h}const u=a.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let d=0;d<a.items.length;d++)if(this.lexer.state.top=!1,a.items[d].tokens=this.lexer.blockTokens(a.items[d].text,[]),!a.loose){const h=a.items[d].tokens.filter(m=>m.type==="space"),y=h.length>0&&h.some(m=>this.rules.other.anyLine.test(m.raw));a.loose=y}if(a.loose)for(let d=0;d<a.items.length;d++)a.items[d].loose=!0;return a}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(t){var l;const r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const n=LC(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(l=r[3])!=null&&l.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const u of i)this.rules.other.tableAlignRight.test(u)?c.align.push("right"):this.rules.other.tableAlignCenter.test(u)?c.align.push("center"):this.rules.other.tableAlignLeft.test(u)?c.align.push("left"):c.align.push(null);for(let u=0;u<n.length;u++)c.header.push({text:n[u],tokens:this.lexer.inline(n[u]),header:!0,align:c.align[u]});for(const u of a)c.rows.push(LC(u,c.header.length).map((d,h)=>({text:d,tokens:this.lexer.inline(d),header:!1,align:c.align[h]})));return c}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const c=cp(n.slice(0,-1),"\\");if((n.length-c.length)%2===0)return}else{const c=cI(r[2],"()");if(c>-1){const u=(r[0].indexOf("!")===0?5:4)+r[1].length+c;r[2]=r[2].substring(0,c),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const c=this.rules.other.pedanticHrefTitle.exec(i);c&&(i=c[1],a=c[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),VC(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=r[i.toLowerCase()];if(!a){const c=n[0].charAt(0);return{type:"text",raw:c,text:c}}return VC(n,a,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const c=[...i[0]].length-1;let l,u,d=c,h=0;const y=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(y.lastIndex=0,r=r.slice(-1*t.length+c);(i=y.exec(r))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(u=[...l].length,i[3]||i[4]){d+=u;continue}else if((i[5]||i[6])&&c%3&&!((c+u)%3)){h+=u;continue}if(d-=u,d>0)continue;u=Math.min(u,u+d+h);const m=[...i[0]][0].length,_=t.slice(0,c+i.index+m+u);if(Math.min(c,u)%2){const b=_.slice(1,-1);return{type:"em",raw:_,text:b,tokens:this.lexer.inlineTokens(b)}}const R=_.slice(2,-2);return{type:"strong",raw:_,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n,i;let r;if(r=this.rules.inline.url.exec(t)){let a,c;if(r[2]==="@")a=r[0],c="mailto:"+a;else{let l;do l=r[0],r[0]=(i=(n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])!=null?i:"";while(l!==r[0]);a=r[0],r[1]==="www."?c="http://"+r[0]:c=r[0]}return{type:"link",raw:r[0],text:a,href:c,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){const n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}}class ea{constructor(t){pn(this,"tokens");pn(this,"options");pn(this,"state");pn(this,"tokenizer");pn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||su,this.options.tokenizer=this.options.tokenizer||new kg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:Ji,block:Pg.normal,inline:sp.normal};this.options.pedantic?(r.block=Pg.pedantic,r.inline=sp.pedantic):this.options.gfm&&(r.block=Pg.gfm,this.options.breaks?r.inline=sp.breaks:r.inline=sp.gfm),this.tokenizer.rules=r}static get rules(){return{block:Pg,inline:sp}}static lex(t,r){return new ea(r).lex(t)}static lexInline(t,r){return new ea(r).inlineTokens(t)}lex(t){t=t.replace(Ji.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,a,c;for(this.options.pedantic&&(t=t.replace(Ji.tabCharGlobal,"    ").replace(Ji.spaceLine,""));t;){let l;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(d=>(l=d.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);const d=r.at(-1);l.raw.length===1&&d!==void 0?d.raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);const d=r.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.at(-1).src=d.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);const d=r.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}let u=t;if((c=this.options.extensions)!=null&&c.startBlock){let d=1/0;const h=t.slice(1);let y;this.options.extensions.startBlock.forEach(m=>{y=m.call({lexer:this},h),typeof y=="number"&&y>=0&&(d=Math.min(d,y))}),d<1/0&&d>=0&&(u=t.substring(0,d+1))}if(this.state.top&&(l=this.tokenizer.paragraph(u))){const d=r.at(-1);n&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):r.push(l),n=u.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);const d=r.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):r.push(l);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var l,u,d;let n=t,i=null;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)h.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a=!1,c="";for(;t;){a||(c=""),a=!1;let h;if((u=(l=this.options.extensions)==null?void 0:l.inline)!=null&&u.some(m=>(h=m.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);const m=r.at(-1);h.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=h.raw,m.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,n,c)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let y=t;if((d=this.options.extensions)!=null&&d.startInline){let m=1/0;const _=t.slice(1);let R;this.options.extensions.startInline.forEach(b=>{R=b.call({lexer:this},_),typeof R=="number"&&R>=0&&(m=Math.min(m,R))}),m<1/0&&m>=0&&(y=t.substring(0,m+1))}if(h=this.tokenizer.inlineText(y)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(c=h.raw.slice(-1)),a=!0;const m=r.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=h.raw,m.text+=h.text):r.push(h);continue}if(t){const m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}}class Ig{constructor(t){pn(this,"options");pn(this,"parser");this.options=t||su}space(t){return""}code({text:t,lang:r,escaped:n}){var c;const i=(c=(r||"").match(Ji.notSpaceStart))==null?void 0:c[0],a=t.replace(Ji.endingNewline,"")+`
`;return i?'<pre><code class="language-'+as(i)+'">'+(n?a:as(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:as(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let i="";for(let l=0;l<t.items.length;l++){const u=t.items[l];i+=this.listitem(u)}const a=r?"ol":"ul",c=r&&n!==1?' start="'+n+'"':"";return"<"+a+c+`>
`+i+"</"+a+`>
`}listitem(t){var n;let r="";if(t.task){const i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+as(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let a=0;a<t.header.length;a++)n+=this.tablecell(t.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<t.rows.length;a++){const c=t.rows[a];n="";for(let l=0;l<c.length;l++)n+=this.tablecell(c[l]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${as(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const i=this.parser.parseInline(n),a=DC(t);if(a===null)return i;t=a;let c='<a href="'+t+'"';return r&&(c+=' title="'+as(r)+'"'),c+=">"+i+"</a>",c}image({href:t,title:r,text:n}){const i=DC(t);if(i===null)return as(n);t=i;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${as(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:as(t.text)}}class sy{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class ta{constructor(t){pn(this,"options");pn(this,"renderer");pn(this,"textRenderer");this.options=t||su,this.options.renderer=this.options.renderer||new Ig,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new sy}static parse(t,r){return new ta(r).parse(t)}static parseInline(t,r){return new ta(r).parseInline(t)}parse(t,r=!0){var i,a;let n="";for(let c=0;c<t.length;c++){const l=t[c];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[l.type]){const d=l,h=this.options.extensions.renderers[d.type].call({parser:this},d);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){n+=h||"";continue}}const u=l;switch(u.type){case"space":{n+=this.renderer.space(u);continue}case"hr":{n+=this.renderer.hr(u);continue}case"heading":{n+=this.renderer.heading(u);continue}case"code":{n+=this.renderer.code(u);continue}case"table":{n+=this.renderer.table(u);continue}case"blockquote":{n+=this.renderer.blockquote(u);continue}case"list":{n+=this.renderer.list(u);continue}case"html":{n+=this.renderer.html(u);continue}case"paragraph":{n+=this.renderer.paragraph(u);continue}case"text":{let d=u,h=this.renderer.text(d);for(;c+1<t.length&&t[c+1].type==="text";)d=t[++c],h+=`
`+this.renderer.text(d);r?n+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):n+=h;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return n}parseInline(t,r=this.renderer){var i,a;let n="";for(let c=0;c<t.length;c++){const l=t[c];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[l.type]){const d=this.options.extensions.renderers[l.type].call({parser:this},l);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=d||"";continue}}const u=l;switch(u.type){case"escape":{n+=r.text(u);break}case"html":{n+=r.html(u);break}case"link":{n+=r.link(u);break}case"image":{n+=r.image(u);break}case"strong":{n+=r.strong(u);break}case"em":{n+=r.em(u);break}case"codespan":{n+=r.codespan(u);break}case"br":{n+=r.br(u);break}case"del":{n+=r.del(u);break}case"text":{n+=r.text(u);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return n}}class lp{constructor(t){pn(this,"options");pn(this,"block");this.options=t||su}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?ea.lex:ea.lexInline}provideParser(){return this.block?ta.parse:ta.parseInline}}pn(lp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class uI{constructor(...t){pn(this,"defaults",Z0());pn(this,"options",this.setOptions);pn(this,"parse",this.parseMarkdown(!0));pn(this,"parseInline",this.parseMarkdown(!1));pn(this,"Parser",ta);pn(this,"Renderer",Ig);pn(this,"TextRenderer",sy);pn(this,"Lexer",ea);pn(this,"Tokenizer",kg);pn(this,"Hooks",lp);this.use(...t)}walkTokens(t,r){var i,a;let n=[];for(const c of t)switch(n=n.concat(r.call(this,c)),c.type){case"table":{const l=c;for(const u of l.header)n=n.concat(this.walkTokens(u.tokens,r));for(const u of l.rows)for(const d of u)n=n.concat(this.walkTokens(d.tokens,r));break}case"list":{const l=c;n=n.concat(this.walkTokens(l.items,r));break}default:{const l=c;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[l.type]?this.defaults.extensions.childTokens[l.type].forEach(u=>{const d=l[u].flat(1/0);n=n.concat(this.walkTokens(d,r))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const i=Co({},n);if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const c=r.renderers[a.name];c?r.renderers[a.name]=function(...l){let u=a.renderer.apply(this,l);return u===!1&&(u=c.apply(this,l)),u}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const c=r[a.level];c?c.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new Ig(this.defaults);for(const c in n.renderer){if(!(c in a))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;const l=c,u=n.renderer[l],d=a[l];a[l]=(...h)=>{let y=u.apply(a,h);return y===!1&&(y=d.apply(a,h)),y||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new kg(this.defaults);for(const c in n.tokenizer){if(!(c in a))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;const l=c,u=n.tokenizer[l],d=a[l];a[l]=(...h)=>{let y=u.apply(a,h);return y===!1&&(y=d.apply(a,h)),y}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new lp;for(const c in n.hooks){if(!(c in a))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;const l=c,u=n.hooks[l],d=a[l];lp.passThroughHooks.has(c)?a[l]=h=>{if(this.defaults.async)return Promise.resolve(u.call(a,h)).then(m=>d.call(a,m));const y=u.call(a,h);return d.call(a,y)}:a[l]=(...h)=>{let y=u.apply(a,h);return y===!1&&(y=d.apply(a,h)),y}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,c=n.walkTokens;i.walkTokens=function(l){let u=[];return u.push(c.call(this,l)),a&&(u=u.concat(a.call(this,l))),u}}this.defaults=Co(Co({},this.defaults),i)}),this}setOptions(t){return this.defaults=Co(Co({},this.defaults),t),this}lexer(t,r){return ea.lex(t,r!=null?r:this.defaults)}parser(t,r){return ta.parse(t,r!=null?r:this.defaults)}parseMarkdown(t){return(n,i)=>{const a=Co({},i),c=Co(Co({},this.defaults),a),l=this.onError(!!c.silent,!!c.async);if(this.defaults.async===!0&&a.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n=="undefined"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));c.hooks&&(c.hooks.options=c,c.hooks.block=t);const u=c.hooks?c.hooks.provideLexer():t?ea.lex:ea.lexInline,d=c.hooks?c.hooks.provideParser():t?ta.parse:ta.parseInline;if(c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(n):n).then(h=>u(h,c)).then(h=>c.hooks?c.hooks.processAllTokens(h):h).then(h=>c.walkTokens?Promise.all(this.walkTokens(h,c.walkTokens)).then(()=>h):h).then(h=>d(h,c)).then(h=>c.hooks?c.hooks.postprocess(h):h).catch(l);try{c.hooks&&(n=c.hooks.preprocess(n));let h=u(n,c);c.hooks&&(h=c.hooks.processAllTokens(h)),c.walkTokens&&this.walkTokens(h,c.walkTokens);let y=d(h,c);return c.hooks&&(y=c.hooks.postprocess(y)),y}catch(h){return l(h)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const i="<p>An error occurred:</p><pre>"+as(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}}const cu=new uI;function tn(e,t){return cu.parse(e,t)}tn.options=tn.setOptions=function(e){return cu.setOptions(e),tn.defaults=cu.defaults,CC(tn.defaults),tn},tn.getDefaults=Z0,tn.defaults=su,tn.use=function(...e){return cu.use(...e),tn.defaults=cu.defaults,CC(tn.defaults),tn},tn.walkTokens=function(e,t){return cu.walkTokens(e,t)},tn.parseInline=cu.parseInline,tn.Parser=ta,tn.parser=ta.parse,tn.Renderer=Ig,tn.TextRenderer=sy,tn.Lexer=ea,tn.lexer=ea.lex,tn.Tokenizer=kg,tn.Hooks=lp,tn.parse=tn;const G6=tn.options,K6=tn.setOptions,q6=tn.use,J6=tn.walkTokens,Y6=tn.parseInline,dI=tn,X6=ta.parse,Q6=ea.lex;var fI=20;function hI(e){var t=e.showMessage,r=An(),n=r.subtitleList,i=An(),a=i.agentState,c=(0,S.useRef)(null),l=(0,S.useRef)(!0);(0,S.useEffect)(function(){if(l.current){var d;(d=c.current)===null||d===void 0||d.scrollIntoView()}},[n]);var u=function(h){var y=h.currentTarget,m=y.scrollTop,_=y.scrollHeight,R=y.clientHeight;m+R>=_-fI?l.current=!0:l.current=!1};return(0,St.jsx)("div",{className:"call-block call-message ".concat(t?"is-show":"is-hide"),children:(0,St.jsx)("div",{className:"call-block-container",children:(0,St.jsxs)("div",{className:"call-block-bd call-message-bd",children:[(0,St.jsxs)("div",{className:"call-message-list",onScroll:u,children:[(0,St.jsxs)("ol",{children:[n.map(function(d){return(0,St.jsx)("li",{className:"call-message-item ".concat(d.source==="agent"?"is-agent":"un-agent"),children:(0,St.jsx)("div",{className:"_content",dangerouslySetInnerHTML:{__html:dI(d.data.text)}})},"".concat(d.source,"-").concat(d.data.sentenceId))}),a===iu.Thinking?(0,St.jsx)("li",{className:"call-message-item is-agent",children:(0,St.jsx)("div",{className:"_content",children:(0,St.jsx)("span",{className:"call-message-loading",children:" "})})}):null]}),(0,St.jsx)("div",{ref:c})]}),(0,St.jsx)("div",{className:"call-message-ft",children:(0,St.jsx)("div",{className:"_tip",children:"\u5185\u5BB9\u7531 AI \u751F\u6210\uFF0C\u4EC5\u4F9B\u53C2\u8003"})})]})})})}var pI=hI;function mI(e,t){var r;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];clearTimeout(r),r=setTimeout(function(){return e.apply(void 0,i)},t)}}var cy="aicall-root",Z6=function(){var t=document.querySelector(".".concat(cy));return t||document.body},e5=function(t){t.classList.contains(cy)||t.classList.add(cy)},t5=function(t){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(t);throw new Error("clipboard is not supported")},r5=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},n5=function(){var t=navigator.userAgent;return/Android/i.test(t)&&/MicroMessenger/i.test(t)};function gI(e){var t=e.limitSecond,r=e.onAuthFail,n=(0,S.useContext)(z0),i=An(),a=i.callState,c=i.agentType,l=(0,S.useState)(!0),u=st()(l,2),d=u[0],h=u[1],y=vC.useMessage(),m=st()(y,2),_=m[0],R=m[1],b=(0,S.useRef)(0),C=(0,S.useRef)(0),H=(0,S.useRef)(0),A=(0,S.useRef)(0),D=(0,S.useMemo)(function(){return function(){if(!(!b.current||!An.getState().enablePushToTalk)){C.current&&clearTimeout(C.current);var ge=Date.now()-b.current;ge<500?(_.error("\u8BF4\u8BDD\u65F6\u95F4\u592A\u77ED"),n==null||n.cancelPushToTalk()):n==null||n.finishPushToTalk(),An.setState({pushingToTalk:!1}),b.current=0}}},[n,_]),Z=(0,S.useMemo)(function(){return function(){An.getState().enablePushToTalk&&(n==null||n.startPushToTalk(),An.setState({pushingToTalk:!0}),b.current=Date.now(),C.current=window.setTimeout(function(){D()},60*1e3))}},[n,D]),ie=(0,S.useMemo)(function(){var ge=mI(function(){n==null||n.interruptSpeaking()},100);return function(me){if(me.key==="Tab")me.stopImmediatePropagation(),me.preventDefault(),me.stopPropagation(),ge();else if(me.key===" "){if(b.current)return;me.stopImmediatePropagation(),me.preventDefault(),me.stopPropagation(),Z()}}},[n,Z]),oe=(0,S.useMemo)(function(){return function(ge){ge.key===" "&&D()}},[D]);(0,S.useEffect)(function(){return document.addEventListener("keydown",ie,!0),document.addEventListener("keyup",oe,!0),function(){document.removeEventListener("keydown",ie),document.removeEventListener("keyup",oe)}},[n,ie,oe]);var fe=function(){var ge=ki()(Mr()().mark(function me(Se){var Ce;return Mr()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(n){Le.next=2;break}return Le.abrupt("return");case 2:return n.config.agentType=Se,An.setState({agentType:Se}),n.on("AICallStateChanged",function(ze){An.setState({callState:ze}),ze===Ur.Error&&(n==null||n.handup(),An.setState({callErrorMessage:EC(n.errorCode)}))}),n.on("AICallAgentStateChanged",function(ze){An.setState({agentState:ze})}),n.on("AICallActiveSpeakerVolumeChanged",function(ze,Ne){ze===""&&An.setState({isSpeaking:Ne>30})}),n.on("AICallAgentSubtitleNotify",function(ze){An.getState().setCurrentSubtitle({data:ze,source:"agent"})}),n.on("AICallUserSubtitleNotify",function(ze){An.getState().setCurrentSubtitle({data:ze,source:"user"})}),n.on("AICallUserTokenExpired",function(){_.error(Hd["login.tokenExpired"]),r==null||r()}),n.on("AICallBegin",function(){H.current&&window.clearInterval(H.current),n.config.agentType===zn.AvatarAgent&&t&&t>0&&(A.current=Date.now(),H.current=window.setInterval(function(){var ze=Date.now()-A.current;ze>t*1e3&&(he(),H.current&&window.clearInterval(H.current))},5e3))}),Ce=n.config.templateConfig,An.setState({enablePushToTalk:Ce.enablePushToTalk,enableVoiceInterrupt:Ce.enableVoiceInterrupt,voiceId:Ce.agentVoiceId||""}),Le.prev=13,Le.next=16,n.start();case 16:Le.next=22;break;case 18:Le.prev=18,Le.t0=Le.catch(13),console.log(Le.t0,n.errorCode),An.setState({callState:Ur.Error,callErrorMessage:EC(n.errorCode)});case 22:case"end":return Le.stop()}},me,null,[[13,18]])}));return function(Se){return ge.apply(this,arguments)}}(),he=function(){var ge=ki()(Mr()().mark(function me(){return Mr()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:n==null||n.handup(),An.getState().reset();case 2:case"end":return Ce.stop()}},me)}));return function(){return ge.apply(this,arguments)}}();return(0,S.useEffect)(function(){c!=null&&fe(c)},[c]),(0,St.jsxs)("div",{className:"call is-voice}",children:[R,(0,St.jsx)(Ik,{onStop:he}),(0,St.jsx)(pI,{showMessage:d})]})}var vI=gI,ly={titleContainer:"titleContainer___GB95p",leftTitle:"leftTitle___C2QAx",desc:"desc___VOfhO"},yI=function(t){var r,n,i=t.data;return(0,St.jsxs)("div",{className:ly.titleContainer,children:[(0,St.jsx)("img",{src:i==null?void 0:i.profilePicture}),(0,St.jsx)("div",{className:ly.leftTitle,children:i==null?void 0:i.title}),(0,St.jsxs)("div",{className:ly.desc,children:[(0,St.jsx)("p",{children:i==null||(r=i.desc)===null||r===void 0?void 0:r.title}),(0,St.jsx)("div",{children:i==null||(n=i.desc)===null||n===void 0?void 0:n.content})]})]})},SI=yI,bI={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},EI=bI,CI=function(t,r){return S.createElement(Ra,br({},t,{ref:r,icon:EI}))},_I=S.forwardRef(CI),RI=_I;const UC=S.createContext(null),wI=UC.Provider;var TI=UC;const BC=S.createContext(null),AI=BC.Provider;var PI=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],kI=(0,S.forwardRef)(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-checkbox":r,i=e.className,a=e.style,c=e.checked,l=e.disabled,u=e.defaultChecked,d=u===void 0?!1:u,h=e.type,y=h===void 0?"checkbox":h,m=e.title,_=e.onChange,R=Vr(e,PI),b=(0,S.useRef)(null),C=(0,S.useRef)(null),H=bs(d,{value:c}),A=X(H,2),D=A[0],Z=A[1];(0,S.useImperativeHandle)(t,function(){return{focus:function(he){var ge;(ge=b.current)===null||ge===void 0||ge.focus(he)},blur:function(){var he;(he=b.current)===null||he===void 0||he.blur()},input:b.current,nativeElement:C.current}});var ie=Ve()(n,i,z(z({},"".concat(n,"-checked"),D),"".concat(n,"-disabled"),l)),oe=function(he){l||("checked"in e||Z(he.target.checked),_==null||_({target:ee(ee({},e),{},{type:y,checked:he.target.checked}),stopPropagation:function(){he.stopPropagation()},preventDefault:function(){he.preventDefault()},nativeEvent:he.nativeEvent}))};return S.createElement("span",{className:ie,title:m,style:a,ref:C},S.createElement("input",br({},R,{className:"".concat(n,"-input"),ref:b,onChange:oe,disabled:l,checked:!!D,type:y})),S.createElement("span",{className:"".concat(n,"-inner")}))}),II=kI;function OI(e){const t=S.useRef(null),r=()=>{va.cancel(t.current),t.current=null};return[()=>{r(),t.current=va(()=>{t.current=null})},a=>{t.current&&(a.stopPropagation(),r()),e==null||e(a)}]}var lu="RC_FORM_INTERNAL_HOOKS",ln=function(){ue(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},xI=S.createContext({getFieldValue:ln,getFieldsValue:ln,getFieldError:ln,getFieldWarning:ln,getFieldsError:ln,isFieldsTouched:ln,isFieldTouched:ln,isFieldValidating:ln,isFieldsValidating:ln,resetFields:ln,setFields:ln,setFieldValue:ln,setFieldsValue:ln,validateFields:ln,submit:ln,getInternalHooks:function(){return ln(),{dispatch:ln,initEntityValue:ln,registerField:ln,useSubscribe:ln,setInitialValues:ln,destroyForm:ln,setCallbacks:ln,registerWatch:ln,getFields:ln,setValidateMessages:ln,setPreserve:ln,getInitialValue:ln}}}),zd=xI,MI=S.createContext(null),Og=MI;function uy(e){return e==null?[]:Array.isArray(e)?e:[e]}function NI(e){return e&&!!e._init}function dy(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var fy=dy();function DI(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function LI(e,t,r){if(cc())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&Ua(i,r.prototype),i}function hy(e){var t=typeof Map=="function"?new Map:void 0;return hy=function(n){if(n===null||!DI(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return LI(n,arguments,ua(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ua(i,n)},hy(e)}var VI=Dt(4155),UI=/%[sdj%]/g,BI=function(){};function py(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function No(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var c=e.replace(UI,function(l){if(l==="%%")return"%";if(i>=a)return l;switch(l){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(u){return"[Circular]"}break;default:return l}});return c}return e}function jI(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function ii(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||jI(t)&&typeof e=="string"&&!e)}function i5(e){return Object.keys(e).length===0}function FI(e,t,r){var n=[],i=0,a=e.length;function c(l){n.push.apply(n,be(l||[])),i++,i===a&&r(n)}e.forEach(function(l){t(l,c)})}function jC(e,t,r){var n=0,i=e.length;function a(c){if(c&&c.length){r(c);return}var l=n;n=n+1,l<i?t(e[l],a):r([])}a([])}function $I(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,be(e[r]||[]))}),t}var FC=function(e){ro(r,e);var t=$o(r);function r(n,i){var a;return De(this,r),a=t.call(this,"Async Validation Error"),z(mr(a),"errors",void 0),z(mr(a),"fields",void 0),a.errors=n,a.fields=i,a}return qe(r)}(hy(Error));function HI(e,t,r,n,i){if(t.first){var a=new Promise(function(m,_){var R=function(H){return n(H),H.length?_(new FC(H,py(H))):m(i)},b=$I(e);jC(b,r,R)});return a.catch(function(m){return m}),a}var c=t.firstFields===!0?Object.keys(e):t.firstFields||[],l=Object.keys(e),u=l.length,d=0,h=[],y=new Promise(function(m,_){var R=function(C){if(h.push.apply(h,C),d++,d===u)return n(h),h.length?_(new FC(h,py(h))):m(i)};l.length||(n(h),m(i)),l.forEach(function(b){var C=e[b];c.indexOf(b)!==-1?jC(C,r,R):FI(C,r,R)})});return y.catch(function(m){return m}),y}function zI(e){return!!(e&&e.message!==void 0)}function WI(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function $C(e,t){return function(r){var n;return e.fullFields?n=WI(t,e.fullFields):n=t[r.field||e.fullField],zI(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function HC(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];W(n)==="object"&&W(e[r])==="object"?e[r]=ee(ee({},e[r]),n):e[r]=n}}return e}var Wd="enum",GI=function(t,r,n,i,a){t[Wd]=Array.isArray(t[Wd])?t[Wd]:[],t[Wd].indexOf(r)===-1&&i.push(No(a.messages[Wd],t.fullField,t[Wd].join(", ")))},KI=GI,qI=function(t,r,n,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||i.push(No(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var c=new RegExp(t.pattern);c.test(r)||i.push(No(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},JI=qI,YI=function(t,r,n,i,a){var c=typeof t.len=="number",l=typeof t.min=="number",u=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=r,y=null,m=typeof r=="number",_=typeof r=="string",R=Array.isArray(r);if(m?y="number":_?y="string":R&&(y="array"),!y)return!1;R&&(h=r.length),_&&(h=r.replace(d,"_").length),c?h!==t.len&&i.push(No(a.messages[y].len,t.fullField,t.len)):l&&!u&&h<t.min?i.push(No(a.messages[y].min,t.fullField,t.min)):u&&!l&&h>t.max?i.push(No(a.messages[y].max,t.fullField,t.max)):l&&u&&(h<t.min||h>t.max)&&i.push(No(a.messages[y].range,t.fullField,t.min,t.max))},XI=YI,QI=function(t,r,n,i,a,c){t.required&&(!n.hasOwnProperty(t.field)||ii(r,c||t.type))&&i.push(No(a.messages.required,t.fullField))},zC=QI,xg,ZI=function(){if(xg)return xg;var e="[a-fA-F\\d:]",t=function(oe){return oe&&oe.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],a="(?:%[0-9a-zA-Z]{1,})?",c="(?:".concat(i.join("|"),")").concat(a),l=new RegExp("(?:^".concat(r,"$)|(?:^").concat(c,"$)")),u=new RegExp("^".concat(r,"$")),d=new RegExp("^".concat(c,"$")),h=function(oe){return oe&&oe.exact?l:new RegExp("(?:".concat(t(oe)).concat(r).concat(t(oe),")|(?:").concat(t(oe)).concat(c).concat(t(oe),")"),"g")};h.v4=function(ie){return ie&&ie.exact?u:new RegExp("".concat(t(ie)).concat(r).concat(t(ie)),"g")},h.v6=function(ie){return ie&&ie.exact?d:new RegExp("".concat(t(ie)).concat(c).concat(t(ie)),"g")};var y="(?:(?:[a-z]+:)?//)",m="(?:\\S+(?::\\S*)?@)?",_=h.v4().source,R=h.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",C="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",H="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",D='(?:[/?#][^\\s"]*)?',Z="(?:".concat(y,"|www\\.)").concat(m,"(?:localhost|").concat(_,"|").concat(R,"|").concat(b).concat(C).concat(H,")").concat(A).concat(D);return xg=new RegExp("(?:^".concat(Z,"$)"),"i"),xg},WC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},up={integer:function(t){return up.number(t)&&parseInt(t,10)===t},float:function(t){return up.number(t)&&!up.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(r){return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return W(t)==="object"&&!up.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(WC.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(ZI())},hex:function(t){return typeof t=="string"&&!!t.match(WC.hex)}},e4=function(t,r,n,i,a){if(t.required&&r===void 0){zC(t,r,n,i,a);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=t.type;c.indexOf(l)>-1?up[l](r)||i.push(No(a.messages.types[l],t.fullField,t.type)):l&&W(r)!==t.type&&i.push(No(a.messages.types[l],t.fullField,t.type))},t4=e4,r4=function(t,r,n,i,a){(/^\s+$/.test(r)||r==="")&&i.push(No(a.messages.whitespace,t.fullField))},n4=r4,Ar={required:zC,whitespace:n4,type:t4,range:XI,enum:KI,pattern:JI},i4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a)}n(c)},o4=i4,a4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(r==null&&!t.required)return n();Ar.required(t,r,i,c,a,"array"),r!=null&&(Ar.type(t,r,i,c,a),Ar.range(t,r,i,c,a))}n(c)},s4=a4,c4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&Ar.type(t,r,i,c,a)}n(c)},l4=c4,u4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r,"date")&&!t.required)return n();if(Ar.required(t,r,i,c,a),!ii(r,"date")){var u;r instanceof Date?u=r:u=new Date(r),Ar.type(t,u,i,c,a),u&&Ar.range(t,u.getTime(),i,c,a)}}n(c)},d4=u4,f4="enum",h4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&Ar[f4](t,r,i,c,a)}n(c)},p4=h4,m4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&(Ar.type(t,r,i,c,a),Ar.range(t,r,i,c,a))}n(c)},g4=m4,v4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&(Ar.type(t,r,i,c,a),Ar.range(t,r,i,c,a))}n(c)},y4=v4,S4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&Ar.type(t,r,i,c,a)}n(c)},b4=S4,E4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(r===""&&(r=void 0),ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&(Ar.type(t,r,i,c,a),Ar.range(t,r,i,c,a))}n(c)},C4=E4,_4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),r!==void 0&&Ar.type(t,r,i,c,a)}n(c)},R4=_4,w4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r,"string")&&!t.required)return n();Ar.required(t,r,i,c,a),ii(r,"string")||Ar.pattern(t,r,i,c,a)}n(c)},T4=w4,A4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r)&&!t.required)return n();Ar.required(t,r,i,c,a),ii(r)||Ar.type(t,r,i,c,a)}n(c)},P4=A4,k4=function(t,r,n,i,a){var c=[],l=Array.isArray(r)?"array":W(r);Ar.required(t,r,i,c,a,l),n(c)},I4=k4,O4=function(t,r,n,i,a){var c=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(ii(r,"string")&&!t.required)return n();Ar.required(t,r,i,c,a,"string"),ii(r,"string")||(Ar.type(t,r,i,c,a),Ar.range(t,r,i,c,a),Ar.pattern(t,r,i,c,a),t.whitespace===!0&&Ar.whitespace(t,r,i,c,a))}n(c)},x4=O4,M4=function(t,r,n,i,a){var c=t.type,l=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(ii(r,c)&&!t.required)return n();Ar.required(t,r,i,l,a,c),ii(r,c)||Ar.type(t,r,i,l,a)}n(l)},my=M4,dp={string:x4,method:b4,number:C4,boolean:l4,regexp:P4,integer:y4,float:g4,array:s4,object:R4,enum:p4,pattern:T4,date:d4,url:my,hex:my,email:my,required:I4,any:o4},fp=function(){function e(t){De(this,e),z(this,"rules",null),z(this,"_messages",fy),this.define(t)}return qe(e,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(W(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var a=r[i];n.rules[i]=Array.isArray(a)?a:[a]})}},{key:"messages",value:function(r){return r&&(this._messages=HC(dy(),r)),this._messages}},{key:"validate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},c=r,l=i,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,c),Promise.resolve(c);function d(R){var b=[],C={};function H(D){if(Array.isArray(D)){var Z;b=(Z=b).concat.apply(Z,be(D))}else b.push(D)}for(var A=0;A<R.length;A++)H(R[A]);b.length?(C=py(b),u(b,C)):u(null,c)}if(l.messages){var h=this.messages();h===fy&&(h=dy()),HC(h,l.messages),l.messages=h}else l.messages=this.messages();var y={},m=l.keys||Object.keys(this.rules);m.forEach(function(R){var b=n.rules[R],C=c[R];b.forEach(function(H){var A=H;typeof A.transform=="function"&&(c===r&&(c=ee({},c)),C=c[R]=A.transform(C),C!=null&&(A.type=A.type||(Array.isArray(C)?"array":W(C)))),typeof A=="function"?A={validator:A}:A=ee({},A),A.validator=n.getValidationMethod(A),A.validator&&(A.field=R,A.fullField=A.fullField||R,A.type=n.getType(A),y[R]=y[R]||[],y[R].push({rule:A,value:C,source:c,field:R}))})});var _={};return HI(y,l,function(R,b){var C=R.rule,H=(C.type==="object"||C.type==="array")&&(W(C.fields)==="object"||W(C.defaultField)==="object");H=H&&(C.required||!C.required&&R.value),C.field=R.field;function A(fe,he){return ee(ee({},he),{},{fullField:"".concat(C.fullField,".").concat(fe),fullFields:C.fullFields?[].concat(be(C.fullFields),[fe]):[fe]})}function D(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],he=Array.isArray(fe)?fe:[fe];!l.suppressWarning&&he.length&&e.warning("async-validator:",he),he.length&&C.message!==void 0&&(he=[].concat(C.message));var ge=he.map($C(C,c));if(l.first&&ge.length)return _[C.field]=1,b(ge);if(!H)b(ge);else{if(C.required&&!R.value)return C.message!==void 0?ge=[].concat(C.message).map($C(C,c)):l.error&&(ge=[l.error(C,No(l.messages.required,C.field))]),b(ge);var me={};C.defaultField&&Object.keys(R.value).map(function(Te){me[Te]=C.defaultField}),me=ee(ee({},me),R.rule.fields);var Se={};Object.keys(me).forEach(function(Te){var Le=me[Te],ze=Array.isArray(Le)?Le:[Le];Se[Te]=ze.map(A.bind(null,Te))});var Ce=new e(Se);Ce.messages(l.messages),R.rule.options&&(R.rule.options.messages=l.messages,R.rule.options.error=l.error),Ce.validate(R.value,R.rule.options||l,function(Te){var Le=[];ge&&ge.length&&Le.push.apply(Le,be(ge)),Te&&Te.length&&Le.push.apply(Le,be(Te)),b(Le.length?Le:null)})}}var Z;if(C.asyncValidator)Z=C.asyncValidator(C,R.value,D,R.source,l);else if(C.validator){try{Z=C.validator(C,R.value,D,R.source,l)}catch(fe){var ie,oe;(ie=(oe=console).error)===null||ie===void 0||ie.call(oe,fe),l.suppressValidatorError||setTimeout(function(){throw fe},0),D(fe.message)}Z===!0?D():Z===!1?D(typeof C.message=="function"?C.message(C.fullField||C.field):C.message||"".concat(C.fullField||C.field," fails")):Z instanceof Array?D(Z):Z instanceof Error&&D(Z.message)}Z&&Z.then&&Z.then(function(){return D()},function(fe){return D(fe)})},function(R){d(R)},c)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!dp.hasOwnProperty(r.type))throw new Error(No("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),i=n.indexOf("message");return i!==-1&&n.splice(i,1),n.length===1&&n[0]==="required"?dp.required:dp[this.getType(r)]||void 0}}]),e}();z(fp,"register",function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");dp[t]=r}),z(fp,"warning",BI),z(fp,"messages",fy),z(fp,"validators",dp);var N4=fp,Do="'${name}' is not a valid ${type}",GC={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Do,method:Do,array:Do,object:Do,number:Do,date:Do,boolean:Do,integer:Do,float:Do,regexp:Do,email:Do,url:Do,hex:Do},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},KC=N4;function D4(e,t){return e.replace(/\\?\$\{\w+\}/g,function(r){if(r.startsWith("\\"))return r.slice(1);var n=r.slice(2,-1);return t[n]})}var qC="CODE_LOGIC_ERROR";function gy(e,t,r,n,i){return vy.apply(this,arguments)}function vy(){return vy=Sa(wt().mark(function e(t,r,n,i,a){var c,l,u,d,h,y,m,_,R;return wt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return c=ee({},n),delete c.ruleIndex,KC.warning=function(){},c.validator&&(l=c.validator,c.validator=function(){try{return l.apply(void 0,arguments)}catch(H){return console.error(H),Promise.reject(qC)}}),u=null,c&&c.type==="array"&&c.defaultField&&(u=c.defaultField,delete c.defaultField),d=new KC(z({},t,[c])),h=Hi(GC,i.validateMessages),d.messages(h),y=[],C.prev=10,C.next=13,Promise.resolve(d.validate(z({},t,r),ee({},i)));case 13:C.next=18;break;case 15:C.prev=15,C.t0=C.catch(10),C.t0.errors&&(y=C.t0.errors.map(function(H,A){var D=H.message,Z=D===qC?h.default:D;return S.isValidElement(Z)?S.cloneElement(Z,{key:"error_".concat(A)}):Z}));case 18:if(!(!y.length&&u)){C.next=23;break}return C.next=21,Promise.all(r.map(function(H,A){return gy("".concat(t,".").concat(A),H,u,i,a)}));case 21:return m=C.sent,C.abrupt("return",m.reduce(function(H,A){return[].concat(be(H),be(A))},[]));case 23:return _=ee(ee({},n),{},{name:t,enum:(n.enum||[]).join(", ")},a),R=y.map(function(H){return typeof H=="string"?D4(H,_):H}),C.abrupt("return",R);case 26:case"end":return C.stop()}},e,null,[[10,15]])})),vy.apply(this,arguments)}function L4(e,t,r,n,i,a){var c=e.join("."),l=r.map(function(h,y){var m=h.validator,_=ee(ee({},h),{},{ruleIndex:y});return m&&(_.validator=function(R,b,C){var H=!1,A=function(){for(var ie=arguments.length,oe=new Array(ie),fe=0;fe<ie;fe++)oe[fe]=arguments[fe];Promise.resolve().then(function(){ue(!H,"Your validator function has already return a promise. `callback` will be ignored."),H||C.apply(void 0,oe)})},D=m(R,b,A);H=D&&typeof D.then=="function"&&typeof D.catch=="function",ue(H,"`callback` is deprecated. Please return a promise instead."),H&&D.then(function(){C()}).catch(function(Z){C(Z||" ")})}),_}).sort(function(h,y){var m=h.warningOnly,_=h.ruleIndex,R=y.warningOnly,b=y.ruleIndex;return!!m==!!R?_-b:m?1:-1}),u;if(i===!0)u=new Promise(function(){var h=Sa(wt().mark(function y(m,_){var R,b,C;return wt().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:R=0;case 1:if(!(R<l.length)){A.next=12;break}return b=l[R],A.next=5,gy(c,t,b,n,a);case 5:if(C=A.sent,!C.length){A.next=9;break}return _([{errors:C,rule:b}]),A.abrupt("return");case 9:R+=1,A.next=1;break;case 12:m([]);case 13:case"end":return A.stop()}},y)}));return function(y,m){return h.apply(this,arguments)}}());else{var d=l.map(function(h){return gy(c,t,h,n,a).then(function(y){return{errors:y,rule:h}})});u=(i?U4(d):V4(d)).then(function(h){return Promise.reject(h)})}return u.catch(function(h){return h}),u}function V4(e){return yy.apply(this,arguments)}function yy(){return yy=Sa(wt().mark(function e(t){return wt().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(t).then(function(i){var a,c=(a=[]).concat.apply(a,be(i));return c}));case 1:case"end":return n.stop()}},e)})),yy.apply(this,arguments)}function U4(e){return Sy.apply(this,arguments)}function Sy(){return Sy=Sa(wt().mark(function e(t){var r;return wt().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=0,i.abrupt("return",new Promise(function(a){t.forEach(function(c){c.then(function(l){l.errors.length&&a([l]),r+=1,r===t.length&&a([])})})}));case 2:case"end":return i.stop()}},e)})),Sy.apply(this,arguments)}function Wn(e){return uy(e)}function JC(e,t){var r={};return t.forEach(function(n){var i=$i(e,n);r=ai(r,n,i)}),r}function Gd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(n){return YC(t,n,r)})}function YC(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!r&&e.length!==t.length?!1:t.every(function(n,i){return e[i]===n})}function B4(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||W(e)!=="object"||W(t)!=="object")return!1;var r=Object.keys(e),n=Object.keys(t),i=new Set([].concat(r,n));return be(i).every(function(a){var c=e[a],l=t[a];return typeof c=="function"&&typeof l=="function"?!0:c===l})}function j4(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&W(t.target)==="object"&&e in t.target?t.target[e]:t}function XC(e,t,r){var n=e.length;if(t<0||t>=n||r<0||r>=n)return e;var i=e[t],a=t-r;return a>0?[].concat(be(e.slice(0,r)),[i],be(e.slice(r,t)),be(e.slice(t+1,n))):a<0?[].concat(be(e.slice(0,t)),be(e.slice(t+1,r+1)),[i],be(e.slice(r+1,n))):e}var F4=["name"],ra=[];function by(e,t,r,n,i,a){return typeof e=="function"?e(t,r,"source"in a?{source:a.source}:{}):n!==i}var Ey=function(e){ro(r,e);var t=$o(r);function r(n){var i;if(De(this,r),i=t.call(this,n),z(mr(i),"state",{resetCount:0}),z(mr(i),"cancelRegisterFunc",null),z(mr(i),"mounted",!1),z(mr(i),"touched",!1),z(mr(i),"dirty",!1),z(mr(i),"validatePromise",void 0),z(mr(i),"prevValidating",void 0),z(mr(i),"errors",ra),z(mr(i),"warnings",ra),z(mr(i),"cancelRegister",function(){var u=i.props,d=u.preserve,h=u.isListField,y=u.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(h,d,Wn(y)),i.cancelRegisterFunc=null}),z(mr(i),"getNamePath",function(){var u=i.props,d=u.name,h=u.fieldContext,y=h.prefixName,m=y===void 0?[]:y;return d!==void 0?[].concat(be(m),be(d)):[]}),z(mr(i),"getRules",function(){var u=i.props,d=u.rules,h=d===void 0?[]:d,y=u.fieldContext;return h.map(function(m){return typeof m=="function"?m(y):m})}),z(mr(i),"refresh",function(){i.mounted&&i.setState(function(u){var d=u.resetCount;return{resetCount:d+1}})}),z(mr(i),"metaCache",null),z(mr(i),"triggerMetaEvent",function(u){var d=i.props.onMetaChange;if(d){var h=ee(ee({},i.getMeta()),{},{destroy:u});Pe(i.metaCache,h)||d(h),i.metaCache=h}else i.metaCache=null}),z(mr(i),"onStoreChange",function(u,d,h){var y=i.props,m=y.shouldUpdate,_=y.dependencies,R=_===void 0?[]:_,b=y.onReset,C=h.store,H=i.getNamePath(),A=i.getValue(u),D=i.getValue(C),Z=d&&Gd(d,H);switch(h.type==="valueUpdate"&&h.source==="external"&&!Pe(A,D)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ra,i.warnings=ra,i.triggerMetaEvent()),h.type){case"reset":if(!d||Z){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ra,i.warnings=ra,i.triggerMetaEvent(),b==null||b(),i.refresh();return}break;case"remove":{if(m&&by(m,u,C,A,D,h)){i.reRender();return}break}case"setField":{var ie=h.data;if(Z){"touched"in ie&&(i.touched=ie.touched),"validating"in ie&&!("originRCField"in ie)&&(i.validatePromise=ie.validating?Promise.resolve([]):null),"errors"in ie&&(i.errors=ie.errors||ra),"warnings"in ie&&(i.warnings=ie.warnings||ra),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in ie&&Gd(d,H,!0)){i.reRender();return}if(m&&!H.length&&by(m,u,C,A,D,h)){i.reRender();return}break}case"dependenciesUpdate":{var oe=R.map(Wn);if(oe.some(function(fe){return Gd(h.relatedFields,fe)})){i.reRender();return}break}default:if(Z||(!R.length||H.length||m)&&by(m,u,C,A,D,h)){i.reRender();return}break}m===!0&&i.reRender()}),z(mr(i),"validateRules",function(u){var d=i.getNamePath(),h=i.getValue(),y=u||{},m=y.triggerName,_=y.validateOnly,R=_===void 0?!1:_,b=Promise.resolve().then(Sa(wt().mark(function C(){var H,A,D,Z,ie,oe,fe;return wt().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(i.mounted){ge.next=2;break}return ge.abrupt("return",[]);case 2:if(H=i.props,A=H.validateFirst,D=A===void 0?!1:A,Z=H.messageVariables,ie=H.validateDebounce,oe=i.getRules(),m&&(oe=oe.filter(function(me){return me}).filter(function(me){var Se=me.validateTrigger;if(!Se)return!0;var Ce=uy(Se);return Ce.includes(m)})),!(ie&&m)){ge.next=10;break}return ge.next=8,new Promise(function(me){setTimeout(me,ie)});case 8:if(i.validatePromise===b){ge.next=10;break}return ge.abrupt("return",[]);case 10:return fe=L4(d,h,oe,u,D,Z),fe.catch(function(me){return me}).then(function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ra;if(i.validatePromise===b){var Se;i.validatePromise=null;var Ce=[],Te=[];(Se=me.forEach)===null||Se===void 0||Se.call(me,function(Le){var ze=Le.rule.warningOnly,Ne=Le.errors,Be=Ne===void 0?ra:Ne;ze?Te.push.apply(Te,be(Be)):Ce.push.apply(Ce,be(Be))}),i.errors=Ce,i.warnings=Te,i.triggerMetaEvent(),i.reRender()}}),ge.abrupt("return",fe);case 13:case"end":return ge.stop()}},C)})));return R||(i.validatePromise=b,i.dirty=!0,i.errors=ra,i.warnings=ra,i.triggerMetaEvent(),i.reRender()),b}),z(mr(i),"isFieldValidating",function(){return!!i.validatePromise}),z(mr(i),"isFieldTouched",function(){return i.touched}),z(mr(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var u=i.props.fieldContext,d=u.getInternalHooks(lu),h=d.getInitialValue;return h(i.getNamePath())!==void 0}),z(mr(i),"getErrors",function(){return i.errors}),z(mr(i),"getWarnings",function(){return i.warnings}),z(mr(i),"isListField",function(){return i.props.isListField}),z(mr(i),"isList",function(){return i.props.isList}),z(mr(i),"isPreserve",function(){return i.props.preserve}),z(mr(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var u={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return u}),z(mr(i),"getOnlyChild",function(u){if(typeof u=="function"){var d=i.getMeta();return ee(ee({},i.getOnlyChild(u(i.getControlled(),d,i.props.fieldContext))),{},{isFunction:!0})}var h=Rc(u);return h.length!==1||!S.isValidElement(h[0])?{child:h,isFunction:!1}:{child:h[0],isFunction:!1}}),z(mr(i),"getValue",function(u){var d=i.props.fieldContext.getFieldsValue,h=i.getNamePath();return $i(u||d(!0),h)}),z(mr(i),"getControlled",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=i.props,h=d.name,y=d.trigger,m=d.validateTrigger,_=d.getValueFromEvent,R=d.normalize,b=d.valuePropName,C=d.getValueProps,H=d.fieldContext,A=m!==void 0?m:H.validateTrigger,D=i.getNamePath(),Z=H.getInternalHooks,ie=H.getFieldsValue,oe=Z(lu),fe=oe.dispatch,he=i.getValue(),ge=C||function(Le){return z({},b,Le)},me=u[y],Se=h!==void 0?ge(he):{},Ce=ee(ee({},u),Se);Ce[y]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var Le,ze=arguments.length,Ne=new Array(ze),Be=0;Be<ze;Be++)Ne[Be]=arguments[Be];_?Le=_.apply(void 0,Ne):Le=j4.apply(void 0,[b].concat(Ne)),R&&(Le=R(Le,he,ie(!0))),Le!==he&&fe({type:"updateValue",namePath:D,value:Le}),me&&me.apply(void 0,Ne)};var Te=uy(A||[]);return Te.forEach(function(Le){var ze=Ce[Le];Ce[Le]=function(){ze&&ze.apply(void 0,arguments);var Ne=i.props.rules;Ne&&Ne.length&&fe({type:"validateField",namePath:D,triggerName:Le})}}),Ce}),n.fieldContext){var a=n.fieldContext.getInternalHooks,c=a(lu),l=c.initEntityValue;l(mr(i))}return i}return qe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.shouldUpdate,c=i.fieldContext;if(this.mounted=!0,c){var l=c.getInternalHooks,u=l(lu),d=u.registerField;this.cancelRegisterFunc=d(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,a=this.props.children,c=this.getOnlyChild(a),l=c.child,u=c.isFunction,d;return u?d=l:S.isValidElement(l)?d=S.cloneElement(l,this.getControlled(l.props)):(ue(!l,"`children` of Field is not validate ReactElement."),d=l),S.createElement(S.Fragment,{key:i},d)}}]),r}(S.Component);z(Ey,"contextType",zd),z(Ey,"defaultProps",{trigger:"onChange",valuePropName:"value"});function $4(e){var t,r=e.name,n=Vr(e,F4),i=S.useContext(zd),a=S.useContext(Og),c=r!==void 0?Wn(r):void 0,l=(t=n.isListField)!==null&&t!==void 0?t:!!a,u="keep";return l||(u="_".concat((c||[]).join("_"))),S.createElement(Ey,br({key:u,name:c,isListField:l},n,{fieldContext:i}))}var QC=$4;function H4(e){var t=e.name,r=e.initialValue,n=e.children,i=e.rules,a=e.validateTrigger,c=e.isListField,l=S.useContext(zd),u=S.useContext(Og),d=S.useRef({keys:[],id:0}),h=d.current,y=S.useMemo(function(){var b=Wn(l.prefixName)||[];return[].concat(be(b),be(Wn(t)))},[l.prefixName,t]),m=S.useMemo(function(){return ee(ee({},l),{},{prefixName:y})},[l,y]),_=S.useMemo(function(){return{getKey:function(C){var H=y.length,A=C[H];return[h.keys[A],C.slice(H+1)]}}},[y]);if(typeof n!="function")return ue(!1,"Form.List only accepts function as children."),null;var R=function(C,H,A){var D=A.source;return D==="internal"?!1:C!==H};return S.createElement(Og.Provider,{value:_},S.createElement(zd.Provider,{value:m},S.createElement(QC,{name:[],shouldUpdate:R,rules:i,validateTrigger:a,initialValue:r,isList:!0,isListField:c!=null?c:!!u},function(b,C){var H=b.value,A=H===void 0?[]:H,D=b.onChange,Z=l.getFieldValue,ie=function(){var ge=Z(y||[]);return ge||[]},oe={add:function(ge,me){var Se=ie();me>=0&&me<=Se.length?(h.keys=[].concat(be(h.keys.slice(0,me)),[h.id],be(h.keys.slice(me))),D([].concat(be(Se.slice(0,me)),[ge],be(Se.slice(me))))):(h.keys=[].concat(be(h.keys),[h.id]),D([].concat(be(Se),[ge]))),h.id+=1},remove:function(ge){var me=ie(),Se=new Set(Array.isArray(ge)?ge:[ge]);Se.size<=0||(h.keys=h.keys.filter(function(Ce,Te){return!Se.has(Te)}),D(me.filter(function(Ce,Te){return!Se.has(Te)})))},move:function(ge,me){if(ge!==me){var Se=ie();ge<0||ge>=Se.length||me<0||me>=Se.length||(h.keys=XC(h.keys,ge,me),D(XC(Se,ge,me)))}}},fe=A||[];return Array.isArray(fe)||(fe=[]),n(fe.map(function(he,ge){var me=h.keys[ge];return me===void 0&&(h.keys[ge]=h.id,me=h.keys[ge],h.id+=1),{name:ge,key:me,isListField:!0}}),oe,C)})))}var z4=H4;function W4(e){var t=!1,r=e.length,n=[];return e.length?new Promise(function(i,a){e.forEach(function(c,l){c.catch(function(u){return t=!0,u}).then(function(u){r-=1,n[l]=u,!(r>0)&&(t&&a(n),i(n))})})}):Promise.resolve([])}var ZC="__@field_split__";function Cy(e){return e.map(function(t){return"".concat(W(t),":").concat(t)}).join(ZC)}var G4=function(){function e(){De(this,e),z(this,"kvs",new Map)}return qe(e,[{key:"set",value:function(r,n){this.kvs.set(Cy(r),n)}},{key:"get",value:function(r){return this.kvs.get(Cy(r))}},{key:"update",value:function(r,n){var i=this.get(r),a=n(i);a?this.set(r,a):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete(Cy(r))}},{key:"map",value:function(r){return be(this.kvs.entries()).map(function(n){var i=X(n,2),a=i[0],c=i[1],l=a.split(ZC);return r({key:l.map(function(u){var d=u.match(/^([^:]*):(.*)$/),h=X(d,3),y=h[1],m=h[2];return y==="number"?Number(m):m}),value:c})})}},{key:"toJSON",value:function(){var r={};return this.map(function(n){var i=n.key,a=n.value;return r[i.join(".")]=a,null}),r}}]),e}(),Kd=G4,K4=["name"],q4=qe(function e(t){var r=this;De(this,e),z(this,"formHooked",!1),z(this,"forceRootUpdate",void 0),z(this,"subscribable",!0),z(this,"store",{}),z(this,"fieldEntities",[]),z(this,"initialValues",{}),z(this,"callbacks",{}),z(this,"validateMessages",null),z(this,"preserve",null),z(this,"lastValidatePromise",null),z(this,"getForm",function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}}),z(this,"getInternalHooks",function(n){return n===lu?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(ue(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),z(this,"useSubscribe",function(n){r.subscribable=n}),z(this,"prevWithoutPreserves",null),z(this,"setInitialValues",function(n,i){if(r.initialValues=n||{},i){var a,c=Hi(n,r.store);(a=r.prevWithoutPreserves)===null||a===void 0||a.map(function(l){var u=l.key;c=ai(c,u,$i(n,u))}),r.prevWithoutPreserves=null,r.updateStore(c)}}),z(this,"destroyForm",function(n){if(n)r.updateStore({});else{var i=new Kd;r.getFieldEntities(!0).forEach(function(a){r.isMergedPreserve(a.isPreserve())||i.set(a.getNamePath(),!0)}),r.prevWithoutPreserves=i}}),z(this,"getInitialValue",function(n){var i=$i(r.initialValues,n);return n.length?Hi(i):i}),z(this,"setCallbacks",function(n){r.callbacks=n}),z(this,"setValidateMessages",function(n){r.validateMessages=n}),z(this,"setPreserve",function(n){r.preserve=n}),z(this,"watchList",[]),z(this,"registerWatch",function(n){return r.watchList.push(n),function(){r.watchList=r.watchList.filter(function(i){return i!==n})}}),z(this,"notifyWatch",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var i=r.getFieldsValue(),a=r.getFieldsValue(!0);r.watchList.forEach(function(c){c(i,a,n)})}}),z(this,"timeoutId",null),z(this,"warningUnhooked",function(){}),z(this,"updateStore",function(n){r.store=n}),z(this,"getFieldEntities",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return n?r.fieldEntities.filter(function(i){return i.getNamePath().length}):r.fieldEntities}),z(this,"getFieldsMap",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Kd;return r.getFieldEntities(n).forEach(function(a){var c=a.getNamePath();i.set(c,a)}),i}),z(this,"getFieldEntitiesForNamePathList",function(n){if(!n)return r.getFieldEntities(!0);var i=r.getFieldsMap(!0);return n.map(function(a){var c=Wn(a);return i.get(c)||{INVALIDATE_NAME_PATH:Wn(a)}})}),z(this,"getFieldsValue",function(n,i){r.warningUnhooked();var a,c,l;if(n===!0||Array.isArray(n)?(a=n,c=i):n&&W(n)==="object"&&(l=n.strict,c=n.filter),a===!0&&!c)return r.store;var u=r.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),d=[];return u.forEach(function(h){var y,m,_="INVALIDATE_NAME_PATH"in h?h.INVALIDATE_NAME_PATH:h.getNamePath();if(l){var R,b;if((R=(b=h).isList)!==null&&R!==void 0&&R.call(b))return}else if(!a&&(y=(m=h).isListField)!==null&&y!==void 0&&y.call(m))return;if(!c)d.push(_);else{var C="getMeta"in h?h.getMeta():null;c(C)&&d.push(_)}}),JC(r.store,d.map(Wn))}),z(this,"getFieldValue",function(n){r.warningUnhooked();var i=Wn(n);return $i(r.store,i)}),z(this,"getFieldsError",function(n){r.warningUnhooked();var i=r.getFieldEntitiesForNamePathList(n);return i.map(function(a,c){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:Wn(n[c]),errors:[],warnings:[]}})}),z(this,"getFieldError",function(n){r.warningUnhooked();var i=Wn(n),a=r.getFieldsError([i])[0];return a.errors}),z(this,"getFieldWarning",function(n){r.warningUnhooked();var i=Wn(n),a=r.getFieldsError([i])[0];return a.warnings}),z(this,"isFieldsTouched",function(){r.warningUnhooked();for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var c=i[0],l=i[1],u,d=!1;i.length===0?u=null:i.length===1?Array.isArray(c)?(u=c.map(Wn),d=!1):(u=null,d=c):(u=c.map(Wn),d=l);var h=r.getFieldEntities(!0),y=function(C){return C.isFieldTouched()};if(!u)return d?h.every(function(b){return y(b)||b.isList()}):h.some(y);var m=new Kd;u.forEach(function(b){m.set(b,[])}),h.forEach(function(b){var C=b.getNamePath();u.forEach(function(H){H.every(function(A,D){return C[D]===A})&&m.update(H,function(A){return[].concat(be(A),[b])})})});var _=function(C){return C.some(y)},R=m.map(function(b){var C=b.value;return C});return d?R.every(_):R.some(_)}),z(this,"isFieldTouched",function(n){return r.warningUnhooked(),r.isFieldsTouched([n])}),z(this,"isFieldsValidating",function(n){r.warningUnhooked();var i=r.getFieldEntities();if(!n)return i.some(function(c){return c.isFieldValidating()});var a=n.map(Wn);return i.some(function(c){var l=c.getNamePath();return Gd(a,l)&&c.isFieldValidating()})}),z(this,"isFieldValidating",function(n){return r.warningUnhooked(),r.isFieldsValidating([n])}),z(this,"resetWithFieldInitialValue",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Kd,a=r.getFieldEntities(!0);a.forEach(function(u){var d=u.props.initialValue,h=u.getNamePath();if(d!==void 0){var y=i.get(h)||new Set;y.add({entity:u,value:d}),i.set(h,y)}});var c=function(d){d.forEach(function(h){var y=h.props.initialValue;if(y!==void 0){var m=h.getNamePath(),_=r.getInitialValue(m);if(_!==void 0)ue(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var R=i.get(m);if(R&&R.size>1)ue(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(R){var b=r.getFieldValue(m),C=h.isListField();!C&&(!n.skipExist||b===void 0)&&r.updateStore(ai(r.store,m,be(R)[0].value))}}}})},l;n.entities?l=n.entities:n.namePathList?(l=[],n.namePathList.forEach(function(u){var d=i.get(u);if(d){var h;(h=l).push.apply(h,be(be(d).map(function(y){return y.entity})))}})):l=a,c(l)}),z(this,"resetFields",function(n){r.warningUnhooked();var i=r.store;if(!n){r.updateStore(Hi(r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(i,null,{type:"reset"}),r.notifyWatch();return}var a=n.map(Wn);a.forEach(function(c){var l=r.getInitialValue(c);r.updateStore(ai(r.store,c,l))}),r.resetWithFieldInitialValue({namePathList:a}),r.notifyObservers(i,a,{type:"reset"}),r.notifyWatch(a)}),z(this,"setFields",function(n){r.warningUnhooked();var i=r.store,a=[];n.forEach(function(c){var l=c.name,u=Vr(c,K4),d=Wn(l);a.push(d),"value"in u&&r.updateStore(ai(r.store,d,u.value)),r.notifyObservers(i,[d],{type:"setField",data:c})}),r.notifyWatch(a)}),z(this,"getFields",function(){var n=r.getFieldEntities(!0),i=n.map(function(a){var c=a.getNamePath(),l=a.getMeta(),u=ee(ee({},l),{},{name:c,value:r.getFieldValue(c)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return i}),z(this,"initEntityValue",function(n){var i=n.props.initialValue;if(i!==void 0){var a=n.getNamePath(),c=$i(r.store,a);c===void 0&&r.updateStore(ai(r.store,a,i))}}),z(this,"isMergedPreserve",function(n){var i=n!==void 0?n:r.preserve;return i!=null?i:!0}),z(this,"registerField",function(n){r.fieldEntities.push(n);var i=n.getNamePath();if(r.notifyWatch([i]),n.props.initialValue!==void 0){var a=r.store;r.resetWithFieldInitialValue({entities:[n],skipExist:!0}),r.notifyObservers(a,[n.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(c,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(y){return y!==n}),!r.isMergedPreserve(l)&&(!c||u.length>1)){var d=c?void 0:r.getInitialValue(i);if(i.length&&r.getFieldValue(i)!==d&&r.fieldEntities.every(function(y){return!YC(y.getNamePath(),i)})){var h=r.store;r.updateStore(ai(h,i,d,!0)),r.notifyObservers(h,[i],{type:"remove"}),r.triggerDependenciesUpdate(h,i)}}r.notifyWatch([i])}}),z(this,"dispatch",function(n){switch(n.type){case"updateValue":{var i=n.namePath,a=n.value;r.updateValue(i,a);break}case"validateField":{var c=n.namePath,l=n.triggerName;r.validateFields([c],{triggerName:l});break}default:}}),z(this,"notifyObservers",function(n,i,a){if(r.subscribable){var c=ee(ee({},a),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(l){var u=l.onStoreChange;u(n,i,c)})}else r.forceRootUpdate()}),z(this,"triggerDependenciesUpdate",function(n,i){var a=r.getDependencyChildrenFields(i);return a.length&&r.validateFields(a),r.notifyObservers(n,a,{type:"dependenciesUpdate",relatedFields:[i].concat(be(a))}),a}),z(this,"updateValue",function(n,i){var a=Wn(n),c=r.store;r.updateStore(ai(r.store,a,i)),r.notifyObservers(c,[a],{type:"valueUpdate",source:"internal"}),r.notifyWatch([a]);var l=r.triggerDependenciesUpdate(c,a),u=r.callbacks.onValuesChange;if(u){var d=JC(r.store,[a]);u(d,r.getFieldsValue())}r.triggerOnFieldsChange([a].concat(be(l)))}),z(this,"setFieldsValue",function(n){r.warningUnhooked();var i=r.store;if(n){var a=Hi(r.store,n);r.updateStore(a)}r.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()}),z(this,"setFieldValue",function(n,i){r.setFields([{name:n,value:i,errors:[],warnings:[]}])}),z(this,"getDependencyChildrenFields",function(n){var i=new Set,a=[],c=new Kd;r.getFieldEntities().forEach(function(u){var d=u.props.dependencies;(d||[]).forEach(function(h){var y=Wn(h);c.update(y,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(u),m})})});var l=function u(d){var h=c.get(d)||new Set;h.forEach(function(y){if(!i.has(y)){i.add(y);var m=y.getNamePath();y.isFieldDirty()&&m.length&&(a.push(m),u(m))}})};return l(n),a}),z(this,"triggerOnFieldsChange",function(n,i){var a=r.callbacks.onFieldsChange;if(a){var c=r.getFields();if(i){var l=new Kd;i.forEach(function(d){var h=d.name,y=d.errors;l.set(h,y)}),c.forEach(function(d){d.errors=l.get(d.name)||d.errors})}var u=c.filter(function(d){var h=d.name;return Gd(n,h)});u.length&&a(u,c)}}),z(this,"validateFields",function(n,i){r.warningUnhooked();var a,c;Array.isArray(n)||typeof n=="string"||typeof i=="string"?(a=n,c=i):c=n;var l=!!a,u=l?a.map(Wn):[],d=[],h=String(Date.now()),y=new Set,m=c||{},_=m.recursive,R=m.dirty;r.getFieldEntities(!0).forEach(function(A){if(l||u.push(A.getNamePath()),!(!A.props.rules||!A.props.rules.length)&&!(R&&!A.isFieldDirty())){var D=A.getNamePath();if(y.add(D.join(h)),!l||Gd(u,D,_)){var Z=A.validateRules(ee({validateMessages:ee(ee({},GC),r.validateMessages)},c));d.push(Z.then(function(){return{name:D,errors:[],warnings:[]}}).catch(function(ie){var oe,fe=[],he=[];return(oe=ie.forEach)===null||oe===void 0||oe.call(ie,function(ge){var me=ge.rule.warningOnly,Se=ge.errors;me?he.push.apply(he,be(Se)):fe.push.apply(fe,be(Se))}),fe.length?Promise.reject({name:D,errors:fe,warnings:he}):{name:D,errors:fe,warnings:he}}))}}});var b=W4(d);r.lastValidatePromise=b,b.catch(function(A){return A}).then(function(A){var D=A.map(function(Z){var ie=Z.name;return ie});r.notifyObservers(r.store,D,{type:"validateFinish"}),r.triggerOnFieldsChange(D,A)});var C=b.then(function(){return r.lastValidatePromise===b?Promise.resolve(r.getFieldsValue(u)):Promise.reject([])}).catch(function(A){var D=A.filter(function(Z){return Z&&Z.errors.length});return Promise.reject({values:r.getFieldsValue(u),errorFields:D,outOfDate:r.lastValidatePromise!==b})});C.catch(function(A){return A});var H=u.filter(function(A){return y.has(A.join(h))});return r.triggerOnFieldsChange(H),C}),z(this,"submit",function(){r.warningUnhooked(),r.validateFields().then(function(n){var i=r.callbacks.onFinish;if(i)try{i(n)}catch(a){console.error(a)}}).catch(function(n){var i=r.callbacks.onFinishFailed;i&&i(n)})}),this.forceRootUpdate=t});function J4(e){var t=S.useRef(),r=S.useState({}),n=X(r,2),i=n[1];if(!t.current)if(e)t.current=e;else{var a=function(){i({})},c=new q4(a);t.current=c.getForm()}return[t.current]}var e_=J4,_y=S.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Y4=function(t){var r=t.validateMessages,n=t.onFormChange,i=t.onFormFinish,a=t.children,c=S.useContext(_y),l=S.useRef({});return S.createElement(_y.Provider,{value:ee(ee({},c),{},{validateMessages:ee(ee({},c.validateMessages),r),triggerFormChange:function(d,h){n&&n(d,{changedFields:h,forms:l.current}),c.triggerFormChange(d,h)},triggerFormFinish:function(d,h){i&&i(d,{values:h,forms:l.current}),c.triggerFormFinish(d,h)},registerForm:function(d,h){d&&(l.current=ee(ee({},l.current),{},z({},d,h))),c.registerForm(d,h)},unregisterForm:function(d){var h=ee({},l.current);delete h[d],l.current=h,c.unregisterForm(d)}})},a)},X4=_y,Q4=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Z4=function(t,r){var n=t.name,i=t.initialValues,a=t.fields,c=t.form,l=t.preserve,u=t.children,d=t.component,h=d===void 0?"form":d,y=t.validateMessages,m=t.validateTrigger,_=m===void 0?"onChange":m,R=t.onValuesChange,b=t.onFieldsChange,C=t.onFinish,H=t.onFinishFailed,A=t.clearOnDestroy,D=Vr(t,Q4),Z=S.useRef(null),ie=S.useContext(X4),oe=e_(c),fe=X(oe,1),he=fe[0],ge=he.getInternalHooks(lu),me=ge.useSubscribe,Se=ge.setInitialValues,Ce=ge.setCallbacks,Te=ge.setValidateMessages,Le=ge.setPreserve,ze=ge.destroyForm;S.useImperativeHandle(r,function(){return ee(ee({},he),{},{nativeElement:Z.current})}),S.useEffect(function(){return ie.registerForm(n,he),function(){ie.unregisterForm(n)}},[ie,he,n]),Te(ee(ee({},ie.validateMessages),y)),Ce({onValuesChange:R,onFieldsChange:function(Oe){if(ie.triggerFormChange(n,Oe),b){for(var ct=arguments.length,ot=new Array(ct>1?ct-1:0),Rt=1;Rt<ct;Rt++)ot[Rt-1]=arguments[Rt];b.apply(void 0,[Oe].concat(ot))}},onFinish:function(Oe){ie.triggerFormFinish(n,Oe),C&&C(Oe)},onFinishFailed:H}),Le(l);var Ne=S.useRef(null);Se(i,!Ne.current),Ne.current||(Ne.current=!0),S.useEffect(function(){return function(){return ze(A)}},[]);var Be,Ue=typeof u=="function";if(Ue){var et=he.getFieldsValue(!0);Be=u(et,he)}else Be=u;me(!Ue);var Ke=S.useRef();S.useEffect(function(){B4(Ke.current||[],a||[])||he.setFields(a||[]),Ke.current=a},[a,he]);var Ie=S.useMemo(function(){return ee(ee({},he),{},{validateTrigger:_})},[he,_]),Ae=S.createElement(Og.Provider,{value:null},S.createElement(zd.Provider,{value:Ie},Be));return h===!1?Ae:S.createElement(h,br({},D,{ref:Z,onSubmit:function(Oe){Oe.preventDefault(),Oe.stopPropagation(),he.submit()},onReset:function(Oe){var ct;Oe.preventDefault(),he.resetFields(),(ct=D.onReset)===null||ct===void 0||ct.call(D,Oe)}}),Ae)},eO=Z4;function t_(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var tO=function(){};function rO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[1],a=i===void 0?{}:i,c=NI(a)?{form:a}:a,l=c.form,u=(0,S.useState)(),d=X(u,2),h=d[0],y=d[1],m=(0,S.useMemo)(function(){return t_(h)},[h]),_=(0,S.useRef)(m);_.current=m;var R=(0,S.useContext)(zd),b=l||R,C=b&&b._init,H=Wn(n),A=(0,S.useRef)(H);return A.current=H,tO(H),(0,S.useEffect)(function(){if(C){var D=b.getFieldsValue,Z=b.getInternalHooks,ie=Z(lu),oe=ie.registerWatch,fe=function(Se,Ce){var Te=c.preserve?Ce:Se;return typeof n=="function"?n(Te):$i(Te,A.current)},he=oe(function(me,Se){var Ce=fe(me,Se),Te=t_(Ce);_.current!==Te&&(_.current=Te,y(Ce))}),ge=fe(D(),D(!0));return h!==ge&&y(ge),he}},[C]),h}var nO=rO,iO=S.forwardRef(eO),hp=iO;hp.FormProvider=Y4,hp.Field=QC,hp.List=z4,hp.useForm=e_,hp.useWatch=nO;var o5=null;const a5=S.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),s5=null,c5=e=>{const t=omit(e,["prefixCls"]);return React.createElement(RcFormProvider,Object.assign({},t))},l5=S.createContext({prefixCls:""}),Ry=S.createContext({}),oO=e=>{let{children:t,status:r,override:n}=e;const i=S.useContext(Ry),a=S.useMemo(()=>{const c=Object.assign({},i);return n&&delete c.isFormItemInput,r&&(delete c.status,delete c.hasFeedback,delete c.feedbackIcon),c},[r,n,i]);return S.createElement(Ry.Provider,{value:a},t)},u5=null,aO=e=>{const{componentCls:t,antCls:r}=e,n=`${t}-group`;return{[n]:Object.assign(Object.assign({},ci(e)),{display:"inline-block",fontSize:0,[`&${n}-rtl`]:{direction:"rtl"},[`&${n}-block`]:{display:"flex"},[`${r}-badge ${r}-badge-count`]:{zIndex:1},[`> ${r}-badge:not(:first-child) > ${r}-button-wrapper`]:{borderInlineStart:"none"}})}},sO=e=>{const{componentCls:t,wrapperMarginInlineEnd:r,colorPrimary:n,radioSize:i,motionDurationSlow:a,motionDurationMid:c,motionEaseInOutCirc:l,colorBgContainer:u,colorBorder:d,lineWidth:h,colorBgContainerDisabled:y,colorTextDisabled:m,paddingXS:_,dotColorDisabled:R,lineType:b,radioColor:C,radioBgColor:H,calc:A}=e,D=`${t}-inner`,ie=A(i).sub(A(4).mul(2)),oe=A(1).mul(i).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},ci(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:r,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${er(h)} ${b} ${n}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},ci(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${D}`]:{borderColor:n},[`${t}-input:focus-visible + ${D}`]:Object.assign({},Ci(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:oe,height:oe,marginBlockStart:A(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:A(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:C,borderBlockStart:0,borderInlineStart:0,borderRadius:oe,transform:"scale(0)",opacity:0,transition:`all ${a} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:oe,height:oe,backgroundColor:u,borderColor:d,borderStyle:"solid",borderWidth:h,borderRadius:"50%",transition:`all ${c}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[D]:{borderColor:n,backgroundColor:H,"&::after":{transform:`scale(${e.calc(e.dotSize).div(i).equal()})`,opacity:1,transition:`all ${a} ${l}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[D]:{backgroundColor:y,borderColor:d,cursor:"not-allowed","&::after":{backgroundColor:R}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:m,cursor:"not-allowed"},[`&${t}-checked`]:{[D]:{"&::after":{transform:`scale(${A(ie).div(i).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:_,paddingInlineEnd:_}})}},cO=e=>{const{buttonColor:t,controlHeight:r,componentCls:n,lineWidth:i,lineType:a,colorBorder:c,motionDurationSlow:l,motionDurationMid:u,buttonPaddingInline:d,fontSize:h,buttonBg:y,fontSizeLG:m,controlHeightLG:_,controlHeightSM:R,paddingXS:b,borderRadius:C,borderRadiusSM:H,borderRadiusLG:A,buttonCheckedBg:D,buttonSolidCheckedColor:Z,colorTextDisabled:ie,colorBgContainerDisabled:oe,buttonCheckedBgDisabled:fe,buttonCheckedColorDisabled:he,colorPrimary:ge,colorPrimaryHover:me,colorPrimaryActive:Se,buttonSolidCheckedBg:Ce,buttonSolidCheckedHoverBg:Te,buttonSolidCheckedActiveBg:Le,calc:ze}=e;return{[`${n}-button-wrapper`]:{position:"relative",display:"inline-block",height:r,margin:0,paddingInline:d,paddingBlock:0,color:t,fontSize:h,lineHeight:er(ze(r).sub(ze(i).mul(2)).equal()),background:y,border:`${er(i)} ${a} ${c}`,borderBlockStartWidth:ze(i).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${u}`,`background ${u}`,`box-shadow ${u}`].join(","),a:{color:t},[`> ${n}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:ze(i).mul(-1).equal(),insetInlineStart:ze(i).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:i,paddingInline:0,backgroundColor:c,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${er(i)} ${a} ${c}`,borderStartStartRadius:C,borderEndStartRadius:C},"&:last-child":{borderStartEndRadius:C,borderEndEndRadius:C},"&:first-child:last-child":{borderRadius:C},[`${n}-group-large &`]:{height:_,fontSize:m,lineHeight:er(ze(_).sub(ze(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:A,borderEndStartRadius:A},"&:last-child":{borderStartEndRadius:A,borderEndEndRadius:A}},[`${n}-group-small &`]:{height:R,paddingInline:ze(b).sub(i).equal(),paddingBlock:0,lineHeight:er(ze(R).sub(ze(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:H,borderEndStartRadius:H},"&:last-child":{borderStartEndRadius:H,borderEndEndRadius:H}},"&:hover":{position:"relative",color:ge},"&:has(:focus-visible)":Object.assign({},Ci(e)),[`${n}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${n}-button-wrapper-disabled)`]:{zIndex:1,color:ge,background:D,borderColor:ge,"&::before":{backgroundColor:ge},"&:first-child":{borderColor:ge},"&:hover":{color:me,borderColor:me,"&::before":{backgroundColor:me}},"&:active":{color:Se,borderColor:Se,"&::before":{backgroundColor:Se}}},[`${n}-group-solid &-checked:not(${n}-button-wrapper-disabled)`]:{color:Z,background:Ce,borderColor:Ce,"&:hover":{color:Z,background:Te,borderColor:Te},"&:active":{color:Z,background:Le,borderColor:Le}},"&-disabled":{color:ie,backgroundColor:oe,borderColor:c,cursor:"not-allowed","&:first-child, &:hover":{color:ie,backgroundColor:oe,borderColor:c}},[`&-disabled${n}-button-wrapper-checked`]:{color:he,backgroundColor:fe,borderColor:c,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}};var r_=co("Radio",e=>{const{controlOutline:t,controlOutlineWidth:r}=e,n=`0 0 0 ${er(r)} ${t}`,a=Zr(e,{radioFocusShadow:n,radioButtonFocusShadow:n});return[aO(a),sO(a),cO(a)]},e=>{const{wireframe:t,padding:r,marginXS:n,lineWidth:i,fontSizeLG:a,colorText:c,colorBgContainer:l,colorTextDisabled:u,controlItemBgActiveDisabled:d,colorTextLightSolid:h,colorPrimary:y,colorPrimaryHover:m,colorPrimaryActive:_,colorWhite:R}=e,b=4,C=a,H=t?C-b*2:C-(b+i)*2;return{radioSize:C,dotSize:H,dotColorDisabled:u,buttonSolidCheckedColor:h,buttonSolidCheckedBg:y,buttonSolidCheckedHoverBg:m,buttonSolidCheckedActiveBg:_,buttonBg:l,buttonCheckedBg:l,buttonColor:c,buttonCheckedBgDisabled:d,buttonCheckedColorDisabled:u,buttonPaddingInline:r-i,wrapperMarginInlineEnd:n,radioColor:t?y:R,radioBgColor:t?l:y}},{unitless:{radioSize:!0,dotSize:!0}}),lO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const uO=(e,t)=>{var r,n;const i=S.useContext(TI),a=S.useContext(BC),{getPrefixCls:c,direction:l,radio:u}=S.useContext(re),d=S.useRef(null),h=M(t,d),{isFormItemInput:y}=S.useContext(Ry),m=Ne=>{var Be,Ue;(Be=e.onChange)===null||Be===void 0||Be.call(e,Ne),(Ue=i==null?void 0:i.onChange)===null||Ue===void 0||Ue.call(i,Ne)},{prefixCls:_,className:R,rootClassName:b,children:C,style:H,title:A}=e,D=lO(e,["prefixCls","className","rootClassName","children","style","title"]),Z=c("radio",_),ie=((i==null?void 0:i.optionType)||a)==="button",oe=ie?`${Z}-button`:Z,fe=Fd(Z),[he,ge,me]=r_(Z,fe),Se=Object.assign({},D),Ce=S.useContext(Ms);i&&(Se.name=i.name,Se.onChange=m,Se.checked=e.value===i.value,Se.disabled=(r=Se.disabled)!==null&&r!==void 0?r:i.disabled),Se.disabled=(n=Se.disabled)!==null&&n!==void 0?n:Ce;const Te=Ve()(`${oe}-wrapper`,{[`${oe}-wrapper-checked`]:Se.checked,[`${oe}-wrapper-disabled`]:Se.disabled,[`${oe}-wrapper-rtl`]:l==="rtl",[`${oe}-wrapper-in-form-item`]:y,[`${oe}-wrapper-block`]:!!(i!=null&&i.block)},u==null?void 0:u.className,R,b,ge,me,fe),[Le,ze]=OI(Se.onClick);return he(S.createElement(Ui,{component:"Radio",disabled:Se.disabled},S.createElement("label",{className:Te,style:Object.assign(Object.assign({},u==null?void 0:u.style),H),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:A,onClick:Le},S.createElement(II,Object.assign({},Se,{className:Ve()(Se.className,{[ih]:!ie}),type:"radio",prefixCls:oe,ref:h,onClick:ze})),C!==void 0?S.createElement("span",null,C):null)))};var Mg=S.forwardRef(uO);function dO(){var e=ee({},Me);return e.useId}var n_=0;function h5(){}var i_=dO(),wy=i_?function(t){var r=i_();return t||r}:function(t){var r=S.useState("ssr-id"),n=X(r,2),i=n[0],a=n[1];return S.useEffect(function(){var c=n_;n_+=1,a("rc_unique_".concat(c))},[]),t||i};const fO=S.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n}=S.useContext(re),i=wy(),{prefixCls:a,className:c,rootClassName:l,options:u,buttonStyle:d="outline",disabled:h,children:y,size:m,style:_,id:R,optionType:b,name:C=i,defaultValue:H,value:A,block:D=!1,onChange:Z,onMouseEnter:ie,onMouseLeave:oe,onFocus:fe,onBlur:he}=e,[ge,me]=bs(H,{value:A}),Se=S.useCallback(Ae=>{const $e=ge,Oe=Ae.target.value;"value"in e||me(Oe),Oe!==$e&&(Z==null||Z(Ae))},[ge,me,Z]),Ce=r("radio",a),Te=`${Ce}-group`,Le=Fd(Ce),[ze,Ne,Be]=r_(Ce,Le);let Ue=y;u&&u.length>0&&(Ue=u.map(Ae=>typeof Ae=="string"||typeof Ae=="number"?S.createElement(Mg,{key:Ae.toString(),prefixCls:Ce,disabled:h,value:Ae,checked:ge===Ae},Ae):S.createElement(Mg,{key:`radio-group-value-options-${Ae.value}`,prefixCls:Ce,disabled:Ae.disabled||h,value:Ae.value,checked:ge===Ae.value,title:Ae.title,style:Ae.style,id:Ae.id,required:Ae.required},Ae.label)));const et=_i(m),Ke=Ve()(Te,`${Te}-${d}`,{[`${Te}-${et}`]:et,[`${Te}-rtl`]:n==="rtl",[`${Te}-block`]:D},c,l,Ne,Be,Le),Ie=S.useMemo(()=>({onChange:Se,value:ge,disabled:h,name:C,optionType:b,block:D}),[Se,ge,h,C,b,D]);return ze(S.createElement("div",Object.assign({},jd(e,{aria:!0,data:!0}),{className:Ke,style:_,onMouseEnter:ie,onMouseLeave:oe,onFocus:fe,onBlur:he,id:R,ref:t}),S.createElement(wI,{value:Ie},Ue)))});var hO=S.memo(fO),pO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const mO=(e,t)=>{const{getPrefixCls:r}=S.useContext(re),{prefixCls:n}=e,i=pO(e,["prefixCls"]),a=r("radio",n);return S.createElement(AI,{value:"button"},S.createElement(Mg,Object.assign({prefixCls:a},i,{type:"radio",ref:t})))};var gO=S.forwardRef(mO);const Ng=Mg;Ng.Button=gO,Ng.Group=hO,Ng.__ANT_RADIO=!0;var o_=Ng;function a_(e){var t=e.children,r=e.prefixCls,n=e.id,i=e.overlayInnerStyle,a=e.bodyClassName,c=e.className,l=e.style;return S.createElement("div",{className:Ve()("".concat(r,"-content"),c),style:l},S.createElement("div",{className:Ve()("".concat(r,"-inner"),a),id:n,role:"tooltip",style:i},typeof t=="function"?t():t))}var vO=S.createContext(null),s_=vO,c_=[];function yO(e,t){var r=S.useState(function(){if(!Xe())return null;var R=document.createElement("div");return R}),n=X(r,1),i=n[0],a=S.useRef(!1),c=S.useContext(s_),l=S.useState(c_),u=X(l,2),d=u[0],h=u[1],y=c||(a.current?void 0:function(R){h(function(b){var C=[R].concat(be(b));return C})});function m(){i.parentElement||document.body.appendChild(i),a.current=!0}function _(){var R;(R=i.parentElement)===null||R===void 0||R.removeChild(i),a.current=!1}return bi(function(){return e?c?c(m):m():_(),_},[e]),bi(function(){d.length&&(d.forEach(function(R){return R()}),h(c_))},[d]),[i,y]}var Ty;function l_(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=t;var n=r.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";var i,a;if(e){var c=getComputedStyle(e);n.scrollbarColor=c.scrollbarColor,n.scrollbarWidth=c.scrollbarWidth;var l=getComputedStyle(e,"::-webkit-scrollbar"),u=parseInt(l.width,10),d=parseInt(l.height,10);try{var h=u?"width: ".concat(l.width,";"):"",y=d?"height: ".concat(l.height,";"):"";Lr(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(h,`
`).concat(y,`
}`),t)}catch(R){console.error(R),i=u,a=d}}document.body.appendChild(r);var m=e&&i&&!isNaN(i)?i:r.offsetWidth-r.clientWidth,_=e&&a&&!isNaN(a)?a:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),Qr(t),{width:m,height:_}}function p5(e){return typeof document=="undefined"?0:((e||Ty===void 0)&&(Ty=l_()),Ty.width)}function SO(e){return typeof document=="undefined"||!e||!(e instanceof Element)?{width:0,height:0}:l_(e)}function bO(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var EO="rc-util-locker-".concat(Date.now()),u_=0;function CO(e){var t=!!e,r=S.useState(function(){return u_+=1,"".concat(EO,"_").concat(u_)}),n=X(r,1),i=n[0];bi(function(){if(t){var a=SO(document.body).width,c=bO();Lr(`
html body {
  overflow-y: hidden;
  `.concat(c?"width: calc(100% - ".concat(a,"px);"):"",`
}`),i)}else Qr(i);return function(){Qr(i)}},[t,i])}var d_=!1;function _O(e){return typeof e=="boolean"&&(d_=e),d_}var f_=function(t){return t===!1?!1:!Xe()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},RO=S.forwardRef(function(e,t){var r=e.open,n=e.autoLock,i=e.getContainer,a=e.debug,c=e.autoDestroy,l=c===void 0?!0:c,u=e.children,d=S.useState(r),h=X(d,2),y=h[0],m=h[1],_=y||r;S.useEffect(function(){(l||r)&&m(r)},[r,l]);var R=S.useState(function(){return f_(i)}),b=X(R,2),C=b[0],H=b[1];S.useEffect(function(){var Ce=f_(i);H(Ce!=null?Ce:null)});var A=yO(_&&!C,a),D=X(A,2),Z=D[0],ie=D[1],oe=C!=null?C:Z;CO(n&&r&&Xe()&&(oe===Z||oe===document.body));var fe=null;if(u&&p(u)&&t){var he=u;fe=he.ref}var ge=j(fe,t);if(!_||!Xe()||C===void 0)return null;var me=oe===!1||_O(),Se=u;return t&&(Se=S.cloneElement(u,{ref:ge})),S.createElement(s_.Provider,{value:ie},me?Se:(0,Bl.createPortal)(Se,oe))}),wO=RO,Ay=wO,Py=S.createContext(null);function TO(e){var t=e.children,r=e.onBatchResize,n=S.useRef(0),i=S.useRef([]),a=S.useContext(Py),c=S.useCallback(function(l,u,d){n.current+=1;var h=n.current;i.current.push({size:l,element:u,data:d}),Promise.resolve().then(function(){h===n.current&&(r==null||r(i.current),i.current=[])}),a==null||a(l,u,d)},[r,a]);return S.createElement(Py.Provider,{value:c},t)}var h_=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var c=a[i];r.call(n,c[1],c[0])}},t}()}(),ky=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Dg=function(){return typeof Dt.g!="undefined"&&Dt.g.Math===Math?Dt.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),AO=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Dg):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),PO=2;function kO(e,t){var r=!1,n=!1,i=0;function a(){r&&(r=!1,e()),n&&l()}function c(){AO(a)}function l(){var u=Date.now();if(r){if(u-i<PO)return;n=!0}else r=!0,n=!1,setTimeout(c,t);i=u}return l}var IO=20,OO=["top","right","bottom","left","width","height","size","weight"],xO=typeof MutationObserver!="undefined",MO=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kO(this.refresh.bind(this),IO)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ky||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ky||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=OO.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p_=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},qd=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Dg},m_=Vg(0,0,0,0);function Lg(e){return parseFloat(e)||0}function g_(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var a=e["border-"+i+"-width"];return n+Lg(a)},0)}function NO(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var a=i[n],c=e["padding-"+a];r[a]=Lg(c)}return r}function DO(e){var t=e.getBBox();return Vg(0,0,t.width,t.height)}function LO(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return m_;var n=qd(e).getComputedStyle(e),i=NO(n),a=i.left+i.right,c=i.top+i.bottom,l=Lg(n.width),u=Lg(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+a)!==t&&(l-=g_(n,"left","right")+a),Math.round(u+c)!==r&&(u-=g_(n,"top","bottom")+c)),!UO(e)){var d=Math.round(l+a)-t,h=Math.round(u+c)-r;Math.abs(d)!==1&&(l-=d),Math.abs(h)!==1&&(u-=h)}return Vg(i.left,i.top,l,u)}var VO=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof qd(e).SVGGraphicsElement}:function(e){return e instanceof qd(e).SVGElement&&typeof e.getBBox=="function"}}();function UO(e){return e===qd(e).document.documentElement}function BO(e){return ky?VO(e)?DO(e):LO(e):m_}function jO(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,c=Object.create(a.prototype);return p_(c,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),c}function Vg(e,t,r,n){return{x:e,y:t,width:r,height:n}}var FO=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vg(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=BO(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),$O=function(){function e(t,r){var n=jO(r);p_(this,{target:t,contentRect:n})}return e}(),HO=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new h_,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof qd(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new FO(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof qd(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new $O(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),v_=typeof WeakMap!="undefined"?new WeakMap:new h_,y_=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=MO.getInstance(),n=new HO(t,r,this);v_.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){y_.prototype[e]=function(){var t;return(t=v_.get(this))[e].apply(t,arguments)}});var zO=function(){return typeof Dg.ResizeObserver!="undefined"?Dg.ResizeObserver:y_}(),WO=zO,Fc=new Map;function GO(e){e.forEach(function(t){var r,n=t.target;(r=Fc.get(n))===null||r===void 0||r.forEach(function(i){return i(n)})})}var S_=new WO(GO),m5=null,g5=null;function KO(e,t){Fc.has(e)||(Fc.set(e,new Set),S_.observe(e)),Fc.get(e).add(t)}function qO(e,t){Fc.has(e)&&(Fc.get(e).delete(t),Fc.get(e).size||(S_.unobserve(e),Fc.delete(e)))}var JO=function(e){ro(r,e);var t=$o(r);function r(){return De(this,r),t.apply(this,arguments)}return qe(r,[{key:"render",value:function(){return this.props.children}}]),r}(S.Component);function YO(e,t){var r=e.children,n=e.disabled,i=S.useRef(null),a=S.useRef(null),c=S.useContext(Py),l=typeof r=="function",u=l?r(i):r,d=S.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!l&&S.isValidElement(u)&&p(u),y=h?O(u):null,m=j(y,i),_=function(){var H;return Ps(i.current)||(i.current&&W(i.current)==="object"?Ps((H=i.current)===null||H===void 0?void 0:H.nativeElement):null)||Ps(a.current)};S.useImperativeHandle(t,function(){return _()});var R=S.useRef(e);R.current=e;var b=S.useCallback(function(C){var H=R.current,A=H.onResize,D=H.data,Z=C.getBoundingClientRect(),ie=Z.width,oe=Z.height,fe=C.offsetWidth,he=C.offsetHeight,ge=Math.floor(ie),me=Math.floor(oe);if(d.current.width!==ge||d.current.height!==me||d.current.offsetWidth!==fe||d.current.offsetHeight!==he){var Se={width:ge,height:me,offsetWidth:fe,offsetHeight:he};d.current=Se;var Ce=fe===Math.round(ie)?ie:fe,Te=he===Math.round(oe)?oe:he,Le=ee(ee({},Se),{},{offsetWidth:Ce,offsetHeight:Te});c==null||c(Le,C,D),A&&Promise.resolve().then(function(){A(Le,C)})}},[]);return S.useEffect(function(){var C=_();return C&&!n&&KO(C,b),function(){return qO(C,b)}},[i.current,n]),S.createElement(JO,{ref:a},h?S.cloneElement(u,{ref:m}):u)}var XO=S.forwardRef(YO),QO=XO,ZO="rc-observer-key";function e3(e,t){var r=e.children,n=typeof r=="function"?[r]:Rc(r);return n.map(function(i,a){var c=(i==null?void 0:i.key)||"".concat(ZO,"-").concat(a);return S.createElement(QO,br({},e,{key:c,ref:a===0?t:void 0}),i)})}var b_=S.forwardRef(e3);b_.Collection=TO;var E_=b_,t3=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function r3(e){var t=e.prefixCls,r=e.align,n=e.arrow,i=e.arrowPos,a=n||{},c=a.className,l=a.content,u=i.x,d=u===void 0?0:u,h=i.y,y=h===void 0?0:h,m=S.useRef();if(!r||!r.points)return null;var _={position:"absolute"};if(r.autoArrow!==!1){var R=r.points[0],b=r.points[1],C=R[0],H=R[1],A=b[0],D=b[1];C===A||!["t","b"].includes(C)?_.top=y:C==="t"?_.top=0:_.bottom=0,H===D||!["l","r"].includes(H)?_.left=d:H==="l"?_.left=0:_.right=0}return S.createElement("div",{ref:m,className:Ve()("".concat(t,"-arrow"),c),style:_},l)}function n3(e){var t=e.prefixCls,r=e.open,n=e.zIndex,i=e.mask,a=e.motion;return i?S.createElement(Is,br({},a,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(c){var l=c.className;return S.createElement("div",{style:{zIndex:n},className:Ve()("".concat(t,"-mask"),l)})}):null}var i3=S.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),o3=i3,a3=S.forwardRef(function(e,t){var r=e.popup,n=e.className,i=e.prefixCls,a=e.style,c=e.target,l=e.onVisibleChanged,u=e.open,d=e.keepDom,h=e.fresh,y=e.onClick,m=e.mask,_=e.arrow,R=e.arrowPos,b=e.align,C=e.motion,H=e.maskMotion,A=e.forceRender,D=e.getPopupContainer,Z=e.autoDestroy,ie=e.portal,oe=e.zIndex,fe=e.onMouseEnter,he=e.onMouseLeave,ge=e.onPointerEnter,me=e.onPointerDownCapture,Se=e.ready,Ce=e.offsetX,Te=e.offsetY,Le=e.offsetR,ze=e.offsetB,Ne=e.onAlign,Be=e.onPrepare,Ue=e.stretch,et=e.targetWidth,Ke=e.targetHeight,Ie=typeof r=="function"?r():r,Ae=u||d,$e=(D==null?void 0:D.length)>0,Oe=S.useState(!D||!$e),ct=X(Oe,2),ot=ct[0],Rt=ct[1];if(bi(function(){!ot&&$e&&c&&Rt(!0)},[ot,$e,c]),!ot)return null;var Tt="auto",zt={left:"-1000vw",top:"-1000vh",right:Tt,bottom:Tt};if(Se||!u){var Wt,gr=b.points,or=b.dynamicInset||((Wt=b._experimental)===null||Wt===void 0?void 0:Wt.dynamicInset),Xt=or&&gr[0][1]==="r",ar=or&&gr[0][0]==="b";Xt?(zt.right=Le,zt.left=Tt):(zt.left=Ce,zt.right=Tt),ar?(zt.bottom=ze,zt.top=Tt):(zt.top=Te,zt.bottom=Tt)}var Kt={};return Ue&&(Ue.includes("height")&&Ke?Kt.height=Ke:Ue.includes("minHeight")&&Ke&&(Kt.minHeight=Ke),Ue.includes("width")&&et?Kt.width=et:Ue.includes("minWidth")&&et&&(Kt.minWidth=et)),u||(Kt.pointerEvents="none"),S.createElement(ie,{open:A||Ae,getContainer:D&&function(){return D(c)},autoDestroy:Z},S.createElement(n3,{prefixCls:i,open:u,zIndex:oe,mask:m,motion:H}),S.createElement(E_,{onResize:Ne,disabled:!u},function(Er){return S.createElement(Is,br({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(i,"-hidden")},C,{onAppearPrepare:Be,onEnterPrepare:Be,visible:u,onVisibleChanged:function(_r){var rn;C==null||(rn=C.onVisibleChanged)===null||rn===void 0||rn.call(C,_r),l(_r)}}),function(Nr,_r){var rn=Nr.className,Jr=Nr.style,Yt=Ve()(i,rn,n);return S.createElement("div",{ref:M(Er,t,_r),className:Yt,style:ee(ee(ee(ee({"--arrow-x":"".concat(R.x||0,"px"),"--arrow-y":"".concat(R.y||0,"px")},zt),Kt),Jr),{},{boxSizing:"border-box",zIndex:oe},a),onMouseEnter:fe,onMouseLeave:he,onPointerEnter:ge,onClick:y,onPointerDownCapture:me},_&&S.createElement(r3,{prefixCls:i,arrow:_,arrowPos:R,align:b}),S.createElement(o3,{cache:!u&&!h},Ie))})}))}),s3=a3,c3=S.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,i=p(r),a=S.useCallback(function(l){k(t,n?n(l):l)},[n]),c=j(a,O(r));return i?S.cloneElement(r,{ref:c}):r}),l3=c3,u3=S.createContext(null),C_=u3;function __(e){return e?Array.isArray(e)?e:[e]:[]}function d3(e,t,r,n){return S.useMemo(function(){var i=__(r!=null?r:t),a=__(n!=null?n:t),c=new Set(i),l=new Set(a);return e&&(c.has("hover")&&(c.delete("hover"),c.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[c,l]},[e,t,r,n])}function f3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function h3(e,t,r,n){for(var i=r.points,a=Object.keys(e),c=0;c<a.length;c+=1){var l,u=a[c];if(f3((l=e[u])===null||l===void 0?void 0:l.points,i,n))return"".concat(t,"-placement-").concat(u)}return""}function R_(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function pp(e){return e.ownerDocument.defaultView}function Iy(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var i=pp(r).getComputedStyle(r),a=i.overflowX,c=i.overflowY,l=i.overflow;[a,c,l].some(function(u){return n.includes(u)})&&t.push(r),r=r.parentElement}return t}function mp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function gp(e){return mp(parseFloat(e),0)}function w_(e,t){var r=ee({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var i=pp(n).getComputedStyle(n),a=i.overflow,c=i.overflowClipMargin,l=i.borderTopWidth,u=i.borderBottomWidth,d=i.borderLeftWidth,h=i.borderRightWidth,y=n.getBoundingClientRect(),m=n.offsetHeight,_=n.clientHeight,R=n.offsetWidth,b=n.clientWidth,C=gp(l),H=gp(u),A=gp(d),D=gp(h),Z=mp(Math.round(y.width/R*1e3)/1e3),ie=mp(Math.round(y.height/m*1e3)/1e3),oe=(R-b-A-D)*Z,fe=(m-_-C-H)*ie,he=C*ie,ge=H*ie,me=A*Z,Se=D*Z,Ce=0,Te=0;if(a==="clip"){var Le=gp(c);Ce=Le*Z,Te=Le*ie}var ze=y.x+me-Ce,Ne=y.y+he-Te,Be=ze+y.width+2*Ce-me-Se-oe,Ue=Ne+y.height+2*Te-he-ge-fe;r.left=Math.max(r.left,ze),r.top=Math.max(r.top,Ne),r.right=Math.min(r.right,Be),r.bottom=Math.min(r.bottom,Ue)}}),r}function T_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function A_(e,t){var r=t||[],n=X(r,2),i=n[0],a=n[1];return[T_(e.width,i),T_(e.height,a)]}function P_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Jd(e,t){var r=t[0],n=t[1],i,a;return r==="t"?a=e.y:r==="b"?a=e.y+e.height:a=e.y+e.height/2,n==="l"?i=e.x:n==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:a}}function $c(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,i){return i===t?r[n]||"c":n}).join("")}function p3(e,t,r,n,i,a,c){var l=S.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[n]||{}}),u=X(l,2),d=u[0],h=u[1],y=S.useRef(0),m=S.useMemo(function(){return t?Iy(t):[]},[t]),_=S.useRef({}),R=function(){_.current={}};e||R();var b=Ni(function(){if(t&&r&&e){let aa=function(of,Kc){var qc=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yr,Cp=Oe.x+of,Qg=Oe.y+Kc,tS=Cp+Xt,rS=Qg+or,nS=Math.max(Cp,qc.left),jt=Math.max(Qg,qc.top),sr=Math.min(tS,qc.right),In=Math.min(rS,qc.bottom);return Math.max(0,(sr-nS)*(In-jt))},Xg=function(){ka=Oe.y+xr,cs=ka+or,Ia=Oe.x+$r,Gc=Ia+Xt};var A,D,Z,ie,oe=t,fe=oe.ownerDocument,he=pp(oe),ge=he.getComputedStyle(oe),me=ge.width,Se=ge.height,Ce=ge.position,Te=oe.style.left,Le=oe.style.top,ze=oe.style.right,Ne=oe.style.bottom,Be=oe.style.overflow,Ue=ee(ee({},i[n]),a),et=fe.createElement("div");(A=oe.parentElement)===null||A===void 0||A.appendChild(et),et.style.left="".concat(oe.offsetLeft,"px"),et.style.top="".concat(oe.offsetTop,"px"),et.style.position=Ce,et.style.height="".concat(oe.offsetHeight,"px"),et.style.width="".concat(oe.offsetWidth,"px"),oe.style.left="0",oe.style.top="0",oe.style.right="auto",oe.style.bottom="auto",oe.style.overflow="hidden";var Ke;if(Array.isArray(r))Ke={x:r[0],y:r[1],width:0,height:0};else{var Ie,Ae,$e=r.getBoundingClientRect();$e.x=(Ie=$e.x)!==null&&Ie!==void 0?Ie:$e.left,$e.y=(Ae=$e.y)!==null&&Ae!==void 0?Ae:$e.top,Ke={x:$e.x,y:$e.y,width:$e.width,height:$e.height}}var Oe=oe.getBoundingClientRect();Oe.x=(D=Oe.x)!==null&&D!==void 0?D:Oe.left,Oe.y=(Z=Oe.y)!==null&&Z!==void 0?Z:Oe.top;var ct=fe.documentElement,ot=ct.clientWidth,Rt=ct.clientHeight,Tt=ct.scrollWidth,zt=ct.scrollHeight,Wt=ct.scrollTop,gr=ct.scrollLeft,or=Oe.height,Xt=Oe.width,ar=Ke.height,Kt=Ke.width,Er={left:0,top:0,right:ot,bottom:Rt},Nr={left:-gr,top:-Wt,right:Tt-gr,bottom:zt-Wt},_r=Ue.htmlRegion,rn="visible",Jr="visibleFirst";_r!=="scroll"&&_r!==Jr&&(_r=rn);var Yt=_r===Jr,fr=w_(Nr,m),Ht=w_(Er,m),Yr=_r===rn?Ht:fr,Rr=Yt?Ht:Yr;oe.style.left="auto",oe.style.top="auto",oe.style.right="0",oe.style.bottom="0";var Pr=oe.getBoundingClientRect();oe.style.left=Te,oe.style.top=Le,oe.style.right=ze,oe.style.bottom=Ne,oe.style.overflow=Be,(ie=oe.parentElement)===null||ie===void 0||ie.removeChild(et);var _n=mp(Math.round(Xt/parseFloat(me)*1e3)/1e3),Jn=mp(Math.round(or/parseFloat(Se)*1e3)/1e3);if(_n===0||Jn===0||vc(r)&&!E(r))return;var Yi=Ue.offset,nn=Ue.targetOffset,Gr=A_(Oe,Yi),jr=X(Gr,2),Dr=jr[0],Xr=jr[1],ia=A_(Ke,nn),Pa=X(ia,2),ji=Pa[0],Lo=Pa[1];Ke.x-=ji,Ke.y-=Lo;var uu=Ue.points||[],Ks=X(uu,2),du=Ks[0],Hc=Ks[1],yo=P_(Hc),Si=P_(du),Vo=Jd(Ke,yo),Pn=Jd(Oe,Si),So=ee({},Ue),$r=Vo.x-Pn.x+Dr,xr=Vo.y-Pn.y+Xr,Yn=aa($r,xr),oa=aa($r,xr,Ht),wr=Jd(Ke,["t","l"]),kn=Jd(Oe,["t","l"]),qs=Jd(Ke,["b","r"]),hn=Jd(Oe,["b","r"]),vn=Ue.overflow||{},Xi=vn.adjustX,bo=vn.adjustY,ss=vn.shiftX,zc=vn.shiftY,Wc=function(Kc){return typeof Kc=="boolean"?Kc:Kc>=0},ka,cs,Ia,Gc;Xg();var Js=Wc(bo),Eo=Si[0]===yo[0];if(Js&&Si[0]==="t"&&(cs>Rr.bottom||_.current.bt)){var Ii=xr;Eo?Ii-=or-ar:Ii=wr.y-hn.y-Xr;var Fg=aa($r,Ii),Hy=aa($r,Ii,Ht);Fg>Yn||Fg===Yn&&(!Yt||Hy>=oa)?(_.current.bt=!0,xr=Ii,Xr=-Xr,So.points=[$c(Si,0),$c(yo,0)]):_.current.bt=!1}if(Js&&Si[0]==="b"&&(ka<Rr.top||_.current.tb)){var fu=xr;Eo?fu+=or-ar:fu=qs.y-kn.y-Xr;var $g=aa($r,fu),zy=aa($r,fu,Ht);$g>Yn||$g===Yn&&(!Yt||zy>=oa)?(_.current.tb=!0,xr=fu,Xr=-Xr,So.points=[$c(Si,0),$c(yo,0)]):_.current.tb=!1}var Hg=Wc(Xi),zg=Si[1]===yo[1];if(Hg&&Si[1]==="l"&&(Gc>Rr.right||_.current.rl)){var hu=$r;zg?hu-=Xt-Kt:hu=wr.x-hn.x-Dr;var Wg=aa(hu,xr),tf=aa(hu,xr,Ht);Wg>Yn||Wg===Yn&&(!Yt||tf>=oa)?(_.current.rl=!0,$r=hu,Dr=-Dr,So.points=[$c(Si,1),$c(yo,1)]):_.current.rl=!1}if(Hg&&Si[1]==="r"&&(Ia<Rr.left||_.current.lr)){var Ys=$r;zg?Ys+=Xt-Kt:Ys=qs.x-kn.x-Dr;var Gg=aa(Ys,xr),Kg=aa(Ys,xr,Ht);Gg>Yn||Gg===Yn&&(!Yt||Kg>=oa)?(_.current.lr=!0,$r=Ys,Dr=-Dr,So.points=[$c(Si,1),$c(yo,1)]):_.current.lr=!1}Xg();var ls=ss===!0?0:ss;typeof ls=="number"&&(Ia<Ht.left&&($r-=Ia-Ht.left-Dr,Ke.x+Kt<Ht.left+ls&&($r+=Ke.x-Ht.left+Kt-ls)),Gc>Ht.right&&($r-=Gc-Ht.right-Dr,Ke.x>Ht.right-ls&&($r+=Ke.x-Ht.right+ls)));var Oa=zc===!0?0:zc;typeof Oa=="number"&&(ka<Ht.top&&(xr-=ka-Ht.top-Xr,Ke.y+ar<Ht.top+Oa&&(xr+=Ke.y-Ht.top+ar-Oa)),cs>Ht.bottom&&(xr-=cs-Ht.bottom-Xr,Ke.y>Ht.bottom-Oa&&(xr+=Ke.y-Ht.bottom+Oa)));var rf=Oe.x+$r,nf=rf+Xt,us=Oe.y+xr,Wy=us+or,qg=Ke.x,Gy=qg+Kt,bp=Ke.y,Ky=bp+ar,qy=Math.max(rf,qg),Jy=Math.min(nf,Gy),Jg=(qy+Jy)/2,Yy=Jg-rf,Xy=Math.max(us,bp),Yg=Math.min(Wy,Ky),Qy=(Xy+Yg)/2,Zy=Qy-us;c==null||c(t,So);var Ep=Pr.right-Oe.x-($r+Oe.width),ds=Pr.bottom-Oe.y-(xr+Oe.height);_n===1&&($r=Math.round($r),Ep=Math.round(Ep)),Jn===1&&(xr=Math.round(xr),ds=Math.round(ds));var eS={ready:!0,offsetX:$r/_n,offsetY:xr/Jn,offsetR:Ep/_n,offsetB:ds/Jn,arrowX:Yy/_n,arrowY:Zy/Jn,scaleX:_n,scaleY:Jn,align:So};h(eS)}}),C=function(){y.current+=1;var D=y.current;Promise.resolve().then(function(){y.current===D&&b()})},H=function(){h(function(D){return ee(ee({},D),{},{ready:!1})})};return bi(H,[n]),bi(function(){e||H()},[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,C]}function m3(e,t,r,n,i){bi(function(){if(e&&t&&r){let y=function(){n(),i()};var a=t,c=r,l=Iy(a),u=Iy(c),d=pp(c),h=new Set([d].concat(be(l),be(u)));return h.forEach(function(m){m.addEventListener("scroll",y,{passive:!0})}),d.addEventListener("resize",y,{passive:!0}),n(),function(){h.forEach(function(m){m.removeEventListener("scroll",y),d.removeEventListener("resize",y)})}}},[e,t,r])}function g3(e,t,r,n,i,a,c,l){var u=S.useRef(e);u.current=e;var d=S.useRef(!1);S.useEffect(function(){if(t&&n&&(!i||a)){var y=function(){d.current=!1},m=function(Z){var ie;u.current&&!c(((ie=Z.composedPath)===null||ie===void 0||(ie=ie.call(Z))===null||ie===void 0?void 0:ie[0])||Z.target)&&!d.current&&l(!1)},_=pp(n);_.addEventListener("pointerdown",y,!0),_.addEventListener("mousedown",m,!0),_.addEventListener("contextmenu",m,!0);var R=Gl(r);if(R&&(R.addEventListener("mousedown",m,!0),R.addEventListener("contextmenu",m,!0)),0)var b,C,H,A;return function(){_.removeEventListener("pointerdown",y,!0),_.removeEventListener("mousedown",m,!0),_.removeEventListener("contextmenu",m,!0),R&&(R.removeEventListener("mousedown",m,!0),R.removeEventListener("contextmenu",m,!0))}}},[t,r,n,i,a]);function h(){d.current=!0}return h}var v3=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function y3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ay,t=S.forwardRef(function(r,n){var i=r.prefixCls,a=i===void 0?"rc-trigger-popup":i,c=r.children,l=r.action,u=l===void 0?"hover":l,d=r.showAction,h=r.hideAction,y=r.popupVisible,m=r.defaultPopupVisible,_=r.onPopupVisibleChange,R=r.afterPopupVisibleChange,b=r.mouseEnterDelay,C=r.mouseLeaveDelay,H=C===void 0?.1:C,A=r.focusDelay,D=r.blurDelay,Z=r.mask,ie=r.maskClosable,oe=ie===void 0?!0:ie,fe=r.getPopupContainer,he=r.forceRender,ge=r.autoDestroy,me=r.destroyPopupOnHide,Se=r.popup,Ce=r.popupClassName,Te=r.popupStyle,Le=r.popupPlacement,ze=r.builtinPlacements,Ne=ze===void 0?{}:ze,Be=r.popupAlign,Ue=r.zIndex,et=r.stretch,Ke=r.getPopupClassNameFromAlign,Ie=r.fresh,Ae=r.alignPoint,$e=r.onPopupClick,Oe=r.onPopupAlign,ct=r.arrow,ot=r.popupMotion,Rt=r.maskMotion,Tt=r.popupTransitionName,zt=r.popupAnimation,Wt=r.maskTransitionName,gr=r.maskAnimation,or=r.className,Xt=r.getTriggerDOMNode,ar=Vr(r,v3),Kt=ge||me||!1,Er=S.useState(!1),Nr=X(Er,2),_r=Nr[0],rn=Nr[1];bi(function(){rn(t3())},[]);var Jr=S.useRef({}),Yt=S.useContext(C_),fr=S.useMemo(function(){return{registerSubPopup:function(sr,In){Jr.current[sr]=In,Yt==null||Yt.registerSubPopup(sr,In)}}},[Yt]),Ht=wy(),Yr=S.useState(null),Rr=X(Yr,2),Pr=Rr[0],_n=Rr[1],Jn=S.useRef(null),Yi=Ni(function(jt){Jn.current=jt,vc(jt)&&Pr!==jt&&_n(jt),Yt==null||Yt.registerSubPopup(Ht,jt)}),nn=S.useState(null),Gr=X(nn,2),jr=Gr[0],Dr=Gr[1],Xr=S.useRef(null),ia=Ni(function(jt){vc(jt)&&jr!==jt&&(Dr(jt),Xr.current=jt)}),Pa=S.Children.only(c),ji=(Pa==null?void 0:Pa.props)||{},Lo={},uu=Ni(function(jt){var sr,In,oi=jr;return(oi==null?void 0:oi.contains(jt))||((sr=Gl(oi))===null||sr===void 0?void 0:sr.host)===jt||jt===oi||(Pr==null?void 0:Pr.contains(jt))||((In=Gl(Pr))===null||In===void 0?void 0:In.host)===jt||jt===Pr||Object.values(Jr.current).some(function(Vn){return(Vn==null?void 0:Vn.contains(jt))||jt===Vn})}),Ks=R_(a,ot,zt,Tt),du=R_(a,Rt,gr,Wt),Hc=S.useState(m||!1),yo=X(Hc,2),Si=yo[0],Vo=yo[1],Pn=y!=null?y:Si,So=Ni(function(jt){y===void 0&&Vo(jt)});bi(function(){Vo(y||!1)},[y]);var $r=S.useRef(Pn);$r.current=Pn;var xr=S.useRef([]);xr.current=[];var Yn=Ni(function(jt){var sr;So(jt),((sr=xr.current[xr.current.length-1])!==null&&sr!==void 0?sr:Pn)!==jt&&(xr.current.push(jt),_==null||_(jt))}),oa=S.useRef(),wr=function(){clearTimeout(oa.current)},kn=function(sr){var In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;wr(),In===0?Yn(sr):oa.current=setTimeout(function(){Yn(sr)},In*1e3)};S.useEffect(function(){return wr},[]);var qs=S.useState(!1),hn=X(qs,2),vn=hn[0],Xi=hn[1];bi(function(jt){(!jt||Pn)&&Xi(!0)},[Pn]);var bo=S.useState(null),ss=X(bo,2),zc=ss[0],Wc=ss[1],ka=S.useState(null),cs=X(ka,2),Ia=cs[0],Gc=cs[1],Js=function(sr){Gc([sr.clientX,sr.clientY])},Eo=p3(Pn,Pr,Ae&&Ia!==null?Ia:jr,Le,Ne,Be,Oe),Ii=X(Eo,11),Fg=Ii[0],Hy=Ii[1],fu=Ii[2],$g=Ii[3],zy=Ii[4],Hg=Ii[5],zg=Ii[6],hu=Ii[7],Wg=Ii[8],tf=Ii[9],Ys=Ii[10],Gg=d3(_r,u,d,h),Kg=X(Gg,2),ls=Kg[0],Oa=Kg[1],rf=ls.has("click"),nf=Oa.has("click")||Oa.has("contextMenu"),us=Ni(function(){vn||Ys()}),Wy=function(){$r.current&&Ae&&nf&&kn(!1)};m3(Pn,jr,Pr,us,Wy),bi(function(){us()},[Ia,Le]),bi(function(){Pn&&!(Ne!=null&&Ne[Le])&&us()},[JSON.stringify(Be)]);var qg=S.useMemo(function(){var jt=h3(Ne,a,tf,Ae);return Ve()(jt,Ke==null?void 0:Ke(tf))},[tf,Ke,Ne,a,Ae]);S.useImperativeHandle(n,function(){return{nativeElement:Xr.current,popupElement:Jn.current,forceAlign:us}});var Gy=S.useState(0),bp=X(Gy,2),Ky=bp[0],qy=bp[1],Jy=S.useState(0),Jg=X(Jy,2),Yy=Jg[0],Xy=Jg[1],Yg=function(){if(et&&jr){var sr=jr.getBoundingClientRect();qy(sr.width),Xy(sr.height)}},Qy=function(){Yg(),us()},Zy=function(sr){Xi(!1),Ys(),R==null||R(sr)},Ep=function(){return new Promise(function(sr){Yg(),Wc(function(){return sr})})};bi(function(){zc&&(Ys(),zc(),Wc(null))},[zc]);function ds(jt,sr,In,oi){Lo[jt]=function(Vn){var Zg;oi==null||oi(Vn),kn(sr,In);for(var iS=arguments.length,pR=new Array(iS>1?iS-1:0),ev=1;ev<iS;ev++)pR[ev-1]=arguments[ev];(Zg=ji[jt])===null||Zg===void 0||Zg.call.apply(Zg,[ji,Vn].concat(pR))}}(rf||nf)&&(Lo.onClick=function(jt){var sr;$r.current&&nf?kn(!1):!$r.current&&rf&&(Js(jt),kn(!0));for(var In=arguments.length,oi=new Array(In>1?In-1:0),Vn=1;Vn<In;Vn++)oi[Vn-1]=arguments[Vn];(sr=ji.onClick)===null||sr===void 0||sr.call.apply(sr,[ji,jt].concat(oi))});var eS=g3(Pn,nf,jr,Pr,Z,oe,uu,kn),aa=ls.has("hover"),Xg=Oa.has("hover"),of,Kc;aa&&(ds("onMouseEnter",!0,b,function(jt){Js(jt)}),ds("onPointerEnter",!0,b,function(jt){Js(jt)}),of=function(sr){(Pn||vn)&&Pr!==null&&Pr!==void 0&&Pr.contains(sr.target)&&kn(!0,b)},Ae&&(Lo.onMouseMove=function(jt){var sr;(sr=ji.onMouseMove)===null||sr===void 0||sr.call(ji,jt)})),Xg&&(ds("onMouseLeave",!1,H),ds("onPointerLeave",!1,H),Kc=function(){kn(!1,H)}),ls.has("focus")&&ds("onFocus",!0,A),Oa.has("focus")&&ds("onBlur",!1,D),ls.has("contextMenu")&&(Lo.onContextMenu=function(jt){var sr;$r.current&&Oa.has("contextMenu")?kn(!1):(Js(jt),kn(!0)),jt.preventDefault();for(var In=arguments.length,oi=new Array(In>1?In-1:0),Vn=1;Vn<In;Vn++)oi[Vn-1]=arguments[Vn];(sr=ji.onContextMenu)===null||sr===void 0||sr.call.apply(sr,[ji,jt].concat(oi))}),or&&(Lo.className=Ve()(ji.className,or));var qc=ee(ee({},ji),Lo),Cp={},Qg=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Qg.forEach(function(jt){ar[jt]&&(Cp[jt]=function(){for(var sr,In=arguments.length,oi=new Array(In),Vn=0;Vn<In;Vn++)oi[Vn]=arguments[Vn];(sr=qc[jt])===null||sr===void 0||sr.call.apply(sr,[qc].concat(oi)),ar[jt].apply(ar,oi)})});var tS=S.cloneElement(Pa,ee(ee({},qc),Cp)),rS={x:Hg,y:zg},nS=ct?ee({},ct!==!0?ct:{}):null;return S.createElement(S.Fragment,null,S.createElement(E_,{disabled:!Pn,ref:ia,onResize:Qy},S.createElement(l3,{getTriggerDOMNode:Xt},tS)),S.createElement(C_.Provider,{value:fr},S.createElement(s3,{portal:e,ref:Yi,prefixCls:a,popup:Se,className:Ve()(Ce,qg),style:Te,target:jr,onMouseEnter:of,onMouseLeave:Kc,onPointerEnter:of,zIndex:Ue,open:Pn,keepDom:vn,fresh:Ie,onClick:$e,onPointerDownCapture:eS,mask:Z,motion:Ks,maskMotion:du,onVisibleChanged:Zy,onPrepare:Ep,forceRender:he,autoDestroy:Kt,getPopupContainer:fe,align:tf,arrow:nS,arrowPos:rS,ready:Fg,offsetX:Hy,offsetY:fu,offsetR:$g,offsetB:zy,onAlign:us,stretch:et,targetWidth:Ky/hu,targetHeight:Yy/Wg})))});return t}var S3=y3(Ay),Yd={shiftX:64,adjustY:1},Xd={adjustX:1,shiftY:!0},na=[0,0],b3={left:{points:["cr","cl"],overflow:Xd,offset:[-4,0],targetOffset:na},right:{points:["cl","cr"],overflow:Xd,offset:[4,0],targetOffset:na},top:{points:["bc","tc"],overflow:Yd,offset:[0,-4],targetOffset:na},bottom:{points:["tc","bc"],overflow:Yd,offset:[0,4],targetOffset:na},topLeft:{points:["bl","tl"],overflow:Yd,offset:[0,-4],targetOffset:na},leftTop:{points:["tr","tl"],overflow:Xd,offset:[-4,0],targetOffset:na},topRight:{points:["br","tr"],overflow:Yd,offset:[0,-4],targetOffset:na},rightTop:{points:["tl","tr"],overflow:Xd,offset:[4,0],targetOffset:na},bottomRight:{points:["tr","br"],overflow:Yd,offset:[0,4],targetOffset:na},rightBottom:{points:["bl","br"],overflow:Xd,offset:[4,0],targetOffset:na},bottomLeft:{points:["tl","bl"],overflow:Yd,offset:[0,4],targetOffset:na},leftBottom:{points:["br","bl"],overflow:Xd,offset:[-4,0],targetOffset:na}},v5=null,E3=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],C3=function(t,r){var n=t.overlayClassName,i=t.trigger,a=i===void 0?["hover"]:i,c=t.mouseEnterDelay,l=c===void 0?0:c,u=t.mouseLeaveDelay,d=u===void 0?.1:u,h=t.overlayStyle,y=t.prefixCls,m=y===void 0?"rc-tooltip":y,_=t.children,R=t.onVisibleChange,b=t.afterVisibleChange,C=t.transitionName,H=t.animation,A=t.motion,D=t.placement,Z=D===void 0?"right":D,ie=t.align,oe=ie===void 0?{}:ie,fe=t.destroyTooltipOnHide,he=fe===void 0?!1:fe,ge=t.defaultVisible,me=t.getTooltipContainer,Se=t.overlayInnerStyle,Ce=t.arrowContent,Te=t.overlay,Le=t.id,ze=t.showArrow,Ne=ze===void 0?!0:ze,Be=t.classNames,Ue=t.styles,et=Vr(t,E3),Ke=(0,S.useRef)(null);(0,S.useImperativeHandle)(r,function(){return Ke.current});var Ie=ee({},et);"visible"in t&&(Ie.popupVisible=t.visible);var Ae=function(){return S.createElement(a_,{key:"content",prefixCls:m,id:Le,bodyClassName:Be==null?void 0:Be.body,overlayInnerStyle:ee(ee({},Se),Ue==null?void 0:Ue.body)},Te)};return S.createElement(S3,br({popupClassName:Ve()(n,Be==null?void 0:Be.root),prefixCls:m,popup:Ae,action:a,builtinPlacements:b3,popupPlacement:Z,ref:Ke,popupAlign:oe,getPopupContainer:me,onPopupVisibleChange:R,afterPopupVisibleChange:b,popupTransitionName:C,popupAnimation:H,popupMotion:A,defaultPopupVisible:ge,autoDestroy:he,mouseLeaveDelay:d,popupStyle:ee(ee({},h),Ue==null?void 0:Ue.root),mouseEnterDelay:l,arrow:Ne},Ie),_)},_3=(0,S.forwardRef)(C3),R3=_3,k_=e=>{const{space:t,form:r,children:n}=e;if(n==null)return null;let i=n;return r&&(i=S.createElement(oO,{override:!0,status:!0},i)),t&&(i=S.createElement(Th,null,i)),i};const Oy=()=>({height:0,opacity:0}),I_=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},w3=e=>({height:e?e.offsetHeight:0}),xy=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",S5=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:defaultPrefixCls}-motion-collapse`,onAppearStart:Oy,onEnterStart:Oy,onAppearActive:I_,onEnterActive:I_,onLeaveStart:w3,onLeaveActive:Oy,onAppearEnd:xy,onEnterEnd:xy,onLeaveEnd:xy,motionDeadline:500}},b5=null,vp=(e,t,r)=>r!==void 0?r:`${e}-${t}`;var E5=null;function T3(e){const{sizePopupArrow:t,borderRadiusXS:r,borderRadiusOuter:n}=e,i=t/2,a=0,c=i,l=n*1/Math.sqrt(2),u=i-n*(1-1/Math.sqrt(2)),d=i-r*(1/Math.sqrt(2)),h=n*(Math.sqrt(2)-1)+r*(1/Math.sqrt(2)),y=2*i-d,m=h,_=2*i-l,R=u,b=2*i-a,C=c,H=i*Math.sqrt(2)+n*(Math.sqrt(2)-2),A=n*(Math.sqrt(2)-1),D=`polygon(${A}px 100%, 50% ${A}px, ${2*i-A}px 100%, ${A}px 100%)`,Z=`path('M ${a} ${c} A ${n} ${n} 0 0 0 ${l} ${u} L ${d} ${h} A ${r} ${r} 0 0 1 ${y} ${m} L ${_} ${R} A ${n} ${n} 0 0 0 ${b} ${C} Z')`;return{arrowShadowWidth:H,arrowPath:Z,arrowPolygon:D}}const A3=(e,t,r)=>{const{sizePopupArrow:n,arrowPolygon:i,arrowPath:a,arrowShadowWidth:c,borderRadiusXS:l,calc:u}=e;return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:u(n).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:c,height:c,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${er(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"}}},O_=8;function x_(e){const{contentRadius:t,limitVerticalRadius:r}=e,n=t>12?t+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:r?O_:n}}function Ug(e,t){return e?t:{}}function P3(e,t,r){const{componentCls:n,boxShadowPopoverArrow:i,arrowOffsetVertical:a,arrowOffsetHorizontal:c}=e,{arrowDistance:l=0,arrowPlacement:u={left:!0,right:!0,top:!0,bottom:!0}}=r||{};return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},A3(e,t,i)),{"&:before":{background:t}})]},Ug(!!u.top,{[[`&-placement-top > ${n}-arrow`,`&-placement-topLeft > ${n}-arrow`,`&-placement-topRight > ${n}-arrow`].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":c,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:c}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${er(c)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:c}}}})),Ug(!!u.bottom,{[[`&-placement-bottom > ${n}-arrow`,`&-placement-bottomLeft > ${n}-arrow`,`&-placement-bottomRight > ${n}-arrow`].join(",")]:{top:l,transform:"translateY(-100%)"},[`&-placement-bottom > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":c,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:c}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${er(c)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:c}}}})),Ug(!!u.left,{[[`&-placement-left > ${n}-arrow`,`&-placement-leftTop > ${n}-arrow`,`&-placement-leftBottom > ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${n}-arrow`]:{top:a},[`&-placement-leftBottom > ${n}-arrow`]:{bottom:a}})),Ug(!!u.right,{[[`&-placement-right > ${n}-arrow`,`&-placement-rightTop > ${n}-arrow`,`&-placement-rightBottom > ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${n}-arrow`]:{top:a},[`&-placement-rightBottom > ${n}-arrow`]:{bottom:a}}))}}function k3(e,t,r,n){if(n===!1)return{adjustX:!1,adjustY:!1};const i=n&&typeof n=="object"?n:{},a={};switch(e){case"top":case"bottom":a.shiftX=t.arrowOffsetHorizontal*2+r,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=t.arrowOffsetVertical*2+r,a.shiftX=!0,a.adjustX=!0;break}const c=Object.assign(Object.assign({},a),i);return c.shiftX||(c.adjustX=!0),c.shiftY||(c.adjustY=!0),c}const M_={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},I3={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},O3=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function x3(e){const{arrowWidth:t,autoAdjustOverflow:r,arrowPointAtCenter:n,offset:i,borderRadius:a,visibleFirst:c}=e,l=t/2,u={};return Object.keys(M_).forEach(d=>{const h=n&&I3[d]||M_[d],y=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(u[d]=y,O3.has(d)&&(y.autoArrow=!1),d){case"top":case"topLeft":case"topRight":y.offset[1]=-l-i;break;case"bottom":case"bottomLeft":case"bottomRight":y.offset[1]=l+i;break;case"left":case"leftTop":case"leftBottom":y.offset[0]=-l-i;break;case"right":case"rightTop":case"rightBottom":y.offset[0]=l+i;break}const m=x_({contentRadius:a,limitVerticalRadius:!0});if(n)switch(d){case"topLeft":case"bottomLeft":y.offset[0]=-m.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":y.offset[0]=m.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":y.offset[1]=-m.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":y.offset[1]=m.arrowOffsetHorizontal*2-l;break}y.overflow=k3(d,m,t,r),c&&(y.htmlRegion="visibleFirst")}),u}const M3=e=>({animationDuration:e,animationFillMode:"both"}),N3=e=>({animationDuration:e,animationFillMode:"both"}),N_=function(e,t,r,n){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${e}-enter,
      ${a}${e}-appear
    `]:Object.assign(Object.assign({},M3(n)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},N3(n)),{animationPlayState:"paused"}),[`
      ${a}${e}-enter${e}-enter-active,
      ${a}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},D3=new ir("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),L3=new ir("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),D_=new ir("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),L_=new ir("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),V3=new ir("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),U3=new ir("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),B3=new ir("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),j3=new ir("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),F3=new ir("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),$3=new ir("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),H3=new ir("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),z3=new ir("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),W3={zoom:{inKeyframes:D3,outKeyframes:L3},"zoom-big":{inKeyframes:D_,outKeyframes:L_},"zoom-big-fast":{inKeyframes:D_,outKeyframes:L_},"zoom-left":{inKeyframes:B3,outKeyframes:j3},"zoom-right":{inKeyframes:F3,outKeyframes:$3},"zoom-up":{inKeyframes:V3,outKeyframes:U3},"zoom-down":{inKeyframes:H3,outKeyframes:z3}},V_=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:a}=W3[t];return[N_(n,i,a,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function G3(e,t){return Ea.reduce((r,n)=>{const i=e[`${n}1`],a=e[`${n}3`],c=e[`${n}6`],l=e[`${n}7`];return Object.assign(Object.assign({},r),t(n,{lightColor:i,lightBorderColor:a,darkColor:c,textColor:l}))},{})}const K3=e=>{const{calc:t,componentCls:r,tooltipMaxWidth:n,tooltipColor:i,tooltipBg:a,tooltipBorderRadius:c,zIndexPopup:l,controlHeight:u,boxShadowSecondary:d,paddingSM:h,paddingXS:y,arrowOffsetHorizontal:m,sizePopupArrow:_}=e,R=t(c).add(_).add(m).equal(),b=t(c).mul(2).add(_).equal();return[{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},ci(e)),{position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":a,[`${r}-inner`]:{minWidth:b,minHeight:u,padding:`${er(e.calc(h).div(2).equal())} ${er(y)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:c,boxShadow:d,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:R},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${r}-inner`]:{borderRadius:e.min(c,O_)}},[`${r}-content`]:{position:"relative"}}),G3(e,(C,H)=>{let{darkColor:A}=H;return{[`&${r}-${C}`]:{[`${r}-inner`]:{backgroundColor:A},[`${r}-arrow`]:{"--antd-arrow-background-color":A}}}})),{"&-rtl":{direction:"rtl"}})},P3(e,"var(--antd-arrow-background-color)"),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},q3=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},x_({contentRadius:e.borderRadius,limitVerticalRadius:!0})),T3(Zr(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)})));var U_=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return co("Tooltip",n=>{const{borderRadius:i,colorTextLightSolid:a,colorBgSpotlight:c}=n,l=Zr(n,{tooltipMaxWidth:250,tooltipColor:a,tooltipBorderRadius:i,tooltipBg:c});return[K3(l),V_(n,"zoom-big-fast")]},q3,{resetStyle:!1,injectStyle:t})(e)};const J3=Ea.map(e=>`${e}-inverse`),Y3=null;function X3(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(be(J3),be(Ea)).includes(e):Ea.includes(e)}function C5(e){return Y3.includes(e)}function B_(e,t){const r=X3(t),n=Ve()({[`${e}-${t}`]:t&&r}),i={},a={};return t&&!r&&(i.background=t,a["--antd-arrow-background-color"]=t),{className:n,overlayStyle:i,arrowStyle:a}}var Q3=e=>{const{prefixCls:t,className:r,placement:n="top",title:i,color:a,overlayInnerStyle:c}=e,{getPrefixCls:l}=S.useContext(re),u=l("tooltip",t),[d,h,y]=U_(u),m=B_(u,a),_=m.arrowStyle,R=Object.assign(Object.assign({},c),m.overlayStyle),b=Ve()(h,y,u,`${u}-pure`,`${u}-placement-${n}`,r,m.className);return d(S.createElement("div",{className:b,style:_},S.createElement("div",{className:`${u}-arrow`}),S.createElement(a_,Object.assign({},e,{className:h,prefixCls:u,overlayInnerStyle:R}),i)))},Z3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const j_=S.forwardRef((e,t)=>{var r,n,i,a,c,l;const{prefixCls:u,openClassName:d,getTooltipContainer:h,color:y,overlayInnerStyle:m,children:_,afterOpenChange:R,afterVisibleChange:b,destroyTooltipOnHide:C,arrow:H=!0,title:A,overlay:D,builtinPlacements:Z,arrowPointAtCenter:ie=!1,autoAdjustOverflow:oe=!0}=e,fe=!!H,[,he]=zi(),{getPopupContainer:ge,getPrefixCls:me,direction:Se,tooltip:Ce}=S.useContext(re),Te=Qh("Tooltip"),Le=S.useRef(null),ze=()=>{var nn;(nn=Le.current)===null||nn===void 0||nn.forceAlign()};S.useImperativeHandle(t,()=>{var nn;return{forceAlign:ze,forcePopupAlign:()=>{Te.deprecated(!1,"forcePopupAlign","forceAlign"),ze()},nativeElement:(nn=Le.current)===null||nn===void 0?void 0:nn.nativeElement}});const[Ne,Be]=bs(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(n=e.defaultOpen)!==null&&n!==void 0?n:e.defaultVisible}),Ue=!A&&!D&&A!==0,et=nn=>{var Gr,jr;Be(Ue?!1:nn),Ue||((Gr=e.onOpenChange)===null||Gr===void 0||Gr.call(e,nn),(jr=e.onVisibleChange)===null||jr===void 0||jr.call(e,nn))},Ke=S.useMemo(()=>{var nn,Gr;let jr=ie;return typeof H=="object"&&(jr=(Gr=(nn=H.pointAtCenter)!==null&&nn!==void 0?nn:H.arrowPointAtCenter)!==null&&Gr!==void 0?Gr:ie),Z||x3({arrowPointAtCenter:jr,autoAdjustOverflow:oe,arrowWidth:fe?he.sizePopupArrow:0,borderRadius:he.borderRadius,offset:he.marginXXS,visibleFirst:!0})},[ie,H,Z,he]),Ie=S.useMemo(()=>A===0?A:D||A||"",[D,A]),Ae=S.createElement(k_,{space:!0},typeof Ie=="function"?Ie():Ie),{getPopupContainer:$e,placement:Oe="top",mouseEnterDelay:ct=.1,mouseLeaveDelay:ot=.1,overlayStyle:Rt,rootClassName:Tt,overlayClassName:zt,styles:Wt,classNames:gr}=e,or=Z3(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Xt=me("tooltip",u),ar=me(),Kt=e["data-popover-inject"];let Er=Ne;!("open"in e)&&!("visible"in e)&&Ue&&(Er=!1);const Nr=S.isValidElement(_)&&!T(_)?_:S.createElement("span",null,_),_r=Nr.props,rn=!_r.className||typeof _r.className=="string"?Ve()(_r.className,d||`${Xt}-open`):_r.className,[Jr,Yt,fr]=U_(Xt,!Kt),Ht=B_(Xt,y),Yr=Ht.arrowStyle,Rr=Ve()(zt,{[`${Xt}-rtl`]:Se==="rtl"},Ht.className,Tt,Yt,fr,Ce==null?void 0:Ce.className,(i=Ce==null?void 0:Ce.classNames)===null||i===void 0?void 0:i.root,gr==null?void 0:gr.root),Pr=Ve()((a=Ce==null?void 0:Ce.classNames)===null||a===void 0?void 0:a.body,gr==null?void 0:gr.body),[_n,Jn]=lC("Tooltip",or.zIndex),Yi=S.createElement(R3,Object.assign({},or,{zIndex:_n,showArrow:fe,placement:Oe,mouseEnterDelay:ct,mouseLeaveDelay:ot,prefixCls:Xt,classNames:{root:Rr,body:Pr},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yr),(c=Ce==null?void 0:Ce.styles)===null||c===void 0?void 0:c.root),Ce==null?void 0:Ce.style),Rt),Wt==null?void 0:Wt.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},(l=Ce==null?void 0:Ce.styles)===null||l===void 0?void 0:l.body),m),Wt==null?void 0:Wt.body),Ht.overlayStyle)},getTooltipContainer:$e||h||ge,ref:Le,builtinPlacements:Ke,overlay:Ae,visible:Er,onVisibleChange:et,afterVisibleChange:R!=null?R:b,arrowContent:S.createElement("span",{className:`${Xt}-arrow-content`}),motion:{motionName:vp(ar,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!C}),Er?x(Nr,{className:rn}):Nr);return Jr(S.createElement(Y0.Provider,{value:Jn},Yi))});j_._InternalPanelDoNotUseOrYouWillBeFired=Q3;var ex=j_,Gs={chooseListTemp:"chooseListTemp___gI0iT",chooseListTempTitle:"chooseListTempTitle___uxh5a",chooseListTempContent:"chooseListTempContent___wVI8F",chooseListTempItem:"chooseListTempItem___KAuUx",active:"active___xfF3K",itemContainer:"itemContainer___nFVHd",chooseListTempItemDesc:"chooseListTempItemDesc___HPBe3",tipText:"tipText___oS05q"},tx=function(t){var r=t.title,n=t.col,i=n===void 0?3:n,a=t.dataList,c=t.selectedValue,l=t.showTip,u=t.setSelectedValue,d=t.onChange,h=(0,S.useState)(!1),y=st()(h,2),m=y[0],_=y[1],R={"--col":i},b=(0,St.jsxs)("div",{className:Gs.tipText,children:[(0,St.jsx)("h5",{children:"\u8003\u6838\u8BF4\u660E"}),(0,St.jsx)("p",{children:"\u5B8C\u6210\u6BCF\u4E2A\u7AE0\u8282\u7684\u57F9\u8BAD\u540E\u5373\u53EF\u7ACB\u5373\u8FDB\u884C\u8003\u6838\uFF0C\u65E0\u9700\u7B49\u5F85\u6240\u6709\u7AE0\u8282\u57F9\u8BAD\u7ED3\u675F"})]});return(0,St.jsxs)("div",{className:Gs.chooseListTemp,style:Id()({},R),children:[(0,St.jsx)("div",{className:Gs.chooseListTempTitle,children:r}),(0,St.jsx)(o_.Group,{defaultValue:c,className:Gs.chooseListTempContent,onChange:function(H){u(H.target.value),d&&d()},children:a.map(function(C){return(0,St.jsx)(o_.Button,{value:C.name,disabled:C.disabled,className:"".concat(Gs.chooseListTempItem," ").concat(c===C.name?Gs.active:""),children:(0,St.jsxs)("div",{className:Gs.itemContainer,children:[C!=null&&C.icon?(0,St.jsx)("img",{src:C.icon,alt:""}):null,(0,St.jsx)("div",{className:Gs.chooseListTempItemDesc,children:C.name}),C.name==="\u8003\u6838"?(0,St.jsx)(ex,{title:b,color:"#fff",style:{padding:16},className:Gs.tip,placement:"right",zIndex:999,open:C.name==="\u8003\u6838"&&m,children:(0,St.jsx)(RI,{onMouseEnter:function(){_(!0)},onMouseLeave:function(){_(!1)}})}):null]})},C.name)})})]})},F_=tx,My={main:"main___bm0CQ",itemContainer:"itemContainer___zONqj",item:"item___yh_JF"},rx=function(t){var r=t.dataList,n="https://img.alicdn.com/imgextra/i3/O1CN01Dk8wcs1fRssMRt4pb_!!6000000004004-2-tps-14-33.png";return(0,St.jsx)("div",{className:My.main,children:r==null?void 0:r.map(function(i,a){return(0,St.jsxs)("div",{className:My.itemContainer,children:[(0,St.jsxs)("div",{className:My.item,children:[(0,St.jsx)("img",{src:i.img,alt:""}),(0,St.jsxs)("span",{children:["\u7B2C",(0,St.jsx)("b",{children:i.oder}),"\u6B65\uFF1A",i.title]}),(0,St.jsx)("p",{children:i.desc})]}),a<r.length-1&&(0,St.jsx)("img",{src:n,alt:"Arrow"})]},"".concat(a,"-").concat(i.oder))})})},nx=rx,yp={content:"content___bh4no",contentLeft:"contentLeft___uAxQ2",callBtn:"callBtn___aVyY6",contentRight:"contentRight___iLQd0"},ix=function(){var e=An(),t=e.agentType,r=(0,S.useState)(new NA("YourUserId","YourToken")),n=st()(r,2),i=n[0],a=n[1],c=(0,S.useState)(Jm[0].name),l=st()(c,2),u=l[0],d=l[1],h=(0,S.useState)(NS[0].name),y=st()(h,2),m=y[0],_=y[1],R=function(){};return t==null?(0,St.jsx)(MS,{title:"AI \u82F1\u8BED\u53E3\u8BED\u966A\u7EC3",children:(0,St.jsxs)("div",{className:yp.content,children:[(0,St.jsxs)("div",{className:yp.contentLeft,children:[(0,St.jsx)(SI,{data:KR}),(0,St.jsx)(F_,{title:"\u6309\u573A\u666F\u9009\u62E9",dataList:Jm,selectedValue:u,setSelectedValue:d}),(0,St.jsx)(F_,{title:"\u6309\u96BE\u5EA6\u9009\u62E9",dataList:NS,selectedValue:m,setSelectedValue:_}),(0,St.jsx)(Pd,{className:yp.callBtn,onClick:function(){var C="";if(u==="\u968F\u673A\u573A\u666F"){var H=Math.floor(Math.random()*Jm.length);C=Jm[H].name}else C=u;localStorage.setItem("selectedSceneValue",C),localStorage.setItem("selectedDifficultyValue",m),An.setState({agentType:zn.VoiceAgent})},children:"\u53D1\u8D77\u5BF9\u8BDD"})]}),(0,St.jsx)("div",{className:yp.contentRight,children:(0,St.jsx)(nx,{dataList:qR})})]})}):(0,St.jsx)(MS,{title:"AI \u82F1\u8BED\u53E3\u8BED\u966A\u7EC3",children:(0,St.jsx)("div",{className:yp.content,children:(0,St.jsx)(z0.Provider,{value:i,children:(0,St.jsx)(vI,{onAuthFail:R})})})})};function ox(){const[e,t]=S.useState([]),r=S.useCallback(n=>(t(i=>[].concat(be(i),[n])),()=>{t(i=>i.filter(a=>a!==n))}),[]);return[e,r]}let $_="";function H_(){return $_}const ax=e=>{var t,r;const{prefixCls:n,getContainer:i,direction:a}=e,c=getConfirmLocale(),l=useContext(ConfigContext),u=H_()||l.getPrefixCls(),d=n||`${u}-modal`;let h=i;return h===!1&&(h=void 0),React.createElement(ConfirmDialog,Object.assign({},e,{rootPrefixCls:u,prefixCls:d,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:a!=null?a:l.direction,locale:(r=(t=l.locale)===null||t===void 0?void 0:t.Modal)!==null&&r!==void 0?r:c,getContainer:h}))};function w5(e){const t=globalConfig(),r=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:u,open:!0}),i,a;function c(){for(var h,y=arguments.length,m=new Array(y),_=0;_<y;_++)m[_]=arguments[_];if(m.some(C=>C==null?void 0:C.triggerCancel)){var b;(h=e.onCancel)===null||h===void 0||(b=h).call.apply(b,[e,()=>{}].concat(_toConsumableArray(m.slice(1))))}for(let C=0;C<destroyFns.length;C++)if(destroyFns[C]===u){destroyFns.splice(C,1);break}a()}function l(h){clearTimeout(i),i=setTimeout(()=>{const y=t.getPrefixCls(void 0,H_()),m=t.getIconPrefixCls(),_=t.getTheme(),R=React.createElement(ax,Object.assign({},h));a=getReactRender()(React.createElement(ConfigProvider,{prefixCls:y,iconPrefixCls:m,theme:_},t.holderRender?t.holderRender(R):R),r)})}function u(){for(var h=arguments.length,y=new Array(h),m=0;m<h;m++)y[m]=arguments[m];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),c.apply(this,y)}}),n.visible&&delete n.visible,l(n)}function d(h){typeof h=="function"?n=h(n):n=Object.assign(Object.assign({},n),h),l(n)}return l(n),destroyFns.push(u),{destroy:u,update:d}}function sx(e){return Object.assign(Object.assign({},e),{type:"warning"})}function cx(e){return Object.assign(Object.assign({},e),{type:"info"})}function lx(e){return Object.assign(Object.assign({},e),{type:"success"})}function ux(e){return Object.assign(Object.assign({},e),{type:"error"})}function dx(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function T5(e){let{rootPrefixCls:t}=e;$_=t}var fx=[],Ny=(e,t)=>{const r=S.useContext(K0),n=S.useMemo(()=>{var a;const c=t||ou[e],l=(a=r==null?void 0:r[e])!==null&&a!==void 0?a:{};return Object.assign(Object.assign({},typeof c=="function"?c():c),l||{})},[e,t,r]),i=S.useMemo(()=>{const a=r==null?void 0:r.locale;return r!=null&&r.exist&&!a?ou.locale:a},[r]);return[n,i]};function Dy(e){return!!(e!=null&&e.then)}var z_=e=>{const{type:t,children:r,prefixCls:n,buttonProps:i,close:a,autoFocus:c,emitEvent:l,isSilent:u,quitOnNullishReturnValue:d,actionFn:h}=e,y=S.useRef(!1),m=S.useRef(null),[_,R]=uc(!1),b=function(){a==null||a.apply(void 0,arguments)};S.useEffect(()=>{let A=null;return c&&(A=setTimeout(()=>{var D;(D=m.current)===null||D===void 0||D.focus({preventScroll:!0})})),()=>{A&&clearTimeout(A)}},[]);const C=A=>{Dy(A)&&(R(!0),A.then(function(){R(!1,!0),b.apply(void 0,arguments),y.current=!1},D=>{if(R(!1,!0),y.current=!1,!(u!=null&&u()))return Promise.reject(D)}))},H=A=>{if(y.current)return;if(y.current=!0,!h){b();return}let D;if(l){if(D=h(A),d&&!Dy(D)){y.current=!1,b(A);return}}else if(h.length)D=h(a),y.current=!1;else if(D=h(),!Dy(D)){b();return}C(D)};return S.createElement(Pd,Object.assign({},fo(t),{onClick:H,loading:_,prefixCls:n},i,{ref:m}),r)};const Sp=S.createContext({}),{Provider:W_}=Sp;var G_=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:r,isSilent:n,mergedOkCancel:i,rootPrefixCls:a,close:c,onCancel:l,onConfirm:u}=(0,S.useContext)(Sp);return i?S.createElement(z_,{isSilent:n,actionFn:l,close:function(){c==null||c.apply(void 0,arguments),u==null||u(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},r):null},K_=()=>{const{autoFocusButton:e,close:t,isSilent:r,okButtonProps:n,rootPrefixCls:i,okTextLocale:a,okType:c,onConfirm:l,onOk:u}=(0,S.useContext)(Sp);return S.createElement(z_,{isSilent:r,type:c||"primary",actionFn:u,close:function(){t==null||t.apply(void 0,arguments),l==null||l(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${i}-btn`},a)},q_=S.createContext({});function J_(e,t,r){var n=t;return!n&&r&&(n="".concat(e,"-").concat(r)),n}function Y_(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function hx(e){var t=e.getBoundingClientRect(),r={left:t.left,top:t.top},n=e.ownerDocument,i=n.defaultView||n.parentWindow;return r.left+=Y_(i),r.top+=Y_(i,!0),r}var px=S.memo(function(e){var t=e.children;return t},function(e,t){var r=t.shouldUpdate;return!r}),mx={width:0,height:0,overflow:"hidden",outline:"none"},gx={outline:"none"},vx=S.forwardRef(function(e,t){var r=e.prefixCls,n=e.className,i=e.style,a=e.title,c=e.ariaId,l=e.footer,u=e.closable,d=e.closeIcon,h=e.onClose,y=e.children,m=e.bodyStyle,_=e.bodyProps,R=e.modalRender,b=e.onMouseDown,C=e.onMouseUp,H=e.holderRef,A=e.visible,D=e.forceRender,Z=e.width,ie=e.height,oe=e.classNames,fe=e.styles,he=S.useContext(q_),ge=he.panel,me=j(H,ge),Se=(0,S.useRef)(),Ce=(0,S.useRef)();S.useImperativeHandle(t,function(){return{focus:function(){var Ae;(Ae=Se.current)===null||Ae===void 0||Ae.focus({preventScroll:!0})},changeActive:function(Ae){var $e=document,Oe=$e.activeElement;Ae&&Oe===Ce.current?Se.current.focus({preventScroll:!0}):!Ae&&Oe===Se.current&&Ce.current.focus({preventScroll:!0})}}});var Te={};Z!==void 0&&(Te.width=Z),ie!==void 0&&(Te.height=ie);var Le=l?S.createElement("div",{className:Ve()("".concat(r,"-footer"),oe==null?void 0:oe.footer),style:ee({},fe==null?void 0:fe.footer)},l):null,ze=a?S.createElement("div",{className:Ve()("".concat(r,"-header"),oe==null?void 0:oe.header),style:ee({},fe==null?void 0:fe.header)},S.createElement("div",{className:"".concat(r,"-title"),id:c},a)):null,Ne=(0,S.useMemo)(function(){return W(u)==="object"&&u!==null?u:u?{closeIcon:d!=null?d:S.createElement("span",{className:"".concat(r,"-close-x")})}:{}},[u,d,r]),Be=jd(Ne,!0),Ue=W(u)==="object"&&u.disabled,et=u?S.createElement("button",br({type:"button",onClick:h,"aria-label":"Close"},Be,{className:"".concat(r,"-close"),disabled:Ue}),Ne.closeIcon):null,Ke=S.createElement("div",{className:Ve()("".concat(r,"-content"),oe==null?void 0:oe.content),style:fe==null?void 0:fe.content},et,ze,S.createElement("div",br({className:Ve()("".concat(r,"-body"),oe==null?void 0:oe.body),style:ee(ee({},m),fe==null?void 0:fe.body)},_),y),Le);return S.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?c:null,"aria-modal":"true",ref:me,style:ee(ee({},i),Te),className:Ve()(r,n),onMouseDown:b,onMouseUp:C},S.createElement("div",{ref:Se,tabIndex:0,style:gx},S.createElement(px,{shouldUpdate:A||D},R?R(Ke):Ke)),S.createElement("div",{tabIndex:0,ref:Ce,style:mx}))}),yx=vx,X_=S.forwardRef(function(e,t){var r=e.prefixCls,n=e.title,i=e.style,a=e.className,c=e.visible,l=e.forceRender,u=e.destroyOnClose,d=e.motionName,h=e.ariaId,y=e.onVisibleChanged,m=e.mousePosition,_=(0,S.useRef)(),R=S.useState(),b=X(R,2),C=b[0],H=b[1],A={};C&&(A.transformOrigin=C);function D(){var Z=hx(_.current);H(m&&(m.x||m.y)?"".concat(m.x-Z.left,"px ").concat(m.y-Z.top,"px"):"")}return S.createElement(Is,{visible:c,onVisibleChanged:y,onAppearPrepare:D,onEnterPrepare:D,forceRender:l,motionName:d,removeOnLeave:u,ref:_},function(Z,ie){var oe=Z.className,fe=Z.style;return S.createElement(yx,br({},e,{ref:t,title:n,ariaId:h,prefixCls:r,holderRef:ie,style:ee(ee(ee({},fe),i),A),className:Ve()(a,oe)}))})});X_.displayName="Content";var Sx=X_,bx=function(t){var r=t.prefixCls,n=t.style,i=t.visible,a=t.maskProps,c=t.motionName,l=t.className;return S.createElement(Is,{key:"mask",visible:i,motionName:c,leavedClassName:"".concat(r,"-mask-hidden")},function(u,d){var h=u.className,y=u.style;return S.createElement("div",br({ref:d,style:ee(ee({},y),n),className:Ve()("".concat(r,"-mask"),h,l)},a))})},Ex=bx,Cx=function(t){var r=t.prefixCls,n=r===void 0?"rc-dialog":r,i=t.zIndex,a=t.visible,c=a===void 0?!1:a,l=t.keyboard,u=l===void 0?!0:l,d=t.focusTriggerAfterClose,h=d===void 0?!0:d,y=t.wrapStyle,m=t.wrapClassName,_=t.wrapProps,R=t.onClose,b=t.afterOpenChange,C=t.afterClose,H=t.transitionName,A=t.animation,D=t.closable,Z=D===void 0?!0:D,ie=t.mask,oe=ie===void 0?!0:ie,fe=t.maskTransitionName,he=t.maskAnimation,ge=t.maskClosable,me=ge===void 0?!0:ge,Se=t.maskStyle,Ce=t.maskProps,Te=t.rootClassName,Le=t.classNames,ze=t.styles,Ne=(0,S.useRef)(),Be=(0,S.useRef)(),Ue=(0,S.useRef)(),et=S.useState(c),Ke=X(et,2),Ie=Ke[0],Ae=Ke[1],$e=wy();function Oe(){dt(Be.current,document.activeElement)||(Ne.current=document.activeElement)}function ct(){if(!dt(Be.current,document.activeElement)){var Kt;(Kt=Ue.current)===null||Kt===void 0||Kt.focus()}}function ot(Kt){if(Kt)ct();else{if(Ae(!1),oe&&Ne.current&&h){try{Ne.current.focus({preventScroll:!0})}catch(Er){}Ne.current=null}Ie&&(C==null||C())}b==null||b(Kt)}function Rt(Kt){R==null||R(Kt)}var Tt=(0,S.useRef)(!1),zt=(0,S.useRef)(),Wt=function(){clearTimeout(zt.current),Tt.current=!0},gr=function(){zt.current=setTimeout(function(){Tt.current=!1})},or=null;me&&(or=function(Er){Tt.current?Tt.current=!1:Be.current===Er.target&&Rt(Er)});function Xt(Kt){if(u&&Kt.keyCode===J0.ESC){Kt.stopPropagation(),Rt(Kt);return}c&&Kt.keyCode===J0.TAB&&Ue.current.changeActive(!Kt.shiftKey)}(0,S.useEffect)(function(){c&&(Ae(!0),Oe())},[c]),(0,S.useEffect)(function(){return function(){clearTimeout(zt.current)}},[]);var ar=ee(ee(ee({zIndex:i},y),ze==null?void 0:ze.wrapper),{},{display:Ie?null:"none"});return S.createElement("div",br({className:Ve()("".concat(n,"-root"),Te)},jd(t,{data:!0})),S.createElement(Ex,{prefixCls:n,visible:oe&&c,motionName:J_(n,fe,he),style:ee(ee({zIndex:i},Se),ze==null?void 0:ze.mask),maskProps:Ce,className:Le==null?void 0:Le.mask}),S.createElement("div",br({tabIndex:-1,onKeyDown:Xt,className:Ve()("".concat(n,"-wrap"),m,Le==null?void 0:Le.wrapper),ref:Be,onClick:or,style:ar},_),S.createElement(Sx,br({},t,{onMouseDown:Wt,onMouseUp:gr,ref:Ue,closable:Z,ariaId:$e,prefixCls:n,visible:c&&Ie,onClose:Rt,onVisibleChanged:ot,motionName:J_(n,H,A)}))))},_x=Cx,Q_=function(t){var r=t.visible,n=t.getContainer,i=t.forceRender,a=t.destroyOnClose,c=a===void 0?!1:a,l=t.afterClose,u=t.panelRef,d=S.useState(r),h=X(d,2),y=h[0],m=h[1],_=S.useMemo(function(){return{panel:u}},[u]);return S.useEffect(function(){r&&m(!0)},[r]),!i&&c&&!y?null:S.createElement(q_.Provider,{value:_},S.createElement(Ay,{open:r||i||y,autoDestroy:!1,getContainer:n,autoLock:r||y},S.createElement(_x,br({},t,{destroyOnClose:c,afterClose:function(){l==null||l(),m(!1)}}))))};Q_.displayName="Dialog";var Rx=Q_,wx=Rx;function Z_(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function eR(e){const{closable:t,closeIcon:r}=e||{};return S.useMemo(()=>{if(!t&&(t===!1||r===!1||r===null))return!1;if(t===void 0&&r===void 0)return null;let n={closeIcon:typeof r!="boolean"&&r!==null?r:void 0};return t&&typeof t=="object"&&(n=Object.assign(Object.assign({},n),t)),n},[t,r])}function tR(){const e={};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(i=>{i&&Object.keys(i).forEach(a=>{i[a]!==void 0&&(e[a]=i[a])})}),e}const Tx={};function Ax(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tx;const n=eR(e),i=eR(t),a=typeof n!="boolean"?!!(n!=null&&n.disabled):!1,c=S.useMemo(()=>Object.assign({closeIcon:S.createElement($d,null)},r),[r]),l=S.useMemo(()=>n===!1?!1:n?tR(c,i,n):i===!1?!1:i?tR(c,i):c.closable?c:!1,[n,i,c]);return S.useMemo(()=>{if(l===!1)return[!1,null,a];const{closeIconRender:u}=c,{closeIcon:d}=l;let h=d;if(h!=null){u&&(h=u(d));const y=jd(l,!0);Object.keys(y).length&&(h=S.isValidElement(h)?S.cloneElement(h,y):S.createElement("span",Object.assign({},y),h))}return[!0,h,a]},[l,c])}const Px=()=>Xe()&&window.document.documentElement;var Bg=e=>{const{prefixCls:t,className:r,style:n,size:i,shape:a}=e,c=Ve()({[`${t}-lg`]:i==="large",[`${t}-sm`]:i==="small"}),l=Ve()({[`${t}-circle`]:a==="circle",[`${t}-square`]:a==="square",[`${t}-round`]:a==="round"}),u=S.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return S.createElement("span",{className:Ve()(t,c,l,r),style:Object.assign(Object.assign({},u),n)})};const kx=new ir("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),jg=e=>({height:e,lineHeight:er(e)}),Qd=e=>Object.assign({width:e},jg(e)),Ix=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:kx,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Ly=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},jg(e)),Ox=e=>{const{skeletonAvatarCls:t,gradientFromColor:r,controlHeight:n,controlHeightLG:i,controlHeightSM:a}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:r},Qd(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Qd(i)),[`${t}${t}-sm`]:Object.assign({},Qd(a))}},xx=e=>{const{controlHeight:t,borderRadiusSM:r,skeletonInputCls:n,controlHeightLG:i,controlHeightSM:a,gradientFromColor:c,calc:l}=e;return{[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:r},Ly(t,l)),[`${n}-lg`]:Object.assign({},Ly(i,l)),[`${n}-sm`]:Object.assign({},Ly(a,l))}},rR=e=>Object.assign({width:e},jg(e)),Mx=e=>{const{skeletonImageCls:t,imageSizeBase:r,gradientFromColor:n,borderRadiusSM:i,calc:a}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:n,borderRadius:i},rR(a(r).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},rR(r)),{maxWidth:a(r).mul(4).equal(),maxHeight:a(r).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Vy=(e,t,r)=>{const{skeletonButtonCls:n}=e;return{[`${r}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${r}${n}-round`]:{borderRadius:t}}},Uy=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},jg(e)),Nx=e=>{const{borderRadiusSM:t,skeletonButtonCls:r,controlHeight:n,controlHeightLG:i,controlHeightSM:a,gradientFromColor:c,calc:l}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:l(n).mul(2).equal(),minWidth:l(n).mul(2).equal()},Uy(n,l))},Vy(e,n,r)),{[`${r}-lg`]:Object.assign({},Uy(i,l))}),Vy(e,i,`${r}-lg`)),{[`${r}-sm`]:Object.assign({},Uy(a,l))}),Vy(e,a,`${r}-sm`))},Dx=e=>{const{componentCls:t,skeletonAvatarCls:r,skeletonTitleCls:n,skeletonParagraphCls:i,skeletonButtonCls:a,skeletonInputCls:c,skeletonImageCls:l,controlHeight:u,controlHeightLG:d,controlHeightSM:h,gradientFromColor:y,padding:m,marginSM:_,borderRadius:R,titleHeight:b,blockRadius:C,paragraphLiHeight:H,controlHeightXS:A,paragraphMarginTop:D}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:y},Qd(u)),[`${r}-circle`]:{borderRadius:"50%"},[`${r}-lg`]:Object.assign({},Qd(d)),[`${r}-sm`]:Object.assign({},Qd(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[n]:{width:"100%",height:b,background:y,borderRadius:C,[`+ ${i}`]:{marginBlockStart:h}},[i]:{padding:0,"> li":{width:"100%",height:H,listStyle:"none",background:y,borderRadius:C,"+ li":{marginBlockStart:A}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${i} > li`]:{borderRadius:R}}},[`${t}-with-avatar ${t}-content`]:{[n]:{marginBlockStart:_,[`+ ${i}`]:{marginBlockStart:D}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Nx(e)),Ox(e)),xx(e)),Mx(e)),[`${t}${t}-block`]:{width:"100%",[a]:{width:"100%"},[c]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${n},
        ${i} > li,
        ${r},
        ${a},
        ${c},
        ${l}
      `]:Object.assign({},Ix(e))}}};var Zd=co("Skeleton",e=>{const{componentCls:t,calc:r}=e,n=Zr(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:r(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Dx(n)]},e=>{const{colorFillContent:t,colorFill:r}=e,n=t,i=r;return{color:n,colorGradientEnd:i,gradientFromColor:n,gradientToColor:i,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Lx=e=>{const{prefixCls:t,className:r,rootClassName:n,active:i,shape:a="circle",size:c="default"}=e,{getPrefixCls:l}=S.useContext(re),u=l("skeleton",t),[d,h,y]=Zd(u),m=_e(e,["prefixCls","className"]),_=Ve()(u,`${u}-element`,{[`${u}-active`]:i},r,n,h,y);return d(S.createElement("div",{className:_},S.createElement(Bg,Object.assign({prefixCls:`${u}-avatar`,shape:a,size:c},m))))},Vx=e=>{const{prefixCls:t,className:r,rootClassName:n,active:i,block:a=!1,size:c="default"}=e,{getPrefixCls:l}=S.useContext(re),u=l("skeleton",t),[d,h,y]=Zd(u),m=_e(e,["prefixCls"]),_=Ve()(u,`${u}-element`,{[`${u}-active`]:i,[`${u}-block`]:a},r,n,h,y);return d(S.createElement("div",{className:_},S.createElement(Bg,Object.assign({prefixCls:`${u}-button`,size:c},m))))};const Ux="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var Bx=e=>{const{prefixCls:t,className:r,rootClassName:n,style:i,active:a}=e,{getPrefixCls:c}=S.useContext(re),l=c("skeleton",t),[u,d,h]=Zd(l),y=Ve()(l,`${l}-element`,{[`${l}-active`]:a},r,n,d,h);return u(S.createElement("div",{className:y},S.createElement("div",{className:Ve()(`${l}-image`,r),style:i},S.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${l}-image-svg`},S.createElement("title",null,"Image placeholder"),S.createElement("path",{d:Ux,className:`${l}-image-path`})))))},jx=e=>{const{prefixCls:t,className:r,rootClassName:n,active:i,block:a,size:c="default"}=e,{getPrefixCls:l}=S.useContext(re),u=l("skeleton",t),[d,h,y]=Zd(u),m=_e(e,["prefixCls"]),_=Ve()(u,`${u}-element`,{[`${u}-active`]:i,[`${u}-block`]:a},r,n,h,y);return d(S.createElement("div",{className:_},S.createElement(Bg,Object.assign({prefixCls:`${u}-input`,size:c},m))))},Fx=e=>{const{prefixCls:t,className:r,rootClassName:n,style:i,active:a,children:c}=e,{getPrefixCls:l}=S.useContext(re),u=l("skeleton",t),[d,h,y]=Zd(u),m=Ve()(u,`${u}-element`,{[`${u}-active`]:a},h,r,n,y);return d(S.createElement("div",{className:m},S.createElement("div",{className:Ve()(`${u}-image`,r),style:i},c)))};const $x=(e,t)=>{const{width:r,rows:n=2}=t;if(Array.isArray(r))return r[e];if(n-1===e)return r};var Hx=e=>{const{prefixCls:t,className:r,style:n,rows:i}=e,a=be(new Array(i)).map((c,l)=>S.createElement("li",{key:l,style:{width:$x(l,e)}}));return S.createElement("ul",{className:Ve()(t,r),style:n},a)},zx=e=>{let{prefixCls:t,className:r,width:n,style:i}=e;return S.createElement("h3",{className:Ve()(t,r),style:Object.assign({width:n},i)})};function By(e){return e&&typeof e=="object"?e:{}}function Wx(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Gx(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Kx(e,t){const r={};return(!e||!t)&&(r.width="61%"),!e&&t?r.rows=3:r.rows=2,r}const ef=e=>{const{prefixCls:t,loading:r,className:n,rootClassName:i,style:a,children:c,avatar:l=!1,title:u=!0,paragraph:d=!0,active:h,round:y}=e,{getPrefixCls:m,direction:_,skeleton:R}=S.useContext(re),b=m("skeleton",t),[C,H,A]=Zd(b);if(r||!("loading"in e)){const D=!!l,Z=!!u,ie=!!d;let oe;if(D){const ge=Object.assign(Object.assign({prefixCls:`${b}-avatar`},Wx(Z,ie)),By(l));oe=S.createElement("div",{className:`${b}-header`},S.createElement(Bg,Object.assign({},ge)))}let fe;if(Z||ie){let ge;if(Z){const Se=Object.assign(Object.assign({prefixCls:`${b}-title`},Gx(D,ie)),By(u));ge=S.createElement(zx,Object.assign({},Se))}let me;if(ie){const Se=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},Kx(D,Z)),By(d));me=S.createElement(Hx,Object.assign({},Se))}fe=S.createElement("div",{className:`${b}-content`},ge,me)}const he=Ve()(b,{[`${b}-with-avatar`]:D,[`${b}-active`]:h,[`${b}-rtl`]:_==="rtl",[`${b}-round`]:y},R==null?void 0:R.className,n,i,H,A);return C(S.createElement("div",{className:he,style:Object.assign(Object.assign({},R==null?void 0:R.style),a)},oe,fe))}return c!=null?c:null};ef.Button=Vx,ef.Avatar=Lx,ef.Input=jx,ef.Image=Bx,ef.Node=Fx;var qx=ef,Jx=qx;function nR(){}const Yx=S.createContext({add:nR,remove:nR});function Xx(e){const t=S.useContext(Yx),r=S.useRef(null);return Ni(i=>{if(i){const a=e?i.querySelector(e):i;t.add(a),r.current=a}else t.remove(r.current)})}var F5=null,iR=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:r}=(0,S.useContext)(Sp);return S.createElement(Pd,Object.assign({onClick:r},e),t)},oR=()=>{const{confirmLoading:e,okButtonProps:t,okType:r,okTextLocale:n,onOk:i}=(0,S.useContext)(Sp);return S.createElement(Pd,Object.assign({},fo(r),{loading:e,onClick:i},t),n)};function Qx(e,t){return S.createElement("span",{className:`${e}-close-x`},t||S.createElement($d,{className:`${e}-close-icon`}))}const Zx=e=>{const{okText:t,okType:r="primary",cancelText:n,confirmLoading:i,onOk:a,onCancel:c,okButtonProps:l,cancelButtonProps:u,footer:d}=e,[h]=Ny("Modal",GA()),y=t||(h==null?void 0:h.okText),m=n||(h==null?void 0:h.cancelText),_={confirmLoading:i,okButtonProps:l,cancelButtonProps:u,okTextLocale:y,cancelTextLocale:m,okType:r,onOk:a,onCancel:c},R=S.useMemo(()=>_,be(Object.values(_)));let b;return typeof d=="function"||typeof d=="undefined"?(b=S.createElement(S.Fragment,null,S.createElement(iR,null),S.createElement(oR,null)),typeof d=="function"&&(b=d(b,{OkBtn:oR,CancelBtn:iR})),b=S.createElement(W_,{value:R},b)):b=d,S.createElement(Nn,{disabled:!1},b)},eM=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},tM=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},rM=(e,t)=>{const{prefixCls:r,componentCls:n,gridColumns:i}=e,a={};for(let c=i;c>=0;c--)c===0?(a[`${n}${t}-${c}`]={display:"none"},a[`${n}-push-${c}`]={insetInlineStart:"auto"},a[`${n}-pull-${c}`]={insetInlineEnd:"auto"},a[`${n}${t}-push-${c}`]={insetInlineStart:"auto"},a[`${n}${t}-pull-${c}`]={insetInlineEnd:"auto"},a[`${n}${t}-offset-${c}`]={marginInlineStart:0},a[`${n}${t}-order-${c}`]={order:0}):(a[`${n}${t}-${c}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${c/i*100}%`,maxWidth:`${c/i*100}%`}],a[`${n}${t}-push-${c}`]={insetInlineStart:`${c/i*100}%`},a[`${n}${t}-pull-${c}`]={insetInlineEnd:`${c/i*100}%`},a[`${n}${t}-offset-${c}`]={marginInlineStart:`${c/i*100}%`},a[`${n}${t}-order-${c}`]={order:c});return a[`${n}${t}-flex`]={flex:`var(--${r}${t}-flex)`},a},jy=(e,t)=>rM(e,t),nM=(e,t,r)=>({[`@media (min-width: ${er(t)})`]:Object.assign({},jy(e,r))}),iM=()=>({}),oM=()=>({}),z5=co("Grid",eM,iM),aR=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),W5=co("Grid",e=>{const t=Zr(e,{gridColumns:24}),r=aR(t);return delete r.xs,[tM(t),jy(t,""),jy(t,"-xs"),Object.keys(r).map(n=>nM(t,r[n],`-${n}`)).reduce((n,i)=>Object.assign(Object.assign({},n),i),{})]},oM),aM=new ir("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),sM=new ir("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),cM=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:r}=e,n=`${r}-fade`,i=t?"&":"";return[N_(n,aM,sM,e.motionDurationMid,t),{[`
        ${i}${n}-enter,
        ${i}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${n}-leave`]:{animationTimingFunction:"linear"}}]};function sR(e){return{position:e,inset:0}}const lM=e=>{const{componentCls:t,antCls:r}=e;return[{[`${t}-root`]:{[`${t}${r}-zoom-enter, ${t}${r}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${r}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},sR("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},sR("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:cM(e)}]},uM=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${er(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},ci(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${er(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:er(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},li(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${er(e.borderRadiusLG)} ${er(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${er(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},dM=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},fM=e=>{const{componentCls:t}=e,r=aR(e);delete r.xs;const n=Object.keys(r).map(i=>({[`@media (min-width: ${er(r[i])})`]:{width:`var(--${t.replace(".","")}-${i}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(be(n))}}},cR=e=>{const t=e.padding,r=e.fontSizeHeading5,n=e.lineHeightHeading5;return Zr(e,{modalHeaderHeight:e.calc(e.calc(n).mul(r).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},lR=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${er(e.paddingMD)} ${er(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${er(e.padding)} ${er(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${er(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${er(e.paddingXS)} ${er(e.padding)}`:0,footerBorderTop:e.wireframe?`${er(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${er(e.borderRadiusLG)} ${er(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${er(e.padding*2)} ${er(e.padding*2)} ${er(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var hM=co("Modal",e=>{const t=cR(e);return[uM(t),dM(t),lM(t),V_(t,"zoom"),fM(t)]},lR,{unitless:{titleLineHeight:!0}}),pM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let Fy;const mM=e=>{Fy={x:e.pageX,y:e.pageY},setTimeout(()=>{Fy=null},100)};Px()&&document.documentElement.addEventListener("click",mM,!0);var gM=e=>{var t;const{getPopupContainer:r,getPrefixCls:n,direction:i,modal:a}=S.useContext(re),c=ot=>{const{onCancel:Rt}=e;Rt==null||Rt(ot)},l=ot=>{const{onOk:Rt}=e;Rt==null||Rt(ot)},{prefixCls:u,className:d,rootClassName:h,open:y,wrapClassName:m,centered:_,getContainer:R,focusTriggerAfterClose:b=!0,style:C,visible:H,width:A=520,footer:D,classNames:Z,styles:ie,children:oe,loading:fe}=e,he=pM(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),ge=n("modal",u),me=n(),Se=Fd(ge),[Ce,Te,Le]=hM(ge,Se),ze=Ve()(m,{[`${ge}-centered`]:!!_,[`${ge}-wrap-rtl`]:i==="rtl"}),Ne=D!==null&&!fe?S.createElement(Zx,Object.assign({},e,{onOk:l,onCancel:c})):null,[Be,Ue,et]=Ax(Z_(e),Z_(a),{closable:!0,closeIcon:S.createElement($d,{className:`${ge}-close-icon`}),closeIconRender:ot=>Qx(ge,ot)}),Ke=Xx(`.${ge}-content`),[Ie,Ae]=lC("Modal",he.zIndex),[$e,Oe]=S.useMemo(()=>A&&typeof A=="object"?[void 0,A]:[A,void 0],[A]),ct=S.useMemo(()=>{const ot={};return Oe&&Object.keys(Oe).forEach(Rt=>{const Tt=Oe[Rt];Tt!==void 0&&(ot[`--${ge}-${Rt}-width`]=typeof Tt=="number"?`${Tt}px`:Tt)}),ot},[Oe]);return Ce(S.createElement(k_,{form:!0,space:!0},S.createElement(Y0.Provider,{value:Ae},S.createElement(wx,Object.assign({width:$e},he,{zIndex:Ie,getContainer:R===void 0?r:R,prefixCls:ge,rootClassName:Ve()(Te,h,Le,Se),footer:Ne,visible:y!=null?y:H,mousePosition:(t=he.mousePosition)!==null&&t!==void 0?t:Fy,onClose:c,closable:Be&&{disabled:et,closeIcon:Ue},closeIcon:Ue,focusTriggerAfterClose:b,transitionName:vp(me,"zoom",e.transitionName),maskTransitionName:vp(me,"fade",e.maskTransitionName),className:Ve()(Te,d,a==null?void 0:a.className),style:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.style),C),ct),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),Z),{wrapper:Ve()(ze,Z==null?void 0:Z.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),ie),panelRef:Ke}),fe?S.createElement(Jx,{active:!0,title:!1,paragraph:{rows:4},className:`${ge}-body-skeleton`}):oe))))};const vM=e=>{const{componentCls:t,titleFontSize:r,titleLineHeight:n,modalConfirmIconSize:i,fontSize:a,lineHeight:c,modalTitleHeight:l,fontHeight:u,confirmBodyPadding:d}=e,h=`${t}-confirm`;return{[h]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${h}-body-wrapper`]:Object.assign({},am()),[`&${t} ${t}-body`]:{padding:d},[`${h}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(u).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(l).sub(i).equal()).div(2).equal()}},[`${h}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${er(e.marginSM)})`},[`${e.iconCls} + ${h}-paragraph`]:{maxWidth:`calc(100% - ${er(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${h}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:r,lineHeight:n},[`${h}-content`]:{color:e.colorText,fontSize:a,lineHeight:c},[`${h}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${h}-error ${h}-body > ${e.iconCls}`]:{color:e.colorError},[`${h}-warning ${h}-body > ${e.iconCls},
        ${h}-confirm ${h}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${h}-info ${h}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${h}-success ${h}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var yM=eh(["Modal","confirm"],e=>{const t=cR(e);return[vM(t)]},lR,{order:-1e3}),SM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function bM(e){const{prefixCls:t,icon:r,okText:n,cancelText:i,confirmPrefixCls:a,type:c,okCancel:l,footer:u,locale:d}=e,h=SM(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let y=r;if(!r&&r!==null)switch(c){case"info":y=S.createElement(rp,null);break;case"success":y=S.createElement(Zh,null);break;case"error":y=S.createElement(ep,null);break;default:y=S.createElement(tp,null)}const m=l!=null?l:c==="confirm",_=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[R]=Ny("Modal"),b=d||R,C=n||(m?b==null?void 0:b.okText:b==null?void 0:b.justOkText),H=i||(b==null?void 0:b.cancelText),A=Object.assign({autoFocusButton:_,cancelTextLocale:H,okTextLocale:C,mergedOkCancel:m},h),D=S.useMemo(()=>A,be(Object.values(A))),Z=S.createElement(S.Fragment,null,S.createElement(G_,null),S.createElement(K_,null)),ie=e.title!==void 0&&e.title!==null,oe=`${a}-body`;return S.createElement("div",{className:`${a}-body-wrapper`},S.createElement("div",{className:Ve()(oe,{[`${oe}-has-title`]:ie})},y,S.createElement("div",{className:`${a}-paragraph`},ie&&S.createElement("span",{className:`${a}-title`},e.title),S.createElement("div",{className:`${a}-content`},e.content))),u===void 0||typeof u=="function"?S.createElement(W_,{value:D},S.createElement("div",{className:`${a}-btns`},typeof u=="function"?u(Z,{OkBtn:K_,CancelBtn:G_}):Z)):u,S.createElement(yM,{prefixCls:t}))}const EM=e=>{const{close:t,zIndex:r,maskStyle:n,direction:i,prefixCls:a,wrapClassName:c,rootPrefixCls:l,bodyStyle:u,closable:d=!1,onConfirm:h,styles:y}=e,m=`${a}-confirm`,_=e.width||416,R=e.style||{},b=e.mask===void 0?!0:e.mask,C=e.maskClosable===void 0?!1:e.maskClosable,H=Ve()(m,`${m}-${e.type}`,{[`${m}-rtl`]:i==="rtl"},e.className),[,A]=zi(),D=S.useMemo(()=>r!==void 0?r:A.zIndexPopupBase+Cg,[r,A]);return S.createElement(gM,Object.assign({},e,{className:H,wrapClassName:Ve()({[`${m}-centered`]:!!e.centered},c),onCancel:()=>{t==null||t({triggerCancel:!0}),h==null||h(!1)},title:"",footer:null,transitionName:vp(l||"","zoom",e.transitionName),maskTransitionName:vp(l||"","fade",e.maskTransitionName),mask:b,maskClosable:C,style:R,styles:Object.assign({body:u,mask:n},y),width:_,zIndex:D,closable:d}),S.createElement(bM,Object.assign({},e,{confirmPrefixCls:m})))};var CM=e=>{const{rootPrefixCls:t,iconPrefixCls:r,direction:n,theme:i}=e;return S.createElement(q0,{prefixCls:t,iconPrefixCls:r,direction:n,theme:i},S.createElement(EM,Object.assign({},e)))},_M=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const RM=(e,t)=>{var r,{afterClose:n,config:i}=e,a=_M(e,["afterClose","config"]);const[c,l]=S.useState(!0),[u,d]=S.useState(i),{direction:h,getPrefixCls:y}=S.useContext(re),m=y("modal"),_=y(),R=()=>{var A;n(),(A=u.afterClose)===null||A===void 0||A.call(u)},b=function(){var A;l(!1);for(var D=arguments.length,Z=new Array(D),ie=0;ie<D;ie++)Z[ie]=arguments[ie];if(Z.some(he=>he==null?void 0:he.triggerCancel)){var fe;(A=u.onCancel)===null||A===void 0||(fe=A).call.apply(fe,[u,()=>{}].concat(be(Z.slice(1))))}};S.useImperativeHandle(t,()=>({destroy:b,update:A=>{d(D=>Object.assign(Object.assign({},D),A))}}));const C=(r=u.okCancel)!==null&&r!==void 0?r:u.type==="confirm",[H]=Ny("Modal",ou.Modal);return S.createElement(CM,Object.assign({prefixCls:m,rootPrefixCls:_},u,{close:b,open:c,afterClose:R,okText:u.okText||(C?H==null?void 0:H.okText:H==null?void 0:H.justOkText),direction:u.direction||h,cancelText:u.cancelText||(H==null?void 0:H.cancelText)},a))};var wM=S.forwardRef(RM);let uR=0;const TM=S.memo(S.forwardRef((e,t)=>{const[r,n]=ox();return S.useImperativeHandle(t,()=>({patchElement:n}),[]),S.createElement(S.Fragment,null,r)}));function AM(){const e=S.useRef(null),[t,r]=S.useState([]);S.useEffect(()=>{t.length&&(be(t).forEach(c=>{c()}),r([]))},[t]);const n=S.useCallback(a=>function(l){var u;uR+=1;const d=S.createRef();let h;const y=new Promise(C=>{h=C});let m=!1,_;const R=S.createElement(wM,{key:`modal-${uR}`,config:a(l),ref:d,afterClose:()=>{_==null||_()},isSilent:()=>m,onConfirm:C=>{h(C)}});return _=(u=e.current)===null||u===void 0?void 0:u.patchElement(R),_&&fx.push(_),{destroy:()=>{function C(){var H;(H=d.current)===null||H===void 0||H.destroy()}d.current?C():r(H=>[].concat(be(H),[C]))},update:C=>{function H(){var A;(A=d.current)===null||A===void 0||A.update(C)}d.current?H():r(A=>[].concat(be(A),[H]))},then:C=>(m=!0,y.then(C))}},[]);return[S.useMemo(()=>({info:n(cx),success:n(lx),error:n(ux),warning:n(sx),confirm:n(dx)}),[]),S.createElement(TM,{key:"modal-holder",ref:e})]}var PM=AM,kM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const q5={info:S.createElement(rp,null),success:S.createElement(Zh,null),error:S.createElement(ep,null),warning:S.createElement(tp,null),loading:S.createElement(Kl,null)};function $y(e,t){return t===null||t===!1?null:t||S.createElement($d,{className:`${e}-close-icon`})}const IM={success:Zh,info:rp,error:ep,warning:tp},dR=e=>{const{prefixCls:t,icon:r,type:n,message:i,description:a,btn:c,role:l="alert"}=e;let u=null;return r?u=S.createElement("span",{className:`${t}-icon`},r):n&&(u=S.createElement(IM[n]||null,{className:Ve()(`${t}-icon`,`${t}-icon-${n}`)})),S.createElement("div",{className:Ve()({[`${t}-with-icon`]:u}),role:l},u,S.createElement("div",{className:`${t}-message`},i),S.createElement("div",{className:`${t}-description`},a),c&&S.createElement("div",{className:`${t}-btn`},c))},J5=e=>{const{prefixCls:t,className:r,icon:n,type:i,message:a,description:c,btn:l,closable:u=!0,closeIcon:d,className:h}=e,y=kM(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:m}=React.useContext(ConfigContext),_=t||m("notification"),R=`${_}-notice`,b=useCSSVarCls(_),[C,H,A]=useStyle(_,b);return C(React.createElement("div",{className:classNames(`${R}-pure-panel`,H,r,A,b)},React.createElement(PurePanelStyle,{prefixCls:_}),React.createElement(Notice,Object.assign({},y,{prefixCls:_,eventKey:"pure",duration:null,closable:u,className:classNames({notificationClassName:h}),closeIcon:$y(_,d),content:React.createElement(dR,{prefixCls:R,icon:n,type:i,message:a,description:c,btn:l})}))))};var Y5=null,OM=e=>{const{componentCls:t,notificationMarginEdge:r,animationMaxHeight:n}=e,i=`${t}-notice`,a=new ir("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),c=new ir("antNotificationTopFadeIn",{"0%":{top:-n,opacity:0},"100%":{top:0,opacity:1}}),l=new ir("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(n).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),u=new ir("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[i]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:c}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:r,_skip_check_:!0},[i]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}}}}};const xM=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],MM={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},NM=(e,t)=>{const{componentCls:r}=e;return{[`${r}-${t}`]:{[`&${r}-stack > ${r}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[MM[t]]:{value:0,_skip_check_:!0}}}}},DM=e=>{const t={};for(let r=1;r<e.notificationStackLayer;r++)t[`&:nth-last-child(${r+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},LM=e=>{const t={};for(let r=1;r<e.notificationStackLayer;r++)t[`&:nth-last-child(${r+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var VM=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},DM(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},LM(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},xM.map(r=>NM(e,r)).reduce((r,n)=>Object.assign(Object.assign({},r),n),{}))};const UM=e=>{const{iconCls:t,componentCls:r,boxShadow:n,fontSizeLG:i,notificationMarginBottom:a,borderRadiusLG:c,colorSuccess:l,colorInfo:u,colorWarning:d,colorError:h,colorTextHeading:y,notificationBg:m,notificationPadding:_,notificationMarginEdge:R,notificationProgressBg:b,notificationProgressHeight:C,fontSize:H,lineHeight:A,width:D,notificationIconSize:Z,colorText:ie}=e,oe=`${r}-notice`;return{position:"relative",marginBottom:a,marginInlineStart:"auto",background:m,borderRadius:c,boxShadow:n,[oe]:{padding:_,width:D,maxWidth:`calc(100vw - ${er(e.calc(R).mul(2).equal())})`,overflow:"hidden",lineHeight:A,wordWrap:"break-word"},[`${oe}-message`]:{marginBottom:e.marginXS,color:y,fontSize:i,lineHeight:e.lineHeightLG},[`${oe}-description`]:{fontSize:H,color:ie},[`${oe}-closable ${oe}-message`]:{paddingInlineEnd:e.paddingLG},[`${oe}-with-icon ${oe}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(Z).equal(),fontSize:i},[`${oe}-with-icon ${oe}-description`]:{marginInlineStart:e.calc(e.marginSM).add(Z).equal(),fontSize:H},[`${oe}-icon`]:{position:"absolute",fontSize:Z,lineHeight:1,[`&-success${t}`]:{color:l},[`&-info${t}`]:{color:u},[`&-warning${t}`]:{color:d},[`&-error${t}`]:{color:h}},[`${oe}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},li(e)),[`${oe}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${er(c)} * 2)`,left:{_skip_check_:!0,value:c},right:{_skip_check_:!0,value:c},bottom:0,blockSize:C,border:0,"&, &::-webkit-progress-bar":{borderRadius:c,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:b},"&::-webkit-progress-value":{borderRadius:c,background:b}},[`${oe}-btn`]:{float:"right",marginTop:e.marginSM}}},BM=e=>{const{componentCls:t,notificationMarginBottom:r,notificationMarginEdge:n,motionDurationMid:i,motionEaseInOut:a}=e,c=`${t}-notice`,l=new ir("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:r},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},ci(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:n,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:a,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:a,animationFillMode:"both",animationDuration:i,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:l,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${c}-btn`]:{float:"left"}}})},{[t]:{[`${c}-wrapper`]:Object.assign({},UM(e))}}]},jM=e=>({zIndexPopup:e.zIndexPopupBase+Cg+50,width:384}),FM=e=>{const t=e.paddingMD,r=e.paddingLG;return Zr(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:r,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${er(e.paddingMD)} ${er(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var $M=co("Notification",e=>{const t=FM(e);return[BM(t),OM(t),VM(t)]},jM);function HM(e,t,r){let n;switch(e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":n={left:0,top:"auto",bottom:r};break;default:n={right:0,top:"auto",bottom:r};break}return n}function zM(e){return{motionName:`${e}-fade`}}var WM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const fR=24,GM=4.5,KM="topRight",qM=e=>{let{children:t,prefixCls:r}=e;const n=Fd(r),[i,a,c]=$M(r,n);return i(S.createElement(rC,{classNames:{list:Ve()(a,c,n)}},t))},JM=(e,t)=>{let{prefixCls:r,key:n}=t;return S.createElement(qM,{prefixCls:r,key:n},e)},YM=S.forwardRef((e,t)=>{const{top:r,bottom:n,prefixCls:i,getContainer:a,maxCount:c,rtl:l,onAllRemoved:u,stack:d,duration:h,pauseOnHover:y=!0,showProgress:m}=e,{getPrefixCls:_,getPopupContainer:R,notification:b,direction:C}=(0,S.useContext)(re),[,H]=zi(),A=i||_("notification"),D=he=>HM(he,r!=null?r:fR,n!=null?n:fR),Z=()=>Ve()({[`${A}-rtl`]:l!=null?l:C==="rtl"}),ie=()=>zM(A),[oe,fe]=sC({prefixCls:A,style:D,className:Z,motion:ie,closable:!0,closeIcon:$y(A),duration:h!=null?h:GM,getContainer:()=>(a==null?void 0:a())||(R==null?void 0:R())||document.body,maxCount:c,pauseOnHover:y,showProgress:m,onAllRemoved:u,renderNotifications:JM,stack:d===!1?!1:{threshold:typeof d=="object"?d==null?void 0:d.threshold:void 0,offset:8,gap:H.margin}});return S.useImperativeHandle(t,()=>Object.assign(Object.assign({},oe),{prefixCls:A,notification:b})),fe});function XM(e){const t=S.useRef(null),r=Qh("Notification");return[S.useMemo(()=>{const i=u=>{var d;if(!t.current)return;const{open:h,prefixCls:y,notification:m}=t.current,_=`${y}-notice`,{message:R,description:b,icon:C,type:H,btn:A,className:D,style:Z,role:ie="alert",closeIcon:oe,closable:fe}=u,he=WM(u,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),ge=$y(_,typeof oe!="undefined"?oe:m==null?void 0:m.closeIcon);return h(Object.assign(Object.assign({placement:(d=e==null?void 0:e.placement)!==null&&d!==void 0?d:KM},he),{content:S.createElement(dR,{prefixCls:_,icon:C,type:H,message:R,description:b,btn:A,role:ie}),className:Ve()(H&&`${_}-${H}`,D,m==null?void 0:m.className),style:Object.assign(Object.assign({},m==null?void 0:m.style),Z),closeIcon:ge,closable:fe!=null?fe:!!ge}))},c={open:i,destroy:u=>{var d,h;u!==void 0?(d=t.current)===null||d===void 0||d.close(u):(h=t.current)===null||h===void 0||h.destroy()}};return["success","info","warning","error"].forEach(u=>{c[u]=d=>i(Object.assign(Object.assign({},d),{type:u}))}),c},[]),S.createElement(YM,Object.assign({key:"notification-holder"},e,{ref:t}))]}function QM(e){return XM(e)}var ZM=co("App",e=>{const{componentCls:t,colorText:r,fontSize:n,lineHeight:i,fontFamily:a}=e;return{[t]:{color:r,fontSize:n,lineHeight:i,fontFamily:a,[`&${t}-rtl`]:{direction:"rtl"}}}},()=>({}));const e6=()=>S.useContext(zE),hR=e=>{const{prefixCls:t,children:r,className:n,rootClassName:i,message:a,notification:c,style:l,component:u="div"}=e,{direction:d,getPrefixCls:h}=(0,S.useContext)(re),y=h("app",t),[m,_,R]=ZM(y),b=Ve()(_,y,n,i,R,{[`${y}-rtl`]:d==="rtl"}),C=(0,S.useContext)(G0),H=S.useMemo(()=>({message:Object.assign(Object.assign({},C.message),a),notification:Object.assign(Object.assign({},C.notification),c)}),[a,c,C.message,C.notification]),[A,D]=pC(H.message),[Z,ie]=QM(H.notification),[oe,fe]=PM(),he=S.useMemo(()=>({message:A,notification:Z,modal:oe}),[A,Z,oe]);Qh("App")(!(R&&u===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const ge=u===!1?S.Fragment:u,me={className:b,style:l};return m(S.createElement(zE.Provider,{value:he},S.createElement(G0.Provider,{value:H},S.createElement(ge,Object.assign({},u===!1?void 0:me),fe,D,ie,r))))};hR.useApp=e6;var t6=hR,r6=Dt(2925);function n6(e){var t=e.children;return(0,St.jsx)(Jc,{hashPriority:"high",transformers:[gl],children:(0,St.jsx)(q0,{locale:r6.Z,theme:{token:{colorPrimary:"#1366ec",borderRadius:4},components:{Input:{activeBg:"#F7F8F9",hoverBg:"#F7F8F9"},Progress:{colorSuccess:"#1366ec"}}},children:(0,St.jsx)(t6,{children:t})})})}xe.createRoot(document.getElementById("root")).render((0,St.jsx)(n6,{children:(0,St.jsx)(ix,{})}))})()})();
}());